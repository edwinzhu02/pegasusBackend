2019-07-18 13:18:44.110 +12:00 [INF] User profile is available. Using 'C:\Users\Learnspace\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-07-18 13:18:51.559 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2019-07-18 13:18:51.602 +12:00 [WRN] Failed to determine the https port for redirect.
2019-07-18 13:18:51.859 +12:00 [INF] Request finished in 302.2945ms 404 
2019-07-18 13:18:57.077 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lookups  
2019-07-18 13:18:57.077 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/navitems  
2019-07-18 13:18:57.079 +12:00 [INF] Policy execution successful.
2019-07-18 13:18:57.079 +12:00 [INF] Policy execution successful.
2019-07-18 13:18:57.080 +12:00 [INF] Request finished in 3.0896ms 204 
2019-07-18 13:18:57.080 +12:00 [INF] Request finished in 3.0896ms 204 
2019-07-18 13:18:57.101 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/teachercourse  
2019-07-18 13:18:57.101 +12:00 [INF] Policy execution successful.
2019-07-18 13:18:57.102 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/teacher  
2019-07-18 13:18:57.102 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/courses  
2019-07-18 13:18:57.102 +12:00 [INF] Policy execution successful.
2019-07-18 13:18:57.105 +12:00 [INF] Policy execution successful.
2019-07-18 13:18:57.114 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/staff/Photos/2190613092457108.jpg  
2019-07-18 13:18:57.121 +12:00 [INF] Request finished in 6.8673ms 404 
2019-07-18 13:18:57.141 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups  
2019-07-18 13:18:57.147 +12:00 [INF] Policy execution successful.
2019-07-18 13:18:57.154 +12:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Pegasus_backend.pegasusContext.Course]]] GetCourses() on controller Pegasus_backend.Controllers.CoursesController (Pegasus_backend).
2019-07-18 13:18:57.154 +12:00 [INF] Route matched with {action = "GetTeacher", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetTeacher() on controller Pegasus_backend.Controllers.TeacherController (Pegasus_backend).
2019-07-18 13:18:57.154 +12:00 [INF] Route matched with {action = "GetTeacherCourse", controller = "TeacherCourse"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTeacherCourse() on controller Pegasus_backend.Controllers.TeacherCourseController (Pegasus_backend).
2019-07-18 13:18:57.186 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/navitems  
2019-07-18 13:18:57.186 +12:00 [INF] Policy execution successful.
2019-07-18 13:18:57.355 +12:00 [INF] Successfully validated the token.
2019-07-18 13:18:57.355 +12:00 [INF] Successfully validated the token.
2019-07-18 13:18:57.358 +12:00 [INF] Route matched with {action = "GetNavItems", controller = "NavItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetNavItems() on controller Pegasus_backend.Controllers.NavItemsController (Pegasus_backend).
2019-07-18 13:18:57.360 +12:00 [INF] Route matched with {action = "GetLookups", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookups() on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 13:18:57.372 +12:00 [INF] Authorization was successful.
2019-07-18 13:18:57.556 +12:00 [INF] Executing action method Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:18:57.556 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:18:58.674 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TeacherController.GetTeacher (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:18:58.674 +12:00 [INF] Executing action method Pegasus_backend.Controllers.CoursesController.GetCourses (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:18:58.674 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TeacherCourseController.GetTeacherCourse (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:18:59.682 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:18:59.682 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:18:59.682 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:18:59.682 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:18:59.682 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:18:59.740 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:18:59.741 +12:00 [WRN] The Include operation for navigation '[s].Course.GroupCourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:18:59.741 +12:00 [WRN] The Include operation for navigation '[s].Course.CourseCategory' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:18:59.757 +12:00 [WRN] The Include operation for navigation '[s].TeacherLanguage.Lang' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:18:59.757 +12:00 [WRN] The Include operation for navigation '[s].TeacherQualificatiion.Quali' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:18:59.757 +12:00 [WRN] The Include operation for navigation '[s].TeacherCourse.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:18:59.757 +12:00 [WRN] The Include operation for navigation '[s].AvailableDays.Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:18:59.757 +12:00 [WRN] The Include operation for navigation '[s].TeacherCourse.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:18:59.758 +12:00 [WRN] The Include operation for navigation '[s].TeacherWageRates' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:19:00.994 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`course_id` AS `CourseId`, `c`.`course_name` AS `CourseName`, `c`.`course_type` AS `CourseType`, `c`.`level`, `c`.`duration`, `c`.`price`, `c`.`course_category_id` AS `CourseCategoryId0`, `c`.`teacher_level` AS `TeacherLevel`, `cc`.`course_category_id` AS `CourseCategoryId`, `cc`.`course_category_name` AS `CourseCategoryName`
FROM `ablemusic`.`course` AS `c`
INNER JOIN `ablemusic`.`course_category` AS `cc` ON `c`.`course_category_id` = `cc`.`course_category_id`
2019-07-18 13:19:00.994 +12:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
2019-07-18 13:19:01.001 +12:00 [INF] Executed DbCommand (75ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Course.CourseCategory`.`course_category_id`, `s.Course.CourseCategory`.`course_category_name`, `s`.`teacher_course_id` AS `TeacherCourseId`, `s`.`course_id` AS `CourseId0`, `s`.`teacher_id` AS `TeacherId0`, `s`.`hourly_wage` AS `HourlyWage`, `s`.`course_id` AS `CourseId`, `s.Course`.`course_name` AS `CourseName`, `s.Course`.`level`, `s.Course`.`duration`, `s.Course`.`price`, `s.Course`.`course_type` AS `CourseType`, `s`.`teacher_id` AS `TeacherId`, `s.Teacher`.`first_name` AS `FirstName`, `s.Teacher`.`last_name` AS `LastName`, `s.Teacher`.`level` AS `Level0`
FROM `ablemusic`.`teacher_course` AS `s`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `s.Course` ON `s`.`course_id` = `s.Course`.`course_id`
LEFT JOIN `ablemusic`.`course_category` AS `s.Course.CourseCategory` ON `s.Course`.`course_category_id` = `s.Course.CourseCategory`.`course_category_id`
2019-07-18 13:19:01.007 +12:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`teacher_id` AS `TeacherId`, `s`.`first_name` AS `FirstName`, `s`.`last_name` AS `LastName`, `s`.`dob`, `s`.`gender`, `s`.`ird_number` AS `IrdNumber`, `s`.`id_type` AS `IdType`, `s`.`id_photo`, `s`.`id_number` AS `IdNumber`, `s`.`home_phone` AS `HomePhone`, `s`.`mobile_phone` AS `MobilePhone`, `s`.`email`, `s`.`photo`, `s`.`expiry_date` AS `ExpiryDate`, `s`.`cv_url`, `s`.`otherfile_url`, `s`.`form_url`, `s`.`is_left` AS `IsLeft`, `s`.`is_contract` AS `IsContract`, `s`.`invoice_template` AS `InvoiceTemplate`, `s`.`ability`, `s`.`comment`, `s`.`level`
FROM `ablemusic`.`teacher` AS `s`
WHERE `s`.`is_activate` = 1
ORDER BY `s`.`teacher_id`
2019-07-18 13:19:01.012 +12:00 [INF] Executed DbCommand (69ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`user_id`, `s`.`created_at`, `s`.`is_activate`, `s`.`is_online`, `s`.`password`, `s`.`role_id`, `s`.`signature`, `s`.`unread_message_id`, `s`.`user_name`
FROM `ablemusic`.`user` AS `s`
WHERE `s`.`user_id` = @__userId_0
LIMIT 1
2019-07-18 13:19:01.075 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3504.4969ms.
2019-07-18 13:19:01.085 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:19:01.102 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TeacherCourseController.GetTeacherCourse (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2426.7599ms.
2019-07-18 13:19:01.102 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:19:01.114 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend) in 3750.2540000000004ms
2019-07-18 13:19:01.117 +12:00 [INF] Request finished in 3975.7347ms 200 application/json; charset=utf-8
2019-07-18 13:19:01.134 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.AvailableDays`.`available_days_id`, `s.AvailableDays`.`created_at`, `s.AvailableDays`.`day_of_week`, `s.AvailableDays`.`org_id`, `s.AvailableDays`.`teacher_id`, `t`.`teacher_id`
FROM `ablemusic`.`available_days` AS `s.AvailableDays`
INNER JOIN (
    SELECT `s0`.`teacher_id`
    FROM `ablemusic`.`teacher` AS `s0`
    WHERE `s0`.`is_activate` = 1
) AS `t` ON `s.AvailableDays`.`teacher_id` = `t`.`teacher_id`
ORDER BY `t`.`teacher_id`
2019-07-18 13:19:01.136 +12:00 [INF] Executed action Pegasus_backend.Controllers.TeacherCourseController.GetTeacherCourse (Pegasus_backend) in 3981.4124ms
2019-07-18 13:19:01.137 +12:00 [INF] Request finished in 4036.2342ms 200 application/json; charset=utf-8
2019-07-18 13:19:01.218 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.TeacherLanguage`.`teacher_lang_id`, `s.TeacherLanguage`.`lang_id`, `s.TeacherLanguage`.`teacher_id`, `t0`.`teacher_id`
FROM `ablemusic`.`teacher_language` AS `s.TeacherLanguage`
INNER JOIN (
    SELECT `s1`.`teacher_id`
    FROM `ablemusic`.`teacher` AS `s1`
    WHERE `s1`.`is_activate` = 1
) AS `t0` ON `s.TeacherLanguage`.`teacher_id` = `t0`.`teacher_id`
ORDER BY `t0`.`teacher_id`
2019-07-18 13:19:01.219 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`prop_name` AS `PropName`, `l`.`prop_value` AS `PropValue`, `l`.`lookup_type` AS `LookupType`
FROM `ablemusic`.`lookup` AS `l`
WHERE (((`l`.`lookup_type` = 1) OR (`l`.`lookup_type` = 4)) OR (`l`.`lookup_type` = 6)) OR (`l`.`lookup_type` = 8)
2019-07-18 13:19:01.226 +12:00 [INF] Executed action method Pegasus_backend.Controllers.CoursesController.GetCourses (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2550.9453000000003ms.
2019-07-18 13:19:01.226 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:19:01.240 +12:00 [INF] Executed action Pegasus_backend.Controllers.CoursesController.GetCourses (Pegasus_backend) in 4084.7955ms
2019-07-18 13:19:01.240 +12:00 [INF] Request finished in 4138.2498ms 200 application/json; charset=utf-8
2019-07-18 13:19:01.268 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__roleId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`page_id`
FROM `ablemusic`.`role_access` AS `s`
WHERE `s`.`role_id` = @__roleId_0
2019-07-18 13:19:01.285 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.TeacherQualificatiion`.`teacher_quali_id`, `s.TeacherQualificatiion`.`description`, `s.TeacherQualificatiion`.`quali_id`, `s.TeacherQualificatiion`.`teacher_id`, `t1`.`teacher_id`
FROM `ablemusic`.`teacher_qualificatiion` AS `s.TeacherQualificatiion`
INNER JOIN (
    SELECT `s2`.`teacher_id`
    FROM `ablemusic`.`teacher` AS `s2`
    WHERE `s2`.`is_activate` = 1
) AS `t1` ON `s.TeacherQualificatiion`.`teacher_id` = `t1`.`teacher_id`
ORDER BY `t1`.`teacher_id`
2019-07-18 13:19:01.354 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.TeacherWageRates`.`rates_id`, `s.TeacherWageRates`.`create_at`, `s.TeacherWageRates`.`group_rates`, `s.TeacherWageRates`.`is_activate`, `s.TeacherWageRates`.`others_rates`, `s.TeacherWageRates`.`piano_rates`, `s.TeacherWageRates`.`teacher_id`, `s.TeacherWageRates`.`theory_rates`, `t2`.`teacher_id`
FROM `ablemusic`.`teacher_wage_rates` AS `s.TeacherWageRates`
INNER JOIN (
    SELECT `s3`.`teacher_id`
    FROM `ablemusic`.`teacher` AS `s3`
    WHERE `s3`.`is_activate` = 1
) AS `t2` ON `s.TeacherWageRates`.`teacher_id` = `t2`.`teacher_id`
ORDER BY `t2`.`teacher_id`
2019-07-18 13:19:01.382 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TeacherController.GetTeacher (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2707.2609ms.
2019-07-18 13:19:01.382 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:19:01.428 +12:00 [INF] Executed action Pegasus_backend.Controllers.TeacherController.GetTeacher (Pegasus_backend) in 4273.3458ms
2019-07-18 13:19:01.428 +12:00 [INF] Request finished in 4326.7671ms 200 application/json; charset=utf-8
2019-07-18 13:19:01.490 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`page_group_id`, `s`.`display_order`, `s`.`icon`, `s`.`page_group_name`
FROM `ablemusic`.`page_group` AS `s`
ORDER BY `s`.`page_group_id`
2019-07-18 13:19:01.557 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Page`.`page_id`, `s.Page`.`display_order`, `s.Page`.`icon`, `s.Page`.`is_activate`, `s.Page`.`page_group_id`, `s.Page`.`page_name`, `s.Page`.`para`, `s.Page`.`para_flag`, `s.Page`.`url`
FROM `ablemusic`.`page` AS `s.Page`
INNER JOIN (
    SELECT `s0`.`page_group_id`
    FROM `ablemusic`.`page_group` AS `s0`
) AS `t` ON `s.Page`.`page_group_id` = `t`.`page_group_id`
ORDER BY `t`.`page_group_id`
2019-07-18 13:19:01.583 +12:00 [INF] Executed action method Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4016.3877ms.
2019-07-18 13:19:01.583 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:19:01.593 +12:00 [INF] Executed action Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend) in 4234.7257ms
2019-07-18 13:19:01.593 +12:00 [INF] Request finished in 4406.8099ms 200 application/json; charset=utf-8
2019-07-18 13:19:01.715 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/todolist/3  
2019-07-18 13:19:01.716 +12:00 [INF] Policy execution successful.
2019-07-18 13:19:01.716 +12:00 [INF] Request finished in 0.6547ms 204 
2019-07-18 13:19:01.717 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/dashboard/1  
2019-07-18 13:19:01.717 +12:00 [INF] Policy execution successful.
2019-07-18 13:19:01.737 +12:00 [INF] Route matched with {action = "Get", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.String) on controller Pegasus_backend.Controllers.DashboardController (Pegasus_backend).
2019-07-18 13:19:01.760 +12:00 [INF] Executing action method Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:19:01.778 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:19:01.807 +12:00 [WRN] The LINQ expression 'where ((([l].BeginTime != null) AndAlso (Convert([l].BeginTime, DateTime).Date == ___today_Date_0)) AndAlso {___orgIds_1 => Contains(Convert([l].OrgId, Int32))})' could not be translated and will be evaluated locally.
2019-07-18 13:19:01.808 +12:00 [WRN] The LINQ expression 'Contains(Convert([l].OrgId, Int32))' could not be translated and will be evaluated locally.
2019-07-18 13:19:01.930 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/todolist/3  
2019-07-18 13:19:01.930 +12:00 [INF] Policy execution successful.
2019-07-18 13:19:01.931 +12:00 [INF] Successfully validated the token.
2019-07-18 13:19:01.936 +12:00 [INF] Route matched with {action = "Get", controller = "TodoList"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int16) on controller Pegasus_backend.Controllers.TodoListController (Pegasus_backend).
2019-07-18 13:19:01.937 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TodoListController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:19:01.941 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:19:01.947 +12:00 [WRN] The LINQ expression 'where ([t].TodoDate == Convert(value(Pegasus_backend.Controllers.TodoListController).toNZTimezone(DateTime.UtcNow).Date, Nullable`1))' could not be translated and will be evaluated locally.
2019-07-18 13:19:02.001 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_paid`, `l`.`is_trial`, `l`.`learner_id`, `l`.`new_lesson_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-18 13:19:02.115 +12:00 [INF] Executed DbCommand (61ms) [Parameters=[@__userId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`list_id`, `t`.`created_at`, `t`.`learner_id`, `t`.`lesson_id`, `t`.`list_content`, `t`.`list_name`, `t`.`process_flag`, `t`.`processed_at`, `t`.`teacher_id`, `t`.`todo_date`, `t`.`user_id`
FROM `ablemusic`.`todo_list` AS `t`
WHERE `t`.`user_id` = @__userId_0
2019-07-18 13:19:02.741 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TodoListController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 803.3139ms.
2019-07-18 13:19:02.741 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.TodoList, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:19:02.764 +12:00 [INF] Executed action Pegasus_backend.Controllers.TodoListController.Get (Pegasus_backend) in 827.2807ms
2019-07-18 13:19:02.764 +12:00 [INF] Request finished in 833.8355ms 200 application/json; charset=utf-8
2019-07-18 13:19:02.806 +12:00 [WRN] The LINQ expression 'where (((([l].BeginTime != null) AndAlso (Convert([l].BeginTime, DateTime).Date == ___today_Date_0)) AndAlso (Convert([l].IsTrial, Nullable`1) == 1)) AndAlso {___orgIds_1 => Contains(Convert([l].OrgId, Int32))})' could not be translated and will be evaluated locally.
2019-07-18 13:19:02.806 +12:00 [WRN] The LINQ expression 'Contains(Convert([l].OrgId, Int32))' could not be translated and will be evaluated locally.
2019-07-18 13:19:02.994 +12:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_paid`, `l`.`is_trial`, `l`.`learner_id`, `l`.`new_lesson_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-18 13:19:03.595 +12:00 [WRN] The LINQ expression 'where (([l].EnrollDate != null) AndAlso (___today_Date_0 == Convert([l].EnrollDate, DateTime).Date))' could not be translated and will be evaluated locally.
2019-07-18 13:19:03.794 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`comment`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`org_id` IN (1)
2019-07-18 13:19:04.060 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`waiting_id`, `w`.`begin_date`, `w`.`comment`, `w`.`concert_fee`, `w`.`concert_fee_name`, `w`.`course_instance_id`, `w`.`course_name`, `w`.`created_at`, `w`.`due_date`, `w`.`end_date`, `w`.`group_course_instance_id`, `w`.`invoice_num`, `w`.`is_activate`, `w`.`is_confirmed`, `w`.`is_email_sent`, `w`.`is_paid`, `w`.`learner_id`, `w`.`learner_name`, `w`.`lesson_fee`, `w`.`lesson_note_fee_name`, `w`.`lesson_quantity`, `w`.`note_fee`, `w`.`other1_fee`, `w`.`other1_fee_name`, `w`.`other2_fee`, `w`.`other2_fee_name`, `w`.`other3_fee`, `w`.`other3_fee_name`, `w`.`owing_fee`, `w`.`paid_fee`, `w`.`term_id`, `w`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `w`
INNER JOIN `ablemusic`.`learner` AS `l` ON `w`.`learner_id` = `l`.`learner_id`
WHERE `l`.`org_id` IN (1) AND (`w`.`is_confirmed` = 0)
2019-07-18 13:19:04.241 +12:00 [WRN] The LINQ expression 'where (Convert([l].BeginTime, DateTime).Date == ___today_Date_1)' could not be translated and will be evaluated locally.
2019-07-18 13:19:04.283 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/teacher  
2019-07-18 13:19:04.284 +12:00 [INF] Policy execution successful.
2019-07-18 13:19:04.284 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/courses  
2019-07-18 13:19:04.284 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/teachercourse  
2019-07-18 13:19:04.284 +12:00 [INF] Policy execution successful.
2019-07-18 13:19:04.285 +12:00 [INF] Policy execution successful.
2019-07-18 13:19:04.285 +12:00 [INF] Route matched with {action = "GetTeacherCourse", controller = "TeacherCourse"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTeacherCourse() on controller Pegasus_backend.Controllers.TeacherCourseController (Pegasus_backend).
2019-07-18 13:19:04.285 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TeacherCourseController.GetTeacherCourse (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:19:04.286 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:19:04.289 +12:00 [INF] Route matched with {action = "GetTeacher", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetTeacher() on controller Pegasus_backend.Controllers.TeacherController (Pegasus_backend).
2019-07-18 13:19:04.289 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TeacherController.GetTeacher (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:19:04.289 +12:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Pegasus_backend.pegasusContext.Course]]] GetCourses() on controller Pegasus_backend.Controllers.CoursesController (Pegasus_backend).
2019-07-18 13:19:04.290 +12:00 [INF] Executing action method Pegasus_backend.Controllers.CoursesController.GetCourses (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:19:04.290 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:19:04.290 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:19:04.302 +12:00 [WRN] The Include operation for navigation '[s].TeacherLanguage.Lang' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:19:04.302 +12:00 [WRN] The Include operation for navigation '[s].TeacherQualificatiion.Quali' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:19:04.302 +12:00 [WRN] The Include operation for navigation '[s].TeacherCourse.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:19:04.302 +12:00 [WRN] The Include operation for navigation '[s].AvailableDays.Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:19:04.302 +12:00 [WRN] The Include operation for navigation '[s].TeacherCourse.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:19:04.302 +12:00 [WRN] The Include operation for navigation '[s].TeacherWageRates' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:19:04.423 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_paid`, `l`.`is_trial`, `l`.`learner_id`, `l`.`new_lesson_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`begin_time` IS NOT NULL AND (`l`.`is_canceled` = 1)) AND `l`.`org_id` IN (1)
2019-07-18 13:19:04.454 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`course_id` AS `CourseId`, `c`.`course_name` AS `CourseName`, `c`.`course_type` AS `CourseType`, `c`.`level`, `c`.`duration`, `c`.`price`, `c`.`course_category_id` AS `CourseCategoryId0`, `c`.`teacher_level` AS `TeacherLevel`, `cc`.`course_category_id` AS `CourseCategoryId`, `cc`.`course_category_name` AS `CourseCategoryName`
FROM `ablemusic`.`course` AS `c`
INNER JOIN `ablemusic`.`course_category` AS `cc` ON `c`.`course_category_id` = `cc`.`course_category_id`
2019-07-18 13:19:04.466 +12:00 [INF] Executed DbCommand (65ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Course.CourseCategory`.`course_category_id`, `s.Course.CourseCategory`.`course_category_name`, `s`.`teacher_course_id` AS `TeacherCourseId`, `s`.`course_id` AS `CourseId0`, `s`.`teacher_id` AS `TeacherId0`, `s`.`hourly_wage` AS `HourlyWage`, `s`.`course_id` AS `CourseId`, `s.Course`.`course_name` AS `CourseName`, `s.Course`.`level`, `s.Course`.`duration`, `s.Course`.`price`, `s.Course`.`course_type` AS `CourseType`, `s`.`teacher_id` AS `TeacherId`, `s.Teacher`.`first_name` AS `FirstName`, `s.Teacher`.`last_name` AS `LastName`, `s.Teacher`.`level` AS `Level0`
FROM `ablemusic`.`teacher_course` AS `s`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `s.Course` ON `s`.`course_id` = `s.Course`.`course_id`
LEFT JOIN `ablemusic`.`course_category` AS `s.Course.CourseCategory` ON `s.Course`.`course_category_id` = `s.Course.CourseCategory`.`course_category_id`
2019-07-18 13:19:04.489 +12:00 [WRN] The LINQ expression 'where (Convert([l].BeginTime, DateTime).Date == ___today_Date_1)' could not be translated and will be evaluated locally.
2019-07-18 13:19:04.534 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TeacherCourseController.GetTeacherCourse (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 248.555ms.
2019-07-18 13:19:04.534 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:19:04.538 +12:00 [INF] Executed action Pegasus_backend.Controllers.TeacherCourseController.GetTeacherCourse (Pegasus_backend) in 253.5258ms
2019-07-18 13:19:04.539 +12:00 [INF] Request finished in 254.349ms 200 application/json; charset=utf-8
2019-07-18 13:19:04.549 +12:00 [INF] Executed DbCommand (79ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`teacher_id` AS `TeacherId`, `s`.`first_name` AS `FirstName`, `s`.`last_name` AS `LastName`, `s`.`dob`, `s`.`gender`, `s`.`ird_number` AS `IrdNumber`, `s`.`id_type` AS `IdType`, `s`.`id_photo`, `s`.`id_number` AS `IdNumber`, `s`.`home_phone` AS `HomePhone`, `s`.`mobile_phone` AS `MobilePhone`, `s`.`email`, `s`.`photo`, `s`.`expiry_date` AS `ExpiryDate`, `s`.`cv_url`, `s`.`otherfile_url`, `s`.`form_url`, `s`.`is_left` AS `IsLeft`, `s`.`is_contract` AS `IsContract`, `s`.`invoice_template` AS `InvoiceTemplate`, `s`.`ability`, `s`.`comment`, `s`.`level`
FROM `ablemusic`.`teacher` AS `s`
WHERE `s`.`is_activate` = 1
ORDER BY `s`.`teacher_id`
2019-07-18 13:19:04.622 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.AvailableDays`.`available_days_id`, `s.AvailableDays`.`created_at`, `s.AvailableDays`.`day_of_week`, `s.AvailableDays`.`org_id`, `s.AvailableDays`.`teacher_id`, `t`.`teacher_id`
FROM `ablemusic`.`available_days` AS `s.AvailableDays`
INNER JOIN (
    SELECT `s0`.`teacher_id`
    FROM `ablemusic`.`teacher` AS `s0`
    WHERE `s0`.`is_activate` = 1
) AS `t` ON `s.AvailableDays`.`teacher_id` = `t`.`teacher_id`
ORDER BY `t`.`teacher_id`
2019-07-18 13:19:04.664 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_paid`, `l`.`is_trial`, `l`.`learner_id`, `l`.`new_lesson_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE ((`l`.`begin_time` IS NOT NULL AND `l`.`org_id` IN (1)) AND ((`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL)) AND (`l`.`is_changed` = 1)
2019-07-18 13:19:04.665 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`prop_name` AS `PropName`, `l`.`prop_value` AS `PropValue`, `l`.`lookup_type` AS `LookupType`
FROM `ablemusic`.`lookup` AS `l`
WHERE (((`l`.`lookup_type` = 1) OR (`l`.`lookup_type` = 4)) OR (`l`.`lookup_type` = 6)) OR (`l`.`lookup_type` = 8)
2019-07-18 13:19:04.666 +12:00 [INF] Executed action method Pegasus_backend.Controllers.CoursesController.GetCourses (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 376.5523ms.
2019-07-18 13:19:04.666 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:19:04.669 +12:00 [INF] Executed action Pegasus_backend.Controllers.CoursesController.GetCourses (Pegasus_backend) in 379.04920000000004ms
2019-07-18 13:19:04.669 +12:00 [INF] Request finished in 384.4656ms 200 application/json; charset=utf-8
2019-07-18 13:19:04.679 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.TeacherLanguage`.`teacher_lang_id`, `s.TeacherLanguage`.`lang_id`, `s.TeacherLanguage`.`teacher_id`, `t0`.`teacher_id`
FROM `ablemusic`.`teacher_language` AS `s.TeacherLanguage`
INNER JOIN (
    SELECT `s1`.`teacher_id`
    FROM `ablemusic`.`teacher` AS `s1`
    WHERE `s1`.`is_activate` = 1
) AS `t0` ON `s.TeacherLanguage`.`teacher_id` = `t0`.`teacher_id`
ORDER BY `t0`.`teacher_id`
2019-07-18 13:19:04.681 +12:00 [WRN] The LINQ expression 'where ((([a].EndDate != null) AndAlso (Convert([a].AmendType, Nullable`1) == 1)) AndAlso (___today_Date_0 == Convert([a].EndDate, DateTime).Date))' could not be translated and will be evaluated locally.
2019-07-18 13:19:04.736 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.TeacherQualificatiion`.`teacher_quali_id`, `s.TeacherQualificatiion`.`description`, `s.TeacherQualificatiion`.`quali_id`, `s.TeacherQualificatiion`.`teacher_id`, `t1`.`teacher_id`
FROM `ablemusic`.`teacher_qualificatiion` AS `s.TeacherQualificatiion`
INNER JOIN (
    SELECT `s2`.`teacher_id`
    FROM `ablemusic`.`teacher` AS `s2`
    WHERE `s2`.`is_activate` = 1
) AS `t1` ON `s.TeacherQualificatiion`.`teacher_id` = `t1`.`teacher_id`
ORDER BY `t1`.`teacher_id`
2019-07-18 13:19:04.793 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.TeacherWageRates`.`rates_id`, `s.TeacherWageRates`.`create_at`, `s.TeacherWageRates`.`group_rates`, `s.TeacherWageRates`.`is_activate`, `s.TeacherWageRates`.`others_rates`, `s.TeacherWageRates`.`piano_rates`, `s.TeacherWageRates`.`teacher_id`, `s.TeacherWageRates`.`theory_rates`, `t2`.`teacher_id`
FROM `ablemusic`.`teacher_wage_rates` AS `s.TeacherWageRates`
INNER JOIN (
    SELECT `s3`.`teacher_id`
    FROM `ablemusic`.`teacher` AS `s3`
    WHERE `s3`.`is_activate` = 1
) AS `t2` ON `s.TeacherWageRates`.`teacher_id` = `t2`.`teacher_id`
ORDER BY `t2`.`teacher_id`
2019-07-18 13:19:04.805 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TeacherController.GetTeacher (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 515.2353ms.
2019-07-18 13:19:04.805 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:19:04.808 +12:00 [INF] Executed action Pegasus_backend.Controllers.TeacherController.GetTeacher (Pegasus_backend) in 518.67770000000007ms
2019-07-18 13:19:04.808 +12:00 [INF] Request finished in 524.7005ms 200 application/json; charset=utf-8
2019-07-18 13:19:05.367 +12:00 [INF] Executed DbCommand (550ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`amendment_id`, `a`.`amend_type`, `a`.`begin_date`, `a`.`begin_time`, `a`.`course_instance_id`, `a`.`course_schedule_id`, `a`.`created_at`, `a`.`day_of_week`, `a`.`end_date`, `a`.`end_time`, `a`.`is_temporary`, `a`.`learner_id`, `a`.`org_id`, `a`.`reason`, `a`.`room_id`, `a`.`teacher_id`
FROM `ablemusic`.`amendment` AS `a`
WHERE `a`.`org_id` IN (1)
2019-07-18 13:19:05.407 +12:00 [WRN] The LINQ expression 'where ((([a].EndDate != null) AndAlso (Convert([a].AmendType, Nullable`1) == 2)) AndAlso (___today_Date_0 == Convert([a].EndDate, DateTime).Date))' could not be translated and will be evaluated locally.
2019-07-18 13:19:05.595 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`amendment_id`, `a`.`amend_type`, `a`.`begin_date`, `a`.`begin_time`, `a`.`course_instance_id`, `a`.`course_schedule_id`, `a`.`created_at`, `a`.`day_of_week`, `a`.`end_date`, `a`.`end_time`, `a`.`is_temporary`, `a`.`learner_id`, `a`.`org_id`, `a`.`reason`, `a`.`room_id`, `a`.`teacher_id`
FROM `ablemusic`.`amendment` AS `a`
WHERE `a`.`org_id` IN (1)
2019-07-18 13:19:05.784 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_paid`, `l`.`is_trial`, `l`.`learner_id`, `l`.`new_lesson_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-18 13:19:06.642 +12:00 [WRN] The LINQ expression 'where (Convert([l].BeginTime, DateTime).Date >= ___today_Date_1)' could not be translated and will be evaluated locally.
2019-07-18 13:19:06.859 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`comment`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE `l`.`learner_id` IN (1, 1)
2019-07-18 13:19:07.120 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_paid`, `l`.`is_trial`, `l`.`learner_id`, `l`.`new_lesson_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-18 13:19:07.973 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`comment`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE `l`.`learner_id` IN (1, 1)
2019-07-18 13:19:08.207 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_paid`, `l`.`is_trial`, `l`.`learner_id`, `l`.`new_lesson_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-18 13:19:08.727 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/coursecategories  
2019-07-18 13:19:08.727 +12:00 [INF] Policy execution successful.
2019-07-18 13:19:08.732 +12:00 [INF] Route matched with {action = "GetCourseCategory", controller = "CourseCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourseCategory() on controller Pegasus_backend.Controllers.CourseCategoriesController (Pegasus_backend).
2019-07-18 13:19:08.732 +12:00 [INF] Executing action method Pegasus_backend.Controllers.CourseCategoriesController.GetCourseCategory (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:19:08.736 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:19:08.891 +12:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`course_category_id` AS `CourseCategoryId`, `c`.`course_category_name` AS `CourseCategoryName`
FROM `ablemusic`.`course_category` AS `c`
2019-07-18 13:19:08.893 +12:00 [INF] Executed action method Pegasus_backend.Controllers.CourseCategoriesController.GetCourseCategory (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 160.72750000000002ms.
2019-07-18 13:19:08.893 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.CourseCategory, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:19:08.897 +12:00 [INF] Executed action Pegasus_backend.Controllers.CourseCategoriesController.GetCourseCategory (Pegasus_backend) in 164.7892ms
2019-07-18 13:19:08.897 +12:00 [INF] Request finished in 169.6736ms 200 application/json; charset=utf-8
2019-07-18 13:19:09.395 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`comment`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE `l`.`learner_id` IN (1, 1)
2019-07-18 13:19:09.456 +12:00 [WRN] The LINQ expression 'where ((((([l].BeginTime != null) AndAlso (Convert([l].IsCanceled, Nullable`1) != 1)) AndAlso {___orgIds_0 => Contains(Convert([l].OrgId, Int32))}) AndAlso (Convert([l].BeginTime, DateTime).Date >= __beginDate_Date_1)) AndAlso (Convert([l].BeginTime, DateTime).Date <= __endDate_Date_2))' could not be translated and will be evaluated locally.
2019-07-18 13:19:09.456 +12:00 [WRN] The LINQ expression 'Contains(Convert([l].OrgId, Int32))' could not be translated and will be evaluated locally.
2019-07-18 13:19:09.634 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_paid`, `l`.`is_trial`, `l`.`learner_id`, `l`.`new_lesson_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
2019-07-18 13:19:10.086 +12:00 [WRN] The LINQ expression 'where ((([l].EnrollDate != null) AndAlso (Convert([l].EnrollDate, DateTime).Date >= __beginTime_Date_0)) AndAlso (Convert([l].EnrollDate, DateTime).Date <= ___today_Date_1))' could not be translated and will be evaluated locally.
2019-07-18 13:19:10.272 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`comment`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`org_id` IN (1)
2019-07-18 13:19:10.282 +12:00 [INF] Executed action method Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 8521.3761000000013ms.
2019-07-18 13:19:10.282 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:19:10.297 +12:00 [INF] Executed action Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend) in 8560.2113ms
2019-07-18 13:19:10.297 +12:00 [INF] Request finished in 8580.4546ms 200 application/json; charset=utf-8
2019-07-18 13:19:10.300 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/dashboard/1  
2019-07-18 13:19:10.300 +12:00 [INF] Policy execution successful.
2019-07-18 13:19:10.300 +12:00 [INF] Route matched with {action = "Get", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.String) on controller Pegasus_backend.Controllers.DashboardController (Pegasus_backend).
2019-07-18 13:19:10.301 +12:00 [INF] Executing action method Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:19:10.301 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:19:10.478 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_paid`, `l`.`is_trial`, `l`.`learner_id`, `l`.`new_lesson_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-18 13:19:11.275 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_paid`, `l`.`is_trial`, `l`.`learner_id`, `l`.`new_lesson_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-18 13:19:12.043 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`comment`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`org_id` IN (1)
2019-07-18 13:19:12.240 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`waiting_id`, `w`.`begin_date`, `w`.`comment`, `w`.`concert_fee`, `w`.`concert_fee_name`, `w`.`course_instance_id`, `w`.`course_name`, `w`.`created_at`, `w`.`due_date`, `w`.`end_date`, `w`.`group_course_instance_id`, `w`.`invoice_num`, `w`.`is_activate`, `w`.`is_confirmed`, `w`.`is_email_sent`, `w`.`is_paid`, `w`.`learner_id`, `w`.`learner_name`, `w`.`lesson_fee`, `w`.`lesson_note_fee_name`, `w`.`lesson_quantity`, `w`.`note_fee`, `w`.`other1_fee`, `w`.`other1_fee_name`, `w`.`other2_fee`, `w`.`other2_fee_name`, `w`.`other3_fee`, `w`.`other3_fee_name`, `w`.`owing_fee`, `w`.`paid_fee`, `w`.`term_id`, `w`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `w`
INNER JOIN `ablemusic`.`learner` AS `l` ON `w`.`learner_id` = `l`.`learner_id`
WHERE `l`.`org_id` IN (1) AND (`w`.`is_confirmed` = 0)
2019-07-18 13:19:12.535 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_paid`, `l`.`is_trial`, `l`.`learner_id`, `l`.`new_lesson_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`begin_time` IS NOT NULL AND (`l`.`is_canceled` = 1)) AND `l`.`org_id` IN (1)
2019-07-18 13:19:12.763 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_paid`, `l`.`is_trial`, `l`.`learner_id`, `l`.`new_lesson_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE ((`l`.`begin_time` IS NOT NULL AND `l`.`org_id` IN (1)) AND ((`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL)) AND (`l`.`is_changed` = 1)
2019-07-18 13:19:12.951 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`amendment_id`, `a`.`amend_type`, `a`.`begin_date`, `a`.`begin_time`, `a`.`course_instance_id`, `a`.`course_schedule_id`, `a`.`created_at`, `a`.`day_of_week`, `a`.`end_date`, `a`.`end_time`, `a`.`is_temporary`, `a`.`learner_id`, `a`.`org_id`, `a`.`reason`, `a`.`room_id`, `a`.`teacher_id`
FROM `ablemusic`.`amendment` AS `a`
WHERE `a`.`org_id` IN (1)
2019-07-18 13:19:13.130 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`amendment_id`, `a`.`amend_type`, `a`.`begin_date`, `a`.`begin_time`, `a`.`course_instance_id`, `a`.`course_schedule_id`, `a`.`created_at`, `a`.`day_of_week`, `a`.`end_date`, `a`.`end_time`, `a`.`is_temporary`, `a`.`learner_id`, `a`.`org_id`, `a`.`reason`, `a`.`room_id`, `a`.`teacher_id`
FROM `ablemusic`.`amendment` AS `a`
WHERE `a`.`org_id` IN (1)
2019-07-18 13:19:13.309 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_paid`, `l`.`is_trial`, `l`.`learner_id`, `l`.`new_lesson_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-18 13:19:14.352 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`comment`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE `l`.`learner_id` IN (1, 1)
2019-07-18 13:19:14.582 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_paid`, `l`.`is_trial`, `l`.`learner_id`, `l`.`new_lesson_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-18 13:19:15.329 +12:00 [INF] Executed DbCommand (65ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`comment`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE `l`.`learner_id` IN (1, 1)
2019-07-18 13:19:15.563 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_paid`, `l`.`is_trial`, `l`.`learner_id`, `l`.`new_lesson_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-18 13:19:16.827 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`comment`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE `l`.`learner_id` IN (1, 1)
2019-07-18 13:19:17.056 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_paid`, `l`.`is_trial`, `l`.`learner_id`, `l`.`new_lesson_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
2019-07-18 13:19:18.783 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`comment`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`org_id` IN (1)
2019-07-18 13:19:18.788 +12:00 [INF] Executed action method Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 8487.1692ms.
2019-07-18 13:19:18.788 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:19:18.788 +12:00 [INF] Executed action Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend) in 8488.1921ms
2019-07-18 13:19:18.788 +12:00 [INF] Request finished in 8488.9161ms 200 application/json; charset=utf-8
2019-07-18 13:19:20.983 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/teachercourse  
2019-07-18 13:19:20.983 +12:00 [INF] Policy execution successful.
2019-07-18 13:19:20.984 +12:00 [INF] Request finished in 0.3737ms 204 
2019-07-18 13:19:21.007 +12:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/teachercourse application/json 128
2019-07-18 13:19:21.007 +12:00 [INF] Policy execution successful.
2019-07-18 13:19:21.012 +12:00 [INF] Route matched with {action = "UpdateTeacherCourse", controller = "TeacherCourse"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateTeacherCourse(Pegasus_backend.Models.TeacherCourseRegister) on controller Pegasus_backend.Controllers.TeacherCourseController (Pegasus_backend).
2019-07-18 13:19:21.059 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TeacherCourseController.UpdateTeacherCourse (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:19:26.433 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:19:28.783 +12:00 [INF] Executed DbCommand (62ms) [Parameters=[@__8__locals1_model_TeacherId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`teacher_id`, `s`.`ability`, `s`.`comment`, `s`.`cv_url`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`form_url`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`invoice_template`, `s`.`ird_number`, `s`.`is_activate`, `s`.`is_contract`, `s`.`is_left`, `s`.`last_name`, `s`.`level`, `s`.`minimum_hours`, `s`.`mobile_phone`, `s`.`otherfile_url`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`teacher` AS `s`
WHERE `s`.`teacher_id` = @__8__locals1_model_TeacherId_0
LIMIT 1
2019-07-18 13:19:32.607 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__8__locals1_model_TeacherId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`teacher_course_id`, `s`.`course_id`, `s`.`hourly_wage`, `s`.`teacher_id`
FROM `ablemusic`.`teacher_course` AS `s`
WHERE `s`.`teacher_id` = @__8__locals1_model_TeacherId_0
2019-07-18 13:19:35.437 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__8__locals1_model_TeacherId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`rates_id`, `s`.`create_at`, `s`.`group_rates`, `s`.`is_activate`, `s`.`others_rates`, `s`.`piano_rates`, `s`.`teacher_id`, `s`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s`
WHERE `s`.`teacher_id` = @__8__locals1_model_TeacherId_0
LIMIT 1
2019-07-18 13:20:01.668 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TeacherCourseController.UpdateTeacherCourse (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 40604.790400000005ms.
2019-07-18 13:20:01.683 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:20:01.687 +12:00 [INF] Executed action Pegasus_backend.Controllers.TeacherCourseController.UpdateTeacherCourse (Pegasus_backend) in 40674.1839ms
2019-07-18 13:20:01.687 +12:00 [INF] Request finished in 40680.1211ms 400 application/json; charset=utf-8
2019-07-18 13:20:05.365 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/teachercourse  
2019-07-18 13:20:05.365 +12:00 [INF] Policy execution successful.
2019-07-18 13:20:05.365 +12:00 [INF] Request finished in 0.4669ms 204 
2019-07-18 13:20:05.389 +12:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/teachercourse application/json 128
2019-07-18 13:20:05.389 +12:00 [INF] Policy execution successful.
2019-07-18 13:20:05.390 +12:00 [INF] Route matched with {action = "UpdateTeacherCourse", controller = "TeacherCourse"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateTeacherCourse(Pegasus_backend.Models.TeacherCourseRegister) on controller Pegasus_backend.Controllers.TeacherCourseController (Pegasus_backend).
2019-07-18 13:20:05.391 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TeacherCourseController.UpdateTeacherCourse (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:20:07.868 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:20:08.179 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__8__locals1_model_TeacherId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`teacher_id`, `s`.`ability`, `s`.`comment`, `s`.`cv_url`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`form_url`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`invoice_template`, `s`.`ird_number`, `s`.`is_activate`, `s`.`is_contract`, `s`.`is_left`, `s`.`last_name`, `s`.`level`, `s`.`minimum_hours`, `s`.`mobile_phone`, `s`.`otherfile_url`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`teacher` AS `s`
WHERE `s`.`teacher_id` = @__8__locals1_model_TeacherId_0
LIMIT 1
2019-07-18 13:20:08.231 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__8__locals1_model_TeacherId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`teacher_course_id`, `s`.`course_id`, `s`.`hourly_wage`, `s`.`teacher_id`
FROM `ablemusic`.`teacher_course` AS `s`
WHERE `s`.`teacher_id` = @__8__locals1_model_TeacherId_0
2019-07-18 13:20:08.282 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__8__locals1_model_TeacherId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`rates_id`, `s`.`create_at`, `s`.`group_rates`, `s`.`is_activate`, `s`.`others_rates`, `s`.`piano_rates`, `s`.`teacher_id`, `s`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s`
WHERE `s`.`teacher_id` = @__8__locals1_model_TeacherId_0
LIMIT 1
2019-07-18 13:20:08.408 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TeacherCourseController.UpdateTeacherCourse (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 3016.5122ms.
2019-07-18 13:20:08.408 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:20:08.408 +12:00 [INF] Executed action Pegasus_backend.Controllers.TeacherCourseController.UpdateTeacherCourse (Pegasus_backend) in 3018.5678000000003ms
2019-07-18 13:20:08.408 +12:00 [INF] Request finished in 3019.3166ms 400 application/json; charset=utf-8
2019-07-18 13:20:22.926 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/teachercourse  
2019-07-18 13:20:22.927 +12:00 [INF] Policy execution successful.
2019-07-18 13:20:22.927 +12:00 [INF] Request finished in 0.4977ms 204 
2019-07-18 13:20:22.943 +12:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/teachercourse application/json 128
2019-07-18 13:20:22.943 +12:00 [INF] Policy execution successful.
2019-07-18 13:20:22.944 +12:00 [INF] Route matched with {action = "UpdateTeacherCourse", controller = "TeacherCourse"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateTeacherCourse(Pegasus_backend.Models.TeacherCourseRegister) on controller Pegasus_backend.Controllers.TeacherCourseController (Pegasus_backend).
2019-07-18 13:20:22.944 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TeacherCourseController.UpdateTeacherCourse (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:20:25.190 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:20:25.494 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__8__locals1_model_TeacherId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`teacher_id`, `s`.`ability`, `s`.`comment`, `s`.`cv_url`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`form_url`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`invoice_template`, `s`.`ird_number`, `s`.`is_activate`, `s`.`is_contract`, `s`.`is_left`, `s`.`last_name`, `s`.`level`, `s`.`minimum_hours`, `s`.`mobile_phone`, `s`.`otherfile_url`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`teacher` AS `s`
WHERE `s`.`teacher_id` = @__8__locals1_model_TeacherId_0
LIMIT 1
2019-07-18 13:20:25.546 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__8__locals1_model_TeacherId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`teacher_course_id`, `s`.`course_id`, `s`.`hourly_wage`, `s`.`teacher_id`
FROM `ablemusic`.`teacher_course` AS `s`
WHERE `s`.`teacher_id` = @__8__locals1_model_TeacherId_0
2019-07-18 13:20:32.061 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__8__locals1_model_TeacherId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`rates_id`, `s`.`create_at`, `s`.`group_rates`, `s`.`is_activate`, `s`.`others_rates`, `s`.`piano_rates`, `s`.`teacher_id`, `s`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s`
WHERE `s`.`teacher_id` = @__8__locals1_model_TeacherId_0
LIMIT 1
2019-07-18 13:20:36.057 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TeacherCourseController.UpdateTeacherCourse (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 13112.7846ms.
2019-07-18 13:20:36.058 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:20:36.058 +12:00 [INF] Executed action Pegasus_backend.Controllers.TeacherCourseController.UpdateTeacherCourse (Pegasus_backend) in 13114.0555ms
2019-07-18 13:20:36.058 +12:00 [INF] Request finished in 13114.8625ms 400 application/json; charset=utf-8
2019-07-18 13:20:39.007 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/teachercourse  
2019-07-18 13:20:39.007 +12:00 [INF] Policy execution successful.
2019-07-18 13:20:39.007 +12:00 [INF] Request finished in 0.3164ms 204 
2019-07-18 13:20:39.024 +12:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/teachercourse application/json 128
2019-07-18 13:20:39.024 +12:00 [INF] Policy execution successful.
2019-07-18 13:20:39.024 +12:00 [INF] Route matched with {action = "UpdateTeacherCourse", controller = "TeacherCourse"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateTeacherCourse(Pegasus_backend.Models.TeacherCourseRegister) on controller Pegasus_backend.Controllers.TeacherCourseController (Pegasus_backend).
2019-07-18 13:20:39.025 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TeacherCourseController.UpdateTeacherCourse (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:20:41.122 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:20:41.432 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__8__locals1_model_TeacherId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`teacher_id`, `s`.`ability`, `s`.`comment`, `s`.`cv_url`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`form_url`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`invoice_template`, `s`.`ird_number`, `s`.`is_activate`, `s`.`is_contract`, `s`.`is_left`, `s`.`last_name`, `s`.`level`, `s`.`minimum_hours`, `s`.`mobile_phone`, `s`.`otherfile_url`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`teacher` AS `s`
WHERE `s`.`teacher_id` = @__8__locals1_model_TeacherId_0
LIMIT 1
2019-07-18 13:20:41.482 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__8__locals1_model_TeacherId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`teacher_course_id`, `s`.`course_id`, `s`.`hourly_wage`, `s`.`teacher_id`
FROM `ablemusic`.`teacher_course` AS `s`
WHERE `s`.`teacher_id` = @__8__locals1_model_TeacherId_0
2019-07-18 13:20:50.195 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__8__locals1_model_TeacherId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`rates_id`, `s`.`create_at`, `s`.`group_rates`, `s`.`is_activate`, `s`.`others_rates`, `s`.`piano_rates`, `s`.`teacher_id`, `s`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s`
WHERE `s`.`teacher_id` = @__8__locals1_model_TeacherId_0
LIMIT 1
2019-07-18 13:22:34.878 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TeacherCourseController.UpdateTeacherCourse (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 115853.2804ms.
2019-07-18 13:22:34.879 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:22:34.879 +12:00 [INF] Executed action Pegasus_backend.Controllers.TeacherCourseController.UpdateTeacherCourse (Pegasus_backend) in 115854.51460000001ms
2019-07-18 13:22:34.879 +12:00 [INF] Request finished in 115855.1453ms 400 application/json; charset=utf-8
2019-07-18 13:22:42.231 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/teachercourse  
2019-07-18 13:22:42.232 +12:00 [INF] Policy execution successful.
2019-07-18 13:22:42.232 +12:00 [INF] Request finished in 0.4481ms 204 
2019-07-18 13:22:42.242 +12:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/teachercourse application/json 128
2019-07-18 13:22:42.242 +12:00 [INF] Policy execution successful.
2019-07-18 13:22:42.243 +12:00 [INF] Route matched with {action = "UpdateTeacherCourse", controller = "TeacherCourse"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateTeacherCourse(Pegasus_backend.Models.TeacherCourseRegister) on controller Pegasus_backend.Controllers.TeacherCourseController (Pegasus_backend).
2019-07-18 13:22:42.244 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TeacherCourseController.UpdateTeacherCourse (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:22:46.763 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:22:47.072 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__8__locals1_model_TeacherId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`teacher_id`, `s`.`ability`, `s`.`comment`, `s`.`cv_url`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`form_url`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`invoice_template`, `s`.`ird_number`, `s`.`is_activate`, `s`.`is_contract`, `s`.`is_left`, `s`.`last_name`, `s`.`level`, `s`.`minimum_hours`, `s`.`mobile_phone`, `s`.`otherfile_url`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`teacher` AS `s`
WHERE `s`.`teacher_id` = @__8__locals1_model_TeacherId_0
LIMIT 1
2019-07-18 13:22:47.124 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__8__locals1_model_TeacherId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`teacher_course_id`, `s`.`course_id`, `s`.`hourly_wage`, `s`.`teacher_id`
FROM `ablemusic`.`teacher_course` AS `s`
WHERE `s`.`teacher_id` = @__8__locals1_model_TeacherId_0
2019-07-18 13:22:50.268 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__8__locals1_model_TeacherId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`rates_id`, `s`.`create_at`, `s`.`group_rates`, `s`.`is_activate`, `s`.`others_rates`, `s`.`piano_rates`, `s`.`teacher_id`, `s`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s`
WHERE `s`.`teacher_id` = @__8__locals1_model_TeacherId_0
LIMIT 1
2019-07-18 13:22:53.773 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@p7='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = Decimal), @p2='?' (DbType = Int16), @p3='?' (DbType = Decimal), @p4='?' (DbType = Decimal), @p5='?' (DbType = Int16), @p6='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`teacher_wage_rates` SET `create_at` = @p0, `group_rates` = @p1, `is_activate` = @p2, `others_rates` = @p3, `piano_rates` = @p4, `teacher_id` = @p5, `theory_rates` = @p6
WHERE `rates_id` = @p7;
SELECT ROW_COUNT();
2019-07-18 13:22:54.910 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Decimal), @p2='?' (DbType = Int16), @p3='?' (DbType = Decimal), @p4='?' (DbType = Decimal), @p5='?' (DbType = Int16), @p6='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`teacher_wage_rates` (`create_at`, `group_rates`, `is_activate`, `others_rates`, `piano_rates`, `teacher_id`, `theory_rates`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT `rates_id`
FROM `ablemusic`.`teacher_wage_rates`
WHERE ROW_COUNT() = 1
 AND `rates_id`=LAST_INSERT_ID();
2019-07-18 13:22:55.872 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__s_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `q`.`course_id`, `q`.`course_category_id`, `q`.`course_name`, `q`.`course_type`, `q`.`duration`, `q`.`level`, `q`.`price`, `q`.`teacher_level`, `q.CourseCategory`.`course_category_id`, `q.CourseCategory`.`course_category_name`
FROM `ablemusic`.`course` AS `q`
LEFT JOIN `ablemusic`.`course_category` AS `q.CourseCategory` ON `q`.`course_category_id` = `q.CourseCategory`.`course_category_id`
WHERE `q`.`course_id` = @__s_0
LIMIT 1
2019-07-18 13:22:55.980 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__s_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `q`.`course_id`, `q`.`course_category_id`, `q`.`course_name`, `q`.`course_type`, `q`.`duration`, `q`.`level`, `q`.`price`, `q`.`teacher_level`, `q.CourseCategory`.`course_category_id`, `q.CourseCategory`.`course_category_name`
FROM `ablemusic`.`course` AS `q`
LEFT JOIN `ablemusic`.`course_category` AS `q.CourseCategory` ON `q`.`course_category_id` = `q.CourseCategory`.`course_category_id`
WHERE `q`.`course_id` = @__s_0
LIMIT 1
2019-07-18 13:22:56.036 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__s_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `q`.`course_id`, `q`.`course_category_id`, `q`.`course_name`, `q`.`course_type`, `q`.`duration`, `q`.`level`, `q`.`price`, `q`.`teacher_level`, `q.CourseCategory`.`course_category_id`, `q.CourseCategory`.`course_category_name`
FROM `ablemusic`.`course` AS `q`
LEFT JOIN `ablemusic`.`course_category` AS `q.CourseCategory` ON `q`.`course_category_id` = `q.CourseCategory`.`course_category_id`
WHERE `q`.`course_id` = @__s_0
LIMIT 1
2019-07-18 13:22:56.091 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__s_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `q`.`course_id`, `q`.`course_category_id`, `q`.`course_name`, `q`.`course_type`, `q`.`duration`, `q`.`level`, `q`.`price`, `q`.`teacher_level`, `q.CourseCategory`.`course_category_id`, `q.CourseCategory`.`course_category_name`
FROM `ablemusic`.`course` AS `q`
LEFT JOIN `ablemusic`.`course_category` AS `q.CourseCategory` ON `q`.`course_category_id` = `q.CourseCategory`.`course_category_id`
WHERE `q`.`course_id` = @__s_0
LIMIT 1
2019-07-18 13:22:56.146 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__s_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `q`.`course_id`, `q`.`course_category_id`, `q`.`course_name`, `q`.`course_type`, `q`.`duration`, `q`.`level`, `q`.`price`, `q`.`teacher_level`, `q.CourseCategory`.`course_category_id`, `q.CourseCategory`.`course_category_name`
FROM `ablemusic`.`course` AS `q`
LEFT JOIN `ablemusic`.`course_category` AS `q.CourseCategory` ON `q`.`course_category_id` = `q.CourseCategory`.`course_category_id`
WHERE `q`.`course_id` = @__s_0
LIMIT 1
2019-07-18 13:22:56.227 +12:00 [INF] Executed DbCommand (63ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Decimal), @p2='?' (DbType = Int16), @p3='?' (DbType = Int32), @p4='?' (DbType = Decimal), @p5='?' (DbType = Int16), @p6='?' (DbType = Int32), @p7='?' (DbType = Decimal), @p8='?' (DbType = Int16), @p9='?' (DbType = Int32), @p10='?' (DbType = Decimal), @p11='?' (DbType = Int16), @p12='?' (DbType = Int32), @p13='?' (DbType = Decimal), @p14='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`teacher_course` (`course_id`, `hourly_wage`, `teacher_id`)
VALUES (@p0, @p1, @p2);
SELECT `teacher_course_id`
FROM `ablemusic`.`teacher_course`
WHERE ROW_COUNT() = 1
 AND `teacher_course_id`=LAST_INSERT_ID();

INSERT INTO `ablemusic`.`teacher_course` (`course_id`, `hourly_wage`, `teacher_id`)
VALUES (@p3, @p4, @p5);
SELECT `teacher_course_id`
FROM `ablemusic`.`teacher_course`
WHERE ROW_COUNT() = 1
 AND `teacher_course_id`=LAST_INSERT_ID();

INSERT INTO `ablemusic`.`teacher_course` (`course_id`, `hourly_wage`, `teacher_id`)
VALUES (@p6, @p7, @p8);
SELECT `teacher_course_id`
FROM `ablemusic`.`teacher_course`
WHERE ROW_COUNT() = 1
 AND `teacher_course_id`=LAST_INSERT_ID();

INSERT INTO `ablemusic`.`teacher_course` (`course_id`, `hourly_wage`, `teacher_id`)
VALUES (@p9, @p10, @p11);
SELECT `teacher_course_id`
FROM `ablemusic`.`teacher_course`
WHERE ROW_COUNT() = 1
 AND `teacher_course_id`=LAST_INSERT_ID();

INSERT INTO `ablemusic`.`teacher_course` (`course_id`, `hourly_wage`, `teacher_id`)
VALUES (@p12, @p13, @p14);
SELECT `teacher_course_id`
FROM `ablemusic`.`teacher_course`
WHERE ROW_COUNT() = 1
 AND `teacher_course_id`=LAST_INSERT_ID();
2019-07-18 13:22:56.303 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TeacherCourseController.UpdateTeacherCourse (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 14058.7864ms.
2019-07-18 13:22:56.303 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:22:56.303 +12:00 [INF] Executed action Pegasus_backend.Controllers.TeacherCourseController.UpdateTeacherCourse (Pegasus_backend) in 14060.3263ms
2019-07-18 13:22:56.303 +12:00 [INF] Request finished in 14061.247ms 200 application/json; charset=utf-8
2019-07-18 13:23:16.282 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/teacher  
2019-07-18 13:23:16.282 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/teachercourse  
2019-07-18 13:23:16.284 +12:00 [INF] Policy execution successful.
2019-07-18 13:23:16.284 +12:00 [INF] Policy execution successful.
2019-07-18 13:23:16.287 +12:00 [INF] Route matched with {action = "GetTeacherCourse", controller = "TeacherCourse"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTeacherCourse() on controller Pegasus_backend.Controllers.TeacherCourseController (Pegasus_backend).
2019-07-18 13:23:16.287 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/courses  
2019-07-18 13:23:16.287 +12:00 [INF] Route matched with {action = "GetTeacher", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetTeacher() on controller Pegasus_backend.Controllers.TeacherController (Pegasus_backend).
2019-07-18 13:23:16.288 +12:00 [INF] Policy execution successful.
2019-07-18 13:23:16.288 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TeacherCourseController.GetTeacherCourse (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:23:16.288 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TeacherController.GetTeacher (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:23:16.288 +12:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Pegasus_backend.pegasusContext.Course]]] GetCourses() on controller Pegasus_backend.Controllers.CoursesController (Pegasus_backend).
2019-07-18 13:23:16.288 +12:00 [INF] Executing action method Pegasus_backend.Controllers.CoursesController.GetCourses (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:23:16.288 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:23:16.288 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:23:16.289 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:23:16.298 +12:00 [WRN] The Include operation for navigation '[s].TeacherLanguage.Lang' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:23:16.298 +12:00 [WRN] The Include operation for navigation '[s].TeacherQualificatiion.Quali' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:23:16.298 +12:00 [WRN] The Include operation for navigation '[s].TeacherCourse.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:23:16.299 +12:00 [WRN] The Include operation for navigation '[s].AvailableDays.Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:23:16.299 +12:00 [WRN] The Include operation for navigation '[s].TeacherCourse.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:23:16.299 +12:00 [WRN] The Include operation for navigation '[s].TeacherWageRates' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:23:16.455 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`course_id` AS `CourseId`, `c`.`course_name` AS `CourseName`, `c`.`course_type` AS `CourseType`, `c`.`level`, `c`.`duration`, `c`.`price`, `c`.`course_category_id` AS `CourseCategoryId0`, `c`.`teacher_level` AS `TeacherLevel`, `cc`.`course_category_id` AS `CourseCategoryId`, `cc`.`course_category_name` AS `CourseCategoryName`
FROM `ablemusic`.`course` AS `c`
INNER JOIN `ablemusic`.`course_category` AS `cc` ON `c`.`course_category_id` = `cc`.`course_category_id`
2019-07-18 13:23:16.472 +12:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Course.CourseCategory`.`course_category_id`, `s.Course.CourseCategory`.`course_category_name`, `s`.`teacher_course_id` AS `TeacherCourseId`, `s`.`course_id` AS `CourseId0`, `s`.`teacher_id` AS `TeacherId0`, `s`.`hourly_wage` AS `HourlyWage`, `s`.`course_id` AS `CourseId`, `s.Course`.`course_name` AS `CourseName`, `s.Course`.`level`, `s.Course`.`duration`, `s.Course`.`price`, `s.Course`.`course_type` AS `CourseType`, `s`.`teacher_id` AS `TeacherId`, `s.Teacher`.`first_name` AS `FirstName`, `s.Teacher`.`last_name` AS `LastName`, `s.Teacher`.`level` AS `Level0`
FROM `ablemusic`.`teacher_course` AS `s`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `s.Course` ON `s`.`course_id` = `s.Course`.`course_id`
LEFT JOIN `ablemusic`.`course_category` AS `s.Course.CourseCategory` ON `s.Course`.`course_category_id` = `s.Course.CourseCategory`.`course_category_id`
2019-07-18 13:23:16.511 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`teacher_id` AS `TeacherId`, `s`.`first_name` AS `FirstName`, `s`.`last_name` AS `LastName`, `s`.`dob`, `s`.`gender`, `s`.`ird_number` AS `IrdNumber`, `s`.`id_type` AS `IdType`, `s`.`id_photo`, `s`.`id_number` AS `IdNumber`, `s`.`home_phone` AS `HomePhone`, `s`.`mobile_phone` AS `MobilePhone`, `s`.`email`, `s`.`photo`, `s`.`expiry_date` AS `ExpiryDate`, `s`.`cv_url`, `s`.`otherfile_url`, `s`.`form_url`, `s`.`is_left` AS `IsLeft`, `s`.`is_contract` AS `IsContract`, `s`.`invoice_template` AS `InvoiceTemplate`, `s`.`ability`, `s`.`comment`, `s`.`level`
FROM `ablemusic`.`teacher` AS `s`
WHERE `s`.`is_activate` = 1
ORDER BY `s`.`teacher_id`
2019-07-18 13:23:16.536 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TeacherCourseController.GetTeacherCourse (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 248.4729ms.
2019-07-18 13:23:16.536 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:23:16.541 +12:00 [INF] Executed action Pegasus_backend.Controllers.TeacherCourseController.GetTeacherCourse (Pegasus_backend) in 254.0539ms
2019-07-18 13:23:16.542 +12:00 [INF] Request finished in 259.7406ms 200 application/json; charset=utf-8
2019-07-18 13:23:16.590 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.AvailableDays`.`available_days_id`, `s.AvailableDays`.`created_at`, `s.AvailableDays`.`day_of_week`, `s.AvailableDays`.`org_id`, `s.AvailableDays`.`teacher_id`, `t`.`teacher_id`
FROM `ablemusic`.`available_days` AS `s.AvailableDays`
INNER JOIN (
    SELECT `s0`.`teacher_id`
    FROM `ablemusic`.`teacher` AS `s0`
    WHERE `s0`.`is_activate` = 1
) AS `t` ON `s.AvailableDays`.`teacher_id` = `t`.`teacher_id`
ORDER BY `t`.`teacher_id`
2019-07-18 13:23:16.633 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`prop_name` AS `PropName`, `l`.`prop_value` AS `PropValue`, `l`.`lookup_type` AS `LookupType`
FROM `ablemusic`.`lookup` AS `l`
WHERE (((`l`.`lookup_type` = 1) OR (`l`.`lookup_type` = 4)) OR (`l`.`lookup_type` = 6)) OR (`l`.`lookup_type` = 8)
2019-07-18 13:23:16.634 +12:00 [INF] Executed action method Pegasus_backend.Controllers.CoursesController.GetCourses (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 346.0448ms.
2019-07-18 13:23:16.634 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:23:16.637 +12:00 [INF] Executed action Pegasus_backend.Controllers.CoursesController.GetCourses (Pegasus_backend) in 349.0695ms
2019-07-18 13:23:16.637 +12:00 [INF] Request finished in 349.8978ms 200 application/json; charset=utf-8
2019-07-18 13:23:16.645 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.TeacherLanguage`.`teacher_lang_id`, `s.TeacherLanguage`.`lang_id`, `s.TeacherLanguage`.`teacher_id`, `t0`.`teacher_id`
FROM `ablemusic`.`teacher_language` AS `s.TeacherLanguage`
INNER JOIN (
    SELECT `s1`.`teacher_id`
    FROM `ablemusic`.`teacher` AS `s1`
    WHERE `s1`.`is_activate` = 1
) AS `t0` ON `s.TeacherLanguage`.`teacher_id` = `t0`.`teacher_id`
ORDER BY `t0`.`teacher_id`
2019-07-18 13:23:16.701 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.TeacherQualificatiion`.`teacher_quali_id`, `s.TeacherQualificatiion`.`description`, `s.TeacherQualificatiion`.`quali_id`, `s.TeacherQualificatiion`.`teacher_id`, `t1`.`teacher_id`
FROM `ablemusic`.`teacher_qualificatiion` AS `s.TeacherQualificatiion`
INNER JOIN (
    SELECT `s2`.`teacher_id`
    FROM `ablemusic`.`teacher` AS `s2`
    WHERE `s2`.`is_activate` = 1
) AS `t1` ON `s.TeacherQualificatiion`.`teacher_id` = `t1`.`teacher_id`
ORDER BY `t1`.`teacher_id`
2019-07-18 13:23:16.763 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.TeacherWageRates`.`rates_id`, `s.TeacherWageRates`.`create_at`, `s.TeacherWageRates`.`group_rates`, `s.TeacherWageRates`.`is_activate`, `s.TeacherWageRates`.`others_rates`, `s.TeacherWageRates`.`piano_rates`, `s.TeacherWageRates`.`teacher_id`, `s.TeacherWageRates`.`theory_rates`, `t2`.`teacher_id`
FROM `ablemusic`.`teacher_wage_rates` AS `s.TeacherWageRates`
INNER JOIN (
    SELECT `s3`.`teacher_id`
    FROM `ablemusic`.`teacher` AS `s3`
    WHERE `s3`.`is_activate` = 1
) AS `t2` ON `s.TeacherWageRates`.`teacher_id` = `t2`.`teacher_id`
ORDER BY `t2`.`teacher_id`
2019-07-18 13:23:16.771 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TeacherController.GetTeacher (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 482.8621ms.
2019-07-18 13:23:16.771 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:23:16.773 +12:00 [INF] Executed action Pegasus_backend.Controllers.TeacherController.GetTeacher (Pegasus_backend) in 485.3962ms
2019-07-18 13:23:16.773 +12:00 [INF] Request finished in 491.6513ms 200 application/json; charset=utf-8
2019-07-18 13:23:24.313 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner  
2019-07-18 13:23:24.313 +12:00 [INF] Policy execution successful.
2019-07-18 13:23:24.319 +12:00 [INF] Route matched with {action = "GetLearner", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearner() on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:23:24.320 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:23:24.330 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:23:24.796 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`is_active` = 1
ORDER BY `w`.`learner_id`
2019-07-18 13:23:24.882 +12:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Parent`.`parent_id`, `w.Parent`.`contact_num`, `w.Parent`.`created_at`, `w.Parent`.`email`, `w.Parent`.`first_name`, `w.Parent`.`last_name`, `w.Parent`.`learner_id`, `w.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `w.Parent`
INNER JOIN (
    SELECT `w0`.`learner_id`
    FROM `ablemusic`.`learner` AS `w0`
    WHERE `w0`.`is_active` = 1
) AS `t` ON `w.Parent`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-18 13:23:24.968 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerOthers`.`learner_others_id`, `w.LearnerOthers`.`learner_id`, `w.LearnerOthers`.`learner_level`, `w.LearnerOthers`.`others_type`, `w.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `w.LearnerOthers`
INNER JOIN (
    SELECT `w1`.`learner_id`
    FROM `ablemusic`.`learner` AS `w1`
    WHERE `w1`.`is_active` = 1
) AS `t0` ON `w.LearnerOthers`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-18 13:23:25.083 +12:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance`.`course_instance_id`, `w.One2oneCourseInstance`.`begin_date`, `w.One2oneCourseInstance`.`course_id`, `w.One2oneCourseInstance`.`end_date`, `w.One2oneCourseInstance`.`invoice_date`, `w.One2oneCourseInstance`.`learner_id`, `w.One2oneCourseInstance`.`org_id`, `w.One2oneCourseInstance`.`room_id`, `w.One2oneCourseInstance`.`teacher_id`, `o.Teacher`.`teacher_id`, `o.Teacher`.`ability`, `o.Teacher`.`comment`, `o.Teacher`.`cv_url`, `o.Teacher`.`dob`, `o.Teacher`.`email`, `o.Teacher`.`expiry_date`, `o.Teacher`.`first_name`, `o.Teacher`.`form_url`, `o.Teacher`.`gender`, `o.Teacher`.`home_phone`, `o.Teacher`.`id_number`, `o.Teacher`.`id_photo`, `o.Teacher`.`id_type`, `o.Teacher`.`invoice_template`, `o.Teacher`.`ird_number`, `o.Teacher`.`is_activate`, `o.Teacher`.`is_contract`, `o.Teacher`.`is_left`, `o.Teacher`.`last_name`, `o.Teacher`.`level`, `o.Teacher`.`minimum_hours`, `o.Teacher`.`mobile_phone`, `o.Teacher`.`otherfile_url`, `o.Teacher`.`photo`, `o.Teacher`.`user_id`, `o.Teacher`.`visa`, `o.Room`.`room_id`, `o.Room`.`created_at`, `o.Room`.`is_activate`, `o.Room`.`org_id`, `o.Room`.`room_name`, `o.Course`.`course_id`, `o.Course`.`course_category_id`, `o.Course`.`course_name`, `o.Course`.`course_type`, `o.Course`.`duration`, `o.Course`.`level`, `o.Course`.`price`, `o.Course`.`teacher_level`, `o.Org`.`org_id`, `o.Org`.`abbr`, `o.Org`.`address`, `o.Org`.`email`, `o.Org`.`is_activate`, `o.Org`.`is_headoffice`, `o.Org`.`localtion_x`, `o.Org`.`localtion_y`, `o.Org`.`org_name`, `o.Org`.`phone`
FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance`
LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher` ON `w.One2oneCourseInstance`.`teacher_id` = `o.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `o.Room` ON `w.One2oneCourseInstance`.`room_id` = `o.Room`.`room_id`
LEFT JOIN `ablemusic`.`course` AS `o.Course` ON `w.One2oneCourseInstance`.`course_id` = `o.Course`.`course_id`
LEFT JOIN `ablemusic`.`org` AS `o.Org` ON `w.One2oneCourseInstance`.`org_id` = `o.Org`.`org_id`
INNER JOIN (
    SELECT `w2`.`learner_id`
    FROM `ablemusic`.`learner` AS `w2`
    WHERE `w2`.`is_active` = 1
) AS `t1` ON `w.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`, `w.One2oneCourseInstance`.`course_instance_id`
2019-07-18 13:23:25.307 +12:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.Amendment`.`amendment_id`, `w.One2oneCourseInstance.Amendment`.`amend_type`, `w.One2oneCourseInstance.Amendment`.`begin_date`, `w.One2oneCourseInstance.Amendment`.`begin_time`, `w.One2oneCourseInstance.Amendment`.`course_instance_id`, `w.One2oneCourseInstance.Amendment`.`course_schedule_id`, `w.One2oneCourseInstance.Amendment`.`created_at`, `w.One2oneCourseInstance.Amendment`.`day_of_week`, `w.One2oneCourseInstance.Amendment`.`end_date`, `w.One2oneCourseInstance.Amendment`.`end_time`, `w.One2oneCourseInstance.Amendment`.`is_temporary`, `w.One2oneCourseInstance.Amendment`.`learner_id`, `w.One2oneCourseInstance.Amendment`.`org_id`, `w.One2oneCourseInstance.Amendment`.`reason`, `w.One2oneCourseInstance.Amendment`.`room_id`, `w.One2oneCourseInstance.Amendment`.`teacher_id`, `a.Teacher`.`teacher_id`, `a.Teacher`.`ability`, `a.Teacher`.`comment`, `a.Teacher`.`cv_url`, `a.Teacher`.`dob`, `a.Teacher`.`email`, `a.Teacher`.`expiry_date`, `a.Teacher`.`first_name`, `a.Teacher`.`form_url`, `a.Teacher`.`gender`, `a.Teacher`.`home_phone`, `a.Teacher`.`id_number`, `a.Teacher`.`id_photo`, `a.Teacher`.`id_type`, `a.Teacher`.`invoice_template`, `a.Teacher`.`ird_number`, `a.Teacher`.`is_activate`, `a.Teacher`.`is_contract`, `a.Teacher`.`is_left`, `a.Teacher`.`last_name`, `a.Teacher`.`level`, `a.Teacher`.`minimum_hours`, `a.Teacher`.`mobile_phone`, `a.Teacher`.`otherfile_url`, `a.Teacher`.`photo`, `a.Teacher`.`user_id`, `a.Teacher`.`visa`, `a.Room`.`room_id`, `a.Room`.`created_at`, `a.Room`.`is_activate`, `a.Room`.`org_id`, `a.Room`.`room_name`
FROM `ablemusic`.`amendment` AS `w.One2oneCourseInstance.Amendment`
LEFT JOIN `ablemusic`.`teacher` AS `a.Teacher` ON `w.One2oneCourseInstance.Amendment`.`teacher_id` = `a.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `a.Room` ON `w.One2oneCourseInstance.Amendment`.`room_id` = `a.Room`.`room_id`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance0`.`course_instance_id`, `t2`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance0`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher0` ON `w.One2oneCourseInstance0`.`teacher_id` = `o.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room0` ON `w.One2oneCourseInstance0`.`room_id` = `o.Room0`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course0` ON `w.One2oneCourseInstance0`.`course_id` = `o.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org0` ON `w.One2oneCourseInstance0`.`org_id` = `o.Org0`.`org_id`
    INNER JOIN (
        SELECT `w3`.`learner_id`
        FROM `ablemusic`.`learner` AS `w3`
        WHERE `w3`.`is_active` = 1
    ) AS `t2` ON `w.One2oneCourseInstance0`.`learner_id` = `t2`.`learner_id`
) AS `t3` ON `w.One2oneCourseInstance.Amendment`.`course_instance_id` = `t3`.`course_instance_id`
ORDER BY `t3`.`learner_id`, `t3`.`course_instance_id`
2019-07-18 13:23:25.440 +12:00 [INF] Executed DbCommand (80ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.CourseSchedule`.`course_schedule_id`, `w.One2oneCourseInstance.CourseSchedule`.`begin_time`, `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id`, `w.One2oneCourseInstance.CourseSchedule`.`day_of_week`, `w.One2oneCourseInstance.CourseSchedule`.`end_time`, `w.One2oneCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `w.One2oneCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance1`.`course_instance_id`, `t4`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance1`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher1` ON `w.One2oneCourseInstance1`.`teacher_id` = `o.Teacher1`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room1` ON `w.One2oneCourseInstance1`.`room_id` = `o.Room1`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course1` ON `w.One2oneCourseInstance1`.`course_id` = `o.Course1`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org1` ON `w.One2oneCourseInstance1`.`org_id` = `o.Org1`.`org_id`
    INNER JOIN (
        SELECT `w4`.`learner_id`
        FROM `ablemusic`.`learner` AS `w4`
        WHERE `w4`.`is_active` = 1
    ) AS `t4` ON `w.One2oneCourseInstance1`.`learner_id` = `t4`.`learner_id`
) AS `t5` ON `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id` = `t5`.`course_instance_id`
ORDER BY `t5`.`learner_id`, `t5`.`course_instance_id`
2019-07-18 13:23:25.570 +12:00 [INF] Executed DbCommand (100ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerGroupCourse`.`learner_group_course_id`, `w.LearnerGroupCourse`.`begin_date`, `w.LearnerGroupCourse`.`comment`, `w.LearnerGroupCourse`.`created_at`, `w.LearnerGroupCourse`.`end_date`, `w.LearnerGroupCourse`.`group_course_instance_id`, `w.LearnerGroupCourse`.`invoice_date`, `w.LearnerGroupCourse`.`is_activate`, `w.LearnerGroupCourse`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`, `l.GroupCourseInstance`.`begin_date`, `l.GroupCourseInstance`.`course_id`, `l.GroupCourseInstance`.`end_date`, `l.GroupCourseInstance`.`invoice_date`, `l.GroupCourseInstance`.`is_activate`, `l.GroupCourseInstance`.`is_started`, `l.GroupCourseInstance`.`org_id`, `l.GroupCourseInstance`.`room_id`, `l.GroupCourseInstance`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`ability`, `l.GroupCourseInstance.Teacher`.`comment`, `l.GroupCourseInstance.Teacher`.`cv_url`, `l.GroupCourseInstance.Teacher`.`dob`, `l.GroupCourseInstance.Teacher`.`email`, `l.GroupCourseInstance.Teacher`.`expiry_date`, `l.GroupCourseInstance.Teacher`.`first_name`, `l.GroupCourseInstance.Teacher`.`form_url`, `l.GroupCourseInstance.Teacher`.`gender`, `l.GroupCourseInstance.Teacher`.`home_phone`, `l.GroupCourseInstance.Teacher`.`id_number`, `l.GroupCourseInstance.Teacher`.`id_photo`, `l.GroupCourseInstance.Teacher`.`id_type`, `l.GroupCourseInstance.Teacher`.`invoice_template`, `l.GroupCourseInstance.Teacher`.`ird_number`, `l.GroupCourseInstance.Teacher`.`is_activate`, `l.GroupCourseInstance.Teacher`.`is_contract`, `l.GroupCourseInstance.Teacher`.`is_left`, `l.GroupCourseInstance.Teacher`.`last_name`, `l.GroupCourseInstance.Teacher`.`level`, `l.GroupCourseInstance.Teacher`.`minimum_hours`, `l.GroupCourseInstance.Teacher`.`mobile_phone`, `l.GroupCourseInstance.Teacher`.`otherfile_url`, `l.GroupCourseInstance.Teacher`.`photo`, `l.GroupCourseInstance.Teacher`.`user_id`, `l.GroupCourseInstance.Teacher`.`visa`, `l.GroupCourseInstance.Course`.`course_id`, `l.GroupCourseInstance.Course`.`course_category_id`, `l.GroupCourseInstance.Course`.`course_name`, `l.GroupCourseInstance.Course`.`course_type`, `l.GroupCourseInstance.Course`.`duration`, `l.GroupCourseInstance.Course`.`level`, `l.GroupCourseInstance.Course`.`price`, `l.GroupCourseInstance.Course`.`teacher_level`, `l.GroupCourseInstance.Room`.`room_id`, `l.GroupCourseInstance.Room`.`created_at`, `l.GroupCourseInstance.Room`.`is_activate`, `l.GroupCourseInstance.Room`.`org_id`, `l.GroupCourseInstance.Room`.`room_name`
FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse`
LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance` ON `w.LearnerGroupCourse`.`group_course_instance_id` = `l.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher` ON `l.GroupCourseInstance`.`teacher_id` = `l.GroupCourseInstance.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course` ON `l.GroupCourseInstance`.`course_id` = `l.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room` ON `l.GroupCourseInstance`.`room_id` = `l.GroupCourseInstance.Room`.`room_id`
INNER JOIN (
    SELECT `w5`.`learner_id`
    FROM `ablemusic`.`learner` AS `w5`
    WHERE `w5`.`is_active` = 1
) AS `t6` ON `w.LearnerGroupCourse`.`learner_id` = `t6`.`learner_id`
ORDER BY `t6`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`
2019-07-18 13:23:25.734 +12:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l.GroupCourseInstance.CourseSchedule`.`course_schedule_id`, `l.GroupCourseInstance.CourseSchedule`.`begin_time`, `l.GroupCourseInstance.CourseSchedule`.`course_instance_id`, `l.GroupCourseInstance.CourseSchedule`.`day_of_week`, `l.GroupCourseInstance.CourseSchedule`.`end_time`, `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `l.GroupCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `l.GroupCourseInstance0`.`group_course_instance_id`, `t7`.`learner_id`
    FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse0`
    LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance0` ON `w.LearnerGroupCourse0`.`group_course_instance_id` = `l.GroupCourseInstance0`.`group_course_instance_id`
    LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher0` ON `l.GroupCourseInstance0`.`teacher_id` = `l.GroupCourseInstance.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course0` ON `l.GroupCourseInstance0`.`course_id` = `l.GroupCourseInstance.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room0` ON `l.GroupCourseInstance0`.`room_id` = `l.GroupCourseInstance.Room0`.`room_id`
    INNER JOIN (
        SELECT `w6`.`learner_id`
        FROM `ablemusic`.`learner` AS `w6`
        WHERE `w6`.`is_active` = 1
    ) AS `t7` ON `w.LearnerGroupCourse0`.`learner_id` = `t7`.`learner_id`
) AS `t8` ON `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id` = `t8`.`group_course_instance_id`
ORDER BY `t8`.`learner_id`, `t8`.`group_course_instance_id`
2019-07-18 13:23:26.030 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1709.8135ms.
2019-07-18 13:23:26.030 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:23:26.105 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) in 1785.9221ms
2019-07-18 13:23:26.105 +12:00 [INF] Request finished in 1792.4328ms 200 application/json; charset=utf-8
2019-07-18 13:23:36.356 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/courses  
2019-07-18 13:23:36.356 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/TeacherFilter/2  
2019-07-18 13:23:36.356 +12:00 [INF] Policy execution successful.
2019-07-18 13:23:36.356 +12:00 [INF] Policy execution successful.
2019-07-18 13:23:36.363 +12:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Pegasus_backend.pegasusContext.Course]]] GetCourses() on controller Pegasus_backend.Controllers.CoursesController (Pegasus_backend).
2019-07-18 13:23:36.364 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/TeacherFilter/14  
2019-07-18 13:23:36.364 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/1  
2019-07-18 13:23:36.364 +12:00 [INF] Policy execution successful.
2019-07-18 13:23:36.364 +12:00 [INF] Policy execution successful.
2019-07-18 13:23:36.379 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/2  
2019-07-18 13:23:36.379 +12:00 [INF] Executing action method Pegasus_backend.Controllers.CoursesController.GetCourses (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:23:36.379 +12:00 [INF] Policy execution successful.
2019-07-18 13:23:36.380 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/GroupCourseInstance  
2019-07-18 13:23:36.380 +12:00 [INF] Policy execution successful.
2019-07-18 13:23:36.384 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:23:36.388 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 13:23:36.388 +12:00 [INF] Route matched with {action = "Get", controller = "TeacherFilter"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Pegasus_backend.Controllers.TeacherFilterController (Pegasus_backend).
2019-07-18 13:23:36.389 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:23:36.389 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TeacherFilterController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:23:36.389 +12:00 [INF] Route matched with {action = "Get", controller = "TeacherFilter"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Pegasus_backend.Controllers.TeacherFilterController (Pegasus_backend).
2019-07-18 13:23:36.389 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 13:23:36.389 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TeacherFilterController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:23:36.389 +12:00 [INF] Route matched with {action = "GetGroupCourseInstance", controller = "GroupCourseInstance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGroupCourseInstance() on controller Pegasus_backend.Controllers.GroupCourseInstanceController (Pegasus_backend).
2019-07-18 13:23:36.390 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:23:36.390 +12:00 [INF] Executing action method Pegasus_backend.Controllers.GroupCourseInstanceController.GetGroupCourseInstance (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:23:36.392 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:23:36.392 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:23:36.400 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:23:36.422 +12:00 [WRN] The Include operation for navigation '[c].CourseSchedule' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:23:36.422 +12:00 [WRN] The Include operation for navigation '[c].Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:23:36.422 +12:00 [WRN] The Include operation for navigation '[c].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:23:36.422 +12:00 [WRN] The Include operation for navigation '[c].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:23:36.422 +12:00 [WRN] The Include operation for navigation '[c].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:23:36.430 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:23:36.430 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:23:36.564 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 13:23:36.564 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 13:23:36.565 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 175.95510000000002ms.
2019-07-18 13:23:36.565 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 174.9959ms.
2019-07-18 13:23:36.565 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:23:36.565 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:23:36.565 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 177.0276ms
2019-07-18 13:23:36.565 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 175.696ms
2019-07-18 13:23:36.565 +12:00 [INF] Request finished in 201.3339ms 200 application/json; charset=utf-8
2019-07-18 13:23:36.565 +12:00 [INF] Request finished in 186.9017ms 200 application/json; charset=utf-8
2019-07-18 13:23:36.569 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/4  
2019-07-18 13:23:36.582 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/3  
2019-07-18 13:23:36.582 +12:00 [INF] Policy execution successful.
2019-07-18 13:23:36.583 +12:00 [INF] Policy execution successful.
2019-07-18 13:23:36.583 +12:00 [INF] Executed DbCommand (71ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`course_id` AS `CourseId`, `c`.`course_name` AS `CourseName`, `c`.`course_type` AS `CourseType`, `c`.`level`, `c`.`duration`, `c`.`price`, `c`.`course_category_id` AS `CourseCategoryId0`, `c`.`teacher_level` AS `TeacherLevel`, `cc`.`course_category_id` AS `CourseCategoryId`, `cc`.`course_category_name` AS `CourseCategoryName`
FROM `ablemusic`.`course` AS `c`
INNER JOIN `ablemusic`.`course_category` AS `cc` ON `c`.`course_category_id` = `cc`.`course_category_id`
2019-07-18 13:23:36.583 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 13:23:36.583 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 13:23:36.583 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:23:36.583 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:23:36.584 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:23:36.584 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:23:36.611 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`org_id` AS `OrgId`, `o`.`org_name` AS `OrgName`
FROM `ablemusic`.`org` AS `o`
2019-07-18 13:23:36.757 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 13:23:36.757 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 174.1398ms.
2019-07-18 13:23:36.758 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:23:36.758 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 174.9899ms
2019-07-18 13:23:36.758 +12:00 [INF] Request finished in 189.2648ms 200 application/json; charset=utf-8
2019-07-18 13:23:36.760 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/5  
2019-07-18 13:23:36.760 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 13:23:36.760 +12:00 [INF] Policy execution successful.
2019-07-18 13:23:36.760 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 13:23:36.761 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:23:36.761 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 177.5754ms.
2019-07-18 13:23:36.761 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:23:36.761 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:23:36.761 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 178.491ms
2019-07-18 13:23:36.762 +12:00 [INF] Request finished in 179.0542ms 200 application/json; charset=utf-8
2019-07-18 13:23:36.763 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/orgs  
2019-07-18 13:23:36.764 +12:00 [INF] Policy execution successful.
2019-07-18 13:23:36.773 +12:00 [INF] Route matched with {action = "GetOrg", controller = "Orgs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrg() on controller Pegasus_backend.Controllers.OrgsController (Pegasus_backend).
2019-07-18 13:23:36.773 +12:00 [INF] Executing action method Pegasus_backend.Controllers.OrgsController.GetOrg (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:23:36.776 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:23:36.779 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`prop_name` AS `PropName`, `l`.`prop_value` AS `PropValue`, `l`.`lookup_type` AS `LookupType`
FROM `ablemusic`.`lookup` AS `l`
WHERE (((`l`.`lookup_type` = 1) OR (`l`.`lookup_type` = 4)) OR (`l`.`lookup_type` = 6)) OR (`l`.`lookup_type` = 8)
2019-07-18 13:23:36.780 +12:00 [INF] Executed action method Pegasus_backend.Controllers.CoursesController.GetCourses (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 401.27340000000004ms.
2019-07-18 13:23:36.780 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:23:36.783 +12:00 [INF] Executed action Pegasus_backend.Controllers.CoursesController.GetCourses (Pegasus_backend) in 419.05100000000004ms
2019-07-18 13:23:36.783 +12:00 [INF] Request finished in 427.3201ms 200 application/json; charset=utf-8
2019-07-18 13:23:36.793 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `r`.`room_id` AS `RoomId`, `r`.`room_name` AS `RoomName`, `r`.`org_id` AS `OrgId`
FROM `ablemusic`.`room` AS `r`
2019-07-18 13:23:36.916 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 13:23:36.916 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 155.622ms.
2019-07-18 13:23:36.917 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:23:36.917 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 156.30110000000002ms
2019-07-18 13:23:36.917 +12:00 [INF] Request finished in 157.1324ms 200 application/json; charset=utf-8
2019-07-18 13:23:36.959 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`org_id`, `o`.`abbr`, `o`.`address`, `o`.`email`, `o`.`is_activate`, `o`.`is_headoffice`, `o`.`localtion_x`, `o`.`localtion_y`, `o`.`org_name`, `o`.`phone`
FROM `ablemusic`.`org` AS `o`
2019-07-18 13:23:36.965 +12:00 [INF] Executed action method Pegasus_backend.Controllers.OrgsController.GetOrg (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 191.2169ms.
2019-07-18 13:23:36.965 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Org, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:23:36.966 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`prop_value` AS `PropValue`, `l`.`prop_name` AS `PropName`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = 1
2019-07-18 13:23:36.991 +12:00 [WRN] Query: '(from <>f__AnonymousType117<short, string, string, Nullable<short>, Nullable<byte>> <generated>_1 in...' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-07-18 13:23:36.999 +12:00 [WRN] The LINQ expression 'GroupBy(new <>f__AnonymousType118`2(TeacherId = [t].TeacherId, TeacherAvailableOrgId = [ta].OrgId), new <>f__AnonymousType117`5(TeacherId = [t].TeacherId, TeacherFirstName = [t].FirstName, TeacherLastName = [t].LastName, TeacherAvailableOrgId = [ta].OrgId, TeacherLevelId = [t].Level))' could not be translated and will be evaluated locally.
2019-07-18 13:23:37.001 +12:00 [WRN] The LINQ expression 'FirstOrDefault()' could not be translated and will be evaluated locally.
2019-07-18 13:23:37.001 +12:00 [INF] Executed action Pegasus_backend.Controllers.OrgsController.GetOrg (Pegasus_backend) in 228.12480000000002ms
2019-07-18 13:23:37.001 +12:00 [INF] Request finished in 237.7422ms 200 application/json; charset=utf-8
2019-07-18 13:23:37.068 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`org_id` AS `OrgId`, `o`.`org_name` AS `OrgName`
FROM `ablemusic`.`org` AS `o`
2019-07-18 13:23:37.167 +12:00 [INF] Executed DbCommand (64ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c.Course.CourseCategory`.`course_category_id`, `c.Course.CourseCategory`.`course_category_name`, `c`.`course_id` AS `CourseId`, `c`.`group_course_instance_id` AS `GroupCourseInstanceId`, `c`.`begin_date` AS `BeginDate`, `c`.`end_date` AS `EndDate`, `c.Course`.`course_name` AS `CourseName`, `c.Course`.`course_type` AS `CourseType`, `c.Course`.`level`, `c.Course`.`duration`, `c.Course`.`price`, `c`.`org_id` AS `OrgId`, `c.Org`.`org_name` AS `OrgName`, `c`.`room_id` AS `RoomId`, `c.Room`.`room_name` AS `RoomName`, `c`.`teacher_id` AS `TeacherId`, `c.Teacher`.`first_name` AS `FirstName`, `c.Teacher`.`last_name` AS `LastName`
FROM `ablemusic`.`group_course_instance` AS `c`
LEFT JOIN `ablemusic`.`teacher` AS `c.Teacher` ON `c`.`teacher_id` = `c.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `c.Room` ON `c`.`room_id` = `c.Room`.`room_id`
LEFT JOIN `ablemusic`.`org` AS `c.Org` ON `c`.`org_id` = `c.Org`.`org_id`
INNER JOIN `ablemusic`.`course` AS `c.Course` ON `c`.`course_id` = `c.Course`.`course_id`
LEFT JOIN `ablemusic`.`course_category` AS `c.Course.CourseCategory` ON `c.Course`.`course_category_id` = `c.Course.CourseCategory`.`course_category_id`
WHERE `c`.`is_activate` = 1
ORDER BY `c`.`group_course_instance_id`
2019-07-18 13:23:37.218 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`teacher_id` AS `TeacherId`, `t`.`first_name` AS `TeacherFirstName`, `t`.`last_name` AS `TeacherLastName`, `ta`.`org_id` AS `TeacherAvailableOrgId`, `t`.`level` AS `TeacherLevelId`
FROM `ablemusic`.`teacher` AS `t`
INNER JOIN `ablemusic`.`available_days` AS `ta` ON `t`.`teacher_id` = `ta`.`teacher_id`
INNER JOIN `ablemusic`.`teacher_course` AS `tc` ON `t`.`teacher_id` = `tc`.`teacher_id`
WHERE (`tc`.`course_id` = @__courseId_0) AND (`t`.`is_activate` = 1)
ORDER BY `t`.`teacher_id`, `ta`.`org_id`
2019-07-18 13:23:37.248 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `r`.`room_id` AS `RoomId`, `r`.`room_name` AS `RoomName`, `r`.`org_id` AS `OrgId`
FROM `ablemusic`.`room` AS `r`
2019-07-18 13:23:37.262 +12:00 [INF] Executed DbCommand (66ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c.CourseSchedule`.`course_schedule_id`, `c.CourseSchedule`.`begin_time`, `c.CourseSchedule`.`course_instance_id`, `c.CourseSchedule`.`day_of_week`, `c.CourseSchedule`.`end_time`, `c.CourseSchedule`.`group_course_instance_id`, `t`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `c.CourseSchedule`
INNER JOIN (
    SELECT `c0`.`group_course_instance_id`
    FROM `ablemusic`.`group_course_instance` AS `c0`
    LEFT JOIN `ablemusic`.`teacher` AS `c.Teacher0` ON `c0`.`teacher_id` = `c.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `c.Room0` ON `c0`.`room_id` = `c.Room0`.`room_id`
    LEFT JOIN `ablemusic`.`org` AS `c.Org0` ON `c0`.`org_id` = `c.Org0`.`org_id`
    INNER JOIN `ablemusic`.`course` AS `c.Course0` ON `c0`.`course_id` = `c.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`course_category` AS `c.Course.CourseCategory0` ON `c.Course0`.`course_category_id` = `c.Course.CourseCategory0`.`course_category_id`
    WHERE `c0`.`is_activate` = 1
) AS `t` ON `c.CourseSchedule`.`group_course_instance_id` = `t`.`group_course_instance_id`
ORDER BY `t`.`group_course_instance_id`
2019-07-18 13:23:37.272 +12:00 [INF] Executed action method Pegasus_backend.Controllers.GroupCourseInstanceController.GetGroupCourseInstance (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 881.5333ms.
2019-07-18 13:23:37.272 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:23:37.301 +12:00 [INF] Executed action Pegasus_backend.Controllers.GroupCourseInstanceController.GetGroupCourseInstance (Pegasus_backend) in 911.2702ms
2019-07-18 13:23:37.301 +12:00 [INF] Request finished in 921.1754ms 200 application/json; charset=utf-8
2019-07-18 13:23:37.380 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TeacherFilterController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 990.76560000000006ms.
2019-07-18 13:23:37.381 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:23:37.392 +12:00 [INF] Executed action Pegasus_backend.Controllers.TeacherFilterController.Get (Pegasus_backend) in 1003.4676000000001ms
2019-07-18 13:23:37.393 +12:00 [INF] Request finished in 1030.0477ms 200 application/json; charset=utf-8
2019-07-18 13:23:37.449 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`prop_value` AS `PropValue`, `l`.`prop_name` AS `PropName`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = 1
2019-07-18 13:23:37.644 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`teacher_id` AS `TeacherId`, `t`.`first_name` AS `TeacherFirstName`, `t`.`last_name` AS `TeacherLastName`, `ta`.`org_id` AS `TeacherAvailableOrgId`, `t`.`level` AS `TeacherLevelId`
FROM `ablemusic`.`teacher` AS `t`
INNER JOIN `ablemusic`.`available_days` AS `ta` ON `t`.`teacher_id` = `ta`.`teacher_id`
INNER JOIN `ablemusic`.`teacher_course` AS `tc` ON `t`.`teacher_id` = `tc`.`teacher_id`
WHERE (`tc`.`course_id` = @__courseId_0) AND (`t`.`is_activate` = 1)
ORDER BY `t`.`teacher_id`, `ta`.`org_id`
2019-07-18 13:23:37.645 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TeacherFilterController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1256.0411000000001ms.
2019-07-18 13:23:37.645 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:23:37.645 +12:00 [INF] Executed action Pegasus_backend.Controllers.TeacherFilterController.Get (Pegasus_backend) in 1257.2856000000002ms
2019-07-18 13:23:37.645 +12:00 [INF] Request finished in 1289.6044ms 200 application/json; charset=utf-8
2019-07-18 13:23:38.333 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner  
2019-07-18 13:23:38.333 +12:00 [INF] Policy execution successful.
2019-07-18 13:23:38.334 +12:00 [INF] Route matched with {action = "GetLearner", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearner() on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:23:38.335 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:23:38.336 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:23:38.527 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`is_active` = 1
ORDER BY `w`.`learner_id`
2019-07-18 13:23:38.588 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Parent`.`parent_id`, `w.Parent`.`contact_num`, `w.Parent`.`created_at`, `w.Parent`.`email`, `w.Parent`.`first_name`, `w.Parent`.`last_name`, `w.Parent`.`learner_id`, `w.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `w.Parent`
INNER JOIN (
    SELECT `w0`.`learner_id`
    FROM `ablemusic`.`learner` AS `w0`
    WHERE `w0`.`is_active` = 1
) AS `t` ON `w.Parent`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-18 13:23:38.643 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerOthers`.`learner_others_id`, `w.LearnerOthers`.`learner_id`, `w.LearnerOthers`.`learner_level`, `w.LearnerOthers`.`others_type`, `w.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `w.LearnerOthers`
INNER JOIN (
    SELECT `w1`.`learner_id`
    FROM `ablemusic`.`learner` AS `w1`
    WHERE `w1`.`is_active` = 1
) AS `t0` ON `w.LearnerOthers`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-18 13:23:38.720 +12:00 [INF] Executed DbCommand (75ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance`.`course_instance_id`, `w.One2oneCourseInstance`.`begin_date`, `w.One2oneCourseInstance`.`course_id`, `w.One2oneCourseInstance`.`end_date`, `w.One2oneCourseInstance`.`invoice_date`, `w.One2oneCourseInstance`.`learner_id`, `w.One2oneCourseInstance`.`org_id`, `w.One2oneCourseInstance`.`room_id`, `w.One2oneCourseInstance`.`teacher_id`, `o.Teacher`.`teacher_id`, `o.Teacher`.`ability`, `o.Teacher`.`comment`, `o.Teacher`.`cv_url`, `o.Teacher`.`dob`, `o.Teacher`.`email`, `o.Teacher`.`expiry_date`, `o.Teacher`.`first_name`, `o.Teacher`.`form_url`, `o.Teacher`.`gender`, `o.Teacher`.`home_phone`, `o.Teacher`.`id_number`, `o.Teacher`.`id_photo`, `o.Teacher`.`id_type`, `o.Teacher`.`invoice_template`, `o.Teacher`.`ird_number`, `o.Teacher`.`is_activate`, `o.Teacher`.`is_contract`, `o.Teacher`.`is_left`, `o.Teacher`.`last_name`, `o.Teacher`.`level`, `o.Teacher`.`minimum_hours`, `o.Teacher`.`mobile_phone`, `o.Teacher`.`otherfile_url`, `o.Teacher`.`photo`, `o.Teacher`.`user_id`, `o.Teacher`.`visa`, `o.Room`.`room_id`, `o.Room`.`created_at`, `o.Room`.`is_activate`, `o.Room`.`org_id`, `o.Room`.`room_name`, `o.Course`.`course_id`, `o.Course`.`course_category_id`, `o.Course`.`course_name`, `o.Course`.`course_type`, `o.Course`.`duration`, `o.Course`.`level`, `o.Course`.`price`, `o.Course`.`teacher_level`, `o.Org`.`org_id`, `o.Org`.`abbr`, `o.Org`.`address`, `o.Org`.`email`, `o.Org`.`is_activate`, `o.Org`.`is_headoffice`, `o.Org`.`localtion_x`, `o.Org`.`localtion_y`, `o.Org`.`org_name`, `o.Org`.`phone`
FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance`
LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher` ON `w.One2oneCourseInstance`.`teacher_id` = `o.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `o.Room` ON `w.One2oneCourseInstance`.`room_id` = `o.Room`.`room_id`
LEFT JOIN `ablemusic`.`course` AS `o.Course` ON `w.One2oneCourseInstance`.`course_id` = `o.Course`.`course_id`
LEFT JOIN `ablemusic`.`org` AS `o.Org` ON `w.One2oneCourseInstance`.`org_id` = `o.Org`.`org_id`
INNER JOIN (
    SELECT `w2`.`learner_id`
    FROM `ablemusic`.`learner` AS `w2`
    WHERE `w2`.`is_active` = 1
) AS `t1` ON `w.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`, `w.One2oneCourseInstance`.`course_instance_id`
2019-07-18 13:23:38.868 +12:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.Amendment`.`amendment_id`, `w.One2oneCourseInstance.Amendment`.`amend_type`, `w.One2oneCourseInstance.Amendment`.`begin_date`, `w.One2oneCourseInstance.Amendment`.`begin_time`, `w.One2oneCourseInstance.Amendment`.`course_instance_id`, `w.One2oneCourseInstance.Amendment`.`course_schedule_id`, `w.One2oneCourseInstance.Amendment`.`created_at`, `w.One2oneCourseInstance.Amendment`.`day_of_week`, `w.One2oneCourseInstance.Amendment`.`end_date`, `w.One2oneCourseInstance.Amendment`.`end_time`, `w.One2oneCourseInstance.Amendment`.`is_temporary`, `w.One2oneCourseInstance.Amendment`.`learner_id`, `w.One2oneCourseInstance.Amendment`.`org_id`, `w.One2oneCourseInstance.Amendment`.`reason`, `w.One2oneCourseInstance.Amendment`.`room_id`, `w.One2oneCourseInstance.Amendment`.`teacher_id`, `a.Teacher`.`teacher_id`, `a.Teacher`.`ability`, `a.Teacher`.`comment`, `a.Teacher`.`cv_url`, `a.Teacher`.`dob`, `a.Teacher`.`email`, `a.Teacher`.`expiry_date`, `a.Teacher`.`first_name`, `a.Teacher`.`form_url`, `a.Teacher`.`gender`, `a.Teacher`.`home_phone`, `a.Teacher`.`id_number`, `a.Teacher`.`id_photo`, `a.Teacher`.`id_type`, `a.Teacher`.`invoice_template`, `a.Teacher`.`ird_number`, `a.Teacher`.`is_activate`, `a.Teacher`.`is_contract`, `a.Teacher`.`is_left`, `a.Teacher`.`last_name`, `a.Teacher`.`level`, `a.Teacher`.`minimum_hours`, `a.Teacher`.`mobile_phone`, `a.Teacher`.`otherfile_url`, `a.Teacher`.`photo`, `a.Teacher`.`user_id`, `a.Teacher`.`visa`, `a.Room`.`room_id`, `a.Room`.`created_at`, `a.Room`.`is_activate`, `a.Room`.`org_id`, `a.Room`.`room_name`
FROM `ablemusic`.`amendment` AS `w.One2oneCourseInstance.Amendment`
LEFT JOIN `ablemusic`.`teacher` AS `a.Teacher` ON `w.One2oneCourseInstance.Amendment`.`teacher_id` = `a.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `a.Room` ON `w.One2oneCourseInstance.Amendment`.`room_id` = `a.Room`.`room_id`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance0`.`course_instance_id`, `t2`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance0`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher0` ON `w.One2oneCourseInstance0`.`teacher_id` = `o.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room0` ON `w.One2oneCourseInstance0`.`room_id` = `o.Room0`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course0` ON `w.One2oneCourseInstance0`.`course_id` = `o.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org0` ON `w.One2oneCourseInstance0`.`org_id` = `o.Org0`.`org_id`
    INNER JOIN (
        SELECT `w3`.`learner_id`
        FROM `ablemusic`.`learner` AS `w3`
        WHERE `w3`.`is_active` = 1
    ) AS `t2` ON `w.One2oneCourseInstance0`.`learner_id` = `t2`.`learner_id`
) AS `t3` ON `w.One2oneCourseInstance.Amendment`.`course_instance_id` = `t3`.`course_instance_id`
ORDER BY `t3`.`learner_id`, `t3`.`course_instance_id`
2019-07-18 13:23:38.936 +12:00 [INF] Executed DbCommand (66ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.CourseSchedule`.`course_schedule_id`, `w.One2oneCourseInstance.CourseSchedule`.`begin_time`, `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id`, `w.One2oneCourseInstance.CourseSchedule`.`day_of_week`, `w.One2oneCourseInstance.CourseSchedule`.`end_time`, `w.One2oneCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `w.One2oneCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance1`.`course_instance_id`, `t4`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance1`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher1` ON `w.One2oneCourseInstance1`.`teacher_id` = `o.Teacher1`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room1` ON `w.One2oneCourseInstance1`.`room_id` = `o.Room1`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course1` ON `w.One2oneCourseInstance1`.`course_id` = `o.Course1`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org1` ON `w.One2oneCourseInstance1`.`org_id` = `o.Org1`.`org_id`
    INNER JOIN (
        SELECT `w4`.`learner_id`
        FROM `ablemusic`.`learner` AS `w4`
        WHERE `w4`.`is_active` = 1
    ) AS `t4` ON `w.One2oneCourseInstance1`.`learner_id` = `t4`.`learner_id`
) AS `t5` ON `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id` = `t5`.`course_instance_id`
ORDER BY `t5`.`learner_id`, `t5`.`course_instance_id`
2019-07-18 13:23:39.040 +12:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerGroupCourse`.`learner_group_course_id`, `w.LearnerGroupCourse`.`begin_date`, `w.LearnerGroupCourse`.`comment`, `w.LearnerGroupCourse`.`created_at`, `w.LearnerGroupCourse`.`end_date`, `w.LearnerGroupCourse`.`group_course_instance_id`, `w.LearnerGroupCourse`.`invoice_date`, `w.LearnerGroupCourse`.`is_activate`, `w.LearnerGroupCourse`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`, `l.GroupCourseInstance`.`begin_date`, `l.GroupCourseInstance`.`course_id`, `l.GroupCourseInstance`.`end_date`, `l.GroupCourseInstance`.`invoice_date`, `l.GroupCourseInstance`.`is_activate`, `l.GroupCourseInstance`.`is_started`, `l.GroupCourseInstance`.`org_id`, `l.GroupCourseInstance`.`room_id`, `l.GroupCourseInstance`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`ability`, `l.GroupCourseInstance.Teacher`.`comment`, `l.GroupCourseInstance.Teacher`.`cv_url`, `l.GroupCourseInstance.Teacher`.`dob`, `l.GroupCourseInstance.Teacher`.`email`, `l.GroupCourseInstance.Teacher`.`expiry_date`, `l.GroupCourseInstance.Teacher`.`first_name`, `l.GroupCourseInstance.Teacher`.`form_url`, `l.GroupCourseInstance.Teacher`.`gender`, `l.GroupCourseInstance.Teacher`.`home_phone`, `l.GroupCourseInstance.Teacher`.`id_number`, `l.GroupCourseInstance.Teacher`.`id_photo`, `l.GroupCourseInstance.Teacher`.`id_type`, `l.GroupCourseInstance.Teacher`.`invoice_template`, `l.GroupCourseInstance.Teacher`.`ird_number`, `l.GroupCourseInstance.Teacher`.`is_activate`, `l.GroupCourseInstance.Teacher`.`is_contract`, `l.GroupCourseInstance.Teacher`.`is_left`, `l.GroupCourseInstance.Teacher`.`last_name`, `l.GroupCourseInstance.Teacher`.`level`, `l.GroupCourseInstance.Teacher`.`minimum_hours`, `l.GroupCourseInstance.Teacher`.`mobile_phone`, `l.GroupCourseInstance.Teacher`.`otherfile_url`, `l.GroupCourseInstance.Teacher`.`photo`, `l.GroupCourseInstance.Teacher`.`user_id`, `l.GroupCourseInstance.Teacher`.`visa`, `l.GroupCourseInstance.Course`.`course_id`, `l.GroupCourseInstance.Course`.`course_category_id`, `l.GroupCourseInstance.Course`.`course_name`, `l.GroupCourseInstance.Course`.`course_type`, `l.GroupCourseInstance.Course`.`duration`, `l.GroupCourseInstance.Course`.`level`, `l.GroupCourseInstance.Course`.`price`, `l.GroupCourseInstance.Course`.`teacher_level`, `l.GroupCourseInstance.Room`.`room_id`, `l.GroupCourseInstance.Room`.`created_at`, `l.GroupCourseInstance.Room`.`is_activate`, `l.GroupCourseInstance.Room`.`org_id`, `l.GroupCourseInstance.Room`.`room_name`
FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse`
LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance` ON `w.LearnerGroupCourse`.`group_course_instance_id` = `l.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher` ON `l.GroupCourseInstance`.`teacher_id` = `l.GroupCourseInstance.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course` ON `l.GroupCourseInstance`.`course_id` = `l.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room` ON `l.GroupCourseInstance`.`room_id` = `l.GroupCourseInstance.Room`.`room_id`
INNER JOIN (
    SELECT `w5`.`learner_id`
    FROM `ablemusic`.`learner` AS `w5`
    WHERE `w5`.`is_active` = 1
) AS `t6` ON `w.LearnerGroupCourse`.`learner_id` = `t6`.`learner_id`
ORDER BY `t6`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`
2019-07-18 13:23:39.117 +12:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l.GroupCourseInstance.CourseSchedule`.`course_schedule_id`, `l.GroupCourseInstance.CourseSchedule`.`begin_time`, `l.GroupCourseInstance.CourseSchedule`.`course_instance_id`, `l.GroupCourseInstance.CourseSchedule`.`day_of_week`, `l.GroupCourseInstance.CourseSchedule`.`end_time`, `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `l.GroupCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `l.GroupCourseInstance0`.`group_course_instance_id`, `t7`.`learner_id`
    FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse0`
    LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance0` ON `w.LearnerGroupCourse0`.`group_course_instance_id` = `l.GroupCourseInstance0`.`group_course_instance_id`
    LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher0` ON `l.GroupCourseInstance0`.`teacher_id` = `l.GroupCourseInstance.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course0` ON `l.GroupCourseInstance0`.`course_id` = `l.GroupCourseInstance.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room0` ON `l.GroupCourseInstance0`.`room_id` = `l.GroupCourseInstance.Room0`.`room_id`
    INNER JOIN (
        SELECT `w6`.`learner_id`
        FROM `ablemusic`.`learner` AS `w6`
        WHERE `w6`.`is_active` = 1
    ) AS `t7` ON `w.LearnerGroupCourse0`.`learner_id` = `t7`.`learner_id`
) AS `t8` ON `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id` = `t8`.`group_course_instance_id`
ORDER BY `t8`.`learner_id`, `t8`.`group_course_instance_id`
2019-07-18 13:23:39.186 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 851.6186ms.
2019-07-18 13:23:39.187 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:23:39.196 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) in 862.082ms
2019-07-18 13:23:39.196 +12:00 [INF] Request finished in 863.5646ms 200 application/json; charset=utf-8
2019-07-18 13:23:40.412 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/GroupCourseInstance  
2019-07-18 13:23:40.412 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/1  
2019-07-18 13:23:40.412 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/2  
2019-07-18 13:23:40.412 +12:00 [INF] Policy execution successful.
2019-07-18 13:23:40.412 +12:00 [INF] Policy execution successful.
2019-07-18 13:23:40.412 +12:00 [INF] Policy execution successful.
2019-07-18 13:23:40.413 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 13:23:40.413 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 13:23:40.414 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:23:40.414 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:23:40.414 +12:00 [INF] Route matched with {action = "GetGroupCourseInstance", controller = "GroupCourseInstance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGroupCourseInstance() on controller Pegasus_backend.Controllers.GroupCourseInstanceController (Pegasus_backend).
2019-07-18 13:23:40.414 +12:00 [INF] Executing action method Pegasus_backend.Controllers.GroupCourseInstanceController.GetGroupCourseInstance (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:23:40.415 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:23:40.415 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:23:40.415 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:23:40.416 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/3  
2019-07-18 13:23:40.416 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/4  
2019-07-18 13:23:40.417 +12:00 [INF] Policy execution successful.
2019-07-18 13:23:40.416 +12:00 [INF] Policy execution successful.
2019-07-18 13:23:40.417 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/5  
2019-07-18 13:23:40.417 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 13:23:40.417 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 13:23:40.417 +12:00 [INF] Policy execution successful.
2019-07-18 13:23:40.417 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:23:40.417 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:23:40.418 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 13:23:40.418 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:23:40.418 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:23:40.418 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:23:40.418 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:23:40.587 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 13:23:40.588 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 173.75750000000002ms.
2019-07-18 13:23:40.588 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:23:40.588 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 174.96810000000002ms
2019-07-18 13:23:40.588 +12:00 [INF] Request finished in 175.8315ms 200 application/json; charset=utf-8
2019-07-18 13:23:40.589 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/orgs  
2019-07-18 13:23:40.590 +12:00 [INF] Policy execution successful.
2019-07-18 13:23:40.590 +12:00 [INF] Route matched with {action = "GetOrg", controller = "Orgs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrg() on controller Pegasus_backend.Controllers.OrgsController (Pegasus_backend).
2019-07-18 13:23:40.590 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 13:23:40.590 +12:00 [INF] Executing action method Pegasus_backend.Controllers.OrgsController.GetOrg (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:23:40.591 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:23:40.591 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 173.79430000000002ms.
2019-07-18 13:23:40.591 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:23:40.592 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 174.8441ms
2019-07-18 13:23:40.592 +12:00 [INF] Request finished in 175.9363ms 200 application/json; charset=utf-8
2019-07-18 13:23:40.592 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 13:23:40.593 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 174.5093ms.
2019-07-18 13:23:40.593 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:23:40.593 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 175.3077ms
2019-07-18 13:23:40.593 +12:00 [INF] Request finished in 176.5175ms 200 application/json; charset=utf-8
2019-07-18 13:23:40.594 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/courses  
2019-07-18 13:23:40.594 +12:00 [INF] Policy execution successful.
2019-07-18 13:23:40.594 +12:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Pegasus_backend.pegasusContext.Course]]] GetCourses() on controller Pegasus_backend.Controllers.CoursesController (Pegasus_backend).
2019-07-18 13:23:40.595 +12:00 [INF] Executing action method Pegasus_backend.Controllers.CoursesController.GetCourses (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:23:40.596 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 13:23:40.597 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 182.9273ms.
2019-07-18 13:23:40.597 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:23:40.597 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:23:40.597 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 184.19650000000001ms
2019-07-18 13:23:40.597 +12:00 [INF] Request finished in 185.4199ms 200 application/json; charset=utf-8
2019-07-18 13:23:40.610 +12:00 [INF] Executed DbCommand (72ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c.Course.CourseCategory`.`course_category_id`, `c.Course.CourseCategory`.`course_category_name`, `c`.`course_id` AS `CourseId`, `c`.`group_course_instance_id` AS `GroupCourseInstanceId`, `c`.`begin_date` AS `BeginDate`, `c`.`end_date` AS `EndDate`, `c.Course`.`course_name` AS `CourseName`, `c.Course`.`course_type` AS `CourseType`, `c.Course`.`level`, `c.Course`.`duration`, `c.Course`.`price`, `c`.`org_id` AS `OrgId`, `c.Org`.`org_name` AS `OrgName`, `c`.`room_id` AS `RoomId`, `c.Room`.`room_name` AS `RoomName`, `c`.`teacher_id` AS `TeacherId`, `c.Teacher`.`first_name` AS `FirstName`, `c.Teacher`.`last_name` AS `LastName`
FROM `ablemusic`.`group_course_instance` AS `c`
LEFT JOIN `ablemusic`.`teacher` AS `c.Teacher` ON `c`.`teacher_id` = `c.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `c.Room` ON `c`.`room_id` = `c.Room`.`room_id`
LEFT JOIN `ablemusic`.`org` AS `c.Org` ON `c`.`org_id` = `c.Org`.`org_id`
INNER JOIN `ablemusic`.`course` AS `c.Course` ON `c`.`course_id` = `c.Course`.`course_id`
LEFT JOIN `ablemusic`.`course_category` AS `c.Course.CourseCategory` ON `c.Course`.`course_category_id` = `c.Course.CourseCategory`.`course_category_id`
WHERE `c`.`is_activate` = 1
ORDER BY `c`.`group_course_instance_id`
2019-07-18 13:23:40.612 +12:00 [INF] Executed DbCommand (74ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 13:23:40.613 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 195.3098ms.
2019-07-18 13:23:40.613 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:23:40.613 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 196.2673ms
2019-07-18 13:23:40.613 +12:00 [INF] Request finished in 197.2376ms 200 application/json; charset=utf-8
2019-07-18 13:23:40.673 +12:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c.CourseSchedule`.`course_schedule_id`, `c.CourseSchedule`.`begin_time`, `c.CourseSchedule`.`course_instance_id`, `c.CourseSchedule`.`day_of_week`, `c.CourseSchedule`.`end_time`, `c.CourseSchedule`.`group_course_instance_id`, `t`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `c.CourseSchedule`
INNER JOIN (
    SELECT `c0`.`group_course_instance_id`
    FROM `ablemusic`.`group_course_instance` AS `c0`
    LEFT JOIN `ablemusic`.`teacher` AS `c.Teacher0` ON `c0`.`teacher_id` = `c.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `c.Room0` ON `c0`.`room_id` = `c.Room0`.`room_id`
    LEFT JOIN `ablemusic`.`org` AS `c.Org0` ON `c0`.`org_id` = `c.Org0`.`org_id`
    INNER JOIN `ablemusic`.`course` AS `c.Course0` ON `c0`.`course_id` = `c.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`course_category` AS `c.Course.CourseCategory0` ON `c.Course0`.`course_category_id` = `c.Course.CourseCategory0`.`course_category_id`
    WHERE `c0`.`is_activate` = 1
) AS `t` ON `c.CourseSchedule`.`group_course_instance_id` = `t`.`group_course_instance_id`
ORDER BY `t`.`group_course_instance_id`
2019-07-18 13:23:40.675 +12:00 [INF] Executed action method Pegasus_backend.Controllers.GroupCourseInstanceController.GetGroupCourseInstance (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 259.9814ms.
2019-07-18 13:23:40.675 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:23:40.675 +12:00 [INF] Executed action Pegasus_backend.Controllers.GroupCourseInstanceController.GetGroupCourseInstance (Pegasus_backend) in 261.248ms
2019-07-18 13:23:40.676 +12:00 [INF] Request finished in 263.6646ms 200 application/json; charset=utf-8
2019-07-18 13:23:40.764 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`org_id`, `o`.`abbr`, `o`.`address`, `o`.`email`, `o`.`is_activate`, `o`.`is_headoffice`, `o`.`localtion_x`, `o`.`localtion_y`, `o`.`org_name`, `o`.`phone`
FROM `ablemusic`.`org` AS `o`
2019-07-18 13:23:40.764 +12:00 [INF] Executed action method Pegasus_backend.Controllers.OrgsController.GetOrg (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 173.8623ms.
2019-07-18 13:23:40.765 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Org, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:23:40.765 +12:00 [INF] Executed action Pegasus_backend.Controllers.OrgsController.GetOrg (Pegasus_backend) in 174.7855ms
2019-07-18 13:23:40.765 +12:00 [INF] Request finished in 175.6237ms 200 application/json; charset=utf-8
2019-07-18 13:23:40.770 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`course_id` AS `CourseId`, `c`.`course_name` AS `CourseName`, `c`.`course_type` AS `CourseType`, `c`.`level`, `c`.`duration`, `c`.`price`, `c`.`course_category_id` AS `CourseCategoryId0`, `c`.`teacher_level` AS `TeacherLevel`, `cc`.`course_category_id` AS `CourseCategoryId`, `cc`.`course_category_name` AS `CourseCategoryName`
FROM `ablemusic`.`course` AS `c`
INNER JOIN `ablemusic`.`course_category` AS `cc` ON `c`.`course_category_id` = `cc`.`course_category_id`
2019-07-18 13:23:40.970 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`prop_name` AS `PropName`, `l`.`prop_value` AS `PropValue`, `l`.`lookup_type` AS `LookupType`
FROM `ablemusic`.`lookup` AS `l`
WHERE (((`l`.`lookup_type` = 1) OR (`l`.`lookup_type` = 4)) OR (`l`.`lookup_type` = 6)) OR (`l`.`lookup_type` = 8)
2019-07-18 13:23:40.971 +12:00 [INF] Executed action method Pegasus_backend.Controllers.CoursesController.GetCourses (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 376.3243ms.
2019-07-18 13:23:40.971 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:23:40.974 +12:00 [INF] Executed action Pegasus_backend.Controllers.CoursesController.GetCourses (Pegasus_backend) in 379.7369ms
2019-07-18 13:23:40.974 +12:00 [INF] Request finished in 380.6199ms 200 application/json; charset=utf-8
2019-07-18 13:23:44.949 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/TeacherFilter/2  
2019-07-18 13:23:44.949 +12:00 [INF] Policy execution successful.
2019-07-18 13:23:44.950 +12:00 [INF] Route matched with {action = "Get", controller = "TeacherFilter"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Pegasus_backend.Controllers.TeacherFilterController (Pegasus_backend).
2019-07-18 13:23:44.950 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TeacherFilterController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:23:44.951 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:23:45.128 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`org_id` AS `OrgId`, `o`.`org_name` AS `OrgName`
FROM `ablemusic`.`org` AS `o`
2019-07-18 13:23:45.291 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `r`.`room_id` AS `RoomId`, `r`.`room_name` AS `RoomName`, `r`.`org_id` AS `OrgId`
FROM `ablemusic`.`room` AS `r`
2019-07-18 13:23:45.468 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`prop_value` AS `PropValue`, `l`.`prop_name` AS `PropName`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = 1
2019-07-18 13:23:45.652 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`teacher_id` AS `TeacherId`, `t`.`first_name` AS `TeacherFirstName`, `t`.`last_name` AS `TeacherLastName`, `ta`.`org_id` AS `TeacherAvailableOrgId`, `t`.`level` AS `TeacherLevelId`
FROM `ablemusic`.`teacher` AS `t`
INNER JOIN `ablemusic`.`available_days` AS `ta` ON `t`.`teacher_id` = `ta`.`teacher_id`
INNER JOIN `ablemusic`.`teacher_course` AS `tc` ON `t`.`teacher_id` = `tc`.`teacher_id`
WHERE (`tc`.`course_id` = @__courseId_0) AND (`t`.`is_activate` = 1)
ORDER BY `t`.`teacher_id`, `ta`.`org_id`
2019-07-18 13:23:45.653 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TeacherFilterController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 702.3538ms.
2019-07-18 13:23:45.653 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:23:45.653 +12:00 [INF] Executed action Pegasus_backend.Controllers.TeacherFilterController.Get (Pegasus_backend) in 703.2531ms
2019-07-18 13:23:45.653 +12:00 [INF] Request finished in 704.0404ms 200 application/json; charset=utf-8
2019-07-18 13:24:22.107 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/TeacherAvailableCheck/267/2019-07-18  
2019-07-18 13:24:22.107 +12:00 [INF] Policy execution successful.
2019-07-18 13:24:22.115 +12:00 [INF] Route matched with {action = "Get", controller = "TeacherAvailableCheck"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32, System.String) on controller Pegasus_backend.Controllers.TeacherAvailableCheckController (Pegasus_backend).
2019-07-18 13:24:22.116 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TeacherAvailableCheckController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:24:22.159 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:24:22.363 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`teacher_id`, `t`.`ability`, `t`.`comment`, `t`.`cv_url`, `t`.`dob`, `t`.`email`, `t`.`expiry_date`, `t`.`first_name`, `t`.`form_url`, `t`.`gender`, `t`.`home_phone`, `t`.`id_number`, `t`.`id_photo`, `t`.`id_type`, `t`.`invoice_template`, `t`.`ird_number`, `t`.`is_activate`, `t`.`is_contract`, `t`.`is_left`, `t`.`last_name`, `t`.`level`, `t`.`minimum_hours`, `t`.`mobile_phone`, `t`.`otherfile_url`, `t`.`photo`, `t`.`user_id`, `t`.`visa`
FROM `ablemusic`.`teacher` AS `t`
WHERE `t`.`teacher_id` = @__teacherId_0
LIMIT 1
2019-07-18 13:24:22.564 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `ad`.`teacher_id` AS `TeacherId`, `ad`.`available_days_id` AS `AvailableDaysId`, `ad`.`day_of_week` AS `DayOfWeek`, `ad`.`created_at` AS `CreatedAt`, `ad`.`org_id` AS `OrgId0`, `o`.`org_id` AS `OrgId`, `o`.`org_name` AS `OrgName`
FROM `ablemusic`.`available_days` AS `ad`
INNER JOIN `ablemusic`.`org` AS `o` ON `ad`.`org_id` = `o`.`org_id`
WHERE `ad`.`teacher_id` = @__teacherId_0
2019-07-18 13:24:22.776 +12:00 [INF] Executed DbCommand (61ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__beginDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `cs`.`course_schedule_id` AS `CourseScheduleId`, `cs`.`day_of_week` AS `DayOfWeek`, `cs`.`course_instance_id` AS `CourseInstanceId`, `cs`.`group_course_instance_id` AS `GroupCourseInstanceId`, `cs`.`begin_time` AS `BeginTime`, `cs`.`end_time` AS `EndTime`, `l`.`learner_id` AS `LearnerId`, `l`.`first_name` AS `LearnerFirstName`, `l`.`last_name` AS `LearnerLastName`, `oto`.`org_id` AS `OrgId`, `o`.`org_name` AS `OrgName`
FROM `ablemusic`.`learner` AS `l`
INNER JOIN `ablemusic`.`one2one_course_instance` AS `oto` ON `l`.`learner_id` = `oto`.`learner_id`
INNER JOIN `ablemusic`.`course_schedule` AS `cs` ON `oto`.`course_instance_id` = `cs`.`course_instance_id`
INNER JOIN `ablemusic`.`org` AS `o` ON `oto`.`org_id` = `o`.`org_id`
WHERE (`oto`.`teacher_id` = @__teacherId_0) AND (@__beginDate_1 < `oto`.`end_date`)
2019-07-18 13:24:22.987 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__beginDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `cs`.`course_schedule_id` AS `CourseScheduleId`, `cs`.`day_of_week` AS `DayOfWeek`, `cs`.`course_instance_id` AS `CourseInstanceId`, `cs`.`group_course_instance_id` AS `GroupCourseInstanceId`, `cs`.`begin_time` AS `BeginTime`, `cs`.`end_time` AS `EndTime`, `g`.`org_id` AS `OrgId`, `o`.`org_name` AS `OrgName`
FROM `ablemusic`.`group_course_instance` AS `g`
INNER JOIN `ablemusic`.`course_schedule` AS `cs` ON `g`.`group_course_instance_id` = `cs`.`group_course_instance_id`
INNER JOIN `ablemusic`.`org` AS `o` ON `g`.`org_id` = `o`.`org_id`
WHERE (`g`.`teacher_id` = @__teacherId_0) AND (@__beginDate_1 < `g`.`end_date`)
2019-07-18 13:24:23.229 +12:00 [INF] Executed DbCommand (70ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a.Learner`.`learner_id`, `a.Learner`.`address`, `a.Learner`.`comment`, `a.Learner`.`contact_num`, `a.Learner`.`created_at`, `a.Learner`.`dob`, `a.Learner`.`email`, `a.Learner`.`enroll_date`, `a.Learner`.`first_name`, `a.Learner`.`form_url`, `a.Learner`.`g5_certification`, `a.Learner`.`gender`, `a.Learner`.`is_abrsm_g5`, `a.Learner`.`is_active`, `a.Learner`.`is_under_18`, `a.Learner`.`last_name`, `a.Learner`.`learner_level`, `a.Learner`.`level_type`, `a.Learner`.`middle_name`, `a.Learner`.`note`, `a.Learner`.`org_id`, `a.Learner`.`otherfile_url`, `a.Learner`.`payment_period`, `a.Learner`.`photo`, `a.Learner`.`referrer`, `a.Learner`.`referrer_learner_id`, `a.Learner`.`user_id`, `a`.`course_instance_id` AS `CourseInstanceId`, `a`.`amendment_id` AS `AmendmentId`, `a`.`org_id` AS `OrgId`, `a`.`day_of_week` AS `DayOfWeek`, `a`.`begin_time` AS `BeginTime`, `a`.`end_time` AS `EndTime`, `a`.`learner_id` AS `LearnerId`, `a`.`room_id` AS `RoomId`, `a`.`begin_date` AS `BeginDate`, `a`.`end_date` AS `EndDate`, `a`.`created_at` AS `CreatedAt`, `a`.`reason`, `a`.`is_temporary` AS `IsTemporary`, `a`.`amend_type` AS `AmendType`, `a`.`course_schedule_id` AS `CourseScheduleId`
FROM `ablemusic`.`one2one_course_instance` AS `oto`
INNER JOIN `ablemusic`.`amendment` AS `a` ON `oto`.`course_instance_id` = `a`.`course_instance_id`
LEFT JOIN `ablemusic`.`learner` AS `a.Learner` ON `a`.`learner_id` = `a.Learner`.`learner_id`
INNER JOIN `ablemusic`.`learner` AS `l` ON `a`.`learner_id` = `l`.`learner_id`
WHERE `oto`.`teacher_id` = @__teacherId_0
2019-07-18 13:24:23.262 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TeacherAvailableCheckController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1145.7488ms.
2019-07-18 13:24:23.263 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:24:23.269 +12:00 [INF] Executed action Pegasus_backend.Controllers.TeacherAvailableCheckController.Get (Pegasus_backend) in 1153.7075ms
2019-07-18 13:24:23.275 +12:00 [INF] Request finished in 1164.2974ms 200 application/json; charset=utf-8
2019-07-18 13:25:34.701 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/TeacherAvailableCheck/267/2019-07-18  
2019-07-18 13:25:34.701 +12:00 [INF] Policy execution successful.
2019-07-18 13:25:34.701 +12:00 [INF] Route matched with {action = "Get", controller = "TeacherAvailableCheck"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32, System.String) on controller Pegasus_backend.Controllers.TeacherAvailableCheckController (Pegasus_backend).
2019-07-18 13:25:34.702 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TeacherAvailableCheckController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:25:34.703 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:25:34.914 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`teacher_id`, `t`.`ability`, `t`.`comment`, `t`.`cv_url`, `t`.`dob`, `t`.`email`, `t`.`expiry_date`, `t`.`first_name`, `t`.`form_url`, `t`.`gender`, `t`.`home_phone`, `t`.`id_number`, `t`.`id_photo`, `t`.`id_type`, `t`.`invoice_template`, `t`.`ird_number`, `t`.`is_activate`, `t`.`is_contract`, `t`.`is_left`, `t`.`last_name`, `t`.`level`, `t`.`minimum_hours`, `t`.`mobile_phone`, `t`.`otherfile_url`, `t`.`photo`, `t`.`user_id`, `t`.`visa`
FROM `ablemusic`.`teacher` AS `t`
WHERE `t`.`teacher_id` = @__teacherId_0
LIMIT 1
2019-07-18 13:25:35.099 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `ad`.`teacher_id` AS `TeacherId`, `ad`.`available_days_id` AS `AvailableDaysId`, `ad`.`day_of_week` AS `DayOfWeek`, `ad`.`created_at` AS `CreatedAt`, `ad`.`org_id` AS `OrgId0`, `o`.`org_id` AS `OrgId`, `o`.`org_name` AS `OrgName`
FROM `ablemusic`.`available_days` AS `ad`
INNER JOIN `ablemusic`.`org` AS `o` ON `ad`.`org_id` = `o`.`org_id`
WHERE `ad`.`teacher_id` = @__teacherId_0
2019-07-18 13:25:35.274 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__beginDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `cs`.`course_schedule_id` AS `CourseScheduleId`, `cs`.`day_of_week` AS `DayOfWeek`, `cs`.`course_instance_id` AS `CourseInstanceId`, `cs`.`group_course_instance_id` AS `GroupCourseInstanceId`, `cs`.`begin_time` AS `BeginTime`, `cs`.`end_time` AS `EndTime`, `l`.`learner_id` AS `LearnerId`, `l`.`first_name` AS `LearnerFirstName`, `l`.`last_name` AS `LearnerLastName`, `oto`.`org_id` AS `OrgId`, `o`.`org_name` AS `OrgName`
FROM `ablemusic`.`learner` AS `l`
INNER JOIN `ablemusic`.`one2one_course_instance` AS `oto` ON `l`.`learner_id` = `oto`.`learner_id`
INNER JOIN `ablemusic`.`course_schedule` AS `cs` ON `oto`.`course_instance_id` = `cs`.`course_instance_id`
INNER JOIN `ablemusic`.`org` AS `o` ON `oto`.`org_id` = `o`.`org_id`
WHERE (`oto`.`teacher_id` = @__teacherId_0) AND (@__beginDate_1 < `oto`.`end_date`)
2019-07-18 13:25:35.459 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__beginDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `cs`.`course_schedule_id` AS `CourseScheduleId`, `cs`.`day_of_week` AS `DayOfWeek`, `cs`.`course_instance_id` AS `CourseInstanceId`, `cs`.`group_course_instance_id` AS `GroupCourseInstanceId`, `cs`.`begin_time` AS `BeginTime`, `cs`.`end_time` AS `EndTime`, `g`.`org_id` AS `OrgId`, `o`.`org_name` AS `OrgName`
FROM `ablemusic`.`group_course_instance` AS `g`
INNER JOIN `ablemusic`.`course_schedule` AS `cs` ON `g`.`group_course_instance_id` = `cs`.`group_course_instance_id`
INNER JOIN `ablemusic`.`org` AS `o` ON `g`.`org_id` = `o`.`org_id`
WHERE (`g`.`teacher_id` = @__teacherId_0) AND (@__beginDate_1 < `g`.`end_date`)
2019-07-18 13:25:35.650 +12:00 [INF] Executed DbCommand (68ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a.Learner`.`learner_id`, `a.Learner`.`address`, `a.Learner`.`comment`, `a.Learner`.`contact_num`, `a.Learner`.`created_at`, `a.Learner`.`dob`, `a.Learner`.`email`, `a.Learner`.`enroll_date`, `a.Learner`.`first_name`, `a.Learner`.`form_url`, `a.Learner`.`g5_certification`, `a.Learner`.`gender`, `a.Learner`.`is_abrsm_g5`, `a.Learner`.`is_active`, `a.Learner`.`is_under_18`, `a.Learner`.`last_name`, `a.Learner`.`learner_level`, `a.Learner`.`level_type`, `a.Learner`.`middle_name`, `a.Learner`.`note`, `a.Learner`.`org_id`, `a.Learner`.`otherfile_url`, `a.Learner`.`payment_period`, `a.Learner`.`photo`, `a.Learner`.`referrer`, `a.Learner`.`referrer_learner_id`, `a.Learner`.`user_id`, `a`.`course_instance_id` AS `CourseInstanceId`, `a`.`amendment_id` AS `AmendmentId`, `a`.`org_id` AS `OrgId`, `a`.`day_of_week` AS `DayOfWeek`, `a`.`begin_time` AS `BeginTime`, `a`.`end_time` AS `EndTime`, `a`.`learner_id` AS `LearnerId`, `a`.`room_id` AS `RoomId`, `a`.`begin_date` AS `BeginDate`, `a`.`end_date` AS `EndDate`, `a`.`created_at` AS `CreatedAt`, `a`.`reason`, `a`.`is_temporary` AS `IsTemporary`, `a`.`amend_type` AS `AmendType`, `a`.`course_schedule_id` AS `CourseScheduleId`
FROM `ablemusic`.`one2one_course_instance` AS `oto`
INNER JOIN `ablemusic`.`amendment` AS `a` ON `oto`.`course_instance_id` = `a`.`course_instance_id`
LEFT JOIN `ablemusic`.`learner` AS `a.Learner` ON `a`.`learner_id` = `a.Learner`.`learner_id`
INNER JOIN `ablemusic`.`learner` AS `l` ON `a`.`learner_id` = `l`.`learner_id`
WHERE `oto`.`teacher_id` = @__teacherId_0
2019-07-18 13:25:35.650 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TeacherAvailableCheckController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 947.92050000000006ms.
2019-07-18 13:25:35.650 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:25:35.650 +12:00 [INF] Executed action Pegasus_backend.Controllers.TeacherAvailableCheckController.Get (Pegasus_backend) in 948.8387ms
2019-07-18 13:25:35.651 +12:00 [INF] Request finished in 949.5601ms 200 application/json; charset=utf-8
2019-07-18 13:25:53.328 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/TeacherFilter/1  
2019-07-18 13:25:53.328 +12:00 [INF] Policy execution successful.
2019-07-18 13:25:53.328 +12:00 [INF] Route matched with {action = "Get", controller = "TeacherFilter"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Pegasus_backend.Controllers.TeacherFilterController (Pegasus_backend).
2019-07-18 13:25:53.329 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TeacherFilterController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:25:53.330 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:25:53.535 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`org_id` AS `OrgId`, `o`.`org_name` AS `OrgName`
FROM `ablemusic`.`org` AS `o`
2019-07-18 13:25:53.710 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `r`.`room_id` AS `RoomId`, `r`.`room_name` AS `RoomName`, `r`.`org_id` AS `OrgId`
FROM `ablemusic`.`room` AS `r`
2019-07-18 13:25:53.892 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`prop_value` AS `PropValue`, `l`.`prop_name` AS `PropName`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = 1
2019-07-18 13:25:54.072 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`teacher_id` AS `TeacherId`, `t`.`first_name` AS `TeacherFirstName`, `t`.`last_name` AS `TeacherLastName`, `ta`.`org_id` AS `TeacherAvailableOrgId`, `t`.`level` AS `TeacherLevelId`
FROM `ablemusic`.`teacher` AS `t`
INNER JOIN `ablemusic`.`available_days` AS `ta` ON `t`.`teacher_id` = `ta`.`teacher_id`
INNER JOIN `ablemusic`.`teacher_course` AS `tc` ON `t`.`teacher_id` = `tc`.`teacher_id`
WHERE (`tc`.`course_id` = @__courseId_0) AND (`t`.`is_activate` = 1)
ORDER BY `t`.`teacher_id`, `ta`.`org_id`
2019-07-18 13:25:54.072 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TeacherFilterController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 743.4623ms.
2019-07-18 13:25:54.073 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:25:54.073 +12:00 [INF] Executed action Pegasus_backend.Controllers.TeacherFilterController.Get (Pegasus_backend) in 744.4198ms
2019-07-18 13:25:54.073 +12:00 [INF] Request finished in 745.0355ms 200 application/json; charset=utf-8
2019-07-18 13:26:35.893 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/TeacherFilter/2  
2019-07-18 13:26:35.894 +12:00 [INF] Policy execution successful.
2019-07-18 13:26:35.894 +12:00 [INF] Route matched with {action = "Get", controller = "TeacherFilter"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Pegasus_backend.Controllers.TeacherFilterController (Pegasus_backend).
2019-07-18 13:26:35.894 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TeacherFilterController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:26:35.895 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:26:36.067 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`org_id` AS `OrgId`, `o`.`org_name` AS `OrgName`
FROM `ablemusic`.`org` AS `o`
2019-07-18 13:26:36.244 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `r`.`room_id` AS `RoomId`, `r`.`room_name` AS `RoomName`, `r`.`org_id` AS `OrgId`
FROM `ablemusic`.`room` AS `r`
2019-07-18 13:26:36.423 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`prop_value` AS `PropValue`, `l`.`prop_name` AS `PropName`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = 1
2019-07-18 13:26:36.603 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`teacher_id` AS `TeacherId`, `t`.`first_name` AS `TeacherFirstName`, `t`.`last_name` AS `TeacherLastName`, `ta`.`org_id` AS `TeacherAvailableOrgId`, `t`.`level` AS `TeacherLevelId`
FROM `ablemusic`.`teacher` AS `t`
INNER JOIN `ablemusic`.`available_days` AS `ta` ON `t`.`teacher_id` = `ta`.`teacher_id`
INNER JOIN `ablemusic`.`teacher_course` AS `tc` ON `t`.`teacher_id` = `tc`.`teacher_id`
WHERE (`tc`.`course_id` = @__courseId_0) AND (`t`.`is_activate` = 1)
ORDER BY `t`.`teacher_id`, `ta`.`org_id`
2019-07-18 13:26:36.604 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TeacherFilterController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 709.6907ms.
2019-07-18 13:26:36.605 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:26:36.605 +12:00 [INF] Executed action Pegasus_backend.Controllers.TeacherFilterController.Get (Pegasus_backend) in 711.0579ms
2019-07-18 13:26:36.605 +12:00 [INF] Request finished in 712.0034ms 200 application/json; charset=utf-8
2019-07-18 13:26:43.976 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/TeacherAvailableCheck/267/2019-07-18  
2019-07-18 13:26:43.977 +12:00 [INF] Policy execution successful.
2019-07-18 13:26:43.977 +12:00 [INF] Route matched with {action = "Get", controller = "TeacherAvailableCheck"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32, System.String) on controller Pegasus_backend.Controllers.TeacherAvailableCheckController (Pegasus_backend).
2019-07-18 13:26:43.978 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TeacherAvailableCheckController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:26:43.979 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:26:44.212 +12:00 [INF] Executed DbCommand (63ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`teacher_id`, `t`.`ability`, `t`.`comment`, `t`.`cv_url`, `t`.`dob`, `t`.`email`, `t`.`expiry_date`, `t`.`first_name`, `t`.`form_url`, `t`.`gender`, `t`.`home_phone`, `t`.`id_number`, `t`.`id_photo`, `t`.`id_type`, `t`.`invoice_template`, `t`.`ird_number`, `t`.`is_activate`, `t`.`is_contract`, `t`.`is_left`, `t`.`last_name`, `t`.`level`, `t`.`minimum_hours`, `t`.`mobile_phone`, `t`.`otherfile_url`, `t`.`photo`, `t`.`user_id`, `t`.`visa`
FROM `ablemusic`.`teacher` AS `t`
WHERE `t`.`teacher_id` = @__teacherId_0
LIMIT 1
2019-07-18 13:26:44.459 +12:00 [INF] Executed DbCommand (70ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `ad`.`teacher_id` AS `TeacherId`, `ad`.`available_days_id` AS `AvailableDaysId`, `ad`.`day_of_week` AS `DayOfWeek`, `ad`.`created_at` AS `CreatedAt`, `ad`.`org_id` AS `OrgId0`, `o`.`org_id` AS `OrgId`, `o`.`org_name` AS `OrgName`
FROM `ablemusic`.`available_days` AS `ad`
INNER JOIN `ablemusic`.`org` AS `o` ON `ad`.`org_id` = `o`.`org_id`
WHERE `ad`.`teacher_id` = @__teacherId_0
2019-07-18 13:26:44.696 +12:00 [INF] Executed DbCommand (76ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__beginDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `cs`.`course_schedule_id` AS `CourseScheduleId`, `cs`.`day_of_week` AS `DayOfWeek`, `cs`.`course_instance_id` AS `CourseInstanceId`, `cs`.`group_course_instance_id` AS `GroupCourseInstanceId`, `cs`.`begin_time` AS `BeginTime`, `cs`.`end_time` AS `EndTime`, `l`.`learner_id` AS `LearnerId`, `l`.`first_name` AS `LearnerFirstName`, `l`.`last_name` AS `LearnerLastName`, `oto`.`org_id` AS `OrgId`, `o`.`org_name` AS `OrgName`
FROM `ablemusic`.`learner` AS `l`
INNER JOIN `ablemusic`.`one2one_course_instance` AS `oto` ON `l`.`learner_id` = `oto`.`learner_id`
INNER JOIN `ablemusic`.`course_schedule` AS `cs` ON `oto`.`course_instance_id` = `cs`.`course_instance_id`
INNER JOIN `ablemusic`.`org` AS `o` ON `oto`.`org_id` = `o`.`org_id`
WHERE (`oto`.`teacher_id` = @__teacherId_0) AND (@__beginDate_1 < `oto`.`end_date`)
2019-07-18 13:26:44.915 +12:00 [INF] Executed DbCommand (72ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__beginDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `cs`.`course_schedule_id` AS `CourseScheduleId`, `cs`.`day_of_week` AS `DayOfWeek`, `cs`.`course_instance_id` AS `CourseInstanceId`, `cs`.`group_course_instance_id` AS `GroupCourseInstanceId`, `cs`.`begin_time` AS `BeginTime`, `cs`.`end_time` AS `EndTime`, `g`.`org_id` AS `OrgId`, `o`.`org_name` AS `OrgName`
FROM `ablemusic`.`group_course_instance` AS `g`
INNER JOIN `ablemusic`.`course_schedule` AS `cs` ON `g`.`group_course_instance_id` = `cs`.`group_course_instance_id`
INNER JOIN `ablemusic`.`org` AS `o` ON `g`.`org_id` = `o`.`org_id`
WHERE (`g`.`teacher_id` = @__teacherId_0) AND (@__beginDate_1 < `g`.`end_date`)
2019-07-18 13:26:45.113 +12:00 [INF] Executed DbCommand (68ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a.Learner`.`learner_id`, `a.Learner`.`address`, `a.Learner`.`comment`, `a.Learner`.`contact_num`, `a.Learner`.`created_at`, `a.Learner`.`dob`, `a.Learner`.`email`, `a.Learner`.`enroll_date`, `a.Learner`.`first_name`, `a.Learner`.`form_url`, `a.Learner`.`g5_certification`, `a.Learner`.`gender`, `a.Learner`.`is_abrsm_g5`, `a.Learner`.`is_active`, `a.Learner`.`is_under_18`, `a.Learner`.`last_name`, `a.Learner`.`learner_level`, `a.Learner`.`level_type`, `a.Learner`.`middle_name`, `a.Learner`.`note`, `a.Learner`.`org_id`, `a.Learner`.`otherfile_url`, `a.Learner`.`payment_period`, `a.Learner`.`photo`, `a.Learner`.`referrer`, `a.Learner`.`referrer_learner_id`, `a.Learner`.`user_id`, `a`.`course_instance_id` AS `CourseInstanceId`, `a`.`amendment_id` AS `AmendmentId`, `a`.`org_id` AS `OrgId`, `a`.`day_of_week` AS `DayOfWeek`, `a`.`begin_time` AS `BeginTime`, `a`.`end_time` AS `EndTime`, `a`.`learner_id` AS `LearnerId`, `a`.`room_id` AS `RoomId`, `a`.`begin_date` AS `BeginDate`, `a`.`end_date` AS `EndDate`, `a`.`created_at` AS `CreatedAt`, `a`.`reason`, `a`.`is_temporary` AS `IsTemporary`, `a`.`amend_type` AS `AmendType`, `a`.`course_schedule_id` AS `CourseScheduleId`
FROM `ablemusic`.`one2one_course_instance` AS `oto`
INNER JOIN `ablemusic`.`amendment` AS `a` ON `oto`.`course_instance_id` = `a`.`course_instance_id`
LEFT JOIN `ablemusic`.`learner` AS `a.Learner` ON `a`.`learner_id` = `a.Learner`.`learner_id`
INNER JOIN `ablemusic`.`learner` AS `l` ON `a`.`learner_id` = `l`.`learner_id`
WHERE `oto`.`teacher_id` = @__teacherId_0
2019-07-18 13:26:45.113 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TeacherAvailableCheckController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1134.7581ms.
2019-07-18 13:26:45.113 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:26:45.114 +12:00 [INF] Executed action Pegasus_backend.Controllers.TeacherAvailableCheckController.Get (Pegasus_backend) in 1136.5764000000001ms
2019-07-18 13:26:45.114 +12:00 [INF] Request finished in 1137.7644ms 200 application/json; charset=utf-8
2019-07-18 13:26:47.880 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/TeacherFilter/1  
2019-07-18 13:26:47.881 +12:00 [INF] Policy execution successful.
2019-07-18 13:26:47.881 +12:00 [INF] Route matched with {action = "Get", controller = "TeacherFilter"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Pegasus_backend.Controllers.TeacherFilterController (Pegasus_backend).
2019-07-18 13:26:47.882 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TeacherFilterController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:26:47.882 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:26:48.056 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`org_id` AS `OrgId`, `o`.`org_name` AS `OrgName`
FROM `ablemusic`.`org` AS `o`
2019-07-18 13:26:48.215 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `r`.`room_id` AS `RoomId`, `r`.`room_name` AS `RoomName`, `r`.`org_id` AS `OrgId`
FROM `ablemusic`.`room` AS `r`
2019-07-18 13:26:48.395 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`prop_value` AS `PropValue`, `l`.`prop_name` AS `PropName`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = 1
2019-07-18 13:26:48.572 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`teacher_id` AS `TeacherId`, `t`.`first_name` AS `TeacherFirstName`, `t`.`last_name` AS `TeacherLastName`, `ta`.`org_id` AS `TeacherAvailableOrgId`, `t`.`level` AS `TeacherLevelId`
FROM `ablemusic`.`teacher` AS `t`
INNER JOIN `ablemusic`.`available_days` AS `ta` ON `t`.`teacher_id` = `ta`.`teacher_id`
INNER JOIN `ablemusic`.`teacher_course` AS `tc` ON `t`.`teacher_id` = `tc`.`teacher_id`
WHERE (`tc`.`course_id` = @__courseId_0) AND (`t`.`is_activate` = 1)
ORDER BY `t`.`teacher_id`, `ta`.`org_id`
2019-07-18 13:26:48.572 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TeacherFilterController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 690.63370000000009ms.
2019-07-18 13:26:48.573 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:26:48.573 +12:00 [INF] Executed action Pegasus_backend.Controllers.TeacherFilterController.Get (Pegasus_backend) in 691.94990000000007ms
2019-07-18 13:26:48.573 +12:00 [INF] Request finished in 693.4308ms 200 application/json; charset=utf-8
2019-07-18 13:26:53.004 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/TeacherAvailableCheck/267/2019-07-18  
2019-07-18 13:26:53.004 +12:00 [INF] Policy execution successful.
2019-07-18 13:26:53.004 +12:00 [INF] Route matched with {action = "Get", controller = "TeacherAvailableCheck"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32, System.String) on controller Pegasus_backend.Controllers.TeacherAvailableCheckController (Pegasus_backend).
2019-07-18 13:26:53.005 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TeacherAvailableCheckController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:26:53.005 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:26:53.191 +12:00 [INF] Executed DbCommand (62ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`teacher_id`, `t`.`ability`, `t`.`comment`, `t`.`cv_url`, `t`.`dob`, `t`.`email`, `t`.`expiry_date`, `t`.`first_name`, `t`.`form_url`, `t`.`gender`, `t`.`home_phone`, `t`.`id_number`, `t`.`id_photo`, `t`.`id_type`, `t`.`invoice_template`, `t`.`ird_number`, `t`.`is_activate`, `t`.`is_contract`, `t`.`is_left`, `t`.`last_name`, `t`.`level`, `t`.`minimum_hours`, `t`.`mobile_phone`, `t`.`otherfile_url`, `t`.`photo`, `t`.`user_id`, `t`.`visa`
FROM `ablemusic`.`teacher` AS `t`
WHERE `t`.`teacher_id` = @__teacherId_0
LIMIT 1
2019-07-18 13:26:53.375 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `ad`.`teacher_id` AS `TeacherId`, `ad`.`available_days_id` AS `AvailableDaysId`, `ad`.`day_of_week` AS `DayOfWeek`, `ad`.`created_at` AS `CreatedAt`, `ad`.`org_id` AS `OrgId0`, `o`.`org_id` AS `OrgId`, `o`.`org_name` AS `OrgName`
FROM `ablemusic`.`available_days` AS `ad`
INNER JOIN `ablemusic`.`org` AS `o` ON `ad`.`org_id` = `o`.`org_id`
WHERE `ad`.`teacher_id` = @__teacherId_0
2019-07-18 13:26:53.563 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__beginDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `cs`.`course_schedule_id` AS `CourseScheduleId`, `cs`.`day_of_week` AS `DayOfWeek`, `cs`.`course_instance_id` AS `CourseInstanceId`, `cs`.`group_course_instance_id` AS `GroupCourseInstanceId`, `cs`.`begin_time` AS `BeginTime`, `cs`.`end_time` AS `EndTime`, `l`.`learner_id` AS `LearnerId`, `l`.`first_name` AS `LearnerFirstName`, `l`.`last_name` AS `LearnerLastName`, `oto`.`org_id` AS `OrgId`, `o`.`org_name` AS `OrgName`
FROM `ablemusic`.`learner` AS `l`
INNER JOIN `ablemusic`.`one2one_course_instance` AS `oto` ON `l`.`learner_id` = `oto`.`learner_id`
INNER JOIN `ablemusic`.`course_schedule` AS `cs` ON `oto`.`course_instance_id` = `cs`.`course_instance_id`
INNER JOIN `ablemusic`.`org` AS `o` ON `oto`.`org_id` = `o`.`org_id`
WHERE (`oto`.`teacher_id` = @__teacherId_0) AND (@__beginDate_1 < `oto`.`end_date`)
2019-07-18 13:26:53.744 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__beginDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `cs`.`course_schedule_id` AS `CourseScheduleId`, `cs`.`day_of_week` AS `DayOfWeek`, `cs`.`course_instance_id` AS `CourseInstanceId`, `cs`.`group_course_instance_id` AS `GroupCourseInstanceId`, `cs`.`begin_time` AS `BeginTime`, `cs`.`end_time` AS `EndTime`, `g`.`org_id` AS `OrgId`, `o`.`org_name` AS `OrgName`
FROM `ablemusic`.`group_course_instance` AS `g`
INNER JOIN `ablemusic`.`course_schedule` AS `cs` ON `g`.`group_course_instance_id` = `cs`.`group_course_instance_id`
INNER JOIN `ablemusic`.`org` AS `o` ON `g`.`org_id` = `o`.`org_id`
WHERE (`g`.`teacher_id` = @__teacherId_0) AND (@__beginDate_1 < `g`.`end_date`)
2019-07-18 13:26:53.942 +12:00 [INF] Executed DbCommand (69ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a.Learner`.`learner_id`, `a.Learner`.`address`, `a.Learner`.`comment`, `a.Learner`.`contact_num`, `a.Learner`.`created_at`, `a.Learner`.`dob`, `a.Learner`.`email`, `a.Learner`.`enroll_date`, `a.Learner`.`first_name`, `a.Learner`.`form_url`, `a.Learner`.`g5_certification`, `a.Learner`.`gender`, `a.Learner`.`is_abrsm_g5`, `a.Learner`.`is_active`, `a.Learner`.`is_under_18`, `a.Learner`.`last_name`, `a.Learner`.`learner_level`, `a.Learner`.`level_type`, `a.Learner`.`middle_name`, `a.Learner`.`note`, `a.Learner`.`org_id`, `a.Learner`.`otherfile_url`, `a.Learner`.`payment_period`, `a.Learner`.`photo`, `a.Learner`.`referrer`, `a.Learner`.`referrer_learner_id`, `a.Learner`.`user_id`, `a`.`course_instance_id` AS `CourseInstanceId`, `a`.`amendment_id` AS `AmendmentId`, `a`.`org_id` AS `OrgId`, `a`.`day_of_week` AS `DayOfWeek`, `a`.`begin_time` AS `BeginTime`, `a`.`end_time` AS `EndTime`, `a`.`learner_id` AS `LearnerId`, `a`.`room_id` AS `RoomId`, `a`.`begin_date` AS `BeginDate`, `a`.`end_date` AS `EndDate`, `a`.`created_at` AS `CreatedAt`, `a`.`reason`, `a`.`is_temporary` AS `IsTemporary`, `a`.`amend_type` AS `AmendType`, `a`.`course_schedule_id` AS `CourseScheduleId`
FROM `ablemusic`.`one2one_course_instance` AS `oto`
INNER JOIN `ablemusic`.`amendment` AS `a` ON `oto`.`course_instance_id` = `a`.`course_instance_id`
LEFT JOIN `ablemusic`.`learner` AS `a.Learner` ON `a`.`learner_id` = `a.Learner`.`learner_id`
INNER JOIN `ablemusic`.`learner` AS `l` ON `a`.`learner_id` = `l`.`learner_id`
WHERE `oto`.`teacher_id` = @__teacherId_0
2019-07-18 13:26:53.942 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TeacherAvailableCheckController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 937.20490000000007ms.
2019-07-18 13:26:53.942 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:26:53.943 +12:00 [INF] Executed action Pegasus_backend.Controllers.TeacherAvailableCheckController.Get (Pegasus_backend) in 938.07940000000008ms
2019-07-18 13:26:53.943 +12:00 [INF] Request finished in 938.8936ms 200 application/json; charset=utf-8
2019-07-18 13:27:06.515 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lookups  
2019-07-18 13:27:06.516 +12:00 [INF] Policy execution successful.
2019-07-18 13:27:06.516 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/navitems  
2019-07-18 13:27:06.516 +12:00 [INF] Request finished in 0.3814ms 204 
2019-07-18 13:27:06.516 +12:00 [INF] Policy execution successful.
2019-07-18 13:27:06.516 +12:00 [INF] Request finished in 0.3117ms 204 
2019-07-18 13:27:06.538 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner  
2019-07-18 13:27:06.538 +12:00 [INF] Policy execution successful.
2019-07-18 13:27:06.539 +12:00 [INF] Route matched with {action = "GetLearner", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearner() on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:27:06.539 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:27:06.539 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:27:06.548 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/staff/Photos/2190613092457108.jpg  
2019-07-18 13:27:06.548 +12:00 [INF] Request finished in 0.4939ms 404 
2019-07-18 13:27:06.577 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups  
2019-07-18 13:27:06.577 +12:00 [INF] Policy execution successful.
2019-07-18 13:27:06.578 +12:00 [INF] Successfully validated the token.
2019-07-18 13:27:06.578 +12:00 [INF] Route matched with {action = "GetLookups", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookups() on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 13:27:06.578 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:27:06.579 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:27:06.612 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/navitems  
2019-07-18 13:27:06.613 +12:00 [INF] Policy execution successful.
2019-07-18 13:27:06.613 +12:00 [INF] Successfully validated the token.
2019-07-18 13:27:06.613 +12:00 [INF] Route matched with {action = "GetNavItems", controller = "NavItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetNavItems() on controller Pegasus_backend.Controllers.NavItemsController (Pegasus_backend).
2019-07-18 13:27:06.614 +12:00 [INF] Authorization was successful.
2019-07-18 13:27:06.614 +12:00 [INF] Executing action method Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:27:06.615 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:27:06.721 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`is_active` = 1
ORDER BY `w`.`learner_id`
2019-07-18 13:27:06.751 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
2019-07-18 13:27:06.755 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 176.2057ms.
2019-07-18 13:27:06.755 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:27:06.755 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend) in 177.2906ms
2019-07-18 13:27:06.756 +12:00 [INF] Request finished in 178.6141ms 200 application/json; charset=utf-8
2019-07-18 13:27:06.773 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`user_id`, `s`.`created_at`, `s`.`is_activate`, `s`.`is_online`, `s`.`password`, `s`.`role_id`, `s`.`signature`, `s`.`unread_message_id`, `s`.`user_name`
FROM `ablemusic`.`user` AS `s`
WHERE `s`.`user_id` = @__userId_0
LIMIT 1
2019-07-18 13:27:06.782 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Parent`.`parent_id`, `w.Parent`.`contact_num`, `w.Parent`.`created_at`, `w.Parent`.`email`, `w.Parent`.`first_name`, `w.Parent`.`last_name`, `w.Parent`.`learner_id`, `w.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `w.Parent`
INNER JOIN (
    SELECT `w0`.`learner_id`
    FROM `ablemusic`.`learner` AS `w0`
    WHERE `w0`.`is_active` = 1
) AS `t` ON `w.Parent`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-18 13:27:06.839 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerOthers`.`learner_others_id`, `w.LearnerOthers`.`learner_id`, `w.LearnerOthers`.`learner_level`, `w.LearnerOthers`.`others_type`, `w.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `w.LearnerOthers`
INNER JOIN (
    SELECT `w1`.`learner_id`
    FROM `ablemusic`.`learner` AS `w1`
    WHERE `w1`.`is_active` = 1
) AS `t0` ON `w.LearnerOthers`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-18 13:27:06.915 +12:00 [INF] Executed DbCommand (75ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance`.`course_instance_id`, `w.One2oneCourseInstance`.`begin_date`, `w.One2oneCourseInstance`.`course_id`, `w.One2oneCourseInstance`.`end_date`, `w.One2oneCourseInstance`.`invoice_date`, `w.One2oneCourseInstance`.`learner_id`, `w.One2oneCourseInstance`.`org_id`, `w.One2oneCourseInstance`.`room_id`, `w.One2oneCourseInstance`.`teacher_id`, `o.Teacher`.`teacher_id`, `o.Teacher`.`ability`, `o.Teacher`.`comment`, `o.Teacher`.`cv_url`, `o.Teacher`.`dob`, `o.Teacher`.`email`, `o.Teacher`.`expiry_date`, `o.Teacher`.`first_name`, `o.Teacher`.`form_url`, `o.Teacher`.`gender`, `o.Teacher`.`home_phone`, `o.Teacher`.`id_number`, `o.Teacher`.`id_photo`, `o.Teacher`.`id_type`, `o.Teacher`.`invoice_template`, `o.Teacher`.`ird_number`, `o.Teacher`.`is_activate`, `o.Teacher`.`is_contract`, `o.Teacher`.`is_left`, `o.Teacher`.`last_name`, `o.Teacher`.`level`, `o.Teacher`.`minimum_hours`, `o.Teacher`.`mobile_phone`, `o.Teacher`.`otherfile_url`, `o.Teacher`.`photo`, `o.Teacher`.`user_id`, `o.Teacher`.`visa`, `o.Room`.`room_id`, `o.Room`.`created_at`, `o.Room`.`is_activate`, `o.Room`.`org_id`, `o.Room`.`room_name`, `o.Course`.`course_id`, `o.Course`.`course_category_id`, `o.Course`.`course_name`, `o.Course`.`course_type`, `o.Course`.`duration`, `o.Course`.`level`, `o.Course`.`price`, `o.Course`.`teacher_level`, `o.Org`.`org_id`, `o.Org`.`abbr`, `o.Org`.`address`, `o.Org`.`email`, `o.Org`.`is_activate`, `o.Org`.`is_headoffice`, `o.Org`.`localtion_x`, `o.Org`.`localtion_y`, `o.Org`.`org_name`, `o.Org`.`phone`
FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance`
LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher` ON `w.One2oneCourseInstance`.`teacher_id` = `o.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `o.Room` ON `w.One2oneCourseInstance`.`room_id` = `o.Room`.`room_id`
LEFT JOIN `ablemusic`.`course` AS `o.Course` ON `w.One2oneCourseInstance`.`course_id` = `o.Course`.`course_id`
LEFT JOIN `ablemusic`.`org` AS `o.Org` ON `w.One2oneCourseInstance`.`org_id` = `o.Org`.`org_id`
INNER JOIN (
    SELECT `w2`.`learner_id`
    FROM `ablemusic`.`learner` AS `w2`
    WHERE `w2`.`is_active` = 1
) AS `t1` ON `w.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`, `w.One2oneCourseInstance`.`course_instance_id`
2019-07-18 13:27:06.950 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[@__roleId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`page_id`
FROM `ablemusic`.`role_access` AS `s`
WHERE `s`.`role_id` = @__roleId_0
2019-07-18 13:27:07.022 +12:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.Amendment`.`amendment_id`, `w.One2oneCourseInstance.Amendment`.`amend_type`, `w.One2oneCourseInstance.Amendment`.`begin_date`, `w.One2oneCourseInstance.Amendment`.`begin_time`, `w.One2oneCourseInstance.Amendment`.`course_instance_id`, `w.One2oneCourseInstance.Amendment`.`course_schedule_id`, `w.One2oneCourseInstance.Amendment`.`created_at`, `w.One2oneCourseInstance.Amendment`.`day_of_week`, `w.One2oneCourseInstance.Amendment`.`end_date`, `w.One2oneCourseInstance.Amendment`.`end_time`, `w.One2oneCourseInstance.Amendment`.`is_temporary`, `w.One2oneCourseInstance.Amendment`.`learner_id`, `w.One2oneCourseInstance.Amendment`.`org_id`, `w.One2oneCourseInstance.Amendment`.`reason`, `w.One2oneCourseInstance.Amendment`.`room_id`, `w.One2oneCourseInstance.Amendment`.`teacher_id`, `a.Teacher`.`teacher_id`, `a.Teacher`.`ability`, `a.Teacher`.`comment`, `a.Teacher`.`cv_url`, `a.Teacher`.`dob`, `a.Teacher`.`email`, `a.Teacher`.`expiry_date`, `a.Teacher`.`first_name`, `a.Teacher`.`form_url`, `a.Teacher`.`gender`, `a.Teacher`.`home_phone`, `a.Teacher`.`id_number`, `a.Teacher`.`id_photo`, `a.Teacher`.`id_type`, `a.Teacher`.`invoice_template`, `a.Teacher`.`ird_number`, `a.Teacher`.`is_activate`, `a.Teacher`.`is_contract`, `a.Teacher`.`is_left`, `a.Teacher`.`last_name`, `a.Teacher`.`level`, `a.Teacher`.`minimum_hours`, `a.Teacher`.`mobile_phone`, `a.Teacher`.`otherfile_url`, `a.Teacher`.`photo`, `a.Teacher`.`user_id`, `a.Teacher`.`visa`, `a.Room`.`room_id`, `a.Room`.`created_at`, `a.Room`.`is_activate`, `a.Room`.`org_id`, `a.Room`.`room_name`
FROM `ablemusic`.`amendment` AS `w.One2oneCourseInstance.Amendment`
LEFT JOIN `ablemusic`.`teacher` AS `a.Teacher` ON `w.One2oneCourseInstance.Amendment`.`teacher_id` = `a.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `a.Room` ON `w.One2oneCourseInstance.Amendment`.`room_id` = `a.Room`.`room_id`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance0`.`course_instance_id`, `t2`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance0`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher0` ON `w.One2oneCourseInstance0`.`teacher_id` = `o.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room0` ON `w.One2oneCourseInstance0`.`room_id` = `o.Room0`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course0` ON `w.One2oneCourseInstance0`.`course_id` = `o.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org0` ON `w.One2oneCourseInstance0`.`org_id` = `o.Org0`.`org_id`
    INNER JOIN (
        SELECT `w3`.`learner_id`
        FROM `ablemusic`.`learner` AS `w3`
        WHERE `w3`.`is_active` = 1
    ) AS `t2` ON `w.One2oneCourseInstance0`.`learner_id` = `t2`.`learner_id`
) AS `t3` ON `w.One2oneCourseInstance.Amendment`.`course_instance_id` = `t3`.`course_instance_id`
ORDER BY `t3`.`learner_id`, `t3`.`course_instance_id`
2019-07-18 13:27:07.091 +12:00 [INF] Executed DbCommand (65ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.CourseSchedule`.`course_schedule_id`, `w.One2oneCourseInstance.CourseSchedule`.`begin_time`, `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id`, `w.One2oneCourseInstance.CourseSchedule`.`day_of_week`, `w.One2oneCourseInstance.CourseSchedule`.`end_time`, `w.One2oneCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `w.One2oneCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance1`.`course_instance_id`, `t4`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance1`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher1` ON `w.One2oneCourseInstance1`.`teacher_id` = `o.Teacher1`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room1` ON `w.One2oneCourseInstance1`.`room_id` = `o.Room1`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course1` ON `w.One2oneCourseInstance1`.`course_id` = `o.Course1`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org1` ON `w.One2oneCourseInstance1`.`org_id` = `o.Org1`.`org_id`
    INNER JOIN (
        SELECT `w4`.`learner_id`
        FROM `ablemusic`.`learner` AS `w4`
        WHERE `w4`.`is_active` = 1
    ) AS `t4` ON `w.One2oneCourseInstance1`.`learner_id` = `t4`.`learner_id`
) AS `t5` ON `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id` = `t5`.`course_instance_id`
ORDER BY `t5`.`learner_id`, `t5`.`course_instance_id`
2019-07-18 13:27:07.135 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`page_group_id`, `s`.`display_order`, `s`.`icon`, `s`.`page_group_name`
FROM `ablemusic`.`page_group` AS `s`
ORDER BY `s`.`page_group_id`
2019-07-18 13:27:07.196 +12:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerGroupCourse`.`learner_group_course_id`, `w.LearnerGroupCourse`.`begin_date`, `w.LearnerGroupCourse`.`comment`, `w.LearnerGroupCourse`.`created_at`, `w.LearnerGroupCourse`.`end_date`, `w.LearnerGroupCourse`.`group_course_instance_id`, `w.LearnerGroupCourse`.`invoice_date`, `w.LearnerGroupCourse`.`is_activate`, `w.LearnerGroupCourse`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`, `l.GroupCourseInstance`.`begin_date`, `l.GroupCourseInstance`.`course_id`, `l.GroupCourseInstance`.`end_date`, `l.GroupCourseInstance`.`invoice_date`, `l.GroupCourseInstance`.`is_activate`, `l.GroupCourseInstance`.`is_started`, `l.GroupCourseInstance`.`org_id`, `l.GroupCourseInstance`.`room_id`, `l.GroupCourseInstance`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`ability`, `l.GroupCourseInstance.Teacher`.`comment`, `l.GroupCourseInstance.Teacher`.`cv_url`, `l.GroupCourseInstance.Teacher`.`dob`, `l.GroupCourseInstance.Teacher`.`email`, `l.GroupCourseInstance.Teacher`.`expiry_date`, `l.GroupCourseInstance.Teacher`.`first_name`, `l.GroupCourseInstance.Teacher`.`form_url`, `l.GroupCourseInstance.Teacher`.`gender`, `l.GroupCourseInstance.Teacher`.`home_phone`, `l.GroupCourseInstance.Teacher`.`id_number`, `l.GroupCourseInstance.Teacher`.`id_photo`, `l.GroupCourseInstance.Teacher`.`id_type`, `l.GroupCourseInstance.Teacher`.`invoice_template`, `l.GroupCourseInstance.Teacher`.`ird_number`, `l.GroupCourseInstance.Teacher`.`is_activate`, `l.GroupCourseInstance.Teacher`.`is_contract`, `l.GroupCourseInstance.Teacher`.`is_left`, `l.GroupCourseInstance.Teacher`.`last_name`, `l.GroupCourseInstance.Teacher`.`level`, `l.GroupCourseInstance.Teacher`.`minimum_hours`, `l.GroupCourseInstance.Teacher`.`mobile_phone`, `l.GroupCourseInstance.Teacher`.`otherfile_url`, `l.GroupCourseInstance.Teacher`.`photo`, `l.GroupCourseInstance.Teacher`.`user_id`, `l.GroupCourseInstance.Teacher`.`visa`, `l.GroupCourseInstance.Course`.`course_id`, `l.GroupCourseInstance.Course`.`course_category_id`, `l.GroupCourseInstance.Course`.`course_name`, `l.GroupCourseInstance.Course`.`course_type`, `l.GroupCourseInstance.Course`.`duration`, `l.GroupCourseInstance.Course`.`level`, `l.GroupCourseInstance.Course`.`price`, `l.GroupCourseInstance.Course`.`teacher_level`, `l.GroupCourseInstance.Room`.`room_id`, `l.GroupCourseInstance.Room`.`created_at`, `l.GroupCourseInstance.Room`.`is_activate`, `l.GroupCourseInstance.Room`.`org_id`, `l.GroupCourseInstance.Room`.`room_name`
FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse`
LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance` ON `w.LearnerGroupCourse`.`group_course_instance_id` = `l.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher` ON `l.GroupCourseInstance`.`teacher_id` = `l.GroupCourseInstance.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course` ON `l.GroupCourseInstance`.`course_id` = `l.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room` ON `l.GroupCourseInstance`.`room_id` = `l.GroupCourseInstance.Room`.`room_id`
INNER JOIN (
    SELECT `w5`.`learner_id`
    FROM `ablemusic`.`learner` AS `w5`
    WHERE `w5`.`is_active` = 1
) AS `t6` ON `w.LearnerGroupCourse`.`learner_id` = `t6`.`learner_id`
ORDER BY `t6`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`
2019-07-18 13:27:07.197 +12:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Page`.`page_id`, `s.Page`.`display_order`, `s.Page`.`icon`, `s.Page`.`is_activate`, `s.Page`.`page_group_id`, `s.Page`.`page_name`, `s.Page`.`para`, `s.Page`.`para_flag`, `s.Page`.`url`
FROM `ablemusic`.`page` AS `s.Page`
INNER JOIN (
    SELECT `s0`.`page_group_id`
    FROM `ablemusic`.`page_group` AS `s0`
) AS `t` ON `s.Page`.`page_group_id` = `t`.`page_group_id`
ORDER BY `t`.`page_group_id`
2019-07-18 13:27:07.199 +12:00 [INF] Executed action method Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 584.68090000000007ms.
2019-07-18 13:27:07.199 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:27:07.200 +12:00 [INF] Executed action Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend) in 586.52190000000007ms
2019-07-18 13:27:07.200 +12:00 [INF] Request finished in 587.8172ms 200 application/json; charset=utf-8
2019-07-18 13:27:07.269 +12:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l.GroupCourseInstance.CourseSchedule`.`course_schedule_id`, `l.GroupCourseInstance.CourseSchedule`.`begin_time`, `l.GroupCourseInstance.CourseSchedule`.`course_instance_id`, `l.GroupCourseInstance.CourseSchedule`.`day_of_week`, `l.GroupCourseInstance.CourseSchedule`.`end_time`, `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `l.GroupCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `l.GroupCourseInstance0`.`group_course_instance_id`, `t7`.`learner_id`
    FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse0`
    LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance0` ON `w.LearnerGroupCourse0`.`group_course_instance_id` = `l.GroupCourseInstance0`.`group_course_instance_id`
    LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher0` ON `l.GroupCourseInstance0`.`teacher_id` = `l.GroupCourseInstance.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course0` ON `l.GroupCourseInstance0`.`course_id` = `l.GroupCourseInstance.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room0` ON `l.GroupCourseInstance0`.`room_id` = `l.GroupCourseInstance.Room0`.`room_id`
    INNER JOIN (
        SELECT `w6`.`learner_id`
        FROM `ablemusic`.`learner` AS `w6`
        WHERE `w6`.`is_active` = 1
    ) AS `t7` ON `w.LearnerGroupCourse0`.`learner_id` = `t7`.`learner_id`
) AS `t8` ON `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id` = `t8`.`group_course_instance_id`
ORDER BY `t8`.`learner_id`, `t8`.`group_course_instance_id`
2019-07-18 13:27:07.307 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 767.42900000000009ms.
2019-07-18 13:27:07.307 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:27:07.313 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) in 773.9432ms
2019-07-18 13:27:07.313 +12:00 [INF] Request finished in 774.6415ms 200 application/json; charset=utf-8
2019-07-18 13:27:14.560 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/GroupCourseInstance  
2019-07-18 13:27:14.560 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/1  
2019-07-18 13:27:14.560 +12:00 [INF] Policy execution successful.
2019-07-18 13:27:14.560 +12:00 [INF] Policy execution successful.
2019-07-18 13:27:14.560 +12:00 [INF] Route matched with {action = "GetGroupCourseInstance", controller = "GroupCourseInstance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGroupCourseInstance() on controller Pegasus_backend.Controllers.GroupCourseInstanceController (Pegasus_backend).
2019-07-18 13:27:14.560 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 13:27:14.561 +12:00 [INF] Executing action method Pegasus_backend.Controllers.GroupCourseInstanceController.GetGroupCourseInstance (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:27:14.561 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:27:14.561 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:27:14.562 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:27:14.562 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/2  
2019-07-18 13:27:14.562 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/3  
2019-07-18 13:27:14.562 +12:00 [INF] Policy execution successful.
2019-07-18 13:27:14.562 +12:00 [INF] Policy execution successful.
2019-07-18 13:27:14.562 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 13:27:14.562 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 13:27:14.563 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:27:14.563 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:27:14.563 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:27:14.563 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:27:14.564 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/4  
2019-07-18 13:27:14.564 +12:00 [INF] Policy execution successful.
2019-07-18 13:27:14.564 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/5  
2019-07-18 13:27:14.564 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 13:27:14.564 +12:00 [INF] Policy execution successful.
2019-07-18 13:27:14.565 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 13:27:14.565 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:27:14.565 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:27:14.565 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:27:14.565 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:27:14.738 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 13:27:14.738 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 173.53130000000002ms.
2019-07-18 13:27:14.738 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:27:14.739 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 174.2903ms
2019-07-18 13:27:14.739 +12:00 [INF] Request finished in 175.1884ms 200 application/json; charset=utf-8
2019-07-18 13:27:14.740 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/orgs  
2019-07-18 13:27:14.740 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 13:27:14.741 +12:00 [INF] Policy execution successful.
2019-07-18 13:27:14.741 +12:00 [INF] Route matched with {action = "GetOrg", controller = "Orgs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrg() on controller Pegasus_backend.Controllers.OrgsController (Pegasus_backend).
2019-07-18 13:27:14.741 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 176.0385ms.
2019-07-18 13:27:14.741 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:27:14.741 +12:00 [INF] Executing action method Pegasus_backend.Controllers.OrgsController.GetOrg (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:27:14.741 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 176.67180000000002ms
2019-07-18 13:27:14.741 +12:00 [INF] Request finished in 177.244ms 200 application/json; charset=utf-8
2019-07-18 13:27:14.742 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:27:14.743 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 13:27:14.743 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/courses  
2019-07-18 13:27:14.743 +12:00 [INF] Policy execution successful.
2019-07-18 13:27:14.744 +12:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Pegasus_backend.pegasusContext.Course]]] GetCourses() on controller Pegasus_backend.Controllers.CoursesController (Pegasus_backend).
2019-07-18 13:27:14.744 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 181.1868ms.
2019-07-18 13:27:14.744 +12:00 [INF] Executing action method Pegasus_backend.Controllers.CoursesController.GetCourses (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:27:14.744 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:27:14.744 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 181.995ms
2019-07-18 13:27:14.744 +12:00 [INF] Request finished in 182.7447ms 200 application/json; charset=utf-8
2019-07-18 13:27:14.745 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:27:14.745 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 13:27:14.746 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 182.9533ms.
2019-07-18 13:27:14.746 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:27:14.746 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 183.7975ms
2019-07-18 13:27:14.746 +12:00 [INF] Request finished in 184.4826ms 200 application/json; charset=utf-8
2019-07-18 13:27:14.747 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 13:27:14.748 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 186.6357ms.
2019-07-18 13:27:14.748 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:27:14.748 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 187.32250000000002ms
2019-07-18 13:27:14.748 +12:00 [INF] Request finished in 188.176ms 200 application/json; charset=utf-8
2019-07-18 13:27:14.764 +12:00 [INF] Executed DbCommand (76ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c.Course.CourseCategory`.`course_category_id`, `c.Course.CourseCategory`.`course_category_name`, `c`.`course_id` AS `CourseId`, `c`.`group_course_instance_id` AS `GroupCourseInstanceId`, `c`.`begin_date` AS `BeginDate`, `c`.`end_date` AS `EndDate`, `c.Course`.`course_name` AS `CourseName`, `c.Course`.`course_type` AS `CourseType`, `c.Course`.`level`, `c.Course`.`duration`, `c.Course`.`price`, `c`.`org_id` AS `OrgId`, `c.Org`.`org_name` AS `OrgName`, `c`.`room_id` AS `RoomId`, `c.Room`.`room_name` AS `RoomName`, `c`.`teacher_id` AS `TeacherId`, `c.Teacher`.`first_name` AS `FirstName`, `c.Teacher`.`last_name` AS `LastName`
FROM `ablemusic`.`group_course_instance` AS `c`
LEFT JOIN `ablemusic`.`teacher` AS `c.Teacher` ON `c`.`teacher_id` = `c.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `c.Room` ON `c`.`room_id` = `c.Room`.`room_id`
LEFT JOIN `ablemusic`.`org` AS `c.Org` ON `c`.`org_id` = `c.Org`.`org_id`
INNER JOIN `ablemusic`.`course` AS `c.Course` ON `c`.`course_id` = `c.Course`.`course_id`
LEFT JOIN `ablemusic`.`course_category` AS `c.Course.CourseCategory` ON `c.Course`.`course_category_id` = `c.Course.CourseCategory`.`course_category_id`
WHERE `c`.`is_activate` = 1
ORDER BY `c`.`group_course_instance_id`
2019-07-18 13:27:14.827 +12:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c.CourseSchedule`.`course_schedule_id`, `c.CourseSchedule`.`begin_time`, `c.CourseSchedule`.`course_instance_id`, `c.CourseSchedule`.`day_of_week`, `c.CourseSchedule`.`end_time`, `c.CourseSchedule`.`group_course_instance_id`, `t`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `c.CourseSchedule`
INNER JOIN (
    SELECT `c0`.`group_course_instance_id`
    FROM `ablemusic`.`group_course_instance` AS `c0`
    LEFT JOIN `ablemusic`.`teacher` AS `c.Teacher0` ON `c0`.`teacher_id` = `c.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `c.Room0` ON `c0`.`room_id` = `c.Room0`.`room_id`
    LEFT JOIN `ablemusic`.`org` AS `c.Org0` ON `c0`.`org_id` = `c.Org0`.`org_id`
    INNER JOIN `ablemusic`.`course` AS `c.Course0` ON `c0`.`course_id` = `c.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`course_category` AS `c.Course.CourseCategory0` ON `c.Course0`.`course_category_id` = `c.Course.CourseCategory0`.`course_category_id`
    WHERE `c0`.`is_activate` = 1
) AS `t` ON `c.CourseSchedule`.`group_course_instance_id` = `t`.`group_course_instance_id`
ORDER BY `t`.`group_course_instance_id`
2019-07-18 13:27:14.828 +12:00 [INF] Executed action method Pegasus_backend.Controllers.GroupCourseInstanceController.GetGroupCourseInstance (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 267.06510000000003ms.
2019-07-18 13:27:14.828 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:27:14.829 +12:00 [INF] Executed action Pegasus_backend.Controllers.GroupCourseInstanceController.GetGroupCourseInstance (Pegasus_backend) in 267.9465ms
2019-07-18 13:27:14.829 +12:00 [INF] Request finished in 268.7598ms 200 application/json; charset=utf-8
2019-07-18 13:27:14.915 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`org_id`, `o`.`abbr`, `o`.`address`, `o`.`email`, `o`.`is_activate`, `o`.`is_headoffice`, `o`.`localtion_x`, `o`.`localtion_y`, `o`.`org_name`, `o`.`phone`
FROM `ablemusic`.`org` AS `o`
2019-07-18 13:27:14.915 +12:00 [INF] Executed action method Pegasus_backend.Controllers.OrgsController.GetOrg (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 174.0859ms.
2019-07-18 13:27:14.915 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Org, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:27:14.916 +12:00 [INF] Executed action Pegasus_backend.Controllers.OrgsController.GetOrg (Pegasus_backend) in 174.8916ms
2019-07-18 13:27:14.916 +12:00 [INF] Request finished in 175.672ms 200 application/json; charset=utf-8
2019-07-18 13:27:14.922 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`course_id` AS `CourseId`, `c`.`course_name` AS `CourseName`, `c`.`course_type` AS `CourseType`, `c`.`level`, `c`.`duration`, `c`.`price`, `c`.`course_category_id` AS `CourseCategoryId0`, `c`.`teacher_level` AS `TeacherLevel`, `cc`.`course_category_id` AS `CourseCategoryId`, `cc`.`course_category_name` AS `CourseCategoryName`
FROM `ablemusic`.`course` AS `c`
INNER JOIN `ablemusic`.`course_category` AS `cc` ON `c`.`course_category_id` = `cc`.`course_category_id`
2019-07-18 13:27:15.117 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`prop_name` AS `PropName`, `l`.`prop_value` AS `PropValue`, `l`.`lookup_type` AS `LookupType`
FROM `ablemusic`.`lookup` AS `l`
WHERE (((`l`.`lookup_type` = 1) OR (`l`.`lookup_type` = 4)) OR (`l`.`lookup_type` = 6)) OR (`l`.`lookup_type` = 8)
2019-07-18 13:27:15.119 +12:00 [INF] Executed action method Pegasus_backend.Controllers.CoursesController.GetCourses (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 374.8815ms.
2019-07-18 13:27:15.119 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:27:15.122 +12:00 [INF] Executed action Pegasus_backend.Controllers.CoursesController.GetCourses (Pegasus_backend) in 378.4381ms
2019-07-18 13:27:15.122 +12:00 [INF] Request finished in 379.4769ms 200 application/json; charset=utf-8
2019-07-18 13:27:21.052 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/TeacherFilter/1  
2019-07-18 13:27:21.052 +12:00 [INF] Policy execution successful.
2019-07-18 13:27:21.053 +12:00 [INF] Route matched with {action = "Get", controller = "TeacherFilter"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Pegasus_backend.Controllers.TeacherFilterController (Pegasus_backend).
2019-07-18 13:27:21.054 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TeacherFilterController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:27:21.055 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:27:21.229 +12:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`org_id` AS `OrgId`, `o`.`org_name` AS `OrgName`
FROM `ablemusic`.`org` AS `o`
2019-07-18 13:27:21.409 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `r`.`room_id` AS `RoomId`, `r`.`room_name` AS `RoomName`, `r`.`org_id` AS `OrgId`
FROM `ablemusic`.`room` AS `r`
2019-07-18 13:27:21.582 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`prop_value` AS `PropValue`, `l`.`prop_name` AS `PropName`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = 1
2019-07-18 13:27:21.758 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`teacher_id` AS `TeacherId`, `t`.`first_name` AS `TeacherFirstName`, `t`.`last_name` AS `TeacherLastName`, `ta`.`org_id` AS `TeacherAvailableOrgId`, `t`.`level` AS `TeacherLevelId`
FROM `ablemusic`.`teacher` AS `t`
INNER JOIN `ablemusic`.`available_days` AS `ta` ON `t`.`teacher_id` = `ta`.`teacher_id`
INNER JOIN `ablemusic`.`teacher_course` AS `tc` ON `t`.`teacher_id` = `tc`.`teacher_id`
WHERE (`tc`.`course_id` = @__courseId_0) AND (`t`.`is_activate` = 1)
ORDER BY `t`.`teacher_id`, `ta`.`org_id`
2019-07-18 13:27:21.759 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TeacherFilterController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 704.7396ms.
2019-07-18 13:27:21.759 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:27:21.759 +12:00 [INF] Executed action Pegasus_backend.Controllers.TeacherFilterController.Get (Pegasus_backend) in 706.0999ms
2019-07-18 13:27:21.759 +12:00 [INF] Request finished in 707.3426ms 200 application/json; charset=utf-8
2019-07-18 13:27:39.889 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/TeacherAvailableCheck/267/2019-07-18  
2019-07-18 13:27:39.889 +12:00 [INF] Policy execution successful.
2019-07-18 13:27:39.889 +12:00 [INF] Route matched with {action = "Get", controller = "TeacherAvailableCheck"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32, System.String) on controller Pegasus_backend.Controllers.TeacherAvailableCheckController (Pegasus_backend).
2019-07-18 13:27:39.890 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TeacherAvailableCheckController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:27:39.890 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:27:40.058 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`teacher_id`, `t`.`ability`, `t`.`comment`, `t`.`cv_url`, `t`.`dob`, `t`.`email`, `t`.`expiry_date`, `t`.`first_name`, `t`.`form_url`, `t`.`gender`, `t`.`home_phone`, `t`.`id_number`, `t`.`id_photo`, `t`.`id_type`, `t`.`invoice_template`, `t`.`ird_number`, `t`.`is_activate`, `t`.`is_contract`, `t`.`is_left`, `t`.`last_name`, `t`.`level`, `t`.`minimum_hours`, `t`.`mobile_phone`, `t`.`otherfile_url`, `t`.`photo`, `t`.`user_id`, `t`.`visa`
FROM `ablemusic`.`teacher` AS `t`
WHERE `t`.`teacher_id` = @__teacherId_0
LIMIT 1
2019-07-18 13:27:40.249 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `ad`.`teacher_id` AS `TeacherId`, `ad`.`available_days_id` AS `AvailableDaysId`, `ad`.`day_of_week` AS `DayOfWeek`, `ad`.`created_at` AS `CreatedAt`, `ad`.`org_id` AS `OrgId0`, `o`.`org_id` AS `OrgId`, `o`.`org_name` AS `OrgName`
FROM `ablemusic`.`available_days` AS `ad`
INNER JOIN `ablemusic`.`org` AS `o` ON `ad`.`org_id` = `o`.`org_id`
WHERE `ad`.`teacher_id` = @__teacherId_0
2019-07-18 13:27:40.429 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__beginDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `cs`.`course_schedule_id` AS `CourseScheduleId`, `cs`.`day_of_week` AS `DayOfWeek`, `cs`.`course_instance_id` AS `CourseInstanceId`, `cs`.`group_course_instance_id` AS `GroupCourseInstanceId`, `cs`.`begin_time` AS `BeginTime`, `cs`.`end_time` AS `EndTime`, `l`.`learner_id` AS `LearnerId`, `l`.`first_name` AS `LearnerFirstName`, `l`.`last_name` AS `LearnerLastName`, `oto`.`org_id` AS `OrgId`, `o`.`org_name` AS `OrgName`
FROM `ablemusic`.`learner` AS `l`
INNER JOIN `ablemusic`.`one2one_course_instance` AS `oto` ON `l`.`learner_id` = `oto`.`learner_id`
INNER JOIN `ablemusic`.`course_schedule` AS `cs` ON `oto`.`course_instance_id` = `cs`.`course_instance_id`
INNER JOIN `ablemusic`.`org` AS `o` ON `oto`.`org_id` = `o`.`org_id`
WHERE (`oto`.`teacher_id` = @__teacherId_0) AND (@__beginDate_1 < `oto`.`end_date`)
2019-07-18 13:27:40.605 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__beginDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `cs`.`course_schedule_id` AS `CourseScheduleId`, `cs`.`day_of_week` AS `DayOfWeek`, `cs`.`course_instance_id` AS `CourseInstanceId`, `cs`.`group_course_instance_id` AS `GroupCourseInstanceId`, `cs`.`begin_time` AS `BeginTime`, `cs`.`end_time` AS `EndTime`, `g`.`org_id` AS `OrgId`, `o`.`org_name` AS `OrgName`
FROM `ablemusic`.`group_course_instance` AS `g`
INNER JOIN `ablemusic`.`course_schedule` AS `cs` ON `g`.`group_course_instance_id` = `cs`.`group_course_instance_id`
INNER JOIN `ablemusic`.`org` AS `o` ON `g`.`org_id` = `o`.`org_id`
WHERE (`g`.`teacher_id` = @__teacherId_0) AND (@__beginDate_1 < `g`.`end_date`)
2019-07-18 13:27:40.798 +12:00 [INF] Executed DbCommand (66ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a.Learner`.`learner_id`, `a.Learner`.`address`, `a.Learner`.`comment`, `a.Learner`.`contact_num`, `a.Learner`.`created_at`, `a.Learner`.`dob`, `a.Learner`.`email`, `a.Learner`.`enroll_date`, `a.Learner`.`first_name`, `a.Learner`.`form_url`, `a.Learner`.`g5_certification`, `a.Learner`.`gender`, `a.Learner`.`is_abrsm_g5`, `a.Learner`.`is_active`, `a.Learner`.`is_under_18`, `a.Learner`.`last_name`, `a.Learner`.`learner_level`, `a.Learner`.`level_type`, `a.Learner`.`middle_name`, `a.Learner`.`note`, `a.Learner`.`org_id`, `a.Learner`.`otherfile_url`, `a.Learner`.`payment_period`, `a.Learner`.`photo`, `a.Learner`.`referrer`, `a.Learner`.`referrer_learner_id`, `a.Learner`.`user_id`, `a`.`course_instance_id` AS `CourseInstanceId`, `a`.`amendment_id` AS `AmendmentId`, `a`.`org_id` AS `OrgId`, `a`.`day_of_week` AS `DayOfWeek`, `a`.`begin_time` AS `BeginTime`, `a`.`end_time` AS `EndTime`, `a`.`learner_id` AS `LearnerId`, `a`.`room_id` AS `RoomId`, `a`.`begin_date` AS `BeginDate`, `a`.`end_date` AS `EndDate`, `a`.`created_at` AS `CreatedAt`, `a`.`reason`, `a`.`is_temporary` AS `IsTemporary`, `a`.`amend_type` AS `AmendType`, `a`.`course_schedule_id` AS `CourseScheduleId`
FROM `ablemusic`.`one2one_course_instance` AS `oto`
INNER JOIN `ablemusic`.`amendment` AS `a` ON `oto`.`course_instance_id` = `a`.`course_instance_id`
LEFT JOIN `ablemusic`.`learner` AS `a.Learner` ON `a`.`learner_id` = `a.Learner`.`learner_id`
INNER JOIN `ablemusic`.`learner` AS `l` ON `a`.`learner_id` = `l`.`learner_id`
WHERE `oto`.`teacher_id` = @__teacherId_0
2019-07-18 13:27:40.798 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TeacherAvailableCheckController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 908.4285000000001ms.
2019-07-18 13:27:40.798 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:27:40.799 +12:00 [INF] Executed action Pegasus_backend.Controllers.TeacherAvailableCheckController.Get (Pegasus_backend) in 909.50060000000008ms
2019-07-18 13:27:40.799 +12:00 [INF] Request finished in 910.4799ms 200 application/json; charset=utf-8
2019-07-18 13:28:05.721 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/TeacherAvailableCheck/267/2019-07-18  
2019-07-18 13:28:05.721 +12:00 [INF] Policy execution successful.
2019-07-18 13:28:05.722 +12:00 [INF] Route matched with {action = "Get", controller = "TeacherAvailableCheck"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32, System.String) on controller Pegasus_backend.Controllers.TeacherAvailableCheckController (Pegasus_backend).
2019-07-18 13:28:05.722 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TeacherAvailableCheckController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:28:05.723 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:28:05.907 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`teacher_id`, `t`.`ability`, `t`.`comment`, `t`.`cv_url`, `t`.`dob`, `t`.`email`, `t`.`expiry_date`, `t`.`first_name`, `t`.`form_url`, `t`.`gender`, `t`.`home_phone`, `t`.`id_number`, `t`.`id_photo`, `t`.`id_type`, `t`.`invoice_template`, `t`.`ird_number`, `t`.`is_activate`, `t`.`is_contract`, `t`.`is_left`, `t`.`last_name`, `t`.`level`, `t`.`minimum_hours`, `t`.`mobile_phone`, `t`.`otherfile_url`, `t`.`photo`, `t`.`user_id`, `t`.`visa`
FROM `ablemusic`.`teacher` AS `t`
WHERE `t`.`teacher_id` = @__teacherId_0
LIMIT 1
2019-07-18 13:28:06.090 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `ad`.`teacher_id` AS `TeacherId`, `ad`.`available_days_id` AS `AvailableDaysId`, `ad`.`day_of_week` AS `DayOfWeek`, `ad`.`created_at` AS `CreatedAt`, `ad`.`org_id` AS `OrgId0`, `o`.`org_id` AS `OrgId`, `o`.`org_name` AS `OrgName`
FROM `ablemusic`.`available_days` AS `ad`
INNER JOIN `ablemusic`.`org` AS `o` ON `ad`.`org_id` = `o`.`org_id`
WHERE `ad`.`teacher_id` = @__teacherId_0
2019-07-18 13:28:06.272 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__beginDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `cs`.`course_schedule_id` AS `CourseScheduleId`, `cs`.`day_of_week` AS `DayOfWeek`, `cs`.`course_instance_id` AS `CourseInstanceId`, `cs`.`group_course_instance_id` AS `GroupCourseInstanceId`, `cs`.`begin_time` AS `BeginTime`, `cs`.`end_time` AS `EndTime`, `l`.`learner_id` AS `LearnerId`, `l`.`first_name` AS `LearnerFirstName`, `l`.`last_name` AS `LearnerLastName`, `oto`.`org_id` AS `OrgId`, `o`.`org_name` AS `OrgName`
FROM `ablemusic`.`learner` AS `l`
INNER JOIN `ablemusic`.`one2one_course_instance` AS `oto` ON `l`.`learner_id` = `oto`.`learner_id`
INNER JOIN `ablemusic`.`course_schedule` AS `cs` ON `oto`.`course_instance_id` = `cs`.`course_instance_id`
INNER JOIN `ablemusic`.`org` AS `o` ON `oto`.`org_id` = `o`.`org_id`
WHERE (`oto`.`teacher_id` = @__teacherId_0) AND (@__beginDate_1 < `oto`.`end_date`)
2019-07-18 13:28:06.463 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__beginDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `cs`.`course_schedule_id` AS `CourseScheduleId`, `cs`.`day_of_week` AS `DayOfWeek`, `cs`.`course_instance_id` AS `CourseInstanceId`, `cs`.`group_course_instance_id` AS `GroupCourseInstanceId`, `cs`.`begin_time` AS `BeginTime`, `cs`.`end_time` AS `EndTime`, `g`.`org_id` AS `OrgId`, `o`.`org_name` AS `OrgName`
FROM `ablemusic`.`group_course_instance` AS `g`
INNER JOIN `ablemusic`.`course_schedule` AS `cs` ON `g`.`group_course_instance_id` = `cs`.`group_course_instance_id`
INNER JOIN `ablemusic`.`org` AS `o` ON `g`.`org_id` = `o`.`org_id`
WHERE (`g`.`teacher_id` = @__teacherId_0) AND (@__beginDate_1 < `g`.`end_date`)
2019-07-18 13:28:06.655 +12:00 [INF] Executed DbCommand (71ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a.Learner`.`learner_id`, `a.Learner`.`address`, `a.Learner`.`comment`, `a.Learner`.`contact_num`, `a.Learner`.`created_at`, `a.Learner`.`dob`, `a.Learner`.`email`, `a.Learner`.`enroll_date`, `a.Learner`.`first_name`, `a.Learner`.`form_url`, `a.Learner`.`g5_certification`, `a.Learner`.`gender`, `a.Learner`.`is_abrsm_g5`, `a.Learner`.`is_active`, `a.Learner`.`is_under_18`, `a.Learner`.`last_name`, `a.Learner`.`learner_level`, `a.Learner`.`level_type`, `a.Learner`.`middle_name`, `a.Learner`.`note`, `a.Learner`.`org_id`, `a.Learner`.`otherfile_url`, `a.Learner`.`payment_period`, `a.Learner`.`photo`, `a.Learner`.`referrer`, `a.Learner`.`referrer_learner_id`, `a.Learner`.`user_id`, `a`.`course_instance_id` AS `CourseInstanceId`, `a`.`amendment_id` AS `AmendmentId`, `a`.`org_id` AS `OrgId`, `a`.`day_of_week` AS `DayOfWeek`, `a`.`begin_time` AS `BeginTime`, `a`.`end_time` AS `EndTime`, `a`.`learner_id` AS `LearnerId`, `a`.`room_id` AS `RoomId`, `a`.`begin_date` AS `BeginDate`, `a`.`end_date` AS `EndDate`, `a`.`created_at` AS `CreatedAt`, `a`.`reason`, `a`.`is_temporary` AS `IsTemporary`, `a`.`amend_type` AS `AmendType`, `a`.`course_schedule_id` AS `CourseScheduleId`
FROM `ablemusic`.`one2one_course_instance` AS `oto`
INNER JOIN `ablemusic`.`amendment` AS `a` ON `oto`.`course_instance_id` = `a`.`course_instance_id`
LEFT JOIN `ablemusic`.`learner` AS `a.Learner` ON `a`.`learner_id` = `a.Learner`.`learner_id`
INNER JOIN `ablemusic`.`learner` AS `l` ON `a`.`learner_id` = `l`.`learner_id`
WHERE `oto`.`teacher_id` = @__teacherId_0
2019-07-18 13:28:06.655 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TeacherAvailableCheckController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 932.75020000000006ms.
2019-07-18 13:28:06.655 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:28:06.656 +12:00 [INF] Executed action Pegasus_backend.Controllers.TeacherAvailableCheckController.Get (Pegasus_backend) in 933.712ms
2019-07-18 13:28:06.656 +12:00 [INF] Request finished in 934.7237ms 200 application/json; charset=utf-8
2019-07-18 13:28:34.735 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/TeacherAvailableCheck/267/2019-07-18  
2019-07-18 13:28:34.736 +12:00 [INF] Policy execution successful.
2019-07-18 13:28:34.736 +12:00 [INF] Route matched with {action = "Get", controller = "TeacherAvailableCheck"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32, System.String) on controller Pegasus_backend.Controllers.TeacherAvailableCheckController (Pegasus_backend).
2019-07-18 13:28:34.736 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TeacherAvailableCheckController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:28:34.737 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:28:34.923 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`teacher_id`, `t`.`ability`, `t`.`comment`, `t`.`cv_url`, `t`.`dob`, `t`.`email`, `t`.`expiry_date`, `t`.`first_name`, `t`.`form_url`, `t`.`gender`, `t`.`home_phone`, `t`.`id_number`, `t`.`id_photo`, `t`.`id_type`, `t`.`invoice_template`, `t`.`ird_number`, `t`.`is_activate`, `t`.`is_contract`, `t`.`is_left`, `t`.`last_name`, `t`.`level`, `t`.`minimum_hours`, `t`.`mobile_phone`, `t`.`otherfile_url`, `t`.`photo`, `t`.`user_id`, `t`.`visa`
FROM `ablemusic`.`teacher` AS `t`
WHERE `t`.`teacher_id` = @__teacherId_0
LIMIT 1
2019-07-18 13:28:35.109 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `ad`.`teacher_id` AS `TeacherId`, `ad`.`available_days_id` AS `AvailableDaysId`, `ad`.`day_of_week` AS `DayOfWeek`, `ad`.`created_at` AS `CreatedAt`, `ad`.`org_id` AS `OrgId0`, `o`.`org_id` AS `OrgId`, `o`.`org_name` AS `OrgName`
FROM `ablemusic`.`available_days` AS `ad`
INNER JOIN `ablemusic`.`org` AS `o` ON `ad`.`org_id` = `o`.`org_id`
WHERE `ad`.`teacher_id` = @__teacherId_0
2019-07-18 13:28:35.294 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__beginDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `cs`.`course_schedule_id` AS `CourseScheduleId`, `cs`.`day_of_week` AS `DayOfWeek`, `cs`.`course_instance_id` AS `CourseInstanceId`, `cs`.`group_course_instance_id` AS `GroupCourseInstanceId`, `cs`.`begin_time` AS `BeginTime`, `cs`.`end_time` AS `EndTime`, `l`.`learner_id` AS `LearnerId`, `l`.`first_name` AS `LearnerFirstName`, `l`.`last_name` AS `LearnerLastName`, `oto`.`org_id` AS `OrgId`, `o`.`org_name` AS `OrgName`
FROM `ablemusic`.`learner` AS `l`
INNER JOIN `ablemusic`.`one2one_course_instance` AS `oto` ON `l`.`learner_id` = `oto`.`learner_id`
INNER JOIN `ablemusic`.`course_schedule` AS `cs` ON `oto`.`course_instance_id` = `cs`.`course_instance_id`
INNER JOIN `ablemusic`.`org` AS `o` ON `oto`.`org_id` = `o`.`org_id`
WHERE (`oto`.`teacher_id` = @__teacherId_0) AND (@__beginDate_1 < `oto`.`end_date`)
2019-07-18 13:28:35.476 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__teacherId_0='?' (DbType = Int32), @__beginDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `cs`.`course_schedule_id` AS `CourseScheduleId`, `cs`.`day_of_week` AS `DayOfWeek`, `cs`.`course_instance_id` AS `CourseInstanceId`, `cs`.`group_course_instance_id` AS `GroupCourseInstanceId`, `cs`.`begin_time` AS `BeginTime`, `cs`.`end_time` AS `EndTime`, `g`.`org_id` AS `OrgId`, `o`.`org_name` AS `OrgName`
FROM `ablemusic`.`group_course_instance` AS `g`
INNER JOIN `ablemusic`.`course_schedule` AS `cs` ON `g`.`group_course_instance_id` = `cs`.`group_course_instance_id`
INNER JOIN `ablemusic`.`org` AS `o` ON `g`.`org_id` = `o`.`org_id`
WHERE (`g`.`teacher_id` = @__teacherId_0) AND (@__beginDate_1 < `g`.`end_date`)
2019-07-18 13:28:35.666 +12:00 [INF] Executed DbCommand (74ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `a.Learner`.`learner_id`, `a.Learner`.`address`, `a.Learner`.`comment`, `a.Learner`.`contact_num`, `a.Learner`.`created_at`, `a.Learner`.`dob`, `a.Learner`.`email`, `a.Learner`.`enroll_date`, `a.Learner`.`first_name`, `a.Learner`.`form_url`, `a.Learner`.`g5_certification`, `a.Learner`.`gender`, `a.Learner`.`is_abrsm_g5`, `a.Learner`.`is_active`, `a.Learner`.`is_under_18`, `a.Learner`.`last_name`, `a.Learner`.`learner_level`, `a.Learner`.`level_type`, `a.Learner`.`middle_name`, `a.Learner`.`note`, `a.Learner`.`org_id`, `a.Learner`.`otherfile_url`, `a.Learner`.`payment_period`, `a.Learner`.`photo`, `a.Learner`.`referrer`, `a.Learner`.`referrer_learner_id`, `a.Learner`.`user_id`, `a`.`course_instance_id` AS `CourseInstanceId`, `a`.`amendment_id` AS `AmendmentId`, `a`.`org_id` AS `OrgId`, `a`.`day_of_week` AS `DayOfWeek`, `a`.`begin_time` AS `BeginTime`, `a`.`end_time` AS `EndTime`, `a`.`learner_id` AS `LearnerId`, `a`.`room_id` AS `RoomId`, `a`.`begin_date` AS `BeginDate`, `a`.`end_date` AS `EndDate`, `a`.`created_at` AS `CreatedAt`, `a`.`reason`, `a`.`is_temporary` AS `IsTemporary`, `a`.`amend_type` AS `AmendType`, `a`.`course_schedule_id` AS `CourseScheduleId`
FROM `ablemusic`.`one2one_course_instance` AS `oto`
INNER JOIN `ablemusic`.`amendment` AS `a` ON `oto`.`course_instance_id` = `a`.`course_instance_id`
LEFT JOIN `ablemusic`.`learner` AS `a.Learner` ON `a`.`learner_id` = `a.Learner`.`learner_id`
INNER JOIN `ablemusic`.`learner` AS `l` ON `a`.`learner_id` = `l`.`learner_id`
WHERE `oto`.`teacher_id` = @__teacherId_0
2019-07-18 13:28:35.667 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TeacherAvailableCheckController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 930.1083000000001ms.
2019-07-18 13:28:35.667 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:28:35.667 +12:00 [INF] Executed action Pegasus_backend.Controllers.TeacherAvailableCheckController.Get (Pegasus_backend) in 931.0444ms
2019-07-18 13:28:35.667 +12:00 [INF] Request finished in 931.8009ms 200 application/json; charset=utf-8
2019-07-18 13:29:45.997 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/OnetoOneCourseInstance  
2019-07-18 13:29:45.997 +12:00 [INF] Policy execution successful.
2019-07-18 13:29:45.997 +12:00 [INF] Request finished in 0.487ms 204 
2019-07-18 13:29:46.005 +12:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/OnetoOneCourseInstance application/json 166
2019-07-18 13:29:46.005 +12:00 [INF] Policy execution successful.
2019-07-18 13:29:46.011 +12:00 [INF] Route matched with {action = "AddOnetoOneCourseInstance", controller = "OnetoOneCourseInstance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddOnetoOneCourseInstance(Pegasus_backend.Models.OnetoOneCourseInstancesModel) on controller Pegasus_backend.Controllers.OnetoOneCourseInstanceController (Pegasus_backend).
2019-07-18 13:29:46.037 +12:00 [INF] Executing action method Pegasus_backend.Controllers.OnetoOneCourseInstanceController.AddOnetoOneCourseInstance (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:29:46.040 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:29:46.368 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__courseInstance_CourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`course_id`, `s`.`course_category_id`, `s`.`course_name`, `s`.`course_type`, `s`.`duration`, `s`.`level`, `s`.`price`, `s`.`teacher_level`
FROM `ablemusic`.`course` AS `s`
WHERE @__courseInstance_CourseId_0 = `s`.`course_id`
LIMIT 1
2019-07-18 13:29:46.442 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__courseInstance_CourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`course_id`, `s`.`course_category_id`, `s`.`course_name`, `s`.`course_type`, `s`.`duration`, `s`.`level`, `s`.`price`, `s`.`teacher_level`
FROM `ablemusic`.`course` AS `s`
WHERE `s`.`course_id` = @__courseInstance_CourseId_0
LIMIT 1
2019-07-18 13:29:46.538 +12:00 [INF] Executed DbCommand (64ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32), @p5='?' (DbType = Int16), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`one2one_course_instance` (`begin_date`, `course_id`, `end_date`, `invoice_date`, `learner_id`, `org_id`, `room_id`, `teacher_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `course_instance_id`
FROM `ablemusic`.`one2one_course_instance`
WHERE ROW_COUNT() = 1
 AND `course_instance_id`=LAST_INSERT_ID();
2019-07-18 13:29:46.618 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[@p0='?' (DbType = Time), @p1='?' (DbType = Int32), @p2='?' (DbType = Byte), @p3='?' (DbType = Time), @p4='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`course_schedule` (`begin_time`, `course_instance_id`, `day_of_week`, `end_time`, `group_course_instance_id`)
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT `course_schedule_id`
FROM `ablemusic`.`course_schedule`
WHERE ROW_COUNT() = 1
 AND `course_schedule_id`=LAST_INSERT_ID();
2019-07-18 13:29:46.695 +12:00 [INF] Executed action method Pegasus_backend.Controllers.OnetoOneCourseInstanceController.AddOnetoOneCourseInstance (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 658.1095ms.
2019-07-18 13:29:46.696 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:29:46.696 +12:00 [INF] Executed action Pegasus_backend.Controllers.OnetoOneCourseInstanceController.AddOnetoOneCourseInstance (Pegasus_backend) in 684.4355ms
2019-07-18 13:29:46.696 +12:00 [INF] Request finished in 691.0057ms 200 application/json; charset=utf-8
2019-07-18 13:29:46.711 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner  
2019-07-18 13:29:46.712 +12:00 [INF] Policy execution successful.
2019-07-18 13:29:46.712 +12:00 [INF] Route matched with {action = "GetLearner", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearner() on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:29:46.713 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:29:46.714 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:29:46.901 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`is_active` = 1
ORDER BY `w`.`learner_id`
2019-07-18 13:29:46.969 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Parent`.`parent_id`, `w.Parent`.`contact_num`, `w.Parent`.`created_at`, `w.Parent`.`email`, `w.Parent`.`first_name`, `w.Parent`.`last_name`, `w.Parent`.`learner_id`, `w.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `w.Parent`
INNER JOIN (
    SELECT `w0`.`learner_id`
    FROM `ablemusic`.`learner` AS `w0`
    WHERE `w0`.`is_active` = 1
) AS `t` ON `w.Parent`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-18 13:29:47.028 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerOthers`.`learner_others_id`, `w.LearnerOthers`.`learner_id`, `w.LearnerOthers`.`learner_level`, `w.LearnerOthers`.`others_type`, `w.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `w.LearnerOthers`
INNER JOIN (
    SELECT `w1`.`learner_id`
    FROM `ablemusic`.`learner` AS `w1`
    WHERE `w1`.`is_active` = 1
) AS `t0` ON `w.LearnerOthers`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-18 13:29:47.116 +12:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance`.`course_instance_id`, `w.One2oneCourseInstance`.`begin_date`, `w.One2oneCourseInstance`.`course_id`, `w.One2oneCourseInstance`.`end_date`, `w.One2oneCourseInstance`.`invoice_date`, `w.One2oneCourseInstance`.`learner_id`, `w.One2oneCourseInstance`.`org_id`, `w.One2oneCourseInstance`.`room_id`, `w.One2oneCourseInstance`.`teacher_id`, `o.Teacher`.`teacher_id`, `o.Teacher`.`ability`, `o.Teacher`.`comment`, `o.Teacher`.`cv_url`, `o.Teacher`.`dob`, `o.Teacher`.`email`, `o.Teacher`.`expiry_date`, `o.Teacher`.`first_name`, `o.Teacher`.`form_url`, `o.Teacher`.`gender`, `o.Teacher`.`home_phone`, `o.Teacher`.`id_number`, `o.Teacher`.`id_photo`, `o.Teacher`.`id_type`, `o.Teacher`.`invoice_template`, `o.Teacher`.`ird_number`, `o.Teacher`.`is_activate`, `o.Teacher`.`is_contract`, `o.Teacher`.`is_left`, `o.Teacher`.`last_name`, `o.Teacher`.`level`, `o.Teacher`.`minimum_hours`, `o.Teacher`.`mobile_phone`, `o.Teacher`.`otherfile_url`, `o.Teacher`.`photo`, `o.Teacher`.`user_id`, `o.Teacher`.`visa`, `o.Room`.`room_id`, `o.Room`.`created_at`, `o.Room`.`is_activate`, `o.Room`.`org_id`, `o.Room`.`room_name`, `o.Course`.`course_id`, `o.Course`.`course_category_id`, `o.Course`.`course_name`, `o.Course`.`course_type`, `o.Course`.`duration`, `o.Course`.`level`, `o.Course`.`price`, `o.Course`.`teacher_level`, `o.Org`.`org_id`, `o.Org`.`abbr`, `o.Org`.`address`, `o.Org`.`email`, `o.Org`.`is_activate`, `o.Org`.`is_headoffice`, `o.Org`.`localtion_x`, `o.Org`.`localtion_y`, `o.Org`.`org_name`, `o.Org`.`phone`
FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance`
LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher` ON `w.One2oneCourseInstance`.`teacher_id` = `o.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `o.Room` ON `w.One2oneCourseInstance`.`room_id` = `o.Room`.`room_id`
LEFT JOIN `ablemusic`.`course` AS `o.Course` ON `w.One2oneCourseInstance`.`course_id` = `o.Course`.`course_id`
LEFT JOIN `ablemusic`.`org` AS `o.Org` ON `w.One2oneCourseInstance`.`org_id` = `o.Org`.`org_id`
INNER JOIN (
    SELECT `w2`.`learner_id`
    FROM `ablemusic`.`learner` AS `w2`
    WHERE `w2`.`is_active` = 1
) AS `t1` ON `w.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`, `w.One2oneCourseInstance`.`course_instance_id`
2019-07-18 13:29:47.282 +12:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.Amendment`.`amendment_id`, `w.One2oneCourseInstance.Amendment`.`amend_type`, `w.One2oneCourseInstance.Amendment`.`begin_date`, `w.One2oneCourseInstance.Amendment`.`begin_time`, `w.One2oneCourseInstance.Amendment`.`course_instance_id`, `w.One2oneCourseInstance.Amendment`.`course_schedule_id`, `w.One2oneCourseInstance.Amendment`.`created_at`, `w.One2oneCourseInstance.Amendment`.`day_of_week`, `w.One2oneCourseInstance.Amendment`.`end_date`, `w.One2oneCourseInstance.Amendment`.`end_time`, `w.One2oneCourseInstance.Amendment`.`is_temporary`, `w.One2oneCourseInstance.Amendment`.`learner_id`, `w.One2oneCourseInstance.Amendment`.`org_id`, `w.One2oneCourseInstance.Amendment`.`reason`, `w.One2oneCourseInstance.Amendment`.`room_id`, `w.One2oneCourseInstance.Amendment`.`teacher_id`, `a.Teacher`.`teacher_id`, `a.Teacher`.`ability`, `a.Teacher`.`comment`, `a.Teacher`.`cv_url`, `a.Teacher`.`dob`, `a.Teacher`.`email`, `a.Teacher`.`expiry_date`, `a.Teacher`.`first_name`, `a.Teacher`.`form_url`, `a.Teacher`.`gender`, `a.Teacher`.`home_phone`, `a.Teacher`.`id_number`, `a.Teacher`.`id_photo`, `a.Teacher`.`id_type`, `a.Teacher`.`invoice_template`, `a.Teacher`.`ird_number`, `a.Teacher`.`is_activate`, `a.Teacher`.`is_contract`, `a.Teacher`.`is_left`, `a.Teacher`.`last_name`, `a.Teacher`.`level`, `a.Teacher`.`minimum_hours`, `a.Teacher`.`mobile_phone`, `a.Teacher`.`otherfile_url`, `a.Teacher`.`photo`, `a.Teacher`.`user_id`, `a.Teacher`.`visa`, `a.Room`.`room_id`, `a.Room`.`created_at`, `a.Room`.`is_activate`, `a.Room`.`org_id`, `a.Room`.`room_name`
FROM `ablemusic`.`amendment` AS `w.One2oneCourseInstance.Amendment`
LEFT JOIN `ablemusic`.`teacher` AS `a.Teacher` ON `w.One2oneCourseInstance.Amendment`.`teacher_id` = `a.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `a.Room` ON `w.One2oneCourseInstance.Amendment`.`room_id` = `a.Room`.`room_id`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance0`.`course_instance_id`, `t2`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance0`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher0` ON `w.One2oneCourseInstance0`.`teacher_id` = `o.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room0` ON `w.One2oneCourseInstance0`.`room_id` = `o.Room0`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course0` ON `w.One2oneCourseInstance0`.`course_id` = `o.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org0` ON `w.One2oneCourseInstance0`.`org_id` = `o.Org0`.`org_id`
    INNER JOIN (
        SELECT `w3`.`learner_id`
        FROM `ablemusic`.`learner` AS `w3`
        WHERE `w3`.`is_active` = 1
    ) AS `t2` ON `w.One2oneCourseInstance0`.`learner_id` = `t2`.`learner_id`
) AS `t3` ON `w.One2oneCourseInstance.Amendment`.`course_instance_id` = `t3`.`course_instance_id`
ORDER BY `t3`.`learner_id`, `t3`.`course_instance_id`
2019-07-18 13:29:47.355 +12:00 [INF] Executed DbCommand (70ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.CourseSchedule`.`course_schedule_id`, `w.One2oneCourseInstance.CourseSchedule`.`begin_time`, `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id`, `w.One2oneCourseInstance.CourseSchedule`.`day_of_week`, `w.One2oneCourseInstance.CourseSchedule`.`end_time`, `w.One2oneCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `w.One2oneCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance1`.`course_instance_id`, `t4`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance1`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher1` ON `w.One2oneCourseInstance1`.`teacher_id` = `o.Teacher1`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room1` ON `w.One2oneCourseInstance1`.`room_id` = `o.Room1`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course1` ON `w.One2oneCourseInstance1`.`course_id` = `o.Course1`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org1` ON `w.One2oneCourseInstance1`.`org_id` = `o.Org1`.`org_id`
    INNER JOIN (
        SELECT `w4`.`learner_id`
        FROM `ablemusic`.`learner` AS `w4`
        WHERE `w4`.`is_active` = 1
    ) AS `t4` ON `w.One2oneCourseInstance1`.`learner_id` = `t4`.`learner_id`
) AS `t5` ON `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id` = `t5`.`course_instance_id`
ORDER BY `t5`.`learner_id`, `t5`.`course_instance_id`
2019-07-18 13:29:47.456 +12:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerGroupCourse`.`learner_group_course_id`, `w.LearnerGroupCourse`.`begin_date`, `w.LearnerGroupCourse`.`comment`, `w.LearnerGroupCourse`.`created_at`, `w.LearnerGroupCourse`.`end_date`, `w.LearnerGroupCourse`.`group_course_instance_id`, `w.LearnerGroupCourse`.`invoice_date`, `w.LearnerGroupCourse`.`is_activate`, `w.LearnerGroupCourse`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`, `l.GroupCourseInstance`.`begin_date`, `l.GroupCourseInstance`.`course_id`, `l.GroupCourseInstance`.`end_date`, `l.GroupCourseInstance`.`invoice_date`, `l.GroupCourseInstance`.`is_activate`, `l.GroupCourseInstance`.`is_started`, `l.GroupCourseInstance`.`org_id`, `l.GroupCourseInstance`.`room_id`, `l.GroupCourseInstance`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`ability`, `l.GroupCourseInstance.Teacher`.`comment`, `l.GroupCourseInstance.Teacher`.`cv_url`, `l.GroupCourseInstance.Teacher`.`dob`, `l.GroupCourseInstance.Teacher`.`email`, `l.GroupCourseInstance.Teacher`.`expiry_date`, `l.GroupCourseInstance.Teacher`.`first_name`, `l.GroupCourseInstance.Teacher`.`form_url`, `l.GroupCourseInstance.Teacher`.`gender`, `l.GroupCourseInstance.Teacher`.`home_phone`, `l.GroupCourseInstance.Teacher`.`id_number`, `l.GroupCourseInstance.Teacher`.`id_photo`, `l.GroupCourseInstance.Teacher`.`id_type`, `l.GroupCourseInstance.Teacher`.`invoice_template`, `l.GroupCourseInstance.Teacher`.`ird_number`, `l.GroupCourseInstance.Teacher`.`is_activate`, `l.GroupCourseInstance.Teacher`.`is_contract`, `l.GroupCourseInstance.Teacher`.`is_left`, `l.GroupCourseInstance.Teacher`.`last_name`, `l.GroupCourseInstance.Teacher`.`level`, `l.GroupCourseInstance.Teacher`.`minimum_hours`, `l.GroupCourseInstance.Teacher`.`mobile_phone`, `l.GroupCourseInstance.Teacher`.`otherfile_url`, `l.GroupCourseInstance.Teacher`.`photo`, `l.GroupCourseInstance.Teacher`.`user_id`, `l.GroupCourseInstance.Teacher`.`visa`, `l.GroupCourseInstance.Course`.`course_id`, `l.GroupCourseInstance.Course`.`course_category_id`, `l.GroupCourseInstance.Course`.`course_name`, `l.GroupCourseInstance.Course`.`course_type`, `l.GroupCourseInstance.Course`.`duration`, `l.GroupCourseInstance.Course`.`level`, `l.GroupCourseInstance.Course`.`price`, `l.GroupCourseInstance.Course`.`teacher_level`, `l.GroupCourseInstance.Room`.`room_id`, `l.GroupCourseInstance.Room`.`created_at`, `l.GroupCourseInstance.Room`.`is_activate`, `l.GroupCourseInstance.Room`.`org_id`, `l.GroupCourseInstance.Room`.`room_name`
FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse`
LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance` ON `w.LearnerGroupCourse`.`group_course_instance_id` = `l.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher` ON `l.GroupCourseInstance`.`teacher_id` = `l.GroupCourseInstance.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course` ON `l.GroupCourseInstance`.`course_id` = `l.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room` ON `l.GroupCourseInstance`.`room_id` = `l.GroupCourseInstance.Room`.`room_id`
INNER JOIN (
    SELECT `w5`.`learner_id`
    FROM `ablemusic`.`learner` AS `w5`
    WHERE `w5`.`is_active` = 1
) AS `t6` ON `w.LearnerGroupCourse`.`learner_id` = `t6`.`learner_id`
ORDER BY `t6`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`
2019-07-18 13:29:47.537 +12:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l.GroupCourseInstance.CourseSchedule`.`course_schedule_id`, `l.GroupCourseInstance.CourseSchedule`.`begin_time`, `l.GroupCourseInstance.CourseSchedule`.`course_instance_id`, `l.GroupCourseInstance.CourseSchedule`.`day_of_week`, `l.GroupCourseInstance.CourseSchedule`.`end_time`, `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `l.GroupCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `l.GroupCourseInstance0`.`group_course_instance_id`, `t7`.`learner_id`
    FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse0`
    LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance0` ON `w.LearnerGroupCourse0`.`group_course_instance_id` = `l.GroupCourseInstance0`.`group_course_instance_id`
    LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher0` ON `l.GroupCourseInstance0`.`teacher_id` = `l.GroupCourseInstance.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course0` ON `l.GroupCourseInstance0`.`course_id` = `l.GroupCourseInstance.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room0` ON `l.GroupCourseInstance0`.`room_id` = `l.GroupCourseInstance.Room0`.`room_id`
    INNER JOIN (
        SELECT `w6`.`learner_id`
        FROM `ablemusic`.`learner` AS `w6`
        WHERE `w6`.`is_active` = 1
    ) AS `t7` ON `w.LearnerGroupCourse0`.`learner_id` = `t7`.`learner_id`
) AS `t8` ON `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id` = `t8`.`group_course_instance_id`
ORDER BY `t8`.`learner_id`, `t8`.`group_course_instance_id`
2019-07-18 13:29:47.592 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 878.8042ms.
2019-07-18 13:29:47.592 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:29:47.599 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) in 886.40240000000006ms
2019-07-18 13:29:47.599 +12:00 [INF] Request finished in 887.7828ms 200 application/json; charset=utf-8
2019-07-18 13:30:00.805 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/2  
2019-07-18 13:30:00.805 +12:00 [INF] Policy execution successful.
2019-07-18 13:30:00.805 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/3  
2019-07-18 13:30:00.805 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/4  
2019-07-18 13:30:00.806 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 13:30:00.806 +12:00 [INF] Policy execution successful.
2019-07-18 13:30:00.806 +12:00 [INF] Policy execution successful.
2019-07-18 13:30:00.806 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 13:30:00.806 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:30:00.806 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 13:30:00.807 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:30:00.807 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/5  
2019-07-18 13:30:00.807 +12:00 [INF] Policy execution successful.
2019-07-18 13:30:00.808 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:30:00.810 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 13:30:00.810 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:30:00.810 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:30:00.810 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:30:00.810 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:30:00.810 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:30:00.818 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner  
2019-07-18 13:30:00.818 +12:00 [INF] Policy execution successful.
2019-07-18 13:30:00.818 +12:00 [INF] Route matched with {action = "GetLearner", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearner() on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:30:00.818 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:30:00.819 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:30:00.982 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 13:30:00.983 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 175.93970000000002ms.
2019-07-18 13:30:00.983 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:30:00.983 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 177.2132ms
2019-07-18 13:30:00.984 +12:00 [INF] Request finished in 178.0377ms 200 application/json; charset=utf-8
2019-07-18 13:30:00.985 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 13:30:00.990 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 13:30:00.990 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 13:30:00.993 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 183.7192ms.
2019-07-18 13:30:00.993 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 183.25230000000002ms.
2019-07-18 13:30:00.994 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:30:00.994 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 185.2202ms.
2019-07-18 13:30:00.994 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:30:00.994 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 184.12810000000002ms
2019-07-18 13:30:00.994 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:30:00.994 +12:00 [INF] Request finished in 187.2968ms 200 application/json; charset=utf-8
2019-07-18 13:30:00.994 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 188.24620000000002ms
2019-07-18 13:30:00.994 +12:00 [INF] Request finished in 189.1463ms 200 application/json; charset=utf-8
2019-07-18 13:30:00.994 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 187.089ms
2019-07-18 13:30:00.994 +12:00 [INF] Request finished in 189.0484ms 200 application/json; charset=utf-8
2019-07-18 13:30:00.997 +12:00 [INF] Executed DbCommand (65ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`is_active` = 1
ORDER BY `w`.`learner_id`
2019-07-18 13:30:00.998 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/null  
2019-07-18 13:30:00.999 +12:00 [INF] Request finished in 0.4293ms 404 
2019-07-18 13:30:01.060 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Parent`.`parent_id`, `w.Parent`.`contact_num`, `w.Parent`.`created_at`, `w.Parent`.`email`, `w.Parent`.`first_name`, `w.Parent`.`last_name`, `w.Parent`.`learner_id`, `w.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `w.Parent`
INNER JOIN (
    SELECT `w0`.`learner_id`
    FROM `ablemusic`.`learner` AS `w0`
    WHERE `w0`.`is_active` = 1
) AS `t` ON `w.Parent`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-18 13:30:01.116 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerOthers`.`learner_others_id`, `w.LearnerOthers`.`learner_id`, `w.LearnerOthers`.`learner_level`, `w.LearnerOthers`.`others_type`, `w.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `w.LearnerOthers`
INNER JOIN (
    SELECT `w1`.`learner_id`
    FROM `ablemusic`.`learner` AS `w1`
    WHERE `w1`.`is_active` = 1
) AS `t0` ON `w.LearnerOthers`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-18 13:30:01.192 +12:00 [INF] Executed DbCommand (75ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance`.`course_instance_id`, `w.One2oneCourseInstance`.`begin_date`, `w.One2oneCourseInstance`.`course_id`, `w.One2oneCourseInstance`.`end_date`, `w.One2oneCourseInstance`.`invoice_date`, `w.One2oneCourseInstance`.`learner_id`, `w.One2oneCourseInstance`.`org_id`, `w.One2oneCourseInstance`.`room_id`, `w.One2oneCourseInstance`.`teacher_id`, `o.Teacher`.`teacher_id`, `o.Teacher`.`ability`, `o.Teacher`.`comment`, `o.Teacher`.`cv_url`, `o.Teacher`.`dob`, `o.Teacher`.`email`, `o.Teacher`.`expiry_date`, `o.Teacher`.`first_name`, `o.Teacher`.`form_url`, `o.Teacher`.`gender`, `o.Teacher`.`home_phone`, `o.Teacher`.`id_number`, `o.Teacher`.`id_photo`, `o.Teacher`.`id_type`, `o.Teacher`.`invoice_template`, `o.Teacher`.`ird_number`, `o.Teacher`.`is_activate`, `o.Teacher`.`is_contract`, `o.Teacher`.`is_left`, `o.Teacher`.`last_name`, `o.Teacher`.`level`, `o.Teacher`.`minimum_hours`, `o.Teacher`.`mobile_phone`, `o.Teacher`.`otherfile_url`, `o.Teacher`.`photo`, `o.Teacher`.`user_id`, `o.Teacher`.`visa`, `o.Room`.`room_id`, `o.Room`.`created_at`, `o.Room`.`is_activate`, `o.Room`.`org_id`, `o.Room`.`room_name`, `o.Course`.`course_id`, `o.Course`.`course_category_id`, `o.Course`.`course_name`, `o.Course`.`course_type`, `o.Course`.`duration`, `o.Course`.`level`, `o.Course`.`price`, `o.Course`.`teacher_level`, `o.Org`.`org_id`, `o.Org`.`abbr`, `o.Org`.`address`, `o.Org`.`email`, `o.Org`.`is_activate`, `o.Org`.`is_headoffice`, `o.Org`.`localtion_x`, `o.Org`.`localtion_y`, `o.Org`.`org_name`, `o.Org`.`phone`
FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance`
LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher` ON `w.One2oneCourseInstance`.`teacher_id` = `o.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `o.Room` ON `w.One2oneCourseInstance`.`room_id` = `o.Room`.`room_id`
LEFT JOIN `ablemusic`.`course` AS `o.Course` ON `w.One2oneCourseInstance`.`course_id` = `o.Course`.`course_id`
LEFT JOIN `ablemusic`.`org` AS `o.Org` ON `w.One2oneCourseInstance`.`org_id` = `o.Org`.`org_id`
INNER JOIN (
    SELECT `w2`.`learner_id`
    FROM `ablemusic`.`learner` AS `w2`
    WHERE `w2`.`is_active` = 1
) AS `t1` ON `w.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`, `w.One2oneCourseInstance`.`course_instance_id`
2019-07-18 13:30:01.315 +12:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.Amendment`.`amendment_id`, `w.One2oneCourseInstance.Amendment`.`amend_type`, `w.One2oneCourseInstance.Amendment`.`begin_date`, `w.One2oneCourseInstance.Amendment`.`begin_time`, `w.One2oneCourseInstance.Amendment`.`course_instance_id`, `w.One2oneCourseInstance.Amendment`.`course_schedule_id`, `w.One2oneCourseInstance.Amendment`.`created_at`, `w.One2oneCourseInstance.Amendment`.`day_of_week`, `w.One2oneCourseInstance.Amendment`.`end_date`, `w.One2oneCourseInstance.Amendment`.`end_time`, `w.One2oneCourseInstance.Amendment`.`is_temporary`, `w.One2oneCourseInstance.Amendment`.`learner_id`, `w.One2oneCourseInstance.Amendment`.`org_id`, `w.One2oneCourseInstance.Amendment`.`reason`, `w.One2oneCourseInstance.Amendment`.`room_id`, `w.One2oneCourseInstance.Amendment`.`teacher_id`, `a.Teacher`.`teacher_id`, `a.Teacher`.`ability`, `a.Teacher`.`comment`, `a.Teacher`.`cv_url`, `a.Teacher`.`dob`, `a.Teacher`.`email`, `a.Teacher`.`expiry_date`, `a.Teacher`.`first_name`, `a.Teacher`.`form_url`, `a.Teacher`.`gender`, `a.Teacher`.`home_phone`, `a.Teacher`.`id_number`, `a.Teacher`.`id_photo`, `a.Teacher`.`id_type`, `a.Teacher`.`invoice_template`, `a.Teacher`.`ird_number`, `a.Teacher`.`is_activate`, `a.Teacher`.`is_contract`, `a.Teacher`.`is_left`, `a.Teacher`.`last_name`, `a.Teacher`.`level`, `a.Teacher`.`minimum_hours`, `a.Teacher`.`mobile_phone`, `a.Teacher`.`otherfile_url`, `a.Teacher`.`photo`, `a.Teacher`.`user_id`, `a.Teacher`.`visa`, `a.Room`.`room_id`, `a.Room`.`created_at`, `a.Room`.`is_activate`, `a.Room`.`org_id`, `a.Room`.`room_name`
FROM `ablemusic`.`amendment` AS `w.One2oneCourseInstance.Amendment`
LEFT JOIN `ablemusic`.`teacher` AS `a.Teacher` ON `w.One2oneCourseInstance.Amendment`.`teacher_id` = `a.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `a.Room` ON `w.One2oneCourseInstance.Amendment`.`room_id` = `a.Room`.`room_id`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance0`.`course_instance_id`, `t2`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance0`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher0` ON `w.One2oneCourseInstance0`.`teacher_id` = `o.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room0` ON `w.One2oneCourseInstance0`.`room_id` = `o.Room0`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course0` ON `w.One2oneCourseInstance0`.`course_id` = `o.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org0` ON `w.One2oneCourseInstance0`.`org_id` = `o.Org0`.`org_id`
    INNER JOIN (
        SELECT `w3`.`learner_id`
        FROM `ablemusic`.`learner` AS `w3`
        WHERE `w3`.`is_active` = 1
    ) AS `t2` ON `w.One2oneCourseInstance0`.`learner_id` = `t2`.`learner_id`
) AS `t3` ON `w.One2oneCourseInstance.Amendment`.`course_instance_id` = `t3`.`course_instance_id`
ORDER BY `t3`.`learner_id`, `t3`.`course_instance_id`
2019-07-18 13:30:01.383 +12:00 [INF] Executed DbCommand (66ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.CourseSchedule`.`course_schedule_id`, `w.One2oneCourseInstance.CourseSchedule`.`begin_time`, `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id`, `w.One2oneCourseInstance.CourseSchedule`.`day_of_week`, `w.One2oneCourseInstance.CourseSchedule`.`end_time`, `w.One2oneCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `w.One2oneCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance1`.`course_instance_id`, `t4`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance1`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher1` ON `w.One2oneCourseInstance1`.`teacher_id` = `o.Teacher1`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room1` ON `w.One2oneCourseInstance1`.`room_id` = `o.Room1`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course1` ON `w.One2oneCourseInstance1`.`course_id` = `o.Course1`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org1` ON `w.One2oneCourseInstance1`.`org_id` = `o.Org1`.`org_id`
    INNER JOIN (
        SELECT `w4`.`learner_id`
        FROM `ablemusic`.`learner` AS `w4`
        WHERE `w4`.`is_active` = 1
    ) AS `t4` ON `w.One2oneCourseInstance1`.`learner_id` = `t4`.`learner_id`
) AS `t5` ON `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id` = `t5`.`course_instance_id`
ORDER BY `t5`.`learner_id`, `t5`.`course_instance_id`
2019-07-18 13:30:01.481 +12:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerGroupCourse`.`learner_group_course_id`, `w.LearnerGroupCourse`.`begin_date`, `w.LearnerGroupCourse`.`comment`, `w.LearnerGroupCourse`.`created_at`, `w.LearnerGroupCourse`.`end_date`, `w.LearnerGroupCourse`.`group_course_instance_id`, `w.LearnerGroupCourse`.`invoice_date`, `w.LearnerGroupCourse`.`is_activate`, `w.LearnerGroupCourse`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`, `l.GroupCourseInstance`.`begin_date`, `l.GroupCourseInstance`.`course_id`, `l.GroupCourseInstance`.`end_date`, `l.GroupCourseInstance`.`invoice_date`, `l.GroupCourseInstance`.`is_activate`, `l.GroupCourseInstance`.`is_started`, `l.GroupCourseInstance`.`org_id`, `l.GroupCourseInstance`.`room_id`, `l.GroupCourseInstance`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`ability`, `l.GroupCourseInstance.Teacher`.`comment`, `l.GroupCourseInstance.Teacher`.`cv_url`, `l.GroupCourseInstance.Teacher`.`dob`, `l.GroupCourseInstance.Teacher`.`email`, `l.GroupCourseInstance.Teacher`.`expiry_date`, `l.GroupCourseInstance.Teacher`.`first_name`, `l.GroupCourseInstance.Teacher`.`form_url`, `l.GroupCourseInstance.Teacher`.`gender`, `l.GroupCourseInstance.Teacher`.`home_phone`, `l.GroupCourseInstance.Teacher`.`id_number`, `l.GroupCourseInstance.Teacher`.`id_photo`, `l.GroupCourseInstance.Teacher`.`id_type`, `l.GroupCourseInstance.Teacher`.`invoice_template`, `l.GroupCourseInstance.Teacher`.`ird_number`, `l.GroupCourseInstance.Teacher`.`is_activate`, `l.GroupCourseInstance.Teacher`.`is_contract`, `l.GroupCourseInstance.Teacher`.`is_left`, `l.GroupCourseInstance.Teacher`.`last_name`, `l.GroupCourseInstance.Teacher`.`level`, `l.GroupCourseInstance.Teacher`.`minimum_hours`, `l.GroupCourseInstance.Teacher`.`mobile_phone`, `l.GroupCourseInstance.Teacher`.`otherfile_url`, `l.GroupCourseInstance.Teacher`.`photo`, `l.GroupCourseInstance.Teacher`.`user_id`, `l.GroupCourseInstance.Teacher`.`visa`, `l.GroupCourseInstance.Course`.`course_id`, `l.GroupCourseInstance.Course`.`course_category_id`, `l.GroupCourseInstance.Course`.`course_name`, `l.GroupCourseInstance.Course`.`course_type`, `l.GroupCourseInstance.Course`.`duration`, `l.GroupCourseInstance.Course`.`level`, `l.GroupCourseInstance.Course`.`price`, `l.GroupCourseInstance.Course`.`teacher_level`, `l.GroupCourseInstance.Room`.`room_id`, `l.GroupCourseInstance.Room`.`created_at`, `l.GroupCourseInstance.Room`.`is_activate`, `l.GroupCourseInstance.Room`.`org_id`, `l.GroupCourseInstance.Room`.`room_name`
FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse`
LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance` ON `w.LearnerGroupCourse`.`group_course_instance_id` = `l.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher` ON `l.GroupCourseInstance`.`teacher_id` = `l.GroupCourseInstance.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course` ON `l.GroupCourseInstance`.`course_id` = `l.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room` ON `l.GroupCourseInstance`.`room_id` = `l.GroupCourseInstance.Room`.`room_id`
INNER JOIN (
    SELECT `w5`.`learner_id`
    FROM `ablemusic`.`learner` AS `w5`
    WHERE `w5`.`is_active` = 1
) AS `t6` ON `w.LearnerGroupCourse`.`learner_id` = `t6`.`learner_id`
ORDER BY `t6`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`
2019-07-18 13:30:01.557 +12:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l.GroupCourseInstance.CourseSchedule`.`course_schedule_id`, `l.GroupCourseInstance.CourseSchedule`.`begin_time`, `l.GroupCourseInstance.CourseSchedule`.`course_instance_id`, `l.GroupCourseInstance.CourseSchedule`.`day_of_week`, `l.GroupCourseInstance.CourseSchedule`.`end_time`, `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `l.GroupCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `l.GroupCourseInstance0`.`group_course_instance_id`, `t7`.`learner_id`
    FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse0`
    LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance0` ON `w.LearnerGroupCourse0`.`group_course_instance_id` = `l.GroupCourseInstance0`.`group_course_instance_id`
    LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher0` ON `l.GroupCourseInstance0`.`teacher_id` = `l.GroupCourseInstance.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course0` ON `l.GroupCourseInstance0`.`course_id` = `l.GroupCourseInstance.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room0` ON `l.GroupCourseInstance0`.`room_id` = `l.GroupCourseInstance.Room0`.`room_id`
    INNER JOIN (
        SELECT `w6`.`learner_id`
        FROM `ablemusic`.`learner` AS `w6`
        WHERE `w6`.`is_active` = 1
    ) AS `t7` ON `w.LearnerGroupCourse0`.`learner_id` = `t7`.`learner_id`
) AS `t8` ON `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id` = `t8`.`group_course_instance_id`
ORDER BY `t8`.`learner_id`, `t8`.`group_course_instance_id`
2019-07-18 13:30:01.605 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 786.66100000000006ms.
2019-07-18 13:30:01.605 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:30:01.611 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) in 793.1735ms
2019-07-18 13:30:01.612 +12:00 [INF] Request finished in 793.9415ms 200 application/json; charset=utf-8
2019-07-18 13:30:31.550 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/payment  
2019-07-18 13:30:31.550 +12:00 [INF] Policy execution successful.
2019-07-18 13:30:31.554 +12:00 [INF] Route matched with {action = "GetTerms", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetTerms() on controller Pegasus_backend.Controllers.PaymentController (Pegasus_backend).
2019-07-18 13:30:31.555 +12:00 [INF] Executing action method Pegasus_backend.Controllers.PaymentController.GetTerms (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:30:31.557 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:30:31.747 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`term_id`, `t`.`begin_date`, `t`.`end_date`, `t`.`term_name`, `t`.`term_type`, `t`.`week_quantity`
FROM `ablemusic`.`term` AS `t`
2019-07-18 13:30:31.760 +12:00 [INF] Executed action method Pegasus_backend.Controllers.PaymentController.GetTerms (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 205.0945ms.
2019-07-18 13:30:31.761 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:30:31.779 +12:00 [INF] Executed action Pegasus_backend.Controllers.PaymentController.GetTerms (Pegasus_backend) in 224.3145ms
2019-07-18 13:30:31.779 +12:00 [INF] Request finished in 229.2546ms 200 application/json; charset=utf-8
2019-07-18 13:30:37.250 +12:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Payment/GenerateGroupInvoice/2/ text/plain 0
2019-07-18 13:30:37.250 +12:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/payment/Generateone2oneInvoice/2/ text/plain 0
2019-07-18 13:30:37.250 +12:00 [INF] Policy execution successful.
2019-07-18 13:30:37.250 +12:00 [INF] Policy execution successful.
2019-07-18 13:30:37.256 +12:00 [INF] Route matched with {action = "Generateone2oneInvoice", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Generateone2oneInvoice(Int32, Int32) on controller Pegasus_backend.Controllers.PaymentController (Pegasus_backend).
2019-07-18 13:30:37.256 +12:00 [INF] Route matched with {action = "GenerateGroupInvoice", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateGroupInvoice(Int32, Int32) on controller Pegasus_backend.Controllers.PaymentController (Pegasus_backend).
2019-07-18 13:30:37.256 +12:00 [INF] Executing action method Pegasus_backend.Controllers.PaymentController.Generateone2oneInvoice (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:30:37.256 +12:00 [INF] Executing action method Pegasus_backend.Controllers.PaymentController.GenerateGroupInvoice (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:30:37.268 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:30:37.271 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:30:37.276 +12:00 [WRN] The Include operation for navigation '[x].Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:30:37.277 +12:00 [WRN] The Include operation for navigation '[x].Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:30:37.277 +12:00 [WRN] The Include operation for navigation '[x].LearnerGroupCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:30:37.277 +12:00 [WRN] The Include operation for navigation '[x].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:30:37.477 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_id` AS `LearnerId`, `x`.`course_id` AS `CourseId`, `x`.`course_instance_id` AS `CourseInstanceId`, `x`.`begin_date` AS `BeginDate`, `x`.`end_date` AS `EndDate`, `x`.`invoice_date` AS `InvoiceDate`, `x.Course`.`course_name` AS `CourseName`, `x.Course`.`price`, `x.Learner`.`first_name` AS `FirstName`, `x.Learner`.`payment_period` AS `PaymentPeriod`
FROM `ablemusic`.`one2one_course_instance` AS `x`
LEFT JOIN `ablemusic`.`course` AS `x.Course` ON `x`.`course_id` = `x.Course`.`course_id`
LEFT JOIN `ablemusic`.`learner` AS `x.Learner` ON `x`.`learner_id` = `x.Learner`.`learner_id`
WHERE `x.Learner`.`is_active` = 1
2019-07-18 13:30:37.498 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_id` AS `CourseId`, `x`.`group_course_instance_id` AS `GroupCourseInstanceId`, `x`.`begin_date` AS `BeginDate`, `x`.`end_date` AS `EndDate`, `x`.`is_started` AS `IsStarted`, `x.Course`.`course_name` AS `CourseName`, `x.Course`.`price`
FROM `ablemusic`.`group_course_instance` AS `x`
INNER JOIN `ablemusic`.`course` AS `x.Course` ON `x`.`course_id` = `x.Course`.`course_id`
ORDER BY `x`.`group_course_instance_id`
2019-07-18 13:30:37.576 +12:00 [INF] Executed DbCommand (65ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`group_course_instance_id`, `s.Learner`.`first_name` AS `FirstName`, `x.LearnerGroupCourse`.`learner_id` AS `LearnerId`, `x.LearnerGroupCourse`.`created_at` AS `CreatedAt`, `x.LearnerGroupCourse`.`begin_date` AS `BeginDate`, `x.LearnerGroupCourse`.`end_date` AS `EndDate`, `x.LearnerGroupCourse`.`invoice_date` AS `InvoiceDate`, `x.LearnerGroupCourse`.`learner_group_course_id` AS `LearnerGroupCourseId`, `x.LearnerGroupCourse`.`is_activate` AS `IsActivate`, `x.LearnerGroupCourse`.`group_course_instance_id`
FROM `ablemusic`.`learner_group_course` AS `x.LearnerGroupCourse`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `x.LearnerGroupCourse`.`learner_id` = `s.Learner`.`learner_id`
INNER JOIN (
    SELECT `x0`.`group_course_instance_id`
    FROM `ablemusic`.`group_course_instance` AS `x0`
    INNER JOIN `ablemusic`.`course` AS `x.Course0` ON `x0`.`course_id` = `x.Course0`.`course_id`
) AS `t` ON `x.LearnerGroupCourse`.`group_course_instance_id` = `t`.`group_course_instance_id`
WHERE `x.LearnerGroupCourse`.`is_activate` = 1
ORDER BY `t`.`group_course_instance_id`
2019-07-18 13:30:37.673 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__term_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`term_id`, `x`.`begin_date`, `x`.`end_date`, `x`.`term_name`, `x`.`term_type`, `x`.`week_quantity`
FROM `ablemusic`.`term` AS `x`
WHERE `x`.`term_id` = @__term_id_0
LIMIT 1
2019-07-18 13:30:37.768 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__term_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`term_id`, `x`.`begin_date`, `x`.`end_date`, `x`.`term_name`, `x`.`term_type`, `x`.`week_quantity`
FROM `ablemusic`.`term` AS `x`
WHERE `x`.`term_id` = @__term_id_0
LIMIT 1
2019-07-18 13:30:37.862 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`term_id` AS `TermId`, `x`.`begin_date` AS `BeginDate`, `x`.`end_date` AS `EndDate`
FROM `ablemusic`.`term` AS `x`
2019-07-18 13:30:37.971 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:30:38.056 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:30:38.158 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:30:38.340 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:30:38.417 +12:00 [INF] Executed DbCommand (64ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = AnsiString), @p18='?' (Size = -1), @p19='?' (DbType = AnsiString), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = AnsiString), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`invoice_waiting_confirm` (`begin_date`, `comment`, `concert_fee`, `concert_fee_name`, `course_instance_id`, `course_name`, `created_at`, `due_date`, `end_date`, `group_course_instance_id`, `invoice_num`, `is_activate`, `is_confirmed`, `is_email_sent`, `is_paid`, `learner_id`, `learner_name`, `lesson_fee`, `lesson_note_fee_name`, `lesson_quantity`, `note_fee`, `other1_fee`, `other1_fee_name`, `other2_fee`, `other2_fee_name`, `other3_fee`, `other3_fee_name`, `owing_fee`, `paid_fee`, `term_id`, `total_fee`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
SELECT `waiting_id`
FROM `ablemusic`.`invoice_waiting_confirm`
WHERE ROW_COUNT() = 1
 AND `waiting_id`=LAST_INSERT_ID();
2019-07-18 13:30:38.513 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:30:38.536 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@p32='?' (DbType = Int32), @p31='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `invoice_date` = @p31
WHERE `course_instance_id` = @p32;
SELECT ROW_COUNT();
2019-07-18 13:30:38.693 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:30:38.866 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:30:38.937 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__invoice_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`waiting_id`, `x`.`begin_date`, `x`.`comment`, `x`.`concert_fee`, `x`.`concert_fee_name`, `x`.`course_instance_id`, `x`.`course_name`, `x`.`created_at`, `x`.`due_date`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_num`, `x`.`is_activate`, `x`.`is_confirmed`, `x`.`is_email_sent`, `x`.`is_paid`, `x`.`learner_id`, `x`.`learner_name`, `x`.`lesson_fee`, `x`.`lesson_note_fee_name`, `x`.`lesson_quantity`, `x`.`note_fee`, `x`.`other1_fee`, `x`.`other1_fee_name`, `x`.`other2_fee`, `x`.`other2_fee_name`, `x`.`other3_fee`, `x`.`other3_fee_name`, `x`.`owing_fee`, `x`.`paid_fee`, `x`.`term_id`, `x`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `x`
WHERE `x`.`waiting_id` = @__invoice_id_0
LIMIT 1
2019-07-18 13:30:39.031 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:30:39.043 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_schedule_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`day_of_week`, `x`.`end_time`, `x`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
ORDER BY `x`.`day_of_week`
2019-07-18 13:30:39.111 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32), @__invoice_EndDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`amendment_id`, `x`.`amend_type`, `x`.`begin_date`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`course_schedule_id`, `x`.`created_at`, `x`.`day_of_week`, `x`.`end_date`, `x`.`end_time`, `x`.`is_temporary`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`amendment` AS `x`
WHERE (`x`.`course_instance_id` = @__invoice_CourseInstanceId_0) AND (`x`.`begin_date` <= @__invoice_EndDate_1)
ORDER BY `x`.`created_at`
2019-07-18 13:30:39.166 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:30:39.201 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:30:39.266 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`holiday_date`
FROM `ablemusic`.`holiday` AS `x`
2019-07-18 13:30:39.377 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:30:39.399 +12:00 [INF] Executed DbCommand (66ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:30:39.538 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:30:39.712 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:30:39.822 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[@p31='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = Decimal), @p18='?' (Size = -1), @p19='?' (DbType = Int32), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = Decimal), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`invoice_waiting_confirm` SET `begin_date` = @p0, `comment` = @p1, `concert_fee` = @p2, `concert_fee_name` = @p3, `course_instance_id` = @p4, `course_name` = @p5, `created_at` = @p6, `due_date` = @p7, `end_date` = @p8, `group_course_instance_id` = @p9, `invoice_num` = @p10, `is_activate` = @p11, `is_confirmed` = @p12, `is_email_sent` = @p13, `is_paid` = @p14, `learner_id` = @p15, `learner_name` = @p16, `lesson_fee` = @p17, `lesson_note_fee_name` = @p18, `lesson_quantity` = @p19, `note_fee` = @p20, `other1_fee` = @p21, `other1_fee_name` = @p22, `other2_fee` = @p23, `other2_fee_name` = @p24, `other3_fee` = @p25, `other3_fee_name` = @p26, `owing_fee` = @p27, `paid_fee` = @p28, `term_id` = @p29, `total_fee` = @p30
WHERE `waiting_id` = @p31;
SELECT ROW_COUNT();
2019-07-18 13:30:39.887 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:30:39.927 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@p40='?' (DbType = Int32), @p32='?' (DbType = DateTime), @p33='?' (DbType = Int32), @p34='?' (DbType = DateTime), @p35='?' (DbType = DateTime), @p36='?' (DbType = Int32), @p37='?' (DbType = Int16), @p38='?' (DbType = Int16), @p39='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `begin_date` = @p32, `course_id` = @p33, `end_date` = @p34, `invoice_date` = @p35, `learner_id` = @p36, `org_id` = @p37, `room_id` = @p38, `teacher_id` = @p39
WHERE `course_instance_id` = @p40;
SELECT ROW_COUNT();
2019-07-18 13:30:40.063 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:30:40.168 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:30:40.245 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:30:40.414 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:30:40.472 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = AnsiString), @p18='?' (Size = -1), @p19='?' (DbType = AnsiString), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = AnsiString), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`invoice_waiting_confirm` (`begin_date`, `comment`, `concert_fee`, `concert_fee_name`, `course_instance_id`, `course_name`, `created_at`, `due_date`, `end_date`, `group_course_instance_id`, `invoice_num`, `is_activate`, `is_confirmed`, `is_email_sent`, `is_paid`, `learner_id`, `learner_name`, `lesson_fee`, `lesson_note_fee_name`, `lesson_quantity`, `note_fee`, `other1_fee`, `other1_fee_name`, `other2_fee`, `other2_fee_name`, `other3_fee`, `other3_fee_name`, `owing_fee`, `paid_fee`, `term_id`, `total_fee`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
SELECT `waiting_id`
FROM `ablemusic`.`invoice_waiting_confirm`
WHERE ROW_COUNT() = 1
 AND `waiting_id`=LAST_INSERT_ID();
2019-07-18 13:30:40.578 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@p32='?' (DbType = Int32), @p31='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `invoice_date` = @p31
WHERE `course_instance_id` = @p32;
SELECT ROW_COUNT();
2019-07-18 13:30:40.580 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:30:40.750 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:30:40.961 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:30:40.970 +12:00 [INF] Executed DbCommand (62ms) [Parameters=[@__invoice_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`waiting_id`, `x`.`begin_date`, `x`.`comment`, `x`.`concert_fee`, `x`.`concert_fee_name`, `x`.`course_instance_id`, `x`.`course_name`, `x`.`created_at`, `x`.`due_date`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_num`, `x`.`is_activate`, `x`.`is_confirmed`, `x`.`is_email_sent`, `x`.`is_paid`, `x`.`learner_id`, `x`.`learner_name`, `x`.`lesson_fee`, `x`.`lesson_note_fee_name`, `x`.`lesson_quantity`, `x`.`note_fee`, `x`.`other1_fee`, `x`.`other1_fee_name`, `x`.`other2_fee`, `x`.`other2_fee_name`, `x`.`other3_fee`, `x`.`other3_fee_name`, `x`.`owing_fee`, `x`.`paid_fee`, `x`.`term_id`, `x`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `x`
WHERE `x`.`waiting_id` = @__invoice_id_0
LIMIT 1
2019-07-18 13:30:41.036 +12:00 [INF] Executed DbCommand (65ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_schedule_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`day_of_week`, `x`.`end_time`, `x`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
ORDER BY `x`.`day_of_week`
2019-07-18 13:30:41.131 +12:00 [INF] Executed DbCommand (94ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32), @__invoice_EndDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`amendment_id`, `x`.`amend_type`, `x`.`begin_date`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`course_schedule_id`, `x`.`created_at`, `x`.`day_of_week`, `x`.`end_date`, `x`.`end_time`, `x`.`is_temporary`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`amendment` AS `x`
WHERE (`x`.`course_instance_id` = @__invoice_CourseInstanceId_0) AND (`x`.`begin_date` <= @__invoice_EndDate_1)
ORDER BY `x`.`created_at`
2019-07-18 13:30:41.138 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:30:41.183 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:30:41.235 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`holiday_date`
FROM `ablemusic`.`holiday` AS `x`
2019-07-18 13:30:41.298 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:30:41.320 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:30:41.489 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:30:41.664 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:30:41.676 +12:00 [INF] Executed DbCommand (61ms) [Parameters=[@p31='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = Decimal), @p18='?' (Size = -1), @p19='?' (DbType = Int32), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = Decimal), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`invoice_waiting_confirm` SET `begin_date` = @p0, `comment` = @p1, `concert_fee` = @p2, `concert_fee_name` = @p3, `course_instance_id` = @p4, `course_name` = @p5, `created_at` = @p6, `due_date` = @p7, `end_date` = @p8, `group_course_instance_id` = @p9, `invoice_num` = @p10, `is_activate` = @p11, `is_confirmed` = @p12, `is_email_sent` = @p13, `is_paid` = @p14, `learner_id` = @p15, `learner_name` = @p16, `lesson_fee` = @p17, `lesson_note_fee_name` = @p18, `lesson_quantity` = @p19, `note_fee` = @p20, `other1_fee` = @p21, `other1_fee_name` = @p22, `other2_fee` = @p23, `other2_fee_name` = @p24, `other3_fee` = @p25, `other3_fee_name` = @p26, `owing_fee` = @p27, `paid_fee` = @p28, `term_id` = @p29, `total_fee` = @p30
WHERE `waiting_id` = @p31;
SELECT ROW_COUNT();
2019-07-18 13:30:41.789 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@p40='?' (DbType = Int32), @p32='?' (DbType = DateTime), @p33='?' (DbType = Int32), @p34='?' (DbType = DateTime), @p35='?' (DbType = DateTime), @p36='?' (DbType = Int32), @p37='?' (DbType = Int16), @p38='?' (DbType = Int16), @p39='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `begin_date` = @p32, `course_id` = @p33, `end_date` = @p34, `invoice_date` = @p35, `learner_id` = @p36, `org_id` = @p37, `room_id` = @p38, `teacher_id` = @p39
WHERE `course_instance_id` = @p40;
SELECT ROW_COUNT();
2019-07-18 13:30:41.841 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:30:42.015 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:30:42.020 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:30:42.199 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:30:42.321 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = AnsiString), @p18='?' (Size = -1), @p19='?' (DbType = AnsiString), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = AnsiString), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`invoice_waiting_confirm` (`begin_date`, `comment`, `concert_fee`, `concert_fee_name`, `course_instance_id`, `course_name`, `created_at`, `due_date`, `end_date`, `group_course_instance_id`, `invoice_num`, `is_activate`, `is_confirmed`, `is_email_sent`, `is_paid`, `learner_id`, `learner_name`, `lesson_fee`, `lesson_note_fee_name`, `lesson_quantity`, `note_fee`, `other1_fee`, `other1_fee_name`, `other2_fee`, `other2_fee_name`, `other3_fee`, `other3_fee_name`, `owing_fee`, `paid_fee`, `term_id`, `total_fee`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
SELECT `waiting_id`
FROM `ablemusic`.`invoice_waiting_confirm`
WHERE ROW_COUNT() = 1
 AND `waiting_id`=LAST_INSERT_ID();
2019-07-18 13:30:42.373 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:30:42.433 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@p32='?' (DbType = Int32), @p31='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `invoice_date` = @p31
WHERE `course_instance_id` = @p32;
SELECT ROW_COUNT();
2019-07-18 13:30:42.559 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:30:42.559 +12:00 [INF] Executed action method Pegasus_backend.Controllers.PaymentController.GenerateGroupInvoice (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5302.4458ms.
2019-07-18 13:30:42.559 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:30:42.559 +12:00 [INF] Executed action Pegasus_backend.Controllers.PaymentController.GenerateGroupInvoice (Pegasus_backend) in 5303.4132ms
2019-07-18 13:30:42.560 +12:00 [INF] Request finished in 5309.855ms 200 application/json; charset=utf-8
2019-07-18 13:30:42.804 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[@__invoice_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`waiting_id`, `x`.`begin_date`, `x`.`comment`, `x`.`concert_fee`, `x`.`concert_fee_name`, `x`.`course_instance_id`, `x`.`course_name`, `x`.`created_at`, `x`.`due_date`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_num`, `x`.`is_activate`, `x`.`is_confirmed`, `x`.`is_email_sent`, `x`.`is_paid`, `x`.`learner_id`, `x`.`learner_name`, `x`.`lesson_fee`, `x`.`lesson_note_fee_name`, `x`.`lesson_quantity`, `x`.`note_fee`, `x`.`other1_fee`, `x`.`other1_fee_name`, `x`.`other2_fee`, `x`.`other2_fee_name`, `x`.`other3_fee`, `x`.`other3_fee_name`, `x`.`owing_fee`, `x`.`paid_fee`, `x`.`term_id`, `x`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `x`
WHERE `x`.`waiting_id` = @__invoice_id_0
LIMIT 1
2019-07-18 13:30:42.869 +12:00 [INF] Executed DbCommand (64ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_schedule_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`day_of_week`, `x`.`end_time`, `x`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
ORDER BY `x`.`day_of_week`
2019-07-18 13:30:42.925 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32), @__invoice_EndDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`amendment_id`, `x`.`amend_type`, `x`.`begin_date`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`course_schedule_id`, `x`.`created_at`, `x`.`day_of_week`, `x`.`end_date`, `x`.`end_time`, `x`.`is_temporary`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`amendment` AS `x`
WHERE (`x`.`course_instance_id` = @__invoice_CourseInstanceId_0) AND (`x`.`begin_date` <= @__invoice_EndDate_1)
ORDER BY `x`.`created_at`
2019-07-18 13:30:42.978 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:30:43.026 +12:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`holiday_date`
FROM `ablemusic`.`holiday` AS `x`
2019-07-18 13:30:43.283 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:30:43.580 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = Decimal), @p2='?' (DbType = Int32), @p3='?' (DbType = Decimal), @p4='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`invoice_waiting_confirm` SET `due_date` = @p0, `lesson_fee` = @p1, `lesson_quantity` = @p2, `owing_fee` = @p3, `total_fee` = @p4
WHERE `waiting_id` = @p5;
SELECT ROW_COUNT();
2019-07-18 13:30:43.641 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[@p6='?' (DbType = DateTime), @p7='?' (Size = -1), @p8='?' (DbType = AnsiString), @p9='?' (Size = -1), @p10='?' (DbType = Int32), @p11='?' (Size = -1), @p12='?' (DbType = DateTime), @p13='?' (DbType = DateTime), @p14='?' (DbType = DateTime), @p15='?' (DbType = AnsiString), @p16='?' (Size = -1), @p17='?' (DbType = Int16), @p18='?' (DbType = Int16), @p19='?' (DbType = Int16), @p20='?' (DbType = Int16), @p21='?' (DbType = Int32), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (DbType = AnsiString), @p27='?' (DbType = AnsiString), @p28='?' (Size = -1), @p29='?' (DbType = AnsiString), @p30='?' (Size = -1), @p31='?' (DbType = AnsiString), @p32='?' (Size = -1), @p33='?' (DbType = AnsiString), @p34='?' (DbType = Decimal), @p35='?' (DbType = Int16), @p36='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`invoice_waiting_confirm` (`begin_date`, `comment`, `concert_fee`, `concert_fee_name`, `course_instance_id`, `course_name`, `created_at`, `due_date`, `end_date`, `group_course_instance_id`, `invoice_num`, `is_activate`, `is_confirmed`, `is_email_sent`, `is_paid`, `learner_id`, `learner_name`, `lesson_fee`, `lesson_note_fee_name`, `lesson_quantity`, `note_fee`, `other1_fee`, `other1_fee_name`, `other2_fee`, `other2_fee_name`, `other3_fee`, `other3_fee_name`, `owing_fee`, `paid_fee`, `term_id`, `total_fee`)
VALUES (@p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36);
SELECT `waiting_id`
FROM `ablemusic`.`invoice_waiting_confirm`
WHERE ROW_COUNT() = 1
 AND `waiting_id`=LAST_INSERT_ID();
2019-07-18 13:30:43.693 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@p38='?' (DbType = Int32), @p37='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `invoice_date` = @p37
WHERE `course_instance_id` = @p38;
SELECT ROW_COUNT();
2019-07-18 13:30:44.096 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@__invoice_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`waiting_id`, `x`.`begin_date`, `x`.`comment`, `x`.`concert_fee`, `x`.`concert_fee_name`, `x`.`course_instance_id`, `x`.`course_name`, `x`.`created_at`, `x`.`due_date`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_num`, `x`.`is_activate`, `x`.`is_confirmed`, `x`.`is_email_sent`, `x`.`is_paid`, `x`.`learner_id`, `x`.`learner_name`, `x`.`lesson_fee`, `x`.`lesson_note_fee_name`, `x`.`lesson_quantity`, `x`.`note_fee`, `x`.`other1_fee`, `x`.`other1_fee_name`, `x`.`other2_fee`, `x`.`other2_fee_name`, `x`.`other3_fee`, `x`.`other3_fee_name`, `x`.`owing_fee`, `x`.`paid_fee`, `x`.`term_id`, `x`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `x`
WHERE `x`.`waiting_id` = @__invoice_id_0
LIMIT 1
2019-07-18 13:30:44.153 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_schedule_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`day_of_week`, `x`.`end_time`, `x`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
ORDER BY `x`.`day_of_week`
2019-07-18 13:30:44.210 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32), @__invoice_EndDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`amendment_id`, `x`.`amend_type`, `x`.`begin_date`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`course_schedule_id`, `x`.`created_at`, `x`.`day_of_week`, `x`.`end_date`, `x`.`end_time`, `x`.`is_temporary`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`amendment` AS `x`
WHERE (`x`.`course_instance_id` = @__invoice_CourseInstanceId_0) AND (`x`.`begin_date` <= @__invoice_EndDate_1)
ORDER BY `x`.`created_at`
2019-07-18 13:30:44.262 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:30:44.312 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`holiday_date`
FROM `ablemusic`.`holiday` AS `x`
2019-07-18 13:30:44.377 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:30:44.740 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[@p31='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = Decimal), @p18='?' (Size = -1), @p19='?' (DbType = Int32), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = Decimal), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`invoice_waiting_confirm` SET `begin_date` = @p0, `comment` = @p1, `concert_fee` = @p2, `concert_fee_name` = @p3, `course_instance_id` = @p4, `course_name` = @p5, `created_at` = @p6, `due_date` = @p7, `end_date` = @p8, `group_course_instance_id` = @p9, `invoice_num` = @p10, `is_activate` = @p11, `is_confirmed` = @p12, `is_email_sent` = @p13, `is_paid` = @p14, `learner_id` = @p15, `learner_name` = @p16, `lesson_fee` = @p17, `lesson_note_fee_name` = @p18, `lesson_quantity` = @p19, `note_fee` = @p20, `other1_fee` = @p21, `other1_fee_name` = @p22, `other2_fee` = @p23, `other2_fee_name` = @p24, `other3_fee` = @p25, `other3_fee_name` = @p26, `owing_fee` = @p27, `paid_fee` = @p28, `term_id` = @p29, `total_fee` = @p30
WHERE `waiting_id` = @p31;
SELECT ROW_COUNT();
2019-07-18 13:30:44.793 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@p40='?' (DbType = Int32), @p32='?' (DbType = DateTime), @p33='?' (DbType = Int32), @p34='?' (DbType = DateTime), @p35='?' (DbType = DateTime), @p36='?' (DbType = Int32), @p37='?' (DbType = Int16), @p38='?' (DbType = Int16), @p39='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `begin_date` = @p32, `course_id` = @p33, `end_date` = @p34, `invoice_date` = @p35, `learner_id` = @p36, `org_id` = @p37, `room_id` = @p38, `teacher_id` = @p39
WHERE `course_instance_id` = @p40;
SELECT ROW_COUNT();
2019-07-18 13:30:45.035 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:30:45.351 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = AnsiString), @p18='?' (Size = -1), @p19='?' (DbType = AnsiString), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = AnsiString), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`invoice_waiting_confirm` (`begin_date`, `comment`, `concert_fee`, `concert_fee_name`, `course_instance_id`, `course_name`, `created_at`, `due_date`, `end_date`, `group_course_instance_id`, `invoice_num`, `is_activate`, `is_confirmed`, `is_email_sent`, `is_paid`, `learner_id`, `learner_name`, `lesson_fee`, `lesson_note_fee_name`, `lesson_quantity`, `note_fee`, `other1_fee`, `other1_fee_name`, `other2_fee`, `other2_fee_name`, `other3_fee`, `other3_fee_name`, `owing_fee`, `paid_fee`, `term_id`, `total_fee`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
SELECT `waiting_id`
FROM `ablemusic`.`invoice_waiting_confirm`
WHERE ROW_COUNT() = 1
 AND `waiting_id`=LAST_INSERT_ID();
2019-07-18 13:30:45.473 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@p32='?' (DbType = Int32), @p31='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `invoice_date` = @p31
WHERE `course_instance_id` = @p32;
SELECT ROW_COUNT();
2019-07-18 13:30:45.885 +12:00 [INF] Executed DbCommand (79ms) [Parameters=[@__invoice_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`waiting_id`, `x`.`begin_date`, `x`.`comment`, `x`.`concert_fee`, `x`.`concert_fee_name`, `x`.`course_instance_id`, `x`.`course_name`, `x`.`created_at`, `x`.`due_date`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_num`, `x`.`is_activate`, `x`.`is_confirmed`, `x`.`is_email_sent`, `x`.`is_paid`, `x`.`learner_id`, `x`.`learner_name`, `x`.`lesson_fee`, `x`.`lesson_note_fee_name`, `x`.`lesson_quantity`, `x`.`note_fee`, `x`.`other1_fee`, `x`.`other1_fee_name`, `x`.`other2_fee`, `x`.`other2_fee_name`, `x`.`other3_fee`, `x`.`other3_fee_name`, `x`.`owing_fee`, `x`.`paid_fee`, `x`.`term_id`, `x`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `x`
WHERE `x`.`waiting_id` = @__invoice_id_0
LIMIT 1
2019-07-18 13:30:45.943 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_schedule_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`day_of_week`, `x`.`end_time`, `x`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
ORDER BY `x`.`day_of_week`
2019-07-18 13:30:46.000 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32), @__invoice_EndDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`amendment_id`, `x`.`amend_type`, `x`.`begin_date`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`course_schedule_id`, `x`.`created_at`, `x`.`day_of_week`, `x`.`end_date`, `x`.`end_time`, `x`.`is_temporary`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`amendment` AS `x`
WHERE (`x`.`course_instance_id` = @__invoice_CourseInstanceId_0) AND (`x`.`begin_date` <= @__invoice_EndDate_1)
ORDER BY `x`.`created_at`
2019-07-18 13:30:46.053 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:30:46.102 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`holiday_date`
FROM `ablemusic`.`holiday` AS `x`
2019-07-18 13:30:46.165 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:30:46.548 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[@p31='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = Decimal), @p18='?' (Size = -1), @p19='?' (DbType = Int32), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = Decimal), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`invoice_waiting_confirm` SET `begin_date` = @p0, `comment` = @p1, `concert_fee` = @p2, `concert_fee_name` = @p3, `course_instance_id` = @p4, `course_name` = @p5, `created_at` = @p6, `due_date` = @p7, `end_date` = @p8, `group_course_instance_id` = @p9, `invoice_num` = @p10, `is_activate` = @p11, `is_confirmed` = @p12, `is_email_sent` = @p13, `is_paid` = @p14, `learner_id` = @p15, `learner_name` = @p16, `lesson_fee` = @p17, `lesson_note_fee_name` = @p18, `lesson_quantity` = @p19, `note_fee` = @p20, `other1_fee` = @p21, `other1_fee_name` = @p22, `other2_fee` = @p23, `other2_fee_name` = @p24, `other3_fee` = @p25, `other3_fee_name` = @p26, `owing_fee` = @p27, `paid_fee` = @p28, `term_id` = @p29, `total_fee` = @p30
WHERE `waiting_id` = @p31;
SELECT ROW_COUNT();
2019-07-18 13:30:46.650 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@p40='?' (DbType = Int32), @p32='?' (DbType = DateTime), @p33='?' (DbType = Int32), @p34='?' (DbType = DateTime), @p35='?' (DbType = DateTime), @p36='?' (DbType = Int32), @p37='?' (DbType = Int16), @p38='?' (DbType = Int16), @p39='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `begin_date` = @p32, `course_id` = @p33, `end_date` = @p34, `invoice_date` = @p35, `learner_id` = @p36, `org_id` = @p37, `room_id` = @p38, `teacher_id` = @p39
WHERE `course_instance_id` = @p40;
SELECT ROW_COUNT();
2019-07-18 13:30:46.888 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:30:47.204 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = AnsiString), @p18='?' (Size = -1), @p19='?' (DbType = AnsiString), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = AnsiString), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`invoice_waiting_confirm` (`begin_date`, `comment`, `concert_fee`, `concert_fee_name`, `course_instance_id`, `course_name`, `created_at`, `due_date`, `end_date`, `group_course_instance_id`, `invoice_num`, `is_activate`, `is_confirmed`, `is_email_sent`, `is_paid`, `learner_id`, `learner_name`, `lesson_fee`, `lesson_note_fee_name`, `lesson_quantity`, `note_fee`, `other1_fee`, `other1_fee_name`, `other2_fee`, `other2_fee_name`, `other3_fee`, `other3_fee_name`, `owing_fee`, `paid_fee`, `term_id`, `total_fee`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
SELECT `waiting_id`
FROM `ablemusic`.`invoice_waiting_confirm`
WHERE ROW_COUNT() = 1
 AND `waiting_id`=LAST_INSERT_ID();
2019-07-18 13:30:47.304 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@p32='?' (DbType = Int32), @p31='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `invoice_date` = @p31
WHERE `course_instance_id` = @p32;
SELECT ROW_COUNT();
2019-07-18 13:30:47.683 +12:00 [INF] Executed DbCommand (62ms) [Parameters=[@__invoice_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`waiting_id`, `x`.`begin_date`, `x`.`comment`, `x`.`concert_fee`, `x`.`concert_fee_name`, `x`.`course_instance_id`, `x`.`course_name`, `x`.`created_at`, `x`.`due_date`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_num`, `x`.`is_activate`, `x`.`is_confirmed`, `x`.`is_email_sent`, `x`.`is_paid`, `x`.`learner_id`, `x`.`learner_name`, `x`.`lesson_fee`, `x`.`lesson_note_fee_name`, `x`.`lesson_quantity`, `x`.`note_fee`, `x`.`other1_fee`, `x`.`other1_fee_name`, `x`.`other2_fee`, `x`.`other2_fee_name`, `x`.`other3_fee`, `x`.`other3_fee_name`, `x`.`owing_fee`, `x`.`paid_fee`, `x`.`term_id`, `x`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `x`
WHERE `x`.`waiting_id` = @__invoice_id_0
LIMIT 1
2019-07-18 13:30:47.736 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_schedule_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`day_of_week`, `x`.`end_time`, `x`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
ORDER BY `x`.`day_of_week`
2019-07-18 13:30:47.794 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32), @__invoice_EndDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`amendment_id`, `x`.`amend_type`, `x`.`begin_date`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`course_schedule_id`, `x`.`created_at`, `x`.`day_of_week`, `x`.`end_date`, `x`.`end_time`, `x`.`is_temporary`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`amendment` AS `x`
WHERE (`x`.`course_instance_id` = @__invoice_CourseInstanceId_0) AND (`x`.`begin_date` <= @__invoice_EndDate_1)
ORDER BY `x`.`created_at`
2019-07-18 13:30:47.847 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:30:47.896 +12:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`holiday_date`
FROM `ablemusic`.`holiday` AS `x`
2019-07-18 13:30:47.960 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:30:48.321 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[@p31='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = Decimal), @p18='?' (Size = -1), @p19='?' (DbType = Int32), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = Decimal), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`invoice_waiting_confirm` SET `begin_date` = @p0, `comment` = @p1, `concert_fee` = @p2, `concert_fee_name` = @p3, `course_instance_id` = @p4, `course_name` = @p5, `created_at` = @p6, `due_date` = @p7, `end_date` = @p8, `group_course_instance_id` = @p9, `invoice_num` = @p10, `is_activate` = @p11, `is_confirmed` = @p12, `is_email_sent` = @p13, `is_paid` = @p14, `learner_id` = @p15, `learner_name` = @p16, `lesson_fee` = @p17, `lesson_note_fee_name` = @p18, `lesson_quantity` = @p19, `note_fee` = @p20, `other1_fee` = @p21, `other1_fee_name` = @p22, `other2_fee` = @p23, `other2_fee_name` = @p24, `other3_fee` = @p25, `other3_fee_name` = @p26, `owing_fee` = @p27, `paid_fee` = @p28, `term_id` = @p29, `total_fee` = @p30
WHERE `waiting_id` = @p31;
SELECT ROW_COUNT();
2019-07-18 13:30:48.424 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@p40='?' (DbType = Int32), @p32='?' (DbType = DateTime), @p33='?' (DbType = Int32), @p34='?' (DbType = DateTime), @p35='?' (DbType = DateTime), @p36='?' (DbType = Int32), @p37='?' (DbType = Int16), @p38='?' (DbType = Int16), @p39='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `begin_date` = @p32, `course_id` = @p33, `end_date` = @p34, `invoice_date` = @p35, `learner_id` = @p36, `org_id` = @p37, `room_id` = @p38, `teacher_id` = @p39
WHERE `course_instance_id` = @p40;
SELECT ROW_COUNT();
2019-07-18 13:30:48.655 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:30:48.963 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = AnsiString), @p18='?' (Size = -1), @p19='?' (DbType = AnsiString), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = AnsiString), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`invoice_waiting_confirm` (`begin_date`, `comment`, `concert_fee`, `concert_fee_name`, `course_instance_id`, `course_name`, `created_at`, `due_date`, `end_date`, `group_course_instance_id`, `invoice_num`, `is_activate`, `is_confirmed`, `is_email_sent`, `is_paid`, `learner_id`, `learner_name`, `lesson_fee`, `lesson_note_fee_name`, `lesson_quantity`, `note_fee`, `other1_fee`, `other1_fee_name`, `other2_fee`, `other2_fee_name`, `other3_fee`, `other3_fee_name`, `owing_fee`, `paid_fee`, `term_id`, `total_fee`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
SELECT `waiting_id`
FROM `ablemusic`.`invoice_waiting_confirm`
WHERE ROW_COUNT() = 1
 AND `waiting_id`=LAST_INSERT_ID();
2019-07-18 13:30:49.063 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@p32='?' (DbType = Int32), @p31='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `invoice_date` = @p31
WHERE `course_instance_id` = @p32;
SELECT ROW_COUNT();
2019-07-18 13:30:49.432 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@__invoice_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`waiting_id`, `x`.`begin_date`, `x`.`comment`, `x`.`concert_fee`, `x`.`concert_fee_name`, `x`.`course_instance_id`, `x`.`course_name`, `x`.`created_at`, `x`.`due_date`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_num`, `x`.`is_activate`, `x`.`is_confirmed`, `x`.`is_email_sent`, `x`.`is_paid`, `x`.`learner_id`, `x`.`learner_name`, `x`.`lesson_fee`, `x`.`lesson_note_fee_name`, `x`.`lesson_quantity`, `x`.`note_fee`, `x`.`other1_fee`, `x`.`other1_fee_name`, `x`.`other2_fee`, `x`.`other2_fee_name`, `x`.`other3_fee`, `x`.`other3_fee_name`, `x`.`owing_fee`, `x`.`paid_fee`, `x`.`term_id`, `x`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `x`
WHERE `x`.`waiting_id` = @__invoice_id_0
LIMIT 1
2019-07-18 13:30:49.485 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_schedule_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`day_of_week`, `x`.`end_time`, `x`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
ORDER BY `x`.`day_of_week`
2019-07-18 13:30:49.540 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32), @__invoice_EndDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`amendment_id`, `x`.`amend_type`, `x`.`begin_date`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`course_schedule_id`, `x`.`created_at`, `x`.`day_of_week`, `x`.`end_date`, `x`.`end_time`, `x`.`is_temporary`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`amendment` AS `x`
WHERE (`x`.`course_instance_id` = @__invoice_CourseInstanceId_0) AND (`x`.`begin_date` <= @__invoice_EndDate_1)
ORDER BY `x`.`created_at`
2019-07-18 13:30:49.593 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:30:49.648 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`holiday_date`
FROM `ablemusic`.`holiday` AS `x`
2019-07-18 13:30:49.712 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:30:50.088 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@p31='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = Decimal), @p18='?' (Size = -1), @p19='?' (DbType = Int32), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = Decimal), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`invoice_waiting_confirm` SET `begin_date` = @p0, `comment` = @p1, `concert_fee` = @p2, `concert_fee_name` = @p3, `course_instance_id` = @p4, `course_name` = @p5, `created_at` = @p6, `due_date` = @p7, `end_date` = @p8, `group_course_instance_id` = @p9, `invoice_num` = @p10, `is_activate` = @p11, `is_confirmed` = @p12, `is_email_sent` = @p13, `is_paid` = @p14, `learner_id` = @p15, `learner_name` = @p16, `lesson_fee` = @p17, `lesson_note_fee_name` = @p18, `lesson_quantity` = @p19, `note_fee` = @p20, `other1_fee` = @p21, `other1_fee_name` = @p22, `other2_fee` = @p23, `other2_fee_name` = @p24, `other3_fee` = @p25, `other3_fee_name` = @p26, `owing_fee` = @p27, `paid_fee` = @p28, `term_id` = @p29, `total_fee` = @p30
WHERE `waiting_id` = @p31;
SELECT ROW_COUNT();
2019-07-18 13:30:50.192 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@p40='?' (DbType = Int32), @p32='?' (DbType = DateTime), @p33='?' (DbType = Int32), @p34='?' (DbType = DateTime), @p35='?' (DbType = DateTime), @p36='?' (DbType = Int32), @p37='?' (DbType = Int16), @p38='?' (DbType = Int16), @p39='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `begin_date` = @p32, `course_id` = @p33, `end_date` = @p34, `invoice_date` = @p35, `learner_id` = @p36, `org_id` = @p37, `room_id` = @p38, `teacher_id` = @p39
WHERE `course_instance_id` = @p40;
SELECT ROW_COUNT();
2019-07-18 13:30:50.428 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:30:50.748 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = AnsiString), @p18='?' (Size = -1), @p19='?' (DbType = AnsiString), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = AnsiString), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`invoice_waiting_confirm` (`begin_date`, `comment`, `concert_fee`, `concert_fee_name`, `course_instance_id`, `course_name`, `created_at`, `due_date`, `end_date`, `group_course_instance_id`, `invoice_num`, `is_activate`, `is_confirmed`, `is_email_sent`, `is_paid`, `learner_id`, `learner_name`, `lesson_fee`, `lesson_note_fee_name`, `lesson_quantity`, `note_fee`, `other1_fee`, `other1_fee_name`, `other2_fee`, `other2_fee_name`, `other3_fee`, `other3_fee_name`, `owing_fee`, `paid_fee`, `term_id`, `total_fee`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
SELECT `waiting_id`
FROM `ablemusic`.`invoice_waiting_confirm`
WHERE ROW_COUNT() = 1
 AND `waiting_id`=LAST_INSERT_ID();
2019-07-18 13:30:50.850 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@p32='?' (DbType = Int32), @p31='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `invoice_date` = @p31
WHERE `course_instance_id` = @p32;
SELECT ROW_COUNT();
2019-07-18 13:30:51.230 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@__invoice_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`waiting_id`, `x`.`begin_date`, `x`.`comment`, `x`.`concert_fee`, `x`.`concert_fee_name`, `x`.`course_instance_id`, `x`.`course_name`, `x`.`created_at`, `x`.`due_date`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_num`, `x`.`is_activate`, `x`.`is_confirmed`, `x`.`is_email_sent`, `x`.`is_paid`, `x`.`learner_id`, `x`.`learner_name`, `x`.`lesson_fee`, `x`.`lesson_note_fee_name`, `x`.`lesson_quantity`, `x`.`note_fee`, `x`.`other1_fee`, `x`.`other1_fee_name`, `x`.`other2_fee`, `x`.`other2_fee_name`, `x`.`other3_fee`, `x`.`other3_fee_name`, `x`.`owing_fee`, `x`.`paid_fee`, `x`.`term_id`, `x`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `x`
WHERE `x`.`waiting_id` = @__invoice_id_0
LIMIT 1
2019-07-18 13:30:51.283 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_schedule_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`day_of_week`, `x`.`end_time`, `x`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
ORDER BY `x`.`day_of_week`
2019-07-18 13:30:51.341 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32), @__invoice_EndDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`amendment_id`, `x`.`amend_type`, `x`.`begin_date`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`course_schedule_id`, `x`.`created_at`, `x`.`day_of_week`, `x`.`end_date`, `x`.`end_time`, `x`.`is_temporary`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`amendment` AS `x`
WHERE (`x`.`course_instance_id` = @__invoice_CourseInstanceId_0) AND (`x`.`begin_date` <= @__invoice_EndDate_1)
ORDER BY `x`.`created_at`
2019-07-18 13:30:51.392 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:30:51.441 +12:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`holiday_date`
FROM `ablemusic`.`holiday` AS `x`
2019-07-18 13:30:51.508 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:30:51.884 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[@p31='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = Decimal), @p18='?' (Size = -1), @p19='?' (DbType = Int32), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = Decimal), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`invoice_waiting_confirm` SET `begin_date` = @p0, `comment` = @p1, `concert_fee` = @p2, `concert_fee_name` = @p3, `course_instance_id` = @p4, `course_name` = @p5, `created_at` = @p6, `due_date` = @p7, `end_date` = @p8, `group_course_instance_id` = @p9, `invoice_num` = @p10, `is_activate` = @p11, `is_confirmed` = @p12, `is_email_sent` = @p13, `is_paid` = @p14, `learner_id` = @p15, `learner_name` = @p16, `lesson_fee` = @p17, `lesson_note_fee_name` = @p18, `lesson_quantity` = @p19, `note_fee` = @p20, `other1_fee` = @p21, `other1_fee_name` = @p22, `other2_fee` = @p23, `other2_fee_name` = @p24, `other3_fee` = @p25, `other3_fee_name` = @p26, `owing_fee` = @p27, `paid_fee` = @p28, `term_id` = @p29, `total_fee` = @p30
WHERE `waiting_id` = @p31;
SELECT ROW_COUNT();
2019-07-18 13:30:51.985 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@p40='?' (DbType = Int32), @p32='?' (DbType = DateTime), @p33='?' (DbType = Int32), @p34='?' (DbType = DateTime), @p35='?' (DbType = DateTime), @p36='?' (DbType = Int32), @p37='?' (DbType = Int16), @p38='?' (DbType = Int16), @p39='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `begin_date` = @p32, `course_id` = @p33, `end_date` = @p34, `invoice_date` = @p35, `learner_id` = @p36, `org_id` = @p37, `room_id` = @p38, `teacher_id` = @p39
WHERE `course_instance_id` = @p40;
SELECT ROW_COUNT();
2019-07-18 13:30:52.231 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:30:52.564 +12:00 [INF] Executed DbCommand (61ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = AnsiString), @p18='?' (Size = -1), @p19='?' (DbType = AnsiString), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = AnsiString), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`invoice_waiting_confirm` (`begin_date`, `comment`, `concert_fee`, `concert_fee_name`, `course_instance_id`, `course_name`, `created_at`, `due_date`, `end_date`, `group_course_instance_id`, `invoice_num`, `is_activate`, `is_confirmed`, `is_email_sent`, `is_paid`, `learner_id`, `learner_name`, `lesson_fee`, `lesson_note_fee_name`, `lesson_quantity`, `note_fee`, `other1_fee`, `other1_fee_name`, `other2_fee`, `other2_fee_name`, `other3_fee`, `other3_fee_name`, `owing_fee`, `paid_fee`, `term_id`, `total_fee`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
SELECT `waiting_id`
FROM `ablemusic`.`invoice_waiting_confirm`
WHERE ROW_COUNT() = 1
 AND `waiting_id`=LAST_INSERT_ID();
2019-07-18 13:30:52.674 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@p32='?' (DbType = Int32), @p31='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `invoice_date` = @p31
WHERE `course_instance_id` = @p32;
SELECT ROW_COUNT();
2019-07-18 13:30:53.050 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__invoice_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`waiting_id`, `x`.`begin_date`, `x`.`comment`, `x`.`concert_fee`, `x`.`concert_fee_name`, `x`.`course_instance_id`, `x`.`course_name`, `x`.`created_at`, `x`.`due_date`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_num`, `x`.`is_activate`, `x`.`is_confirmed`, `x`.`is_email_sent`, `x`.`is_paid`, `x`.`learner_id`, `x`.`learner_name`, `x`.`lesson_fee`, `x`.`lesson_note_fee_name`, `x`.`lesson_quantity`, `x`.`note_fee`, `x`.`other1_fee`, `x`.`other1_fee_name`, `x`.`other2_fee`, `x`.`other2_fee_name`, `x`.`other3_fee`, `x`.`other3_fee_name`, `x`.`owing_fee`, `x`.`paid_fee`, `x`.`term_id`, `x`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `x`
WHERE `x`.`waiting_id` = @__invoice_id_0
LIMIT 1
2019-07-18 13:30:53.105 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_schedule_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`day_of_week`, `x`.`end_time`, `x`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
ORDER BY `x`.`day_of_week`
2019-07-18 13:30:53.163 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32), @__invoice_EndDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`amendment_id`, `x`.`amend_type`, `x`.`begin_date`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`course_schedule_id`, `x`.`created_at`, `x`.`day_of_week`, `x`.`end_date`, `x`.`end_time`, `x`.`is_temporary`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`amendment` AS `x`
WHERE (`x`.`course_instance_id` = @__invoice_CourseInstanceId_0) AND (`x`.`begin_date` <= @__invoice_EndDate_1)
ORDER BY `x`.`created_at`
2019-07-18 13:30:53.216 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:30:53.266 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`holiday_date`
FROM `ablemusic`.`holiday` AS `x`
2019-07-18 13:30:53.333 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:30:53.715 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@p31='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = Decimal), @p18='?' (Size = -1), @p19='?' (DbType = Int32), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = Decimal), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`invoice_waiting_confirm` SET `begin_date` = @p0, `comment` = @p1, `concert_fee` = @p2, `concert_fee_name` = @p3, `course_instance_id` = @p4, `course_name` = @p5, `created_at` = @p6, `due_date` = @p7, `end_date` = @p8, `group_course_instance_id` = @p9, `invoice_num` = @p10, `is_activate` = @p11, `is_confirmed` = @p12, `is_email_sent` = @p13, `is_paid` = @p14, `learner_id` = @p15, `learner_name` = @p16, `lesson_fee` = @p17, `lesson_note_fee_name` = @p18, `lesson_quantity` = @p19, `note_fee` = @p20, `other1_fee` = @p21, `other1_fee_name` = @p22, `other2_fee` = @p23, `other2_fee_name` = @p24, `other3_fee` = @p25, `other3_fee_name` = @p26, `owing_fee` = @p27, `paid_fee` = @p28, `term_id` = @p29, `total_fee` = @p30
WHERE `waiting_id` = @p31;
SELECT ROW_COUNT();
2019-07-18 13:30:53.819 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@p40='?' (DbType = Int32), @p32='?' (DbType = DateTime), @p33='?' (DbType = Int32), @p34='?' (DbType = DateTime), @p35='?' (DbType = DateTime), @p36='?' (DbType = Int32), @p37='?' (DbType = Int16), @p38='?' (DbType = Int16), @p39='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `begin_date` = @p32, `course_id` = @p33, `end_date` = @p34, `invoice_date` = @p35, `learner_id` = @p36, `org_id` = @p37, `room_id` = @p38, `teacher_id` = @p39
WHERE `course_instance_id` = @p40;
SELECT ROW_COUNT();
2019-07-18 13:30:54.095 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:30:54.404 +12:00 [INF] Executed DbCommand (61ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = AnsiString), @p18='?' (Size = -1), @p19='?' (DbType = AnsiString), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = AnsiString), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`invoice_waiting_confirm` (`begin_date`, `comment`, `concert_fee`, `concert_fee_name`, `course_instance_id`, `course_name`, `created_at`, `due_date`, `end_date`, `group_course_instance_id`, `invoice_num`, `is_activate`, `is_confirmed`, `is_email_sent`, `is_paid`, `learner_id`, `learner_name`, `lesson_fee`, `lesson_note_fee_name`, `lesson_quantity`, `note_fee`, `other1_fee`, `other1_fee_name`, `other2_fee`, `other2_fee_name`, `other3_fee`, `other3_fee_name`, `owing_fee`, `paid_fee`, `term_id`, `total_fee`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
SELECT `waiting_id`
FROM `ablemusic`.`invoice_waiting_confirm`
WHERE ROW_COUNT() = 1
 AND `waiting_id`=LAST_INSERT_ID();
2019-07-18 13:30:54.503 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@p32='?' (DbType = Int32), @p31='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `invoice_date` = @p31
WHERE `course_instance_id` = @p32;
SELECT ROW_COUNT();
2019-07-18 13:30:54.889 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[@__invoice_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`waiting_id`, `x`.`begin_date`, `x`.`comment`, `x`.`concert_fee`, `x`.`concert_fee_name`, `x`.`course_instance_id`, `x`.`course_name`, `x`.`created_at`, `x`.`due_date`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_num`, `x`.`is_activate`, `x`.`is_confirmed`, `x`.`is_email_sent`, `x`.`is_paid`, `x`.`learner_id`, `x`.`learner_name`, `x`.`lesson_fee`, `x`.`lesson_note_fee_name`, `x`.`lesson_quantity`, `x`.`note_fee`, `x`.`other1_fee`, `x`.`other1_fee_name`, `x`.`other2_fee`, `x`.`other2_fee_name`, `x`.`other3_fee`, `x`.`other3_fee_name`, `x`.`owing_fee`, `x`.`paid_fee`, `x`.`term_id`, `x`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `x`
WHERE `x`.`waiting_id` = @__invoice_id_0
LIMIT 1
2019-07-18 13:30:54.942 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_schedule_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`day_of_week`, `x`.`end_time`, `x`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
ORDER BY `x`.`day_of_week`
2019-07-18 13:30:54.999 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32), @__invoice_EndDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`amendment_id`, `x`.`amend_type`, `x`.`begin_date`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`course_schedule_id`, `x`.`created_at`, `x`.`day_of_week`, `x`.`end_date`, `x`.`end_time`, `x`.`is_temporary`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`amendment` AS `x`
WHERE (`x`.`course_instance_id` = @__invoice_CourseInstanceId_0) AND (`x`.`begin_date` <= @__invoice_EndDate_1)
ORDER BY `x`.`created_at`
2019-07-18 13:30:55.067 +12:00 [INF] Executed DbCommand (67ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:30:55.117 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`holiday_date`
FROM `ablemusic`.`holiday` AS `x`
2019-07-18 13:30:55.195 +12:00 [INF] Executed DbCommand (74ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:30:55.612 +12:00 [INF] Executed DbCommand (68ms) [Parameters=[@p31='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = Decimal), @p18='?' (Size = -1), @p19='?' (DbType = Int32), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = Decimal), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`invoice_waiting_confirm` SET `begin_date` = @p0, `comment` = @p1, `concert_fee` = @p2, `concert_fee_name` = @p3, `course_instance_id` = @p4, `course_name` = @p5, `created_at` = @p6, `due_date` = @p7, `end_date` = @p8, `group_course_instance_id` = @p9, `invoice_num` = @p10, `is_activate` = @p11, `is_confirmed` = @p12, `is_email_sent` = @p13, `is_paid` = @p14, `learner_id` = @p15, `learner_name` = @p16, `lesson_fee` = @p17, `lesson_note_fee_name` = @p18, `lesson_quantity` = @p19, `note_fee` = @p20, `other1_fee` = @p21, `other1_fee_name` = @p22, `other2_fee` = @p23, `other2_fee_name` = @p24, `other3_fee` = @p25, `other3_fee_name` = @p26, `owing_fee` = @p27, `paid_fee` = @p28, `term_id` = @p29, `total_fee` = @p30
WHERE `waiting_id` = @p31;
SELECT ROW_COUNT();
2019-07-18 13:30:55.717 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@p40='?' (DbType = Int32), @p32='?' (DbType = DateTime), @p33='?' (DbType = Int32), @p34='?' (DbType = DateTime), @p35='?' (DbType = DateTime), @p36='?' (DbType = Int32), @p37='?' (DbType = Int16), @p38='?' (DbType = Int16), @p39='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `begin_date` = @p32, `course_id` = @p33, `end_date` = @p34, `invoice_date` = @p35, `learner_id` = @p36, `org_id` = @p37, `room_id` = @p38, `teacher_id` = @p39
WHERE `course_instance_id` = @p40;
SELECT ROW_COUNT();
2019-07-18 13:30:55.938 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:30:56.265 +12:00 [INF] Executed DbCommand (61ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = AnsiString), @p18='?' (Size = -1), @p19='?' (DbType = AnsiString), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = AnsiString), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`invoice_waiting_confirm` (`begin_date`, `comment`, `concert_fee`, `concert_fee_name`, `course_instance_id`, `course_name`, `created_at`, `due_date`, `end_date`, `group_course_instance_id`, `invoice_num`, `is_activate`, `is_confirmed`, `is_email_sent`, `is_paid`, `learner_id`, `learner_name`, `lesson_fee`, `lesson_note_fee_name`, `lesson_quantity`, `note_fee`, `other1_fee`, `other1_fee_name`, `other2_fee`, `other2_fee_name`, `other3_fee`, `other3_fee_name`, `owing_fee`, `paid_fee`, `term_id`, `total_fee`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
SELECT `waiting_id`
FROM `ablemusic`.`invoice_waiting_confirm`
WHERE ROW_COUNT() = 1
 AND `waiting_id`=LAST_INSERT_ID();
2019-07-18 13:30:56.366 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@p32='?' (DbType = Int32), @p31='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `invoice_date` = @p31
WHERE `course_instance_id` = @p32;
SELECT ROW_COUNT();
2019-07-18 13:30:56.773 +12:00 [INF] Executed DbCommand (66ms) [Parameters=[@__invoice_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`waiting_id`, `x`.`begin_date`, `x`.`comment`, `x`.`concert_fee`, `x`.`concert_fee_name`, `x`.`course_instance_id`, `x`.`course_name`, `x`.`created_at`, `x`.`due_date`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_num`, `x`.`is_activate`, `x`.`is_confirmed`, `x`.`is_email_sent`, `x`.`is_paid`, `x`.`learner_id`, `x`.`learner_name`, `x`.`lesson_fee`, `x`.`lesson_note_fee_name`, `x`.`lesson_quantity`, `x`.`note_fee`, `x`.`other1_fee`, `x`.`other1_fee_name`, `x`.`other2_fee`, `x`.`other2_fee_name`, `x`.`other3_fee`, `x`.`other3_fee_name`, `x`.`owing_fee`, `x`.`paid_fee`, `x`.`term_id`, `x`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `x`
WHERE `x`.`waiting_id` = @__invoice_id_0
LIMIT 1
2019-07-18 13:30:56.834 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_schedule_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`day_of_week`, `x`.`end_time`, `x`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
ORDER BY `x`.`day_of_week`
2019-07-18 13:30:56.892 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32), @__invoice_EndDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`amendment_id`, `x`.`amend_type`, `x`.`begin_date`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`course_schedule_id`, `x`.`created_at`, `x`.`day_of_week`, `x`.`end_date`, `x`.`end_time`, `x`.`is_temporary`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`amendment` AS `x`
WHERE (`x`.`course_instance_id` = @__invoice_CourseInstanceId_0) AND (`x`.`begin_date` <= @__invoice_EndDate_1)
ORDER BY `x`.`created_at`
2019-07-18 13:30:56.949 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:30:57.010 +12:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`holiday_date`
FROM `ablemusic`.`holiday` AS `x`
2019-07-18 13:30:57.072 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:30:57.460 +12:00 [INF] Executed DbCommand (63ms) [Parameters=[@p31='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = Decimal), @p18='?' (Size = -1), @p19='?' (DbType = Int32), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = Decimal), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`invoice_waiting_confirm` SET `begin_date` = @p0, `comment` = @p1, `concert_fee` = @p2, `concert_fee_name` = @p3, `course_instance_id` = @p4, `course_name` = @p5, `created_at` = @p6, `due_date` = @p7, `end_date` = @p8, `group_course_instance_id` = @p9, `invoice_num` = @p10, `is_activate` = @p11, `is_confirmed` = @p12, `is_email_sent` = @p13, `is_paid` = @p14, `learner_id` = @p15, `learner_name` = @p16, `lesson_fee` = @p17, `lesson_note_fee_name` = @p18, `lesson_quantity` = @p19, `note_fee` = @p20, `other1_fee` = @p21, `other1_fee_name` = @p22, `other2_fee` = @p23, `other2_fee_name` = @p24, `other3_fee` = @p25, `other3_fee_name` = @p26, `owing_fee` = @p27, `paid_fee` = @p28, `term_id` = @p29, `total_fee` = @p30
WHERE `waiting_id` = @p31;
SELECT ROW_COUNT();
2019-07-18 13:30:57.579 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@p40='?' (DbType = Int32), @p32='?' (DbType = DateTime), @p33='?' (DbType = Int32), @p34='?' (DbType = DateTime), @p35='?' (DbType = DateTime), @p36='?' (DbType = Int32), @p37='?' (DbType = Int16), @p38='?' (DbType = Int16), @p39='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `begin_date` = @p32, `course_id` = @p33, `end_date` = @p34, `invoice_date` = @p35, `learner_id` = @p36, `org_id` = @p37, `room_id` = @p38, `teacher_id` = @p39
WHERE `course_instance_id` = @p40;
SELECT ROW_COUNT();
2019-07-18 13:30:57.845 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:30:58.173 +12:00 [INF] Executed DbCommand (62ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = AnsiString), @p18='?' (Size = -1), @p19='?' (DbType = AnsiString), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = AnsiString), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`invoice_waiting_confirm` (`begin_date`, `comment`, `concert_fee`, `concert_fee_name`, `course_instance_id`, `course_name`, `created_at`, `due_date`, `end_date`, `group_course_instance_id`, `invoice_num`, `is_activate`, `is_confirmed`, `is_email_sent`, `is_paid`, `learner_id`, `learner_name`, `lesson_fee`, `lesson_note_fee_name`, `lesson_quantity`, `note_fee`, `other1_fee`, `other1_fee_name`, `other2_fee`, `other2_fee_name`, `other3_fee`, `other3_fee_name`, `owing_fee`, `paid_fee`, `term_id`, `total_fee`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
SELECT `waiting_id`
FROM `ablemusic`.`invoice_waiting_confirm`
WHERE ROW_COUNT() = 1
 AND `waiting_id`=LAST_INSERT_ID();
2019-07-18 13:30:58.230 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@p32='?' (DbType = Int32), @p31='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `invoice_date` = @p31
WHERE `course_instance_id` = @p32;
SELECT ROW_COUNT();
2019-07-18 13:30:58.589 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__invoice_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`waiting_id`, `x`.`begin_date`, `x`.`comment`, `x`.`concert_fee`, `x`.`concert_fee_name`, `x`.`course_instance_id`, `x`.`course_name`, `x`.`created_at`, `x`.`due_date`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_num`, `x`.`is_activate`, `x`.`is_confirmed`, `x`.`is_email_sent`, `x`.`is_paid`, `x`.`learner_id`, `x`.`learner_name`, `x`.`lesson_fee`, `x`.`lesson_note_fee_name`, `x`.`lesson_quantity`, `x`.`note_fee`, `x`.`other1_fee`, `x`.`other1_fee_name`, `x`.`other2_fee`, `x`.`other2_fee_name`, `x`.`other3_fee`, `x`.`other3_fee_name`, `x`.`owing_fee`, `x`.`paid_fee`, `x`.`term_id`, `x`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `x`
WHERE `x`.`waiting_id` = @__invoice_id_0
LIMIT 1
2019-07-18 13:30:58.645 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_schedule_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`day_of_week`, `x`.`end_time`, `x`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
ORDER BY `x`.`day_of_week`
2019-07-18 13:30:58.700 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32), @__invoice_EndDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`amendment_id`, `x`.`amend_type`, `x`.`begin_date`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`course_schedule_id`, `x`.`created_at`, `x`.`day_of_week`, `x`.`end_date`, `x`.`end_time`, `x`.`is_temporary`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`amendment` AS `x`
WHERE (`x`.`course_instance_id` = @__invoice_CourseInstanceId_0) AND (`x`.`begin_date` <= @__invoice_EndDate_1)
ORDER BY `x`.`created_at`
2019-07-18 13:30:58.754 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:30:58.804 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`holiday_date`
FROM `ablemusic`.`holiday` AS `x`
2019-07-18 13:30:58.870 +12:00 [INF] Executed DbCommand (62ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:30:59.244 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[@p31='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = Decimal), @p18='?' (Size = -1), @p19='?' (DbType = Int32), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = Decimal), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`invoice_waiting_confirm` SET `begin_date` = @p0, `comment` = @p1, `concert_fee` = @p2, `concert_fee_name` = @p3, `course_instance_id` = @p4, `course_name` = @p5, `created_at` = @p6, `due_date` = @p7, `end_date` = @p8, `group_course_instance_id` = @p9, `invoice_num` = @p10, `is_activate` = @p11, `is_confirmed` = @p12, `is_email_sent` = @p13, `is_paid` = @p14, `learner_id` = @p15, `learner_name` = @p16, `lesson_fee` = @p17, `lesson_note_fee_name` = @p18, `lesson_quantity` = @p19, `note_fee` = @p20, `other1_fee` = @p21, `other1_fee_name` = @p22, `other2_fee` = @p23, `other2_fee_name` = @p24, `other3_fee` = @p25, `other3_fee_name` = @p26, `owing_fee` = @p27, `paid_fee` = @p28, `term_id` = @p29, `total_fee` = @p30
WHERE `waiting_id` = @p31;
SELECT ROW_COUNT();
2019-07-18 13:30:59.298 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@p40='?' (DbType = Int32), @p32='?' (DbType = DateTime), @p33='?' (DbType = Int32), @p34='?' (DbType = DateTime), @p35='?' (DbType = DateTime), @p36='?' (DbType = Int32), @p37='?' (DbType = Int16), @p38='?' (DbType = Int16), @p39='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `begin_date` = @p32, `course_id` = @p33, `end_date` = @p34, `invoice_date` = @p35, `learner_id` = @p36, `org_id` = @p37, `room_id` = @p38, `teacher_id` = @p39
WHERE `course_instance_id` = @p40;
SELECT ROW_COUNT();
2019-07-18 13:30:59.542 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:30:59.857 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = AnsiString), @p18='?' (Size = -1), @p19='?' (DbType = AnsiString), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = AnsiString), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`invoice_waiting_confirm` (`begin_date`, `comment`, `concert_fee`, `concert_fee_name`, `course_instance_id`, `course_name`, `created_at`, `due_date`, `end_date`, `group_course_instance_id`, `invoice_num`, `is_activate`, `is_confirmed`, `is_email_sent`, `is_paid`, `learner_id`, `learner_name`, `lesson_fee`, `lesson_note_fee_name`, `lesson_quantity`, `note_fee`, `other1_fee`, `other1_fee_name`, `other2_fee`, `other2_fee_name`, `other3_fee`, `other3_fee_name`, `owing_fee`, `paid_fee`, `term_id`, `total_fee`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
SELECT `waiting_id`
FROM `ablemusic`.`invoice_waiting_confirm`
WHERE ROW_COUNT() = 1
 AND `waiting_id`=LAST_INSERT_ID();
2019-07-18 13:30:59.910 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@p32='?' (DbType = Int32), @p31='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `invoice_date` = @p31
WHERE `course_instance_id` = @p32;
SELECT ROW_COUNT();
2019-07-18 13:30:59.950 +12:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/payment/Generateone2oneInvoice/2/ text/plain 0
2019-07-18 13:30:59.953 +12:00 [INF] Policy execution successful.
2019-07-18 13:30:59.965 +12:00 [INF] Route matched with {action = "Generateone2oneInvoice", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Generateone2oneInvoice(Int32, Int32) on controller Pegasus_backend.Controllers.PaymentController (Pegasus_backend).
2019-07-18 13:30:59.965 +12:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Payment/GenerateGroupInvoice/2/ text/plain 0
2019-07-18 13:30:59.965 +12:00 [INF] Policy execution successful.
2019-07-18 13:30:59.965 +12:00 [INF] Executing action method Pegasus_backend.Controllers.PaymentController.Generateone2oneInvoice (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:30:59.966 +12:00 [INF] Route matched with {action = "GenerateGroupInvoice", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateGroupInvoice(Int32, Int32) on controller Pegasus_backend.Controllers.PaymentController (Pegasus_backend).
2019-07-18 13:30:59.966 +12:00 [INF] Executing action method Pegasus_backend.Controllers.PaymentController.GenerateGroupInvoice (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:30:59.967 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:30:59.967 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:31:00.150 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_id` AS `CourseId`, `x`.`group_course_instance_id` AS `GroupCourseInstanceId`, `x`.`begin_date` AS `BeginDate`, `x`.`end_date` AS `EndDate`, `x`.`is_started` AS `IsStarted`, `x.Course`.`course_name` AS `CourseName`, `x.Course`.`price`
FROM `ablemusic`.`group_course_instance` AS `x`
INNER JOIN `ablemusic`.`course` AS `x.Course` ON `x`.`course_id` = `x.Course`.`course_id`
ORDER BY `x`.`group_course_instance_id`
2019-07-18 13:31:00.159 +12:00 [INF] Executed DbCommand (64ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_id` AS `LearnerId`, `x`.`course_id` AS `CourseId`, `x`.`course_instance_id` AS `CourseInstanceId`, `x`.`begin_date` AS `BeginDate`, `x`.`end_date` AS `EndDate`, `x`.`invoice_date` AS `InvoiceDate`, `x.Course`.`course_name` AS `CourseName`, `x.Course`.`price`, `x.Learner`.`first_name` AS `FirstName`, `x.Learner`.`payment_period` AS `PaymentPeriod`
FROM `ablemusic`.`one2one_course_instance` AS `x`
LEFT JOIN `ablemusic`.`course` AS `x.Course` ON `x`.`course_id` = `x.Course`.`course_id`
LEFT JOIN `ablemusic`.`learner` AS `x.Learner` ON `x`.`learner_id` = `x.Learner`.`learner_id`
WHERE `x.Learner`.`is_active` = 1
2019-07-18 13:31:00.214 +12:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`group_course_instance_id`, `s.Learner`.`first_name` AS `FirstName`, `x.LearnerGroupCourse`.`learner_id` AS `LearnerId`, `x.LearnerGroupCourse`.`created_at` AS `CreatedAt`, `x.LearnerGroupCourse`.`begin_date` AS `BeginDate`, `x.LearnerGroupCourse`.`end_date` AS `EndDate`, `x.LearnerGroupCourse`.`invoice_date` AS `InvoiceDate`, `x.LearnerGroupCourse`.`learner_group_course_id` AS `LearnerGroupCourseId`, `x.LearnerGroupCourse`.`is_activate` AS `IsActivate`, `x.LearnerGroupCourse`.`group_course_instance_id`
FROM `ablemusic`.`learner_group_course` AS `x.LearnerGroupCourse`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `x.LearnerGroupCourse`.`learner_id` = `s.Learner`.`learner_id`
INNER JOIN (
    SELECT `x0`.`group_course_instance_id`
    FROM `ablemusic`.`group_course_instance` AS `x0`
    INNER JOIN `ablemusic`.`course` AS `x.Course0` ON `x0`.`course_id` = `x.Course0`.`course_id`
) AS `t` ON `x.LearnerGroupCourse`.`group_course_instance_id` = `t`.`group_course_instance_id`
WHERE `x.LearnerGroupCourse`.`is_activate` = 1
ORDER BY `t`.`group_course_instance_id`
2019-07-18 13:31:00.270 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__invoice_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`waiting_id`, `x`.`begin_date`, `x`.`comment`, `x`.`concert_fee`, `x`.`concert_fee_name`, `x`.`course_instance_id`, `x`.`course_name`, `x`.`created_at`, `x`.`due_date`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_num`, `x`.`is_activate`, `x`.`is_confirmed`, `x`.`is_email_sent`, `x`.`is_paid`, `x`.`learner_id`, `x`.`learner_name`, `x`.`lesson_fee`, `x`.`lesson_note_fee_name`, `x`.`lesson_quantity`, `x`.`note_fee`, `x`.`other1_fee`, `x`.`other1_fee_name`, `x`.`other2_fee`, `x`.`other2_fee_name`, `x`.`other3_fee`, `x`.`other3_fee_name`, `x`.`owing_fee`, `x`.`paid_fee`, `x`.`term_id`, `x`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `x`
WHERE `x`.`waiting_id` = @__invoice_id_0
LIMIT 1
2019-07-18 13:31:00.323 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_schedule_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`day_of_week`, `x`.`end_time`, `x`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
ORDER BY `x`.`day_of_week`
2019-07-18 13:31:00.334 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__term_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`term_id`, `x`.`begin_date`, `x`.`end_date`, `x`.`term_name`, `x`.`term_type`, `x`.`week_quantity`
FROM `ablemusic`.`term` AS `x`
WHERE `x`.`term_id` = @__term_id_0
LIMIT 1
2019-07-18 13:31:00.378 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32), @__invoice_EndDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`amendment_id`, `x`.`amend_type`, `x`.`begin_date`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`course_schedule_id`, `x`.`created_at`, `x`.`day_of_week`, `x`.`end_date`, `x`.`end_time`, `x`.`is_temporary`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`amendment` AS `x`
WHERE (`x`.`course_instance_id` = @__invoice_CourseInstanceId_0) AND (`x`.`begin_date` <= @__invoice_EndDate_1)
ORDER BY `x`.`created_at`
2019-07-18 13:31:00.383 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[@__term_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`term_id`, `x`.`begin_date`, `x`.`end_date`, `x`.`term_name`, `x`.`term_type`, `x`.`week_quantity`
FROM `ablemusic`.`term` AS `x`
WHERE `x`.`term_id` = @__term_id_0
LIMIT 1
2019-07-18 13:31:00.431 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:31:00.481 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`holiday_date`
FROM `ablemusic`.`holiday` AS `x`
2019-07-18 13:31:00.499 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`term_id` AS `TermId`, `x`.`begin_date` AS `BeginDate`, `x`.`end_date` AS `EndDate`
FROM `ablemusic`.`term` AS `x`
2019-07-18 13:31:00.542 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:00.550 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:31:00.659 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:31:00.711 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:31:00.888 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:31:00.897 +12:00 [INF] Executed DbCommand (62ms) [Parameters=[@p31='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = Decimal), @p18='?' (Size = -1), @p19='?' (DbType = Int32), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = Decimal), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`invoice_waiting_confirm` SET `begin_date` = @p0, `comment` = @p1, `concert_fee` = @p2, `concert_fee_name` = @p3, `course_instance_id` = @p4, `course_name` = @p5, `created_at` = @p6, `due_date` = @p7, `end_date` = @p8, `group_course_instance_id` = @p9, `invoice_num` = @p10, `is_activate` = @p11, `is_confirmed` = @p12, `is_email_sent` = @p13, `is_paid` = @p14, `learner_id` = @p15, `learner_name` = @p16, `lesson_fee` = @p17, `lesson_note_fee_name` = @p18, `lesson_quantity` = @p19, `note_fee` = @p20, `other1_fee` = @p21, `other1_fee_name` = @p22, `other2_fee` = @p23, `other2_fee_name` = @p24, `other3_fee` = @p25, `other3_fee_name` = @p26, `owing_fee` = @p27, `paid_fee` = @p28, `term_id` = @p29, `total_fee` = @p30
WHERE `waiting_id` = @p31;
SELECT ROW_COUNT();
2019-07-18 13:31:00.948 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = AnsiString), @p18='?' (Size = -1), @p19='?' (DbType = AnsiString), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = AnsiString), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`invoice_waiting_confirm` (`begin_date`, `comment`, `concert_fee`, `concert_fee_name`, `course_instance_id`, `course_name`, `created_at`, `due_date`, `end_date`, `group_course_instance_id`, `invoice_num`, `is_activate`, `is_confirmed`, `is_email_sent`, `is_paid`, `learner_id`, `learner_name`, `lesson_fee`, `lesson_note_fee_name`, `lesson_quantity`, `note_fee`, `other1_fee`, `other1_fee_name`, `other2_fee`, `other2_fee_name`, `other3_fee`, `other3_fee_name`, `owing_fee`, `paid_fee`, `term_id`, `total_fee`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
SELECT `waiting_id`
FROM `ablemusic`.`invoice_waiting_confirm`
WHERE ROW_COUNT() = 1
 AND `waiting_id`=LAST_INSERT_ID();
2019-07-18 13:31:00.952 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@p40='?' (DbType = Int32), @p32='?' (DbType = DateTime), @p33='?' (DbType = Int32), @p34='?' (DbType = DateTime), @p35='?' (DbType = DateTime), @p36='?' (DbType = Int32), @p37='?' (DbType = Int16), @p38='?' (DbType = Int16), @p39='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `begin_date` = @p32, `course_id` = @p33, `end_date` = @p34, `invoice_date` = @p35, `learner_id` = @p36, `org_id` = @p37, `room_id` = @p38, `teacher_id` = @p39
WHERE `course_instance_id` = @p40;
SELECT ROW_COUNT();
2019-07-18 13:31:01.049 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@p32='?' (DbType = Int32), @p31='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `invoice_date` = @p31
WHERE `course_instance_id` = @p32;
SELECT ROW_COUNT();
2019-07-18 13:31:01.062 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:31:01.190 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:31:01.228 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:31:01.365 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:31:01.405 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:31:01.415 +12:00 [INF] Executed DbCommand (63ms) [Parameters=[@__invoice_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`waiting_id`, `x`.`begin_date`, `x`.`comment`, `x`.`concert_fee`, `x`.`concert_fee_name`, `x`.`course_instance_id`, `x`.`course_name`, `x`.`created_at`, `x`.`due_date`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_num`, `x`.`is_activate`, `x`.`is_confirmed`, `x`.`is_email_sent`, `x`.`is_paid`, `x`.`learner_id`, `x`.`learner_name`, `x`.`lesson_fee`, `x`.`lesson_note_fee_name`, `x`.`lesson_quantity`, `x`.`note_fee`, `x`.`other1_fee`, `x`.`other1_fee_name`, `x`.`other2_fee`, `x`.`other2_fee_name`, `x`.`other3_fee`, `x`.`other3_fee_name`, `x`.`owing_fee`, `x`.`paid_fee`, `x`.`term_id`, `x`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `x`
WHERE `x`.`waiting_id` = @__invoice_id_0
LIMIT 1
2019-07-18 13:31:01.468 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_schedule_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`day_of_week`, `x`.`end_time`, `x`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
ORDER BY `x`.`day_of_week`
2019-07-18 13:31:01.526 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32), @__invoice_EndDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`amendment_id`, `x`.`amend_type`, `x`.`begin_date`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`course_schedule_id`, `x`.`created_at`, `x`.`day_of_week`, `x`.`end_date`, `x`.`end_time`, `x`.`is_temporary`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`amendment` AS `x`
WHERE (`x`.`course_instance_id` = @__invoice_CourseInstanceId_0) AND (`x`.`begin_date` <= @__invoice_EndDate_1)
ORDER BY `x`.`created_at`
2019-07-18 13:31:01.578 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:31:01.582 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:31:01.638 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`holiday_date`
FROM `ablemusic`.`holiday` AS `x`
2019-07-18 13:31:01.676 +12:00 [INF] Executed DbCommand (61ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = AnsiString), @p18='?' (Size = -1), @p19='?' (DbType = AnsiString), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = AnsiString), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`invoice_waiting_confirm` (`begin_date`, `comment`, `concert_fee`, `concert_fee_name`, `course_instance_id`, `course_name`, `created_at`, `due_date`, `end_date`, `group_course_instance_id`, `invoice_num`, `is_activate`, `is_confirmed`, `is_email_sent`, `is_paid`, `learner_id`, `learner_name`, `lesson_fee`, `lesson_note_fee_name`, `lesson_quantity`, `note_fee`, `other1_fee`, `other1_fee_name`, `other2_fee`, `other2_fee_name`, `other3_fee`, `other3_fee_name`, `owing_fee`, `paid_fee`, `term_id`, `total_fee`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
SELECT `waiting_id`
FROM `ablemusic`.`invoice_waiting_confirm`
WHERE ROW_COUNT() = 1
 AND `waiting_id`=LAST_INSERT_ID();
2019-07-18 13:31:01.704 +12:00 [INF] Executed DbCommand (61ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:01.762 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:31:01.776 +12:00 [INF] Executed DbCommand (70ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:01.779 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@p32='?' (DbType = Int32), @p31='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `invoice_date` = @p31
WHERE `course_instance_id` = @p32;
SELECT ROW_COUNT();
2019-07-18 13:31:02.007 +12:00 [INF] Executed DbCommand (226ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:02.096 +12:00 [INF] Executed DbCommand (89ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:31:02.505 +12:00 [INF] Executed DbCommand (116ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:31:02.528 +12:00 [INF] Executed DbCommand (66ms) [Parameters=[@__invoice_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`waiting_id`, `x`.`begin_date`, `x`.`comment`, `x`.`concert_fee`, `x`.`concert_fee_name`, `x`.`course_instance_id`, `x`.`course_name`, `x`.`created_at`, `x`.`due_date`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_num`, `x`.`is_activate`, `x`.`is_confirmed`, `x`.`is_email_sent`, `x`.`is_paid`, `x`.`learner_id`, `x`.`learner_name`, `x`.`lesson_fee`, `x`.`lesson_note_fee_name`, `x`.`lesson_quantity`, `x`.`note_fee`, `x`.`other1_fee`, `x`.`other1_fee_name`, `x`.`other2_fee`, `x`.`other2_fee_name`, `x`.`other3_fee`, `x`.`other3_fee_name`, `x`.`owing_fee`, `x`.`paid_fee`, `x`.`term_id`, `x`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `x`
WHERE `x`.`waiting_id` = @__invoice_id_0
LIMIT 1
2019-07-18 13:31:02.584 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_schedule_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`day_of_week`, `x`.`end_time`, `x`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
ORDER BY `x`.`day_of_week`
2019-07-18 13:31:02.644 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[@p31='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = Decimal), @p18='?' (Size = -1), @p19='?' (DbType = Int32), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = Decimal), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`invoice_waiting_confirm` SET `begin_date` = @p0, `comment` = @p1, `concert_fee` = @p2, `concert_fee_name` = @p3, `course_instance_id` = @p4, `course_name` = @p5, `created_at` = @p6, `due_date` = @p7, `end_date` = @p8, `group_course_instance_id` = @p9, `invoice_num` = @p10, `is_activate` = @p11, `is_confirmed` = @p12, `is_email_sent` = @p13, `is_paid` = @p14, `learner_id` = @p15, `learner_name` = @p16, `lesson_fee` = @p17, `lesson_note_fee_name` = @p18, `lesson_quantity` = @p19, `note_fee` = @p20, `other1_fee` = @p21, `other1_fee_name` = @p22, `other2_fee` = @p23, `other2_fee_name` = @p24, `other3_fee` = @p25, `other3_fee_name` = @p26, `owing_fee` = @p27, `paid_fee` = @p28, `term_id` = @p29, `total_fee` = @p30
WHERE `waiting_id` = @p31;
SELECT ROW_COUNT();
2019-07-18 13:31:02.649 +12:00 [INF] Executed DbCommand (65ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32), @__invoice_EndDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`amendment_id`, `x`.`amend_type`, `x`.`begin_date`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`course_schedule_id`, `x`.`created_at`, `x`.`day_of_week`, `x`.`end_date`, `x`.`end_time`, `x`.`is_temporary`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`amendment` AS `x`
WHERE (`x`.`course_instance_id` = @__invoice_CourseInstanceId_0) AND (`x`.`begin_date` <= @__invoice_EndDate_1)
ORDER BY `x`.`created_at`
2019-07-18 13:31:02.684 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:31:02.701 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:31:02.745 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@p40='?' (DbType = Int32), @p32='?' (DbType = DateTime), @p33='?' (DbType = Int32), @p34='?' (DbType = DateTime), @p35='?' (DbType = DateTime), @p36='?' (DbType = Int32), @p37='?' (DbType = Int16), @p38='?' (DbType = Int16), @p39='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `begin_date` = @p32, `course_id` = @p33, `end_date` = @p34, `invoice_date` = @p35, `learner_id` = @p36, `org_id` = @p37, `room_id` = @p38, `teacher_id` = @p39
WHERE `course_instance_id` = @p40;
SELECT ROW_COUNT();
2019-07-18 13:31:02.749 +12:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`holiday_date`
FROM `ablemusic`.`holiday` AS `x`
2019-07-18 13:31:02.813 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:02.859 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:31:03.005 +12:00 [INF] Executed DbCommand (77ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:31:03.074 +12:00 [INF] Executed DbCommand (70ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:31:03.281 +12:00 [INF] Executed DbCommand (123ms) [Parameters=[@p31='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = Decimal), @p18='?' (Size = -1), @p19='?' (DbType = Int32), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = Decimal), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`invoice_waiting_confirm` SET `begin_date` = @p0, `comment` = @p1, `concert_fee` = @p2, `concert_fee_name` = @p3, `course_instance_id` = @p4, `course_name` = @p5, `created_at` = @p6, `due_date` = @p7, `end_date` = @p8, `group_course_instance_id` = @p9, `invoice_num` = @p10, `is_activate` = @p11, `is_confirmed` = @p12, `is_email_sent` = @p13, `is_paid` = @p14, `learner_id` = @p15, `learner_name` = @p16, `lesson_fee` = @p17, `lesson_note_fee_name` = @p18, `lesson_quantity` = @p19, `note_fee` = @p20, `other1_fee` = @p21, `other1_fee_name` = @p22, `other2_fee` = @p23, `other2_fee_name` = @p24, `other3_fee` = @p25, `other3_fee_name` = @p26, `owing_fee` = @p27, `paid_fee` = @p28, `term_id` = @p29, `total_fee` = @p30
WHERE `waiting_id` = @p31;
SELECT ROW_COUNT();
2019-07-18 13:31:03.332 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:31:03.391 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = AnsiString), @p18='?' (Size = -1), @p19='?' (DbType = AnsiString), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = AnsiString), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`invoice_waiting_confirm` (`begin_date`, `comment`, `concert_fee`, `concert_fee_name`, `course_instance_id`, `course_name`, `created_at`, `due_date`, `end_date`, `group_course_instance_id`, `invoice_num`, `is_activate`, `is_confirmed`, `is_email_sent`, `is_paid`, `learner_id`, `learner_name`, `lesson_fee`, `lesson_note_fee_name`, `lesson_quantity`, `note_fee`, `other1_fee`, `other1_fee_name`, `other2_fee`, `other2_fee_name`, `other3_fee`, `other3_fee_name`, `owing_fee`, `paid_fee`, `term_id`, `total_fee`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
SELECT `waiting_id`
FROM `ablemusic`.`invoice_waiting_confirm`
WHERE ROW_COUNT() = 1
 AND `waiting_id`=LAST_INSERT_ID();
2019-07-18 13:31:03.397 +12:00 [INF] Executed DbCommand (63ms) [Parameters=[@p40='?' (DbType = Int32), @p32='?' (DbType = DateTime), @p33='?' (DbType = Int32), @p34='?' (DbType = DateTime), @p35='?' (DbType = DateTime), @p36='?' (DbType = Int32), @p37='?' (DbType = Int16), @p38='?' (DbType = Int16), @p39='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `begin_date` = @p32, `course_id` = @p33, `end_date` = @p34, `invoice_date` = @p35, `learner_id` = @p36, `org_id` = @p37, `room_id` = @p38, `teacher_id` = @p39
WHERE `course_instance_id` = @p40;
SELECT ROW_COUNT();
2019-07-18 13:31:03.499 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:31:03.507 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[@p32='?' (DbType = Int32), @p31='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `invoice_date` = @p31
WHERE `course_instance_id` = @p32;
SELECT ROW_COUNT();
2019-07-18 13:31:03.861 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:31:03.912 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:31:04.092 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:31:04.104 +12:00 [INF] Executed DbCommand (63ms) [Parameters=[@__invoice_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`waiting_id`, `x`.`begin_date`, `x`.`comment`, `x`.`concert_fee`, `x`.`concert_fee_name`, `x`.`course_instance_id`, `x`.`course_name`, `x`.`created_at`, `x`.`due_date`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_num`, `x`.`is_activate`, `x`.`is_confirmed`, `x`.`is_email_sent`, `x`.`is_paid`, `x`.`learner_id`, `x`.`learner_name`, `x`.`lesson_fee`, `x`.`lesson_note_fee_name`, `x`.`lesson_quantity`, `x`.`note_fee`, `x`.`other1_fee`, `x`.`other1_fee_name`, `x`.`other2_fee`, `x`.`other2_fee_name`, `x`.`other3_fee`, `x`.`other3_fee_name`, `x`.`owing_fee`, `x`.`paid_fee`, `x`.`term_id`, `x`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `x`
WHERE `x`.`waiting_id` = @__invoice_id_0
LIMIT 1
2019-07-18 13:31:04.154 +12:00 [INF] Executed DbCommand (61ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = AnsiString), @p18='?' (Size = -1), @p19='?' (DbType = AnsiString), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = AnsiString), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`invoice_waiting_confirm` (`begin_date`, `comment`, `concert_fee`, `concert_fee_name`, `course_instance_id`, `course_name`, `created_at`, `due_date`, `end_date`, `group_course_instance_id`, `invoice_num`, `is_activate`, `is_confirmed`, `is_email_sent`, `is_paid`, `learner_id`, `learner_name`, `lesson_fee`, `lesson_note_fee_name`, `lesson_quantity`, `note_fee`, `other1_fee`, `other1_fee_name`, `other2_fee`, `other2_fee_name`, `other3_fee`, `other3_fee_name`, `owing_fee`, `paid_fee`, `term_id`, `total_fee`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
SELECT `waiting_id`
FROM `ablemusic`.`invoice_waiting_confirm`
WHERE ROW_COUNT() = 1
 AND `waiting_id`=LAST_INSERT_ID();
2019-07-18 13:31:04.171 +12:00 [INF] Executed DbCommand (67ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_schedule_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`day_of_week`, `x`.`end_time`, `x`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
ORDER BY `x`.`day_of_week`
2019-07-18 13:31:04.227 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32), @__invoice_EndDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`amendment_id`, `x`.`amend_type`, `x`.`begin_date`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`course_schedule_id`, `x`.`created_at`, `x`.`day_of_week`, `x`.`end_date`, `x`.`end_time`, `x`.`is_temporary`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`amendment` AS `x`
WHERE (`x`.`course_instance_id` = @__invoice_CourseInstanceId_0) AND (`x`.`begin_date` <= @__invoice_EndDate_1)
ORDER BY `x`.`created_at`
2019-07-18 13:31:04.255 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:31:04.258 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@p32='?' (DbType = Int32), @p31='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `invoice_date` = @p31
WHERE `course_instance_id` = @p32;
SELECT ROW_COUNT();
2019-07-18 13:31:04.281 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:31:04.330 +12:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`holiday_date`
FROM `ablemusic`.`holiday` AS `x`
2019-07-18 13:31:04.388 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:04.435 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:31:04.617 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:31:04.627 +12:00 [INF] Executed DbCommand (63ms) [Parameters=[@__invoice_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`waiting_id`, `x`.`begin_date`, `x`.`comment`, `x`.`concert_fee`, `x`.`concert_fee_name`, `x`.`course_instance_id`, `x`.`course_name`, `x`.`created_at`, `x`.`due_date`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_num`, `x`.`is_activate`, `x`.`is_confirmed`, `x`.`is_email_sent`, `x`.`is_paid`, `x`.`learner_id`, `x`.`learner_name`, `x`.`lesson_fee`, `x`.`lesson_note_fee_name`, `x`.`lesson_quantity`, `x`.`note_fee`, `x`.`other1_fee`, `x`.`other1_fee_name`, `x`.`other2_fee`, `x`.`other2_fee_name`, `x`.`other3_fee`, `x`.`other3_fee_name`, `x`.`owing_fee`, `x`.`paid_fee`, `x`.`term_id`, `x`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `x`
WHERE `x`.`waiting_id` = @__invoice_id_0
LIMIT 1
2019-07-18 13:31:04.678 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_schedule_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`day_of_week`, `x`.`end_time`, `x`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
ORDER BY `x`.`day_of_week`
2019-07-18 13:31:04.738 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@p31='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = Decimal), @p18='?' (Size = -1), @p19='?' (DbType = Int32), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = Decimal), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`invoice_waiting_confirm` SET `begin_date` = @p0, `comment` = @p1, `concert_fee` = @p2, `concert_fee_name` = @p3, `course_instance_id` = @p4, `course_name` = @p5, `created_at` = @p6, `due_date` = @p7, `end_date` = @p8, `group_course_instance_id` = @p9, `invoice_num` = @p10, `is_activate` = @p11, `is_confirmed` = @p12, `is_email_sent` = @p13, `is_paid` = @p14, `learner_id` = @p15, `learner_name` = @p16, `lesson_fee` = @p17, `lesson_note_fee_name` = @p18, `lesson_quantity` = @p19, `note_fee` = @p20, `other1_fee` = @p21, `other1_fee_name` = @p22, `other2_fee` = @p23, `other2_fee_name` = @p24, `other3_fee` = @p25, `other3_fee_name` = @p26, `owing_fee` = @p27, `paid_fee` = @p28, `term_id` = @p29, `total_fee` = @p30
WHERE `waiting_id` = @p31;
SELECT ROW_COUNT();
2019-07-18 13:31:04.745 +12:00 [INF] Executed DbCommand (65ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32), @__invoice_EndDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`amendment_id`, `x`.`amend_type`, `x`.`begin_date`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`course_schedule_id`, `x`.`created_at`, `x`.`day_of_week`, `x`.`end_date`, `x`.`end_time`, `x`.`is_temporary`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`amendment` AS `x`
WHERE (`x`.`course_instance_id` = @__invoice_CourseInstanceId_0) AND (`x`.`begin_date` <= @__invoice_EndDate_1)
ORDER BY `x`.`created_at`
2019-07-18 13:31:04.791 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:31:04.797 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:31:04.846 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@p40='?' (DbType = Int32), @p32='?' (DbType = DateTime), @p33='?' (DbType = Int32), @p34='?' (DbType = DateTime), @p35='?' (DbType = DateTime), @p36='?' (DbType = Int32), @p37='?' (DbType = Int16), @p38='?' (DbType = Int16), @p39='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `begin_date` = @p32, `course_id` = @p33, `end_date` = @p34, `invoice_date` = @p35, `learner_id` = @p36, `org_id` = @p37, `room_id` = @p38, `teacher_id` = @p39
WHERE `course_instance_id` = @p40;
SELECT ROW_COUNT();
2019-07-18 13:31:04.846 +12:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`holiday_date`
FROM `ablemusic`.`holiday` AS `x`
2019-07-18 13:31:04.907 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:04.958 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:31:05.072 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:31:05.124 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:31:05.285 +12:00 [INF] Executed DbCommand (61ms) [Parameters=[@p31='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = Decimal), @p18='?' (Size = -1), @p19='?' (DbType = Int32), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = Decimal), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`invoice_waiting_confirm` SET `begin_date` = @p0, `comment` = @p1, `concert_fee` = @p2, `concert_fee_name` = @p3, `course_instance_id` = @p4, `course_name` = @p5, `created_at` = @p6, `due_date` = @p7, `end_date` = @p8, `group_course_instance_id` = @p9, `invoice_num` = @p10, `is_activate` = @p11, `is_confirmed` = @p12, `is_email_sent` = @p13, `is_paid` = @p14, `learner_id` = @p15, `learner_name` = @p16, `lesson_fee` = @p17, `lesson_note_fee_name` = @p18, `lesson_quantity` = @p19, `note_fee` = @p20, `other1_fee` = @p21, `other1_fee_name` = @p22, `other2_fee` = @p23, `other2_fee_name` = @p24, `other3_fee` = @p25, `other3_fee_name` = @p26, `owing_fee` = @p27, `paid_fee` = @p28, `term_id` = @p29, `total_fee` = @p30
WHERE `waiting_id` = @p31;
SELECT ROW_COUNT();
2019-07-18 13:31:05.300 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:31:05.361 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = AnsiString), @p18='?' (Size = -1), @p19='?' (DbType = AnsiString), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = AnsiString), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`invoice_waiting_confirm` (`begin_date`, `comment`, `concert_fee`, `concert_fee_name`, `course_instance_id`, `course_name`, `created_at`, `due_date`, `end_date`, `group_course_instance_id`, `invoice_num`, `is_activate`, `is_confirmed`, `is_email_sent`, `is_paid`, `learner_id`, `learner_name`, `lesson_fee`, `lesson_note_fee_name`, `lesson_quantity`, `note_fee`, `other1_fee`, `other1_fee_name`, `other2_fee`, `other2_fee_name`, `other3_fee`, `other3_fee_name`, `owing_fee`, `paid_fee`, `term_id`, `total_fee`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
SELECT `waiting_id`
FROM `ablemusic`.`invoice_waiting_confirm`
WHERE ROW_COUNT() = 1
 AND `waiting_id`=LAST_INSERT_ID();
2019-07-18 13:31:05.392 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@p40='?' (DbType = Int32), @p32='?' (DbType = DateTime), @p33='?' (DbType = Int32), @p34='?' (DbType = DateTime), @p35='?' (DbType = DateTime), @p36='?' (DbType = Int32), @p37='?' (DbType = Int16), @p38='?' (DbType = Int16), @p39='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `begin_date` = @p32, `course_id` = @p33, `end_date` = @p34, `invoice_date` = @p35, `learner_id` = @p36, `org_id` = @p37, `room_id` = @p38, `teacher_id` = @p39
WHERE `course_instance_id` = @p40;
SELECT ROW_COUNT();
2019-07-18 13:31:05.465 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:31:05.472 +12:00 [INF] Executed DbCommand (62ms) [Parameters=[@p32='?' (DbType = Int32), @p31='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `invoice_date` = @p31
WHERE `course_instance_id` = @p32;
SELECT ROW_COUNT();
2019-07-18 13:31:05.627 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:31:05.667 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:31:05.838 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__learner_LearnerGroupCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_group_course_id`, `x`.`begin_date`, `x`.`comment`, `x`.`created_at`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `x`
WHERE `x`.`learner_group_course_id` = @__learner_LearnerGroupCourseId_0
LIMIT 1
2019-07-18 13:31:05.839 +12:00 [INF] Executed action method Pegasus_backend.Controllers.PaymentController.GenerateGroupInvoice (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5872.4119ms.
2019-07-18 13:31:05.839 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:31:05.839 +12:00 [INF] Executed action Pegasus_backend.Controllers.PaymentController.GenerateGroupInvoice (Pegasus_backend) in 5873.2261ms
2019-07-18 13:31:05.839 +12:00 [INF] Request finished in 5874.5351ms 200 application/json; charset=utf-8
2019-07-18 13:31:05.858 +12:00 [INF] Executed DbCommand (70ms) [Parameters=[@__invoice_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`waiting_id`, `x`.`begin_date`, `x`.`comment`, `x`.`concert_fee`, `x`.`concert_fee_name`, `x`.`course_instance_id`, `x`.`course_name`, `x`.`created_at`, `x`.`due_date`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_num`, `x`.`is_activate`, `x`.`is_confirmed`, `x`.`is_email_sent`, `x`.`is_paid`, `x`.`learner_id`, `x`.`learner_name`, `x`.`lesson_fee`, `x`.`lesson_note_fee_name`, `x`.`lesson_quantity`, `x`.`note_fee`, `x`.`other1_fee`, `x`.`other1_fee_name`, `x`.`other2_fee`, `x`.`other2_fee_name`, `x`.`other3_fee`, `x`.`other3_fee_name`, `x`.`owing_fee`, `x`.`paid_fee`, `x`.`term_id`, `x`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `x`
WHERE `x`.`waiting_id` = @__invoice_id_0
LIMIT 1
2019-07-18 13:31:05.910 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_schedule_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`day_of_week`, `x`.`end_time`, `x`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
ORDER BY `x`.`day_of_week`
2019-07-18 13:31:05.951 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = AnsiString), @p18='?' (Size = -1), @p19='?' (DbType = AnsiString), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = AnsiString), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`invoice_waiting_confirm` (`begin_date`, `comment`, `concert_fee`, `concert_fee_name`, `course_instance_id`, `course_name`, `created_at`, `due_date`, `end_date`, `group_course_instance_id`, `invoice_num`, `is_activate`, `is_confirmed`, `is_email_sent`, `is_paid`, `learner_id`, `learner_name`, `lesson_fee`, `lesson_note_fee_name`, `lesson_quantity`, `note_fee`, `other1_fee`, `other1_fee_name`, `other2_fee`, `other2_fee_name`, `other3_fee`, `other3_fee_name`, `owing_fee`, `paid_fee`, `term_id`, `total_fee`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
SELECT `waiting_id`
FROM `ablemusic`.`invoice_waiting_confirm`
WHERE ROW_COUNT() = 1
 AND `waiting_id`=LAST_INSERT_ID();
2019-07-18 13:31:05.965 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32), @__invoice_EndDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`amendment_id`, `x`.`amend_type`, `x`.`begin_date`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`course_schedule_id`, `x`.`created_at`, `x`.`day_of_week`, `x`.`end_date`, `x`.`end_time`, `x`.`is_temporary`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`amendment` AS `x`
WHERE (`x`.`course_instance_id` = @__invoice_CourseInstanceId_0) AND (`x`.`begin_date` <= @__invoice_EndDate_1)
ORDER BY `x`.`created_at`
2019-07-18 13:31:06.004 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@p32='?' (DbType = Int32), @p31='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `invoice_date` = @p31
WHERE `course_instance_id` = @p32;
SELECT ROW_COUNT();
2019-07-18 13:31:06.018 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:31:06.067 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`holiday_date`
FROM `ablemusic`.`holiday` AS `x`
2019-07-18 13:31:06.313 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:31:06.371 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__invoice_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`waiting_id`, `x`.`begin_date`, `x`.`comment`, `x`.`concert_fee`, `x`.`concert_fee_name`, `x`.`course_instance_id`, `x`.`course_name`, `x`.`created_at`, `x`.`due_date`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_num`, `x`.`is_activate`, `x`.`is_confirmed`, `x`.`is_email_sent`, `x`.`is_paid`, `x`.`learner_id`, `x`.`learner_name`, `x`.`lesson_fee`, `x`.`lesson_note_fee_name`, `x`.`lesson_quantity`, `x`.`note_fee`, `x`.`other1_fee`, `x`.`other1_fee_name`, `x`.`other2_fee`, `x`.`other2_fee_name`, `x`.`other3_fee`, `x`.`other3_fee_name`, `x`.`owing_fee`, `x`.`paid_fee`, `x`.`term_id`, `x`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `x`
WHERE `x`.`waiting_id` = @__invoice_id_0
LIMIT 1
2019-07-18 13:31:06.426 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_schedule_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`day_of_week`, `x`.`end_time`, `x`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
ORDER BY `x`.`day_of_week`
2019-07-18 13:31:06.484 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32), @__invoice_EndDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`amendment_id`, `x`.`amend_type`, `x`.`begin_date`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`course_schedule_id`, `x`.`created_at`, `x`.`day_of_week`, `x`.`end_date`, `x`.`end_time`, `x`.`is_temporary`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`amendment` AS `x`
WHERE (`x`.`course_instance_id` = @__invoice_CourseInstanceId_0) AND (`x`.`begin_date` <= @__invoice_EndDate_1)
ORDER BY `x`.`created_at`
2019-07-18 13:31:06.539 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:31:06.588 +12:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`holiday_date`
FROM `ablemusic`.`holiday` AS `x`
2019-07-18 13:31:06.625 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@p5='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = Decimal), @p2='?' (DbType = Int32), @p3='?' (DbType = Decimal), @p4='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`invoice_waiting_confirm` SET `due_date` = @p0, `lesson_fee` = @p1, `lesson_quantity` = @p2, `owing_fee` = @p3, `total_fee` = @p4
WHERE `waiting_id` = @p5;
SELECT ROW_COUNT();
2019-07-18 13:31:06.654 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:06.686 +12:00 [INF] Executed DbCommand (61ms) [Parameters=[@p6='?' (DbType = DateTime), @p7='?' (Size = -1), @p8='?' (DbType = AnsiString), @p9='?' (Size = -1), @p10='?' (DbType = Int32), @p11='?' (Size = -1), @p12='?' (DbType = DateTime), @p13='?' (DbType = DateTime), @p14='?' (DbType = DateTime), @p15='?' (DbType = AnsiString), @p16='?' (Size = -1), @p17='?' (DbType = Int16), @p18='?' (DbType = Int16), @p19='?' (DbType = Int16), @p20='?' (DbType = Int16), @p21='?' (DbType = Int32), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (DbType = AnsiString), @p27='?' (DbType = AnsiString), @p28='?' (Size = -1), @p29='?' (DbType = AnsiString), @p30='?' (Size = -1), @p31='?' (DbType = AnsiString), @p32='?' (Size = -1), @p33='?' (DbType = AnsiString), @p34='?' (DbType = Decimal), @p35='?' (DbType = Int16), @p36='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`invoice_waiting_confirm` (`begin_date`, `comment`, `concert_fee`, `concert_fee_name`, `course_instance_id`, `course_name`, `created_at`, `due_date`, `end_date`, `group_course_instance_id`, `invoice_num`, `is_activate`, `is_confirmed`, `is_email_sent`, `is_paid`, `learner_id`, `learner_name`, `lesson_fee`, `lesson_note_fee_name`, `lesson_quantity`, `note_fee`, `other1_fee`, `other1_fee_name`, `other2_fee`, `other2_fee_name`, `other3_fee`, `other3_fee_name`, `owing_fee`, `paid_fee`, `term_id`, `total_fee`)
VALUES (@p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36);
SELECT `waiting_id`
FROM `ablemusic`.`invoice_waiting_confirm`
WHERE ROW_COUNT() = 1
 AND `waiting_id`=LAST_INSERT_ID();
2019-07-18 13:31:06.737 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@p38='?' (DbType = Int32), @p37='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `invoice_date` = @p37
WHERE `course_instance_id` = @p38;
SELECT ROW_COUNT();
2019-07-18 13:31:07.036 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@p31='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = Decimal), @p18='?' (Size = -1), @p19='?' (DbType = Int32), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = Decimal), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`invoice_waiting_confirm` SET `begin_date` = @p0, `comment` = @p1, `concert_fee` = @p2, `concert_fee_name` = @p3, `course_instance_id` = @p4, `course_name` = @p5, `created_at` = @p6, `due_date` = @p7, `end_date` = @p8, `group_course_instance_id` = @p9, `invoice_num` = @p10, `is_activate` = @p11, `is_confirmed` = @p12, `is_email_sent` = @p13, `is_paid` = @p14, `learner_id` = @p15, `learner_name` = @p16, `lesson_fee` = @p17, `lesson_note_fee_name` = @p18, `lesson_quantity` = @p19, `note_fee` = @p20, `other1_fee` = @p21, `other1_fee_name` = @p22, `other2_fee` = @p23, `other2_fee_name` = @p24, `other3_fee` = @p25, `other3_fee_name` = @p26, `owing_fee` = @p27, `paid_fee` = @p28, `term_id` = @p29, `total_fee` = @p30
WHERE `waiting_id` = @p31;
SELECT ROW_COUNT();
2019-07-18 13:31:07.089 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@p40='?' (DbType = Int32), @p32='?' (DbType = DateTime), @p33='?' (DbType = Int32), @p34='?' (DbType = DateTime), @p35='?' (DbType = DateTime), @p36='?' (DbType = Int32), @p37='?' (DbType = Int16), @p38='?' (DbType = Int16), @p39='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `begin_date` = @p32, `course_id` = @p33, `end_date` = @p34, `invoice_date` = @p35, `learner_id` = @p36, `org_id` = @p37, `room_id` = @p38, `teacher_id` = @p39
WHERE `course_instance_id` = @p40;
SELECT ROW_COUNT();
2019-07-18 13:31:07.099 +12:00 [INF] Executed DbCommand (62ms) [Parameters=[@__invoice_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`waiting_id`, `x`.`begin_date`, `x`.`comment`, `x`.`concert_fee`, `x`.`concert_fee_name`, `x`.`course_instance_id`, `x`.`course_name`, `x`.`created_at`, `x`.`due_date`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_num`, `x`.`is_activate`, `x`.`is_confirmed`, `x`.`is_email_sent`, `x`.`is_paid`, `x`.`learner_id`, `x`.`learner_name`, `x`.`lesson_fee`, `x`.`lesson_note_fee_name`, `x`.`lesson_quantity`, `x`.`note_fee`, `x`.`other1_fee`, `x`.`other1_fee_name`, `x`.`other2_fee`, `x`.`other2_fee_name`, `x`.`other3_fee`, `x`.`other3_fee_name`, `x`.`owing_fee`, `x`.`paid_fee`, `x`.`term_id`, `x`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `x`
WHERE `x`.`waiting_id` = @__invoice_id_0
LIMIT 1
2019-07-18 13:31:07.151 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_schedule_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`day_of_week`, `x`.`end_time`, `x`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
ORDER BY `x`.`day_of_week`
2019-07-18 13:31:07.211 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32), @__invoice_EndDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`amendment_id`, `x`.`amend_type`, `x`.`begin_date`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`course_schedule_id`, `x`.`created_at`, `x`.`day_of_week`, `x`.`end_date`, `x`.`end_time`, `x`.`is_temporary`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`amendment` AS `x`
WHERE (`x`.`course_instance_id` = @__invoice_CourseInstanceId_0) AND (`x`.`begin_date` <= @__invoice_EndDate_1)
ORDER BY `x`.`created_at`
2019-07-18 13:31:07.264 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:31:07.316 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:31:07.316 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`holiday_date`
FROM `ablemusic`.`holiday` AS `x`
2019-07-18 13:31:07.380 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:07.629 +12:00 [INF] Executed DbCommand (61ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = AnsiString), @p18='?' (Size = -1), @p19='?' (DbType = AnsiString), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = AnsiString), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`invoice_waiting_confirm` (`begin_date`, `comment`, `concert_fee`, `concert_fee_name`, `course_instance_id`, `course_name`, `created_at`, `due_date`, `end_date`, `group_course_instance_id`, `invoice_num`, `is_activate`, `is_confirmed`, `is_email_sent`, `is_paid`, `learner_id`, `learner_name`, `lesson_fee`, `lesson_note_fee_name`, `lesson_quantity`, `note_fee`, `other1_fee`, `other1_fee_name`, `other2_fee`, `other2_fee_name`, `other3_fee`, `other3_fee_name`, `owing_fee`, `paid_fee`, `term_id`, `total_fee`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
SELECT `waiting_id`
FROM `ablemusic`.`invoice_waiting_confirm`
WHERE ROW_COUNT() = 1
 AND `waiting_id`=LAST_INSERT_ID();
2019-07-18 13:31:07.740 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@p31='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = Decimal), @p18='?' (Size = -1), @p19='?' (DbType = Int32), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = Decimal), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`invoice_waiting_confirm` SET `begin_date` = @p0, `comment` = @p1, `concert_fee` = @p2, `concert_fee_name` = @p3, `course_instance_id` = @p4, `course_name` = @p5, `created_at` = @p6, `due_date` = @p7, `end_date` = @p8, `group_course_instance_id` = @p9, `invoice_num` = @p10, `is_activate` = @p11, `is_confirmed` = @p12, `is_email_sent` = @p13, `is_paid` = @p14, `learner_id` = @p15, `learner_name` = @p16, `lesson_fee` = @p17, `lesson_note_fee_name` = @p18, `lesson_quantity` = @p19, `note_fee` = @p20, `other1_fee` = @p21, `other1_fee_name` = @p22, `other2_fee` = @p23, `other2_fee_name` = @p24, `other3_fee` = @p25, `other3_fee_name` = @p26, `owing_fee` = @p27, `paid_fee` = @p28, `term_id` = @p29, `total_fee` = @p30
WHERE `waiting_id` = @p31;
SELECT ROW_COUNT();
2019-07-18 13:31:07.793 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@p40='?' (DbType = Int32), @p32='?' (DbType = DateTime), @p33='?' (DbType = Int32), @p34='?' (DbType = DateTime), @p35='?' (DbType = DateTime), @p36='?' (DbType = Int32), @p37='?' (DbType = Int16), @p38='?' (DbType = Int16), @p39='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `begin_date` = @p32, `course_id` = @p33, `end_date` = @p34, `invoice_date` = @p35, `learner_id` = @p36, `org_id` = @p37, `room_id` = @p38, `teacher_id` = @p39
WHERE `course_instance_id` = @p40;
SELECT ROW_COUNT();
2019-07-18 13:31:08.031 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:31:08.040 +12:00 [INF] Executed DbCommand (61ms) [Parameters=[@__invoice_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`waiting_id`, `x`.`begin_date`, `x`.`comment`, `x`.`concert_fee`, `x`.`concert_fee_name`, `x`.`course_instance_id`, `x`.`course_name`, `x`.`created_at`, `x`.`due_date`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_num`, `x`.`is_activate`, `x`.`is_confirmed`, `x`.`is_email_sent`, `x`.`is_paid`, `x`.`learner_id`, `x`.`learner_name`, `x`.`lesson_fee`, `x`.`lesson_note_fee_name`, `x`.`lesson_quantity`, `x`.`note_fee`, `x`.`other1_fee`, `x`.`other1_fee_name`, `x`.`other2_fee`, `x`.`other2_fee_name`, `x`.`other3_fee`, `x`.`other3_fee_name`, `x`.`owing_fee`, `x`.`paid_fee`, `x`.`term_id`, `x`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `x`
WHERE `x`.`waiting_id` = @__invoice_id_0
LIMIT 1
2019-07-18 13:31:08.111 +12:00 [INF] Executed DbCommand (69ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_schedule_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`day_of_week`, `x`.`end_time`, `x`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
ORDER BY `x`.`day_of_week`
2019-07-18 13:31:08.166 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32), @__invoice_EndDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`amendment_id`, `x`.`amend_type`, `x`.`begin_date`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`course_schedule_id`, `x`.`created_at`, `x`.`day_of_week`, `x`.`end_date`, `x`.`end_time`, `x`.`is_temporary`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`amendment` AS `x`
WHERE (`x`.`course_instance_id` = @__invoice_CourseInstanceId_0) AND (`x`.`begin_date` <= @__invoice_EndDate_1)
ORDER BY `x`.`created_at`
2019-07-18 13:31:08.219 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:31:08.268 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`holiday_date`
FROM `ablemusic`.`holiday` AS `x`
2019-07-18 13:31:08.329 +12:00 [INF] Executed DbCommand (61ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = AnsiString), @p18='?' (Size = -1), @p19='?' (DbType = AnsiString), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = AnsiString), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`invoice_waiting_confirm` (`begin_date`, `comment`, `concert_fee`, `concert_fee_name`, `course_instance_id`, `course_name`, `created_at`, `due_date`, `end_date`, `group_course_instance_id`, `invoice_num`, `is_activate`, `is_confirmed`, `is_email_sent`, `is_paid`, `learner_id`, `learner_name`, `lesson_fee`, `lesson_note_fee_name`, `lesson_quantity`, `note_fee`, `other1_fee`, `other1_fee_name`, `other2_fee`, `other2_fee_name`, `other3_fee`, `other3_fee_name`, `owing_fee`, `paid_fee`, `term_id`, `total_fee`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
SELECT `waiting_id`
FROM `ablemusic`.`invoice_waiting_confirm`
WHERE ROW_COUNT() = 1
 AND `waiting_id`=LAST_INSERT_ID();
2019-07-18 13:31:08.338 +12:00 [INF] Executed DbCommand (65ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:08.398 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:08.428 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@p32='?' (DbType = Int32), @p31='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `invoice_date` = @p31
WHERE `course_instance_id` = @p32;
SELECT ROW_COUNT();
2019-07-18 13:31:08.458 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:08.527 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:08.593 +12:00 [INF] Executed DbCommand (61ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:08.656 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:08.727 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:08.805 +12:00 [INF] Executed DbCommand (79ms) [Parameters=[@__invoice_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`waiting_id`, `x`.`begin_date`, `x`.`comment`, `x`.`concert_fee`, `x`.`concert_fee_name`, `x`.`course_instance_id`, `x`.`course_name`, `x`.`created_at`, `x`.`due_date`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_num`, `x`.`is_activate`, `x`.`is_confirmed`, `x`.`is_email_sent`, `x`.`is_paid`, `x`.`learner_id`, `x`.`learner_name`, `x`.`lesson_fee`, `x`.`lesson_note_fee_name`, `x`.`lesson_quantity`, `x`.`note_fee`, `x`.`other1_fee`, `x`.`other1_fee_name`, `x`.`other2_fee`, `x`.`other2_fee_name`, `x`.`other3_fee`, `x`.`other3_fee_name`, `x`.`owing_fee`, `x`.`paid_fee`, `x`.`term_id`, `x`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `x`
WHERE `x`.`waiting_id` = @__invoice_id_0
LIMIT 1
2019-07-18 13:31:08.809 +12:00 [INF] Executed DbCommand (76ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:08.858 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_schedule_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`day_of_week`, `x`.`end_time`, `x`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
ORDER BY `x`.`day_of_week`
2019-07-18 13:31:08.882 +12:00 [INF] Executed DbCommand (66ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:08.914 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32), @__invoice_EndDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`amendment_id`, `x`.`amend_type`, `x`.`begin_date`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`course_schedule_id`, `x`.`created_at`, `x`.`day_of_week`, `x`.`end_date`, `x`.`end_time`, `x`.`is_temporary`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`amendment` AS `x`
WHERE (`x`.`course_instance_id` = @__invoice_CourseInstanceId_0) AND (`x`.`begin_date` <= @__invoice_EndDate_1)
ORDER BY `x`.`created_at`
2019-07-18 13:31:08.955 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:08.965 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:31:09.017 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:09.017 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`holiday_date`
FROM `ablemusic`.`holiday` AS `x`
2019-07-18 13:31:09.086 +12:00 [INF] Executed DbCommand (62ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:09.108 +12:00 [INF] Executed DbCommand (74ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:09.172 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:09.243 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:09.322 +12:00 [INF] Executed DbCommand (61ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:09.488 +12:00 [INF] Executed DbCommand (72ms) [Parameters=[@p31='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = Decimal), @p18='?' (Size = -1), @p19='?' (DbType = Int32), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = Decimal), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`invoice_waiting_confirm` SET `begin_date` = @p0, `comment` = @p1, `concert_fee` = @p2, `concert_fee_name` = @p3, `course_instance_id` = @p4, `course_name` = @p5, `created_at` = @p6, `due_date` = @p7, `end_date` = @p8, `group_course_instance_id` = @p9, `invoice_num` = @p10, `is_activate` = @p11, `is_confirmed` = @p12, `is_email_sent` = @p13, `is_paid` = @p14, `learner_id` = @p15, `learner_name` = @p16, `lesson_fee` = @p17, `lesson_note_fee_name` = @p18, `lesson_quantity` = @p19, `note_fee` = @p20, `other1_fee` = @p21, `other1_fee_name` = @p22, `other2_fee` = @p23, `other2_fee_name` = @p24, `other3_fee` = @p25, `other3_fee_name` = @p26, `owing_fee` = @p27, `paid_fee` = @p28, `term_id` = @p29, `total_fee` = @p30
WHERE `waiting_id` = @p31;
SELECT ROW_COUNT();
2019-07-18 13:31:09.593 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@p40='?' (DbType = Int32), @p32='?' (DbType = DateTime), @p33='?' (DbType = Int32), @p34='?' (DbType = DateTime), @p35='?' (DbType = DateTime), @p36='?' (DbType = Int32), @p37='?' (DbType = Int16), @p38='?' (DbType = Int16), @p39='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `begin_date` = @p32, `course_id` = @p33, `end_date` = @p34, `invoice_date` = @p35, `learner_id` = @p36, `org_id` = @p37, `room_id` = @p38, `teacher_id` = @p39
WHERE `course_instance_id` = @p40;
SELECT ROW_COUNT();
2019-07-18 13:31:09.716 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[@p31='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = Decimal), @p18='?' (Size = -1), @p19='?' (DbType = Int32), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = Decimal), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`invoice_waiting_confirm` SET `begin_date` = @p0, `comment` = @p1, `concert_fee` = @p2, `concert_fee_name` = @p3, `course_instance_id` = @p4, `course_name` = @p5, `created_at` = @p6, `due_date` = @p7, `end_date` = @p8, `group_course_instance_id` = @p9, `invoice_num` = @p10, `is_activate` = @p11, `is_confirmed` = @p12, `is_email_sent` = @p13, `is_paid` = @p14, `learner_id` = @p15, `learner_name` = @p16, `lesson_fee` = @p17, `lesson_note_fee_name` = @p18, `lesson_quantity` = @p19, `note_fee` = @p20, `other1_fee` = @p21, `other1_fee_name` = @p22, `other2_fee` = @p23, `other2_fee_name` = @p24, `other3_fee` = @p25, `other3_fee_name` = @p26, `owing_fee` = @p27, `paid_fee` = @p28, `term_id` = @p29, `total_fee` = @p30
WHERE `waiting_id` = @p31;
SELECT ROW_COUNT();
2019-07-18 13:31:09.818 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:31:09.822 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@p40='?' (DbType = Int32), @p32='?' (DbType = DateTime), @p33='?' (DbType = Int32), @p34='?' (DbType = DateTime), @p35='?' (DbType = DateTime), @p36='?' (DbType = Int32), @p37='?' (DbType = Int16), @p38='?' (DbType = Int16), @p39='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `begin_date` = @p32, `course_id` = @p33, `end_date` = @p34, `invoice_date` = @p35, `learner_id` = @p36, `org_id` = @p37, `room_id` = @p38, `teacher_id` = @p39
WHERE `course_instance_id` = @p40;
SELECT ROW_COUNT();
2019-07-18 13:31:09.899 +12:00 [INF] Executed action method Pegasus_backend.Controllers.PaymentController.Generateone2oneInvoice (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 32642.6044ms.
2019-07-18 13:31:09.900 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:31:09.900 +12:00 [INF] Executed action Pegasus_backend.Controllers.PaymentController.Generateone2oneInvoice (Pegasus_backend) in 32643.9146ms
2019-07-18 13:31:09.900 +12:00 [INF] Request finished in 32650.3753ms 200 application/json; charset=utf-8
2019-07-18 13:31:13.303 +12:00 [INF] Executed DbCommand (153ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = AnsiString), @p18='?' (Size = -1), @p19='?' (DbType = AnsiString), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = AnsiString), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`invoice_waiting_confirm` (`begin_date`, `comment`, `concert_fee`, `concert_fee_name`, `course_instance_id`, `course_name`, `created_at`, `due_date`, `end_date`, `group_course_instance_id`, `invoice_num`, `is_activate`, `is_confirmed`, `is_email_sent`, `is_paid`, `learner_id`, `learner_name`, `lesson_fee`, `lesson_note_fee_name`, `lesson_quantity`, `note_fee`, `other1_fee`, `other1_fee_name`, `other2_fee`, `other2_fee_name`, `other3_fee`, `other3_fee_name`, `owing_fee`, `paid_fee`, `term_id`, `total_fee`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
SELECT `waiting_id`
FROM `ablemusic`.`invoice_waiting_confirm`
WHERE ROW_COUNT() = 1
 AND `waiting_id`=LAST_INSERT_ID();
2019-07-18 13:31:13.406 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@p32='?' (DbType = Int32), @p31='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `invoice_date` = @p31
WHERE `course_instance_id` = @p32;
SELECT ROW_COUNT();
2019-07-18 13:31:13.984 +12:00 [INF] Executed DbCommand (141ms) [Parameters=[@__invoice_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`waiting_id`, `x`.`begin_date`, `x`.`comment`, `x`.`concert_fee`, `x`.`concert_fee_name`, `x`.`course_instance_id`, `x`.`course_name`, `x`.`created_at`, `x`.`due_date`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_num`, `x`.`is_activate`, `x`.`is_confirmed`, `x`.`is_email_sent`, `x`.`is_paid`, `x`.`learner_id`, `x`.`learner_name`, `x`.`lesson_fee`, `x`.`lesson_note_fee_name`, `x`.`lesson_quantity`, `x`.`note_fee`, `x`.`other1_fee`, `x`.`other1_fee_name`, `x`.`other2_fee`, `x`.`other2_fee_name`, `x`.`other3_fee`, `x`.`other3_fee_name`, `x`.`owing_fee`, `x`.`paid_fee`, `x`.`term_id`, `x`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `x`
WHERE `x`.`waiting_id` = @__invoice_id_0
LIMIT 1
2019-07-18 13:31:14.042 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_schedule_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`day_of_week`, `x`.`end_time`, `x`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
ORDER BY `x`.`day_of_week`
2019-07-18 13:31:14.100 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32), @__invoice_EndDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`amendment_id`, `x`.`amend_type`, `x`.`begin_date`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`course_schedule_id`, `x`.`created_at`, `x`.`day_of_week`, `x`.`end_date`, `x`.`end_time`, `x`.`is_temporary`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`amendment` AS `x`
WHERE (`x`.`course_instance_id` = @__invoice_CourseInstanceId_0) AND (`x`.`begin_date` <= @__invoice_EndDate_1)
ORDER BY `x`.`created_at`
2019-07-18 13:31:14.154 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:31:14.203 +12:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`holiday_date`
FROM `ablemusic`.`holiday` AS `x`
2019-07-18 13:31:14.263 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:14.623 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@p31='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = Decimal), @p18='?' (Size = -1), @p19='?' (DbType = Int32), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = Decimal), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`invoice_waiting_confirm` SET `begin_date` = @p0, `comment` = @p1, `concert_fee` = @p2, `concert_fee_name` = @p3, `course_instance_id` = @p4, `course_name` = @p5, `created_at` = @p6, `due_date` = @p7, `end_date` = @p8, `group_course_instance_id` = @p9, `invoice_num` = @p10, `is_activate` = @p11, `is_confirmed` = @p12, `is_email_sent` = @p13, `is_paid` = @p14, `learner_id` = @p15, `learner_name` = @p16, `lesson_fee` = @p17, `lesson_note_fee_name` = @p18, `lesson_quantity` = @p19, `note_fee` = @p20, `other1_fee` = @p21, `other1_fee_name` = @p22, `other2_fee` = @p23, `other2_fee_name` = @p24, `other3_fee` = @p25, `other3_fee_name` = @p26, `owing_fee` = @p27, `paid_fee` = @p28, `term_id` = @p29, `total_fee` = @p30
WHERE `waiting_id` = @p31;
SELECT ROW_COUNT();
2019-07-18 13:31:14.724 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@p40='?' (DbType = Int32), @p32='?' (DbType = DateTime), @p33='?' (DbType = Int32), @p34='?' (DbType = DateTime), @p35='?' (DbType = DateTime), @p36='?' (DbType = Int32), @p37='?' (DbType = Int16), @p38='?' (DbType = Int16), @p39='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `begin_date` = @p32, `course_id` = @p33, `end_date` = @p34, `invoice_date` = @p35, `learner_id` = @p36, `org_id` = @p37, `room_id` = @p38, `teacher_id` = @p39
WHERE `course_instance_id` = @p40;
SELECT ROW_COUNT();
2019-07-18 13:31:14.962 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:31:15.274 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = AnsiString), @p18='?' (Size = -1), @p19='?' (DbType = AnsiString), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = AnsiString), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`invoice_waiting_confirm` (`begin_date`, `comment`, `concert_fee`, `concert_fee_name`, `course_instance_id`, `course_name`, `created_at`, `due_date`, `end_date`, `group_course_instance_id`, `invoice_num`, `is_activate`, `is_confirmed`, `is_email_sent`, `is_paid`, `learner_id`, `learner_name`, `lesson_fee`, `lesson_note_fee_name`, `lesson_quantity`, `note_fee`, `other1_fee`, `other1_fee_name`, `other2_fee`, `other2_fee_name`, `other3_fee`, `other3_fee_name`, `owing_fee`, `paid_fee`, `term_id`, `total_fee`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
SELECT `waiting_id`
FROM `ablemusic`.`invoice_waiting_confirm`
WHERE ROW_COUNT() = 1
 AND `waiting_id`=LAST_INSERT_ID();
2019-07-18 13:31:15.373 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@p32='?' (DbType = Int32), @p31='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `invoice_date` = @p31
WHERE `course_instance_id` = @p32;
SELECT ROW_COUNT();
2019-07-18 13:31:15.749 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__invoice_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`waiting_id`, `x`.`begin_date`, `x`.`comment`, `x`.`concert_fee`, `x`.`concert_fee_name`, `x`.`course_instance_id`, `x`.`course_name`, `x`.`created_at`, `x`.`due_date`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_num`, `x`.`is_activate`, `x`.`is_confirmed`, `x`.`is_email_sent`, `x`.`is_paid`, `x`.`learner_id`, `x`.`learner_name`, `x`.`lesson_fee`, `x`.`lesson_note_fee_name`, `x`.`lesson_quantity`, `x`.`note_fee`, `x`.`other1_fee`, `x`.`other1_fee_name`, `x`.`other2_fee`, `x`.`other2_fee_name`, `x`.`other3_fee`, `x`.`other3_fee_name`, `x`.`owing_fee`, `x`.`paid_fee`, `x`.`term_id`, `x`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `x`
WHERE `x`.`waiting_id` = @__invoice_id_0
LIMIT 1
2019-07-18 13:31:15.802 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_schedule_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`day_of_week`, `x`.`end_time`, `x`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
ORDER BY `x`.`day_of_week`
2019-07-18 13:31:15.862 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32), @__invoice_EndDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`amendment_id`, `x`.`amend_type`, `x`.`begin_date`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`course_schedule_id`, `x`.`created_at`, `x`.`day_of_week`, `x`.`end_date`, `x`.`end_time`, `x`.`is_temporary`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`amendment` AS `x`
WHERE (`x`.`course_instance_id` = @__invoice_CourseInstanceId_0) AND (`x`.`begin_date` <= @__invoice_EndDate_1)
ORDER BY `x`.`created_at`
2019-07-18 13:31:15.915 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:31:15.968 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`holiday_date`
FROM `ablemusic`.`holiday` AS `x`
2019-07-18 13:31:16.037 +12:00 [INF] Executed DbCommand (63ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:16.407 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@p31='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = Decimal), @p18='?' (Size = -1), @p19='?' (DbType = Int32), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = Decimal), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`invoice_waiting_confirm` SET `begin_date` = @p0, `comment` = @p1, `concert_fee` = @p2, `concert_fee_name` = @p3, `course_instance_id` = @p4, `course_name` = @p5, `created_at` = @p6, `due_date` = @p7, `end_date` = @p8, `group_course_instance_id` = @p9, `invoice_num` = @p10, `is_activate` = @p11, `is_confirmed` = @p12, `is_email_sent` = @p13, `is_paid` = @p14, `learner_id` = @p15, `learner_name` = @p16, `lesson_fee` = @p17, `lesson_note_fee_name` = @p18, `lesson_quantity` = @p19, `note_fee` = @p20, `other1_fee` = @p21, `other1_fee_name` = @p22, `other2_fee` = @p23, `other2_fee_name` = @p24, `other3_fee` = @p25, `other3_fee_name` = @p26, `owing_fee` = @p27, `paid_fee` = @p28, `term_id` = @p29, `total_fee` = @p30
WHERE `waiting_id` = @p31;
SELECT ROW_COUNT();
2019-07-18 13:31:16.508 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@p40='?' (DbType = Int32), @p32='?' (DbType = DateTime), @p33='?' (DbType = Int32), @p34='?' (DbType = DateTime), @p35='?' (DbType = DateTime), @p36='?' (DbType = Int32), @p37='?' (DbType = Int16), @p38='?' (DbType = Int16), @p39='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `begin_date` = @p32, `course_id` = @p33, `end_date` = @p34, `invoice_date` = @p35, `learner_id` = @p36, `org_id` = @p37, `room_id` = @p38, `teacher_id` = @p39
WHERE `course_instance_id` = @p40;
SELECT ROW_COUNT();
2019-07-18 13:31:16.751 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:31:17.056 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = AnsiString), @p18='?' (Size = -1), @p19='?' (DbType = AnsiString), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = AnsiString), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`invoice_waiting_confirm` (`begin_date`, `comment`, `concert_fee`, `concert_fee_name`, `course_instance_id`, `course_name`, `created_at`, `due_date`, `end_date`, `group_course_instance_id`, `invoice_num`, `is_activate`, `is_confirmed`, `is_email_sent`, `is_paid`, `learner_id`, `learner_name`, `lesson_fee`, `lesson_note_fee_name`, `lesson_quantity`, `note_fee`, `other1_fee`, `other1_fee_name`, `other2_fee`, `other2_fee_name`, `other3_fee`, `other3_fee_name`, `owing_fee`, `paid_fee`, `term_id`, `total_fee`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
SELECT `waiting_id`
FROM `ablemusic`.`invoice_waiting_confirm`
WHERE ROW_COUNT() = 1
 AND `waiting_id`=LAST_INSERT_ID();
2019-07-18 13:31:17.159 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@p32='?' (DbType = Int32), @p31='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `invoice_date` = @p31
WHERE `course_instance_id` = @p32;
SELECT ROW_COUNT();
2019-07-18 13:31:17.597 +12:00 [INF] Executed DbCommand (66ms) [Parameters=[@__invoice_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`waiting_id`, `x`.`begin_date`, `x`.`comment`, `x`.`concert_fee`, `x`.`concert_fee_name`, `x`.`course_instance_id`, `x`.`course_name`, `x`.`created_at`, `x`.`due_date`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_num`, `x`.`is_activate`, `x`.`is_confirmed`, `x`.`is_email_sent`, `x`.`is_paid`, `x`.`learner_id`, `x`.`learner_name`, `x`.`lesson_fee`, `x`.`lesson_note_fee_name`, `x`.`lesson_quantity`, `x`.`note_fee`, `x`.`other1_fee`, `x`.`other1_fee_name`, `x`.`other2_fee`, `x`.`other2_fee_name`, `x`.`other3_fee`, `x`.`other3_fee_name`, `x`.`owing_fee`, `x`.`paid_fee`, `x`.`term_id`, `x`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `x`
WHERE `x`.`waiting_id` = @__invoice_id_0
LIMIT 1
2019-07-18 13:31:17.657 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_schedule_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`day_of_week`, `x`.`end_time`, `x`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
ORDER BY `x`.`day_of_week`
2019-07-18 13:31:17.718 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32), @__invoice_EndDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`amendment_id`, `x`.`amend_type`, `x`.`begin_date`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`course_schedule_id`, `x`.`created_at`, `x`.`day_of_week`, `x`.`end_date`, `x`.`end_time`, `x`.`is_temporary`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`amendment` AS `x`
WHERE (`x`.`course_instance_id` = @__invoice_CourseInstanceId_0) AND (`x`.`begin_date` <= @__invoice_EndDate_1)
ORDER BY `x`.`created_at`
2019-07-18 13:31:17.771 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:31:17.821 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`holiday_date`
FROM `ablemusic`.`holiday` AS `x`
2019-07-18 13:31:17.902 +12:00 [INF] Executed DbCommand (73ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:18.284 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@p31='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = Decimal), @p18='?' (Size = -1), @p19='?' (DbType = Int32), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = Decimal), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`invoice_waiting_confirm` SET `begin_date` = @p0, `comment` = @p1, `concert_fee` = @p2, `concert_fee_name` = @p3, `course_instance_id` = @p4, `course_name` = @p5, `created_at` = @p6, `due_date` = @p7, `end_date` = @p8, `group_course_instance_id` = @p9, `invoice_num` = @p10, `is_activate` = @p11, `is_confirmed` = @p12, `is_email_sent` = @p13, `is_paid` = @p14, `learner_id` = @p15, `learner_name` = @p16, `lesson_fee` = @p17, `lesson_note_fee_name` = @p18, `lesson_quantity` = @p19, `note_fee` = @p20, `other1_fee` = @p21, `other1_fee_name` = @p22, `other2_fee` = @p23, `other2_fee_name` = @p24, `other3_fee` = @p25, `other3_fee_name` = @p26, `owing_fee` = @p27, `paid_fee` = @p28, `term_id` = @p29, `total_fee` = @p30
WHERE `waiting_id` = @p31;
SELECT ROW_COUNT();
2019-07-18 13:31:18.386 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@p40='?' (DbType = Int32), @p32='?' (DbType = DateTime), @p33='?' (DbType = Int32), @p34='?' (DbType = DateTime), @p35='?' (DbType = DateTime), @p36='?' (DbType = Int32), @p37='?' (DbType = Int16), @p38='?' (DbType = Int16), @p39='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `begin_date` = @p32, `course_id` = @p33, `end_date` = @p34, `invoice_date` = @p35, `learner_id` = @p36, `org_id` = @p37, `room_id` = @p38, `teacher_id` = @p39
WHERE `course_instance_id` = @p40;
SELECT ROW_COUNT();
2019-07-18 13:31:18.636 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:31:18.949 +12:00 [INF] Executed DbCommand (61ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = AnsiString), @p18='?' (Size = -1), @p19='?' (DbType = AnsiString), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = AnsiString), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`invoice_waiting_confirm` (`begin_date`, `comment`, `concert_fee`, `concert_fee_name`, `course_instance_id`, `course_name`, `created_at`, `due_date`, `end_date`, `group_course_instance_id`, `invoice_num`, `is_activate`, `is_confirmed`, `is_email_sent`, `is_paid`, `learner_id`, `learner_name`, `lesson_fee`, `lesson_note_fee_name`, `lesson_quantity`, `note_fee`, `other1_fee`, `other1_fee_name`, `other2_fee`, `other2_fee_name`, `other3_fee`, `other3_fee_name`, `owing_fee`, `paid_fee`, `term_id`, `total_fee`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
SELECT `waiting_id`
FROM `ablemusic`.`invoice_waiting_confirm`
WHERE ROW_COUNT() = 1
 AND `waiting_id`=LAST_INSERT_ID();
2019-07-18 13:31:19.063 +12:00 [INF] Executed DbCommand (62ms) [Parameters=[@p32='?' (DbType = Int32), @p31='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `invoice_date` = @p31
WHERE `course_instance_id` = @p32;
SELECT ROW_COUNT();
2019-07-18 13:31:19.613 +12:00 [INF] Executed DbCommand (61ms) [Parameters=[@__invoice_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`waiting_id`, `x`.`begin_date`, `x`.`comment`, `x`.`concert_fee`, `x`.`concert_fee_name`, `x`.`course_instance_id`, `x`.`course_name`, `x`.`created_at`, `x`.`due_date`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_num`, `x`.`is_activate`, `x`.`is_confirmed`, `x`.`is_email_sent`, `x`.`is_paid`, `x`.`learner_id`, `x`.`learner_name`, `x`.`lesson_fee`, `x`.`lesson_note_fee_name`, `x`.`lesson_quantity`, `x`.`note_fee`, `x`.`other1_fee`, `x`.`other1_fee_name`, `x`.`other2_fee`, `x`.`other2_fee_name`, `x`.`other3_fee`, `x`.`other3_fee_name`, `x`.`owing_fee`, `x`.`paid_fee`, `x`.`term_id`, `x`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `x`
WHERE `x`.`waiting_id` = @__invoice_id_0
LIMIT 1
2019-07-18 13:31:19.675 +12:00 [INF] Executed DbCommand (61ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_schedule_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`day_of_week`, `x`.`end_time`, `x`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
ORDER BY `x`.`day_of_week`
2019-07-18 13:31:19.731 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32), @__invoice_EndDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`amendment_id`, `x`.`amend_type`, `x`.`begin_date`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`course_schedule_id`, `x`.`created_at`, `x`.`day_of_week`, `x`.`end_date`, `x`.`end_time`, `x`.`is_temporary`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`amendment` AS `x`
WHERE (`x`.`course_instance_id` = @__invoice_CourseInstanceId_0) AND (`x`.`begin_date` <= @__invoice_EndDate_1)
ORDER BY `x`.`created_at`
2019-07-18 13:31:19.783 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:31:19.837 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`holiday_date`
FROM `ablemusic`.`holiday` AS `x`
2019-07-18 13:31:19.903 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:20.313 +12:00 [INF] Executed DbCommand (65ms) [Parameters=[@p31='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = Decimal), @p18='?' (Size = -1), @p19='?' (DbType = Int32), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = Decimal), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`invoice_waiting_confirm` SET `begin_date` = @p0, `comment` = @p1, `concert_fee` = @p2, `concert_fee_name` = @p3, `course_instance_id` = @p4, `course_name` = @p5, `created_at` = @p6, `due_date` = @p7, `end_date` = @p8, `group_course_instance_id` = @p9, `invoice_num` = @p10, `is_activate` = @p11, `is_confirmed` = @p12, `is_email_sent` = @p13, `is_paid` = @p14, `learner_id` = @p15, `learner_name` = @p16, `lesson_fee` = @p17, `lesson_note_fee_name` = @p18, `lesson_quantity` = @p19, `note_fee` = @p20, `other1_fee` = @p21, `other1_fee_name` = @p22, `other2_fee` = @p23, `other2_fee_name` = @p24, `other3_fee` = @p25, `other3_fee_name` = @p26, `owing_fee` = @p27, `paid_fee` = @p28, `term_id` = @p29, `total_fee` = @p30
WHERE `waiting_id` = @p31;
SELECT ROW_COUNT();
2019-07-18 13:31:20.429 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@p40='?' (DbType = Int32), @p32='?' (DbType = DateTime), @p33='?' (DbType = Int32), @p34='?' (DbType = DateTime), @p35='?' (DbType = DateTime), @p36='?' (DbType = Int32), @p37='?' (DbType = Int16), @p38='?' (DbType = Int16), @p39='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `begin_date` = @p32, `course_id` = @p33, `end_date` = @p34, `invoice_date` = @p35, `learner_id` = @p36, `org_id` = @p37, `room_id` = @p38, `teacher_id` = @p39
WHERE `course_instance_id` = @p40;
SELECT ROW_COUNT();
2019-07-18 13:31:20.674 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:31:21.007 +12:00 [INF] Executed DbCommand (64ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = AnsiString), @p18='?' (Size = -1), @p19='?' (DbType = AnsiString), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = AnsiString), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`invoice_waiting_confirm` (`begin_date`, `comment`, `concert_fee`, `concert_fee_name`, `course_instance_id`, `course_name`, `created_at`, `due_date`, `end_date`, `group_course_instance_id`, `invoice_num`, `is_activate`, `is_confirmed`, `is_email_sent`, `is_paid`, `learner_id`, `learner_name`, `lesson_fee`, `lesson_note_fee_name`, `lesson_quantity`, `note_fee`, `other1_fee`, `other1_fee_name`, `other2_fee`, `other2_fee_name`, `other3_fee`, `other3_fee_name`, `owing_fee`, `paid_fee`, `term_id`, `total_fee`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
SELECT `waiting_id`
FROM `ablemusic`.`invoice_waiting_confirm`
WHERE ROW_COUNT() = 1
 AND `waiting_id`=LAST_INSERT_ID();
2019-07-18 13:31:21.108 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@p32='?' (DbType = Int32), @p31='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `invoice_date` = @p31
WHERE `course_instance_id` = @p32;
SELECT ROW_COUNT();
2019-07-18 13:31:21.493 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__invoice_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`waiting_id`, `x`.`begin_date`, `x`.`comment`, `x`.`concert_fee`, `x`.`concert_fee_name`, `x`.`course_instance_id`, `x`.`course_name`, `x`.`created_at`, `x`.`due_date`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_num`, `x`.`is_activate`, `x`.`is_confirmed`, `x`.`is_email_sent`, `x`.`is_paid`, `x`.`learner_id`, `x`.`learner_name`, `x`.`lesson_fee`, `x`.`lesson_note_fee_name`, `x`.`lesson_quantity`, `x`.`note_fee`, `x`.`other1_fee`, `x`.`other1_fee_name`, `x`.`other2_fee`, `x`.`other2_fee_name`, `x`.`other3_fee`, `x`.`other3_fee_name`, `x`.`owing_fee`, `x`.`paid_fee`, `x`.`term_id`, `x`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `x`
WHERE `x`.`waiting_id` = @__invoice_id_0
LIMIT 1
2019-07-18 13:31:21.537 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/payment  
2019-07-18 13:31:21.537 +12:00 [INF] Policy execution successful.
2019-07-18 13:31:21.538 +12:00 [INF] Route matched with {action = "GetTerms", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetTerms() on controller Pegasus_backend.Controllers.PaymentController (Pegasus_backend).
2019-07-18 13:31:21.538 +12:00 [INF] Executing action method Pegasus_backend.Controllers.PaymentController.GetTerms (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:31:21.538 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:31:21.546 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_schedule_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`day_of_week`, `x`.`end_time`, `x`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
ORDER BY `x`.`day_of_week`
2019-07-18 13:31:21.604 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32), @__invoice_EndDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`amendment_id`, `x`.`amend_type`, `x`.`begin_date`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`course_schedule_id`, `x`.`created_at`, `x`.`day_of_week`, `x`.`end_date`, `x`.`end_time`, `x`.`is_temporary`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`amendment` AS `x`
WHERE (`x`.`course_instance_id` = @__invoice_CourseInstanceId_0) AND (`x`.`begin_date` <= @__invoice_EndDate_1)
ORDER BY `x`.`created_at`
2019-07-18 13:31:21.656 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:31:21.707 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`term_id`, `t`.`begin_date`, `t`.`end_date`, `t`.`term_name`, `t`.`term_type`, `t`.`week_quantity`
FROM `ablemusic`.`term` AS `t`
2019-07-18 13:31:21.707 +12:00 [INF] Executed action method Pegasus_backend.Controllers.PaymentController.GetTerms (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 169.497ms.
2019-07-18 13:31:21.707 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`holiday_date`
FROM `ablemusic`.`holiday` AS `x`
2019-07-18 13:31:21.708 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:31:21.708 +12:00 [INF] Executed action Pegasus_backend.Controllers.PaymentController.GetTerms (Pegasus_backend) in 170.1175ms
2019-07-18 13:31:21.708 +12:00 [INF] Request finished in 170.7388ms 200 application/json; charset=utf-8
2019-07-18 13:31:21.716 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/InvoiceWaitingConfirms/3/2  
2019-07-18 13:31:21.716 +12:00 [INF] Policy execution successful.
2019-07-18 13:31:21.723 +12:00 [INF] Route matched with {action = "GetInvoiceWaitingConfirm", controller = "InvoiceWaitingConfirms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetInvoiceWaitingConfirm(Int32, Int32) on controller Pegasus_backend.Controllers.InvoiceWaitingConfirmsController (Pegasus_backend).
2019-07-18 13:31:21.723 +12:00 [INF] Executing action method Pegasus_backend.Controllers.InvoiceWaitingConfirmsController.GetInvoiceWaitingConfirm (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:31:21.773 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:21.781 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:31:22.196 +12:00 [INF] Executed DbCommand (70ms) [Parameters=[@p31='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = Decimal), @p18='?' (Size = -1), @p19='?' (DbType = Int32), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = Decimal), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`invoice_waiting_confirm` SET `begin_date` = @p0, `comment` = @p1, `concert_fee` = @p2, `concert_fee_name` = @p3, `course_instance_id` = @p4, `course_name` = @p5, `created_at` = @p6, `due_date` = @p7, `end_date` = @p8, `group_course_instance_id` = @p9, `invoice_num` = @p10, `is_activate` = @p11, `is_confirmed` = @p12, `is_email_sent` = @p13, `is_paid` = @p14, `learner_id` = @p15, `learner_name` = @p16, `lesson_fee` = @p17, `lesson_note_fee_name` = @p18, `lesson_quantity` = @p19, `note_fee` = @p20, `other1_fee` = @p21, `other1_fee_name` = @p22, `other2_fee` = @p23, `other2_fee_name` = @p24, `other3_fee` = @p25, `other3_fee_name` = @p26, `owing_fee` = @p27, `paid_fee` = @p28, `term_id` = @p29, `total_fee` = @p30
WHERE `waiting_id` = @p31;
SELECT ROW_COUNT();
2019-07-18 13:31:22.219 +12:00 [INF] Executed DbCommand (152ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__termId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `iw`.`invoice_num` AS `InvoiceNum`, `iw.Learner`.`email`, `iw.Learner`.`first_name` AS `FirstName`, `iw.Learner`.`middle_name` AS `MiddleName`, `iw.Learner`.`last_name` AS `LastName`, `iw.Learner`.`enroll_date` AS `EnrollDate`, `iw.Learner`.`contact_num` AS `ContactNum`, `iw.Learner`.`address`, `iw.Learner`.`is_under_18` AS `IsUnder18`, `iw.Learner`.`dob`, `iw.Learner`.`gender`, `iw.Learner`.`is_abrsm_g5` AS `IsAbrsmG5`, `iw.Learner`.`g5_certification` AS `G5Certification`, `iw.Learner`.`created_at` AS `CreatedAt`, `iw.Learner`.`referrer_learner_id` AS `ReferrerLearnerId`, `iw.Learner`.`photo`, `iw.Learner`.`note`, `iw.Learner`.`level_type` AS `LevelType`, `iw.Learner`.`user_id` AS `UserId`, `iw.Learner`.`org_id` AS `OrgId`, `iw`.`waiting_id` AS `WaitingId`, `iw`.`lesson_fee` AS `LessonFee`, `iw`.`concert_fee` AS `ConcertFee`, `iw`.`note_fee` AS `NoteFee`, `iw`.`other1_fee` AS `Other1Fee`, `iw`.`other2_fee` AS `Other2Fee`, `iw`.`other3_fee` AS `Other3Fee`, `iw`.`learner_id` AS `LearnerId`, `iw`.`learner_name` AS `LearnerName`, `iw`.`begin_date` AS `BeginDate`, `iw`.`end_date` AS `EndDate`, `iw`.`total_fee` AS `TotalFee`, `iw`.`due_date` AS `DueDate`, `iw`.`paid_fee` AS `PaidFee`, `iw`.`owing_fee` AS `OwingFee`, `iw`.`created_at` AS `CreatedAt0`, `iw`.`is_paid` AS `IsPaid`, `iw`.`term_id` AS `TermId`, `iw`.`course_instance_id` AS `CourseInstanceId`, `iw`.`group_course_instance_id` AS `GroupCourseInstanceId`, `iw`.`lesson_quantity` AS `LessonQuantity`, `iw`.`course_name` AS `CourseName`, `iw`.`concert_fee_name` AS `ConcertFeeName`, `iw`.`lesson_note_fee_name` AS `LessonNoteFeeName`, `iw`.`other1_fee_name` AS `Other1FeeName`, `iw`.`other2_fee_name` AS `Other2FeeName`, `iw`.`other3_fee_name` AS `Other3FeeName`, `iw`.`is_activate` AS `IsActivate`, `iw`.`is_email_sent` AS `IsEmailSent`, `iw`.`is_confirmed` AS `IsConfirmed`, `iw`.`comment`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`invoice_id`
END AS `InvoiceId`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN '' ELSE `iv`.`invoice_num`
END AS `InvoiceNum0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`lesson_fee`
END AS `LessonFee0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`concert_fee`
END AS `ConcertFee0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`note_fee`
END AS `NoteFee0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`other1_fee`
END AS `Other1Fee0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`other2_fee`
END AS `Other2Fee0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`other3_fee`
END AS `Other3Fee0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`learner_id`
END AS `LearnerId0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN '' ELSE `iv`.`learner_name`
END AS `LearnerName0`, `iv`.`begin_date` AS `BeginDate0`, `iv`.`end_date` AS `EndDate0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`total_fee`
END AS `TotalFee0`, `iv`.`due_date` AS `DueDate0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`paid_fee`
END AS `PaidFee0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`owing_fee`
END AS `OwingFee0`, `iv`.`created_at` AS `CreatedAt1`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`is_paid`
END AS `IsPaid0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`term_id`
END AS `TermId0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`course_instance_id`
END AS `CourseInstanceId0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`group_course_instance_id`
END AS `GroupCourseInstanceId0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`lesson_quantity`
END AS `LessonQuantity0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN '' ELSE `iv`.`course_name`
END AS `CourseName0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN '' ELSE `iv`.`concert_fee_name`
END AS `ConcertFeeName0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN '' ELSE `iv`.`lesson_note_fee_name`
END AS `LessonNoteFeeName0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN '' ELSE `iv`.`other1_fee_name`
END AS `Other1FeeName0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN '' ELSE `iv`.`other2_fee_name`
END AS `Other2FeeName0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN '' ELSE `iv`.`other3_fee_name`
END AS `Other3FeeName0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`is_active`
END AS `IsActive`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN '' ELSE `iv`.`comment`
END AS `Comment0`, `iw.Learner`.`learner_id`
FROM `ablemusic`.`staff` AS `s`
INNER JOIN `ablemusic`.`staff_org` AS `so` ON `s`.`staff_id` = `so`.`staff_id`
INNER JOIN `ablemusic`.`learner` AS `l` ON `so`.`org_id` = `l`.`org_id`
INNER JOIN `ablemusic`.`invoice_waiting_confirm` AS `iw` ON `l`.`learner_id` = `iw`.`learner_id`
LEFT JOIN `ablemusic`.`learner` AS `iw.Learner` ON `iw`.`learner_id` = `iw.Learner`.`learner_id`
INNER JOIN `ablemusic`.`term` AS `t` ON `iw`.`term_id` = `t`.`term_id`
LEFT JOIN `ablemusic`.`invoice` AS `iv` ON `iw`.`invoice_num` = `iv`.`invoice_num`
WHERE (`s`.`user_id` = @__userId_0) AND (`t`.`term_id` = @__termId_1)
ORDER BY `InvoiceNum`, `iw`.`waiting_id`, `iw.Learner`.`learner_id`
2019-07-18 13:31:22.298 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@p40='?' (DbType = Int32), @p32='?' (DbType = DateTime), @p33='?' (DbType = Int32), @p34='?' (DbType = DateTime), @p35='?' (DbType = DateTime), @p36='?' (DbType = Int32), @p37='?' (DbType = Int16), @p38='?' (DbType = Int16), @p39='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `begin_date` = @p32, `course_id` = @p33, `end_date` = @p34, `invoice_date` = @p35, `learner_id` = @p36, `org_id` = @p37, `room_id` = @p38, `teacher_id` = @p39
WHERE `course_instance_id` = @p40;
SELECT ROW_COUNT();
2019-07-18 13:31:22.507 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:31:22.809 +12:00 [INF] Executed DbCommand (64ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = AnsiString), @p18='?' (Size = -1), @p19='?' (DbType = AnsiString), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = AnsiString), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`invoice_waiting_confirm` (`begin_date`, `comment`, `concert_fee`, `concert_fee_name`, `course_instance_id`, `course_name`, `created_at`, `due_date`, `end_date`, `group_course_instance_id`, `invoice_num`, `is_activate`, `is_confirmed`, `is_email_sent`, `is_paid`, `learner_id`, `learner_name`, `lesson_fee`, `lesson_note_fee_name`, `lesson_quantity`, `note_fee`, `other1_fee`, `other1_fee_name`, `other2_fee`, `other2_fee_name`, `other3_fee`, `other3_fee_name`, `owing_fee`, `paid_fee`, `term_id`, `total_fee`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
SELECT `waiting_id`
FROM `ablemusic`.`invoice_waiting_confirm`
WHERE ROW_COUNT() = 1
 AND `waiting_id`=LAST_INSERT_ID();
2019-07-18 13:31:22.930 +12:00 [INF] Executed DbCommand (63ms) [Parameters=[@p32='?' (DbType = Int32), @p31='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `invoice_date` = @p31
WHERE `course_instance_id` = @p32;
SELECT ROW_COUNT();
2019-07-18 13:31:22.934 +12:00 [INF] Executed DbCommand (74ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__termId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `iw.Learner.Parent`.`parent_id`, `iw.Learner.Parent`.`contact_num`, `iw.Learner.Parent`.`created_at`, `iw.Learner.Parent`.`email`, `iw.Learner.Parent`.`first_name`, `iw.Learner.Parent`.`last_name`, `iw.Learner.Parent`.`learner_id`, `iw.Learner.Parent`.`relationship`, `t1`.`invoice_num`, `t1`.`waiting_id`, `t1`.`learner_id`
FROM `ablemusic`.`parent` AS `iw.Learner.Parent`
INNER JOIN (
    SELECT `iw0`.`invoice_num`, `iw0`.`waiting_id`, `iw.Learner0`.`learner_id`
    FROM `ablemusic`.`staff` AS `s0`
    INNER JOIN `ablemusic`.`staff_org` AS `so0` ON `s0`.`staff_id` = `so0`.`staff_id`
    INNER JOIN `ablemusic`.`learner` AS `l0` ON `so0`.`org_id` = `l0`.`org_id`
    INNER JOIN `ablemusic`.`invoice_waiting_confirm` AS `iw0` ON `l0`.`learner_id` = `iw0`.`learner_id`
    LEFT JOIN `ablemusic`.`learner` AS `iw.Learner0` ON `iw0`.`learner_id` = `iw.Learner0`.`learner_id`
    INNER JOIN `ablemusic`.`term` AS `t0` ON `iw0`.`term_id` = `t0`.`term_id`
    LEFT JOIN `ablemusic`.`invoice` AS `iv0` ON `iw0`.`invoice_num` = `iv0`.`invoice_num`
    WHERE (`s0`.`user_id` = @__userId_0) AND (`t0`.`term_id` = @__termId_1)
) AS `t1` ON `iw.Learner.Parent`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`invoice_num`, `t1`.`waiting_id`, `t1`.`learner_id`
2019-07-18 13:31:23.089 +12:00 [INF] Executed action method Pegasus_backend.Controllers.InvoiceWaitingConfirmsController.GetInvoiceWaitingConfirm (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1364.9159ms.
2019-07-18 13:31:23.089 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:31:23.184 +12:00 [INF] Executed action Pegasus_backend.Controllers.InvoiceWaitingConfirmsController.GetInvoiceWaitingConfirm (Pegasus_backend) in 1461.6382ms
2019-07-18 13:31:23.185 +12:00 [INF] Request finished in 1468.8348ms 200 application/json; charset=utf-8
2019-07-18 13:31:23.213 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:31:23.213 +12:00 [INF] Policy execution successful.
2019-07-18 13:31:23.218 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:31:23.221 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:31:23.228 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:31:23.297 +12:00 [INF] Executed DbCommand (68ms) [Parameters=[@__invoice_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`waiting_id`, `x`.`begin_date`, `x`.`comment`, `x`.`concert_fee`, `x`.`concert_fee_name`, `x`.`course_instance_id`, `x`.`course_name`, `x`.`created_at`, `x`.`due_date`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_num`, `x`.`is_activate`, `x`.`is_confirmed`, `x`.`is_email_sent`, `x`.`is_paid`, `x`.`learner_id`, `x`.`learner_name`, `x`.`lesson_fee`, `x`.`lesson_note_fee_name`, `x`.`lesson_quantity`, `x`.`note_fee`, `x`.`other1_fee`, `x`.`other1_fee_name`, `x`.`other2_fee`, `x`.`other2_fee_name`, `x`.`other3_fee`, `x`.`other3_fee_name`, `x`.`owing_fee`, `x`.`paid_fee`, `x`.`term_id`, `x`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `x`
WHERE `x`.`waiting_id` = @__invoice_id_0
LIMIT 1
2019-07-18 13:31:23.349 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_schedule_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`day_of_week`, `x`.`end_time`, `x`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
ORDER BY `x`.`day_of_week`
2019-07-18 13:31:23.404 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32), @__invoice_EndDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`amendment_id`, `x`.`amend_type`, `x`.`begin_date`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`course_schedule_id`, `x`.`created_at`, `x`.`day_of_week`, `x`.`end_date`, `x`.`end_time`, `x`.`is_temporary`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`amendment` AS `x`
WHERE (`x`.`course_instance_id` = @__invoice_CourseInstanceId_0) AND (`x`.`begin_date` <= @__invoice_EndDate_1)
ORDER BY `x`.`created_at`
2019-07-18 13:31:23.457 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:31:23.507 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`holiday_date`
FROM `ablemusic`.`holiday` AS `x`
2019-07-18 13:31:23.565 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:31:23.565 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 344.02430000000004ms.
2019-07-18 13:31:23.566 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:31:23.566 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 347.8798ms
2019-07-18 13:31:23.566 +12:00 [INF] Request finished in 353.2436ms 200 application/json; charset=utf-8
2019-07-18 13:31:23.567 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:31:23.567 +12:00 [INF] Policy execution successful.
2019-07-18 13:31:23.568 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:31:23.569 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:31:23.569 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:31:23.572 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:23.754 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:31:23.754 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 185.3177ms.
2019-07-18 13:31:23.754 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:31:23.755 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 186.782ms
2019-07-18 13:31:23.755 +12:00 [INF] Request finished in 187.7852ms 200 application/json; charset=utf-8
2019-07-18 13:31:23.758 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:31:23.758 +12:00 [INF] Policy execution successful.
2019-07-18 13:31:23.759 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:31:23.760 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:31:23.761 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:31:23.932 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:31:23.932 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 171.71550000000002ms.
2019-07-18 13:31:23.932 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:31:23.932 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 173.52620000000002ms
2019-07-18 13:31:23.933 +12:00 [INF] Request finished in 174.7077ms 200 application/json; charset=utf-8
2019-07-18 13:31:23.934 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:31:23.934 +12:00 [INF] Policy execution successful.
2019-07-18 13:31:23.934 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:31:23.935 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:31:23.936 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:31:23.942 +12:00 [INF] Executed DbCommand (67ms) [Parameters=[@p31='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = Decimal), @p18='?' (Size = -1), @p19='?' (DbType = Int32), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = Decimal), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`invoice_waiting_confirm` SET `begin_date` = @p0, `comment` = @p1, `concert_fee` = @p2, `concert_fee_name` = @p3, `course_instance_id` = @p4, `course_name` = @p5, `created_at` = @p6, `due_date` = @p7, `end_date` = @p8, `group_course_instance_id` = @p9, `invoice_num` = @p10, `is_activate` = @p11, `is_confirmed` = @p12, `is_email_sent` = @p13, `is_paid` = @p14, `learner_id` = @p15, `learner_name` = @p16, `lesson_fee` = @p17, `lesson_note_fee_name` = @p18, `lesson_quantity` = @p19, `note_fee` = @p20, `other1_fee` = @p21, `other1_fee_name` = @p22, `other2_fee` = @p23, `other2_fee_name` = @p24, `other3_fee` = @p25, `other3_fee_name` = @p26, `owing_fee` = @p27, `paid_fee` = @p28, `term_id` = @p29, `total_fee` = @p30
WHERE `waiting_id` = @p31;
SELECT ROW_COUNT();
2019-07-18 13:31:24.059 +12:00 [INF] Executed DbCommand (67ms) [Parameters=[@p40='?' (DbType = Int32), @p32='?' (DbType = DateTime), @p33='?' (DbType = Int32), @p34='?' (DbType = DateTime), @p35='?' (DbType = DateTime), @p36='?' (DbType = Int32), @p37='?' (DbType = Int16), @p38='?' (DbType = Int16), @p39='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `begin_date` = @p32, `course_id` = @p33, `end_date` = @p34, `invoice_date` = @p35, `learner_id` = @p36, `org_id` = @p37, `room_id` = @p38, `teacher_id` = @p39
WHERE `course_instance_id` = @p40;
SELECT ROW_COUNT();
2019-07-18 13:31:24.113 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:31:24.114 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 178.2434ms.
2019-07-18 13:31:24.114 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:31:24.114 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 179.4908ms
2019-07-18 13:31:24.114 +12:00 [INF] Request finished in 180.3016ms 200 application/json; charset=utf-8
2019-07-18 13:31:24.116 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:31:24.116 +12:00 [INF] Policy execution successful.
2019-07-18 13:31:24.116 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:31:24.117 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:31:24.117 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:31:24.299 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:31:24.299 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 182.0352ms.
2019-07-18 13:31:24.299 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:31:24.299 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 183.0654ms
2019-07-18 13:31:24.299 +12:00 [INF] Request finished in 183.9001ms 200 application/json; charset=utf-8
2019-07-18 13:31:24.301 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:31:24.301 +12:00 [INF] Policy execution successful.
2019-07-18 13:31:24.301 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:31:24.302 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:31:24.302 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:31:24.310 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:31:24.489 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:31:24.489 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 187.34300000000002ms.
2019-07-18 13:31:24.489 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:31:24.490 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 188.4168ms
2019-07-18 13:31:24.490 +12:00 [INF] Request finished in 189.0305ms 200 application/json; charset=utf-8
2019-07-18 13:31:24.491 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:31:24.491 +12:00 [INF] Policy execution successful.
2019-07-18 13:31:24.491 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:31:24.492 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:31:24.493 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:31:24.613 +12:00 [INF] Executed DbCommand (61ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = AnsiString), @p18='?' (Size = -1), @p19='?' (DbType = AnsiString), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = AnsiString), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`invoice_waiting_confirm` (`begin_date`, `comment`, `concert_fee`, `concert_fee_name`, `course_instance_id`, `course_name`, `created_at`, `due_date`, `end_date`, `group_course_instance_id`, `invoice_num`, `is_activate`, `is_confirmed`, `is_email_sent`, `is_paid`, `learner_id`, `learner_name`, `lesson_fee`, `lesson_note_fee_name`, `lesson_quantity`, `note_fee`, `other1_fee`, `other1_fee_name`, `other2_fee`, `other2_fee_name`, `other3_fee`, `other3_fee_name`, `owing_fee`, `paid_fee`, `term_id`, `total_fee`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
SELECT `waiting_id`
FROM `ablemusic`.`invoice_waiting_confirm`
WHERE ROW_COUNT() = 1
 AND `waiting_id`=LAST_INSERT_ID();
2019-07-18 13:31:24.669 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:31:24.670 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 177.25130000000001ms.
2019-07-18 13:31:24.670 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:31:24.670 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 178.405ms
2019-07-18 13:31:24.670 +12:00 [INF] Request finished in 179.0341ms 200 application/json; charset=utf-8
2019-07-18 13:31:24.670 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@p32='?' (DbType = Int32), @p31='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `invoice_date` = @p31
WHERE `course_instance_id` = @p32;
SELECT ROW_COUNT();
2019-07-18 13:31:24.672 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:31:24.672 +12:00 [INF] Policy execution successful.
2019-07-18 13:31:24.672 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:31:24.673 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:31:24.673 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:31:24.852 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:31:24.852 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 179.14700000000002ms.
2019-07-18 13:31:24.852 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:31:24.852 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 180.2793ms
2019-07-18 13:31:24.853 +12:00 [INF] Request finished in 180.9743ms 200 application/json; charset=utf-8
2019-07-18 13:31:24.854 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:31:24.854 +12:00 [INF] Policy execution successful.
2019-07-18 13:31:24.854 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:31:24.855 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:31:24.855 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:31:25.029 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:31:25.029 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 173.7023ms.
2019-07-18 13:31:25.029 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:31:25.029 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 174.75390000000002ms
2019-07-18 13:31:25.029 +12:00 [INF] Request finished in 175.4479ms 200 application/json; charset=utf-8
2019-07-18 13:31:25.031 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:31:25.031 +12:00 [INF] Policy execution successful.
2019-07-18 13:31:25.032 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:31:25.033 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:31:25.033 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:31:25.038 +12:00 [INF] Executed DbCommand (66ms) [Parameters=[@__invoice_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`waiting_id`, `x`.`begin_date`, `x`.`comment`, `x`.`concert_fee`, `x`.`concert_fee_name`, `x`.`course_instance_id`, `x`.`course_name`, `x`.`created_at`, `x`.`due_date`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_num`, `x`.`is_activate`, `x`.`is_confirmed`, `x`.`is_email_sent`, `x`.`is_paid`, `x`.`learner_id`, `x`.`learner_name`, `x`.`lesson_fee`, `x`.`lesson_note_fee_name`, `x`.`lesson_quantity`, `x`.`note_fee`, `x`.`other1_fee`, `x`.`other1_fee_name`, `x`.`other2_fee`, `x`.`other2_fee_name`, `x`.`other3_fee`, `x`.`other3_fee_name`, `x`.`owing_fee`, `x`.`paid_fee`, `x`.`term_id`, `x`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `x`
WHERE `x`.`waiting_id` = @__invoice_id_0
LIMIT 1
2019-07-18 13:31:25.109 +12:00 [INF] Executed DbCommand (69ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_schedule_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`day_of_week`, `x`.`end_time`, `x`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
ORDER BY `x`.`day_of_week`
2019-07-18 13:31:25.168 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32), @__invoice_EndDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`amendment_id`, `x`.`amend_type`, `x`.`begin_date`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`course_schedule_id`, `x`.`created_at`, `x`.`day_of_week`, `x`.`end_date`, `x`.`end_time`, `x`.`is_temporary`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`amendment` AS `x`
WHERE (`x`.`course_instance_id` = @__invoice_CourseInstanceId_0) AND (`x`.`begin_date` <= @__invoice_EndDate_1)
ORDER BY `x`.`created_at`
2019-07-18 13:31:25.223 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:31:25.223 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 190.0824ms.
2019-07-18 13:31:25.223 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:31:25.223 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 191.43030000000002ms
2019-07-18 13:31:25.223 +12:00 [INF] Request finished in 192.6448ms 200 application/json; charset=utf-8
2019-07-18 13:31:25.225 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:31:25.274 +12:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`holiday_date`
FROM `ablemusic`.`holiday` AS `x`
2019-07-18 13:31:25.335 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:25.721 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[@p31='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = Decimal), @p18='?' (Size = -1), @p19='?' (DbType = Int32), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = Decimal), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`invoice_waiting_confirm` SET `begin_date` = @p0, `comment` = @p1, `concert_fee` = @p2, `concert_fee_name` = @p3, `course_instance_id` = @p4, `course_name` = @p5, `created_at` = @p6, `due_date` = @p7, `end_date` = @p8, `group_course_instance_id` = @p9, `invoice_num` = @p10, `is_activate` = @p11, `is_confirmed` = @p12, `is_email_sent` = @p13, `is_paid` = @p14, `learner_id` = @p15, `learner_name` = @p16, `lesson_fee` = @p17, `lesson_note_fee_name` = @p18, `lesson_quantity` = @p19, `note_fee` = @p20, `other1_fee` = @p21, `other1_fee_name` = @p22, `other2_fee` = @p23, `other2_fee_name` = @p24, `other3_fee` = @p25, `other3_fee_name` = @p26, `owing_fee` = @p27, `paid_fee` = @p28, `term_id` = @p29, `total_fee` = @p30
WHERE `waiting_id` = @p31;
SELECT ROW_COUNT();
2019-07-18 13:31:25.773 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@p40='?' (DbType = Int32), @p32='?' (DbType = DateTime), @p33='?' (DbType = Int32), @p34='?' (DbType = DateTime), @p35='?' (DbType = DateTime), @p36='?' (DbType = Int32), @p37='?' (DbType = Int16), @p38='?' (DbType = Int16), @p39='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `begin_date` = @p32, `course_id` = @p33, `end_date` = @p34, `invoice_date` = @p35, `learner_id` = @p36, `org_id` = @p37, `room_id` = @p38, `teacher_id` = @p39
WHERE `course_instance_id` = @p40;
SELECT ROW_COUNT();
2019-07-18 13:31:26.008 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:31:26.413 +12:00 [INF] Executed DbCommand (61ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = AnsiString), @p18='?' (Size = -1), @p19='?' (DbType = AnsiString), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = AnsiString), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`invoice_waiting_confirm` (`begin_date`, `comment`, `concert_fee`, `concert_fee_name`, `course_instance_id`, `course_name`, `created_at`, `due_date`, `end_date`, `group_course_instance_id`, `invoice_num`, `is_activate`, `is_confirmed`, `is_email_sent`, `is_paid`, `learner_id`, `learner_name`, `lesson_fee`, `lesson_note_fee_name`, `lesson_quantity`, `note_fee`, `other1_fee`, `other1_fee_name`, `other2_fee`, `other2_fee_name`, `other3_fee`, `other3_fee_name`, `owing_fee`, `paid_fee`, `term_id`, `total_fee`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
SELECT `waiting_id`
FROM `ablemusic`.`invoice_waiting_confirm`
WHERE ROW_COUNT() = 1
 AND `waiting_id`=LAST_INSERT_ID();
2019-07-18 13:31:26.464 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@p32='?' (DbType = Int32), @p31='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `invoice_date` = @p31
WHERE `course_instance_id` = @p32;
SELECT ROW_COUNT();
2019-07-18 13:31:26.842 +12:00 [INF] Executed DbCommand (67ms) [Parameters=[@__invoice_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`waiting_id`, `x`.`begin_date`, `x`.`comment`, `x`.`concert_fee`, `x`.`concert_fee_name`, `x`.`course_instance_id`, `x`.`course_name`, `x`.`created_at`, `x`.`due_date`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_num`, `x`.`is_activate`, `x`.`is_confirmed`, `x`.`is_email_sent`, `x`.`is_paid`, `x`.`learner_id`, `x`.`learner_name`, `x`.`lesson_fee`, `x`.`lesson_note_fee_name`, `x`.`lesson_quantity`, `x`.`note_fee`, `x`.`other1_fee`, `x`.`other1_fee_name`, `x`.`other2_fee`, `x`.`other2_fee_name`, `x`.`other3_fee`, `x`.`other3_fee_name`, `x`.`owing_fee`, `x`.`paid_fee`, `x`.`term_id`, `x`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `x`
WHERE `x`.`waiting_id` = @__invoice_id_0
LIMIT 1
2019-07-18 13:31:26.920 +12:00 [INF] Executed DbCommand (76ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_schedule_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`day_of_week`, `x`.`end_time`, `x`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
ORDER BY `x`.`day_of_week`
2019-07-18 13:31:26.978 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32), @__invoice_EndDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`amendment_id`, `x`.`amend_type`, `x`.`begin_date`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`course_schedule_id`, `x`.`created_at`, `x`.`day_of_week`, `x`.`end_date`, `x`.`end_time`, `x`.`is_temporary`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`amendment` AS `x`
WHERE (`x`.`course_instance_id` = @__invoice_CourseInstanceId_0) AND (`x`.`begin_date` <= @__invoice_EndDate_1)
ORDER BY `x`.`created_at`
2019-07-18 13:31:27.031 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:31:27.082 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`holiday_date`
FROM `ablemusic`.`holiday` AS `x`
2019-07-18 13:31:27.148 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:27.547 +12:00 [INF] Executed DbCommand (71ms) [Parameters=[@p31='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = Decimal), @p18='?' (Size = -1), @p19='?' (DbType = Int32), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = Decimal), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`invoice_waiting_confirm` SET `begin_date` = @p0, `comment` = @p1, `concert_fee` = @p2, `concert_fee_name` = @p3, `course_instance_id` = @p4, `course_name` = @p5, `created_at` = @p6, `due_date` = @p7, `end_date` = @p8, `group_course_instance_id` = @p9, `invoice_num` = @p10, `is_activate` = @p11, `is_confirmed` = @p12, `is_email_sent` = @p13, `is_paid` = @p14, `learner_id` = @p15, `learner_name` = @p16, `lesson_fee` = @p17, `lesson_note_fee_name` = @p18, `lesson_quantity` = @p19, `note_fee` = @p20, `other1_fee` = @p21, `other1_fee_name` = @p22, `other2_fee` = @p23, `other2_fee_name` = @p24, `other3_fee` = @p25, `other3_fee_name` = @p26, `owing_fee` = @p27, `paid_fee` = @p28, `term_id` = @p29, `total_fee` = @p30
WHERE `waiting_id` = @p31;
SELECT ROW_COUNT();
2019-07-18 13:31:27.601 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@p40='?' (DbType = Int32), @p32='?' (DbType = DateTime), @p33='?' (DbType = Int32), @p34='?' (DbType = DateTime), @p35='?' (DbType = DateTime), @p36='?' (DbType = Int32), @p37='?' (DbType = Int16), @p38='?' (DbType = Int16), @p39='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `begin_date` = @p32, `course_id` = @p33, `end_date` = @p34, `invoice_date` = @p35, `learner_id` = @p36, `org_id` = @p37, `room_id` = @p38, `teacher_id` = @p39
WHERE `course_instance_id` = @p40;
SELECT ROW_COUNT();
2019-07-18 13:31:27.853 +12:00 [INF] Executed DbCommand (62ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:31:28.032 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:31:28.367 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = AnsiString), @p18='?' (Size = -1), @p19='?' (DbType = AnsiString), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = AnsiString), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`invoice_waiting_confirm` (`begin_date`, `comment`, `concert_fee`, `concert_fee_name`, `course_instance_id`, `course_name`, `created_at`, `due_date`, `end_date`, `group_course_instance_id`, `invoice_num`, `is_activate`, `is_confirmed`, `is_email_sent`, `is_paid`, `learner_id`, `learner_name`, `lesson_fee`, `lesson_note_fee_name`, `lesson_quantity`, `note_fee`, `other1_fee`, `other1_fee_name`, `other2_fee`, `other2_fee_name`, `other3_fee`, `other3_fee_name`, `owing_fee`, `paid_fee`, `term_id`, `total_fee`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
SELECT `waiting_id`
FROM `ablemusic`.`invoice_waiting_confirm`
WHERE ROW_COUNT() = 1
 AND `waiting_id`=LAST_INSERT_ID();
2019-07-18 13:31:28.466 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@p32='?' (DbType = Int32), @p31='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `invoice_date` = @p31
WHERE `course_instance_id` = @p32;
SELECT ROW_COUNT();
2019-07-18 13:31:28.858 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__invoice_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`waiting_id`, `x`.`begin_date`, `x`.`comment`, `x`.`concert_fee`, `x`.`concert_fee_name`, `x`.`course_instance_id`, `x`.`course_name`, `x`.`created_at`, `x`.`due_date`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_num`, `x`.`is_activate`, `x`.`is_confirmed`, `x`.`is_email_sent`, `x`.`is_paid`, `x`.`learner_id`, `x`.`learner_name`, `x`.`lesson_fee`, `x`.`lesson_note_fee_name`, `x`.`lesson_quantity`, `x`.`note_fee`, `x`.`other1_fee`, `x`.`other1_fee_name`, `x`.`other2_fee`, `x`.`other2_fee_name`, `x`.`other3_fee`, `x`.`other3_fee_name`, `x`.`owing_fee`, `x`.`paid_fee`, `x`.`term_id`, `x`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `x`
WHERE `x`.`waiting_id` = @__invoice_id_0
LIMIT 1
2019-07-18 13:31:28.910 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_schedule_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`day_of_week`, `x`.`end_time`, `x`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
ORDER BY `x`.`day_of_week`
2019-07-18 13:31:28.973 +12:00 [INF] Executed DbCommand (62ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32), @__invoice_EndDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`amendment_id`, `x`.`amend_type`, `x`.`begin_date`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`course_schedule_id`, `x`.`created_at`, `x`.`day_of_week`, `x`.`end_date`, `x`.`end_time`, `x`.`is_temporary`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`amendment` AS `x`
WHERE (`x`.`course_instance_id` = @__invoice_CourseInstanceId_0) AND (`x`.`begin_date` <= @__invoice_EndDate_1)
ORDER BY `x`.`created_at`
2019-07-18 13:31:29.025 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:31:29.085 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`holiday_date`
FROM `ablemusic`.`holiday` AS `x`
2019-07-18 13:31:29.150 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:29.553 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[@p31='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = Decimal), @p18='?' (Size = -1), @p19='?' (DbType = Int32), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = Decimal), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`invoice_waiting_confirm` SET `begin_date` = @p0, `comment` = @p1, `concert_fee` = @p2, `concert_fee_name` = @p3, `course_instance_id` = @p4, `course_name` = @p5, `created_at` = @p6, `due_date` = @p7, `end_date` = @p8, `group_course_instance_id` = @p9, `invoice_num` = @p10, `is_activate` = @p11, `is_confirmed` = @p12, `is_email_sent` = @p13, `is_paid` = @p14, `learner_id` = @p15, `learner_name` = @p16, `lesson_fee` = @p17, `lesson_note_fee_name` = @p18, `lesson_quantity` = @p19, `note_fee` = @p20, `other1_fee` = @p21, `other1_fee_name` = @p22, `other2_fee` = @p23, `other2_fee_name` = @p24, `other3_fee` = @p25, `other3_fee_name` = @p26, `owing_fee` = @p27, `paid_fee` = @p28, `term_id` = @p29, `total_fee` = @p30
WHERE `waiting_id` = @p31;
SELECT ROW_COUNT();
2019-07-18 13:31:29.655 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@p40='?' (DbType = Int32), @p32='?' (DbType = DateTime), @p33='?' (DbType = Int32), @p34='?' (DbType = DateTime), @p35='?' (DbType = DateTime), @p36='?' (DbType = Int32), @p37='?' (DbType = Int16), @p38='?' (DbType = Int16), @p39='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `begin_date` = @p32, `course_id` = @p33, `end_date` = @p34, `invoice_date` = @p35, `learner_id` = @p36, `org_id` = @p37, `room_id` = @p38, `teacher_id` = @p39
WHERE `course_instance_id` = @p40;
SELECT ROW_COUNT();
2019-07-18 13:31:29.892 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:31:30.215 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = AnsiString), @p18='?' (Size = -1), @p19='?' (DbType = AnsiString), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = AnsiString), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`invoice_waiting_confirm` (`begin_date`, `comment`, `concert_fee`, `concert_fee_name`, `course_instance_id`, `course_name`, `created_at`, `due_date`, `end_date`, `group_course_instance_id`, `invoice_num`, `is_activate`, `is_confirmed`, `is_email_sent`, `is_paid`, `learner_id`, `learner_name`, `lesson_fee`, `lesson_note_fee_name`, `lesson_quantity`, `note_fee`, `other1_fee`, `other1_fee_name`, `other2_fee`, `other2_fee_name`, `other3_fee`, `other3_fee_name`, `owing_fee`, `paid_fee`, `term_id`, `total_fee`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
SELECT `waiting_id`
FROM `ablemusic`.`invoice_waiting_confirm`
WHERE ROW_COUNT() = 1
 AND `waiting_id`=LAST_INSERT_ID();
2019-07-18 13:31:30.328 +12:00 [INF] Executed DbCommand (63ms) [Parameters=[@p32='?' (DbType = Int32), @p31='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `invoice_date` = @p31
WHERE `course_instance_id` = @p32;
SELECT ROW_COUNT();
2019-07-18 13:31:30.693 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__invoice_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`waiting_id`, `x`.`begin_date`, `x`.`comment`, `x`.`concert_fee`, `x`.`concert_fee_name`, `x`.`course_instance_id`, `x`.`course_name`, `x`.`created_at`, `x`.`due_date`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_num`, `x`.`is_activate`, `x`.`is_confirmed`, `x`.`is_email_sent`, `x`.`is_paid`, `x`.`learner_id`, `x`.`learner_name`, `x`.`lesson_fee`, `x`.`lesson_note_fee_name`, `x`.`lesson_quantity`, `x`.`note_fee`, `x`.`other1_fee`, `x`.`other1_fee_name`, `x`.`other2_fee`, `x`.`other2_fee_name`, `x`.`other3_fee`, `x`.`other3_fee_name`, `x`.`owing_fee`, `x`.`paid_fee`, `x`.`term_id`, `x`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `x`
WHERE `x`.`waiting_id` = @__invoice_id_0
LIMIT 1
2019-07-18 13:31:30.745 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_schedule_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`day_of_week`, `x`.`end_time`, `x`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
ORDER BY `x`.`day_of_week`
2019-07-18 13:31:30.802 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32), @__invoice_EndDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`amendment_id`, `x`.`amend_type`, `x`.`begin_date`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`course_schedule_id`, `x`.`created_at`, `x`.`day_of_week`, `x`.`end_date`, `x`.`end_time`, `x`.`is_temporary`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`amendment` AS `x`
WHERE (`x`.`course_instance_id` = @__invoice_CourseInstanceId_0) AND (`x`.`begin_date` <= @__invoice_EndDate_1)
ORDER BY `x`.`created_at`
2019-07-18 13:31:30.855 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:31:30.904 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`holiday_date`
FROM `ablemusic`.`holiday` AS `x`
2019-07-18 13:31:30.975 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:31.362 +12:00 [INF] Executed DbCommand (65ms) [Parameters=[@p31='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = Decimal), @p18='?' (Size = -1), @p19='?' (DbType = Int32), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = Decimal), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`invoice_waiting_confirm` SET `begin_date` = @p0, `comment` = @p1, `concert_fee` = @p2, `concert_fee_name` = @p3, `course_instance_id` = @p4, `course_name` = @p5, `created_at` = @p6, `due_date` = @p7, `end_date` = @p8, `group_course_instance_id` = @p9, `invoice_num` = @p10, `is_activate` = @p11, `is_confirmed` = @p12, `is_email_sent` = @p13, `is_paid` = @p14, `learner_id` = @p15, `learner_name` = @p16, `lesson_fee` = @p17, `lesson_note_fee_name` = @p18, `lesson_quantity` = @p19, `note_fee` = @p20, `other1_fee` = @p21, `other1_fee_name` = @p22, `other2_fee` = @p23, `other2_fee_name` = @p24, `other3_fee` = @p25, `other3_fee_name` = @p26, `owing_fee` = @p27, `paid_fee` = @p28, `term_id` = @p29, `total_fee` = @p30
WHERE `waiting_id` = @p31;
SELECT ROW_COUNT();
2019-07-18 13:31:31.468 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@p40='?' (DbType = Int32), @p32='?' (DbType = DateTime), @p33='?' (DbType = Int32), @p34='?' (DbType = DateTime), @p35='?' (DbType = DateTime), @p36='?' (DbType = Int32), @p37='?' (DbType = Int16), @p38='?' (DbType = Int16), @p39='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `begin_date` = @p32, `course_id` = @p33, `end_date` = @p34, `invoice_date` = @p35, `learner_id` = @p36, `org_id` = @p37, `room_id` = @p38, `teacher_id` = @p39
WHERE `course_instance_id` = @p40;
SELECT ROW_COUNT();
2019-07-18 13:31:31.708 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:31:32.031 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = AnsiString), @p18='?' (Size = -1), @p19='?' (DbType = AnsiString), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = AnsiString), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`invoice_waiting_confirm` (`begin_date`, `comment`, `concert_fee`, `concert_fee_name`, `course_instance_id`, `course_name`, `created_at`, `due_date`, `end_date`, `group_course_instance_id`, `invoice_num`, `is_activate`, `is_confirmed`, `is_email_sent`, `is_paid`, `learner_id`, `learner_name`, `lesson_fee`, `lesson_note_fee_name`, `lesson_quantity`, `note_fee`, `other1_fee`, `other1_fee_name`, `other2_fee`, `other2_fee_name`, `other3_fee`, `other3_fee_name`, `owing_fee`, `paid_fee`, `term_id`, `total_fee`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
SELECT `waiting_id`
FROM `ablemusic`.`invoice_waiting_confirm`
WHERE ROW_COUNT() = 1
 AND `waiting_id`=LAST_INSERT_ID();
2019-07-18 13:31:32.111 +12:00 [INF] Executed DbCommand (79ms) [Parameters=[@p32='?' (DbType = Int32), @p31='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `invoice_date` = @p31
WHERE `course_instance_id` = @p32;
SELECT ROW_COUNT();
2019-07-18 13:31:32.491 +12:00 [INF] Executed DbCommand (62ms) [Parameters=[@__invoice_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`waiting_id`, `x`.`begin_date`, `x`.`comment`, `x`.`concert_fee`, `x`.`concert_fee_name`, `x`.`course_instance_id`, `x`.`course_name`, `x`.`created_at`, `x`.`due_date`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_num`, `x`.`is_activate`, `x`.`is_confirmed`, `x`.`is_email_sent`, `x`.`is_paid`, `x`.`learner_id`, `x`.`learner_name`, `x`.`lesson_fee`, `x`.`lesson_note_fee_name`, `x`.`lesson_quantity`, `x`.`note_fee`, `x`.`other1_fee`, `x`.`other1_fee_name`, `x`.`other2_fee`, `x`.`other2_fee_name`, `x`.`other3_fee`, `x`.`other3_fee_name`, `x`.`owing_fee`, `x`.`paid_fee`, `x`.`term_id`, `x`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `x`
WHERE `x`.`waiting_id` = @__invoice_id_0
LIMIT 1
2019-07-18 13:31:32.543 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_schedule_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`day_of_week`, `x`.`end_time`, `x`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
ORDER BY `x`.`day_of_week`
2019-07-18 13:31:32.598 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32), @__invoice_EndDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`amendment_id`, `x`.`amend_type`, `x`.`begin_date`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`course_schedule_id`, `x`.`created_at`, `x`.`day_of_week`, `x`.`end_date`, `x`.`end_time`, `x`.`is_temporary`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`amendment` AS `x`
WHERE (`x`.`course_instance_id` = @__invoice_CourseInstanceId_0) AND (`x`.`begin_date` <= @__invoice_EndDate_1)
ORDER BY `x`.`created_at`
2019-07-18 13:31:32.650 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:31:32.701 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`holiday_date`
FROM `ablemusic`.`holiday` AS `x`
2019-07-18 13:31:32.766 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:33.152 +12:00 [INF] Executed DbCommand (61ms) [Parameters=[@p31='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = Decimal), @p18='?' (Size = -1), @p19='?' (DbType = Int32), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = Decimal), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`invoice_waiting_confirm` SET `begin_date` = @p0, `comment` = @p1, `concert_fee` = @p2, `concert_fee_name` = @p3, `course_instance_id` = @p4, `course_name` = @p5, `created_at` = @p6, `due_date` = @p7, `end_date` = @p8, `group_course_instance_id` = @p9, `invoice_num` = @p10, `is_activate` = @p11, `is_confirmed` = @p12, `is_email_sent` = @p13, `is_paid` = @p14, `learner_id` = @p15, `learner_name` = @p16, `lesson_fee` = @p17, `lesson_note_fee_name` = @p18, `lesson_quantity` = @p19, `note_fee` = @p20, `other1_fee` = @p21, `other1_fee_name` = @p22, `other2_fee` = @p23, `other2_fee_name` = @p24, `other3_fee` = @p25, `other3_fee_name` = @p26, `owing_fee` = @p27, `paid_fee` = @p28, `term_id` = @p29, `total_fee` = @p30
WHERE `waiting_id` = @p31;
SELECT ROW_COUNT();
2019-07-18 13:31:33.205 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@p40='?' (DbType = Int32), @p32='?' (DbType = DateTime), @p33='?' (DbType = Int32), @p34='?' (DbType = DateTime), @p35='?' (DbType = DateTime), @p36='?' (DbType = Int32), @p37='?' (DbType = Int16), @p38='?' (DbType = Int16), @p39='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `begin_date` = @p32, `course_id` = @p33, `end_date` = @p34, `invoice_date` = @p35, `learner_id` = @p36, `org_id` = @p37, `room_id` = @p38, `teacher_id` = @p39
WHERE `course_instance_id` = @p40;
SELECT ROW_COUNT();
2019-07-18 13:31:33.447 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:31:33.775 +12:00 [INF] Executed DbCommand (63ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = AnsiString), @p18='?' (Size = -1), @p19='?' (DbType = AnsiString), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = AnsiString), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`invoice_waiting_confirm` (`begin_date`, `comment`, `concert_fee`, `concert_fee_name`, `course_instance_id`, `course_name`, `created_at`, `due_date`, `end_date`, `group_course_instance_id`, `invoice_num`, `is_activate`, `is_confirmed`, `is_email_sent`, `is_paid`, `learner_id`, `learner_name`, `lesson_fee`, `lesson_note_fee_name`, `lesson_quantity`, `note_fee`, `other1_fee`, `other1_fee_name`, `other2_fee`, `other2_fee_name`, `other3_fee`, `other3_fee_name`, `owing_fee`, `paid_fee`, `term_id`, `total_fee`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29, @p30);
SELECT `waiting_id`
FROM `ablemusic`.`invoice_waiting_confirm`
WHERE ROW_COUNT() = 1
 AND `waiting_id`=LAST_INSERT_ID();
2019-07-18 13:31:34.214 +12:00 [INF] Executed DbCommand (62ms) [Parameters=[@__invoice_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`waiting_id`, `x`.`begin_date`, `x`.`comment`, `x`.`concert_fee`, `x`.`concert_fee_name`, `x`.`course_instance_id`, `x`.`course_name`, `x`.`created_at`, `x`.`due_date`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_num`, `x`.`is_activate`, `x`.`is_confirmed`, `x`.`is_email_sent`, `x`.`is_paid`, `x`.`learner_id`, `x`.`learner_name`, `x`.`lesson_fee`, `x`.`lesson_note_fee_name`, `x`.`lesson_quantity`, `x`.`note_fee`, `x`.`other1_fee`, `x`.`other1_fee_name`, `x`.`other2_fee`, `x`.`other2_fee_name`, `x`.`other3_fee`, `x`.`other3_fee_name`, `x`.`owing_fee`, `x`.`paid_fee`, `x`.`term_id`, `x`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `x`
WHERE `x`.`waiting_id` = @__invoice_id_0
LIMIT 1
2019-07-18 13:31:34.267 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_schedule_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`day_of_week`, `x`.`end_time`, `x`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
ORDER BY `x`.`day_of_week`
2019-07-18 13:31:34.322 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32), @__invoice_EndDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`amendment_id`, `x`.`amend_type`, `x`.`begin_date`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`course_schedule_id`, `x`.`created_at`, `x`.`day_of_week`, `x`.`end_date`, `x`.`end_time`, `x`.`is_temporary`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`amendment` AS `x`
WHERE (`x`.`course_instance_id` = @__invoice_CourseInstanceId_0) AND (`x`.`begin_date` <= @__invoice_EndDate_1)
ORDER BY `x`.`created_at`
2019-07-18 13:31:34.375 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:31:34.424 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`holiday_date`
FROM `ablemusic`.`holiday` AS `x`
2019-07-18 13:31:34.488 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:34.561 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:34.623 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:34.685 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:34.758 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:34.835 +12:00 [INF] Executed DbCommand (70ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:34.896 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:34.961 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:35.031 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:35.096 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:35.157 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:35.249 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:31:35.249 +12:00 [INF] Policy execution successful.
2019-07-18 13:31:35.249 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:31:35.250 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:31:35.251 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:31:35.288 +12:00 [INF] Executed DbCommand (114ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:35.349 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:35.412 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:35.418 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:31:35.418 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 167.62050000000002ms.
2019-07-18 13:31:35.418 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:31:35.419 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 169.21ms
2019-07-18 13:31:35.419 +12:00 [INF] Request finished in 170.1436ms 200 application/json; charset=utf-8
2019-07-18 13:31:35.420 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:31:35.421 +12:00 [INF] Policy execution successful.
2019-07-18 13:31:35.421 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:31:35.422 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:31:35.422 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:31:35.475 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:31:35.606 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:31:35.606 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 184.13660000000002ms.
2019-07-18 13:31:35.606 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:31:35.606 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 185.32070000000002ms
2019-07-18 13:31:35.606 +12:00 [INF] Request finished in 186.0255ms 200 application/json; charset=utf-8
2019-07-18 13:31:35.608 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:31:35.608 +12:00 [INF] Policy execution successful.
2019-07-18 13:31:35.609 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:31:35.610 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:31:35.610 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:31:35.797 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:31:35.797 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 187.8168ms.
2019-07-18 13:31:35.798 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:31:35.798 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 188.9009ms
2019-07-18 13:31:35.798 +12:00 [INF] Request finished in 189.7784ms 200 application/json; charset=utf-8
2019-07-18 13:31:35.799 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:31:35.800 +12:00 [INF] Policy execution successful.
2019-07-18 13:31:35.800 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:31:35.801 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:31:35.801 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:31:35.856 +12:00 [INF] Executed DbCommand (61ms) [Parameters=[@p31='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = Int32), @p16='?' (Size = -1), @p17='?' (DbType = Decimal), @p18='?' (Size = -1), @p19='?' (DbType = Int32), @p20='?' (DbType = AnsiString), @p21='?' (DbType = AnsiString), @p22='?' (Size = -1), @p23='?' (DbType = AnsiString), @p24='?' (Size = -1), @p25='?' (DbType = AnsiString), @p26='?' (Size = -1), @p27='?' (DbType = Decimal), @p28='?' (DbType = Decimal), @p29='?' (DbType = Int16), @p30='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`invoice_waiting_confirm` SET `begin_date` = @p0, `comment` = @p1, `concert_fee` = @p2, `concert_fee_name` = @p3, `course_instance_id` = @p4, `course_name` = @p5, `created_at` = @p6, `due_date` = @p7, `end_date` = @p8, `group_course_instance_id` = @p9, `invoice_num` = @p10, `is_activate` = @p11, `is_confirmed` = @p12, `is_email_sent` = @p13, `is_paid` = @p14, `learner_id` = @p15, `learner_name` = @p16, `lesson_fee` = @p17, `lesson_note_fee_name` = @p18, `lesson_quantity` = @p19, `note_fee` = @p20, `other1_fee` = @p21, `other1_fee_name` = @p22, `other2_fee` = @p23, `other2_fee_name` = @p24, `other3_fee` = @p25, `other3_fee_name` = @p26, `owing_fee` = @p27, `paid_fee` = @p28, `term_id` = @p29, `total_fee` = @p30
WHERE `waiting_id` = @p31;
SELECT ROW_COUNT();
2019-07-18 13:31:35.968 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@p40='?' (DbType = Int32), @p32='?' (DbType = DateTime), @p33='?' (DbType = Int32), @p34='?' (DbType = DateTime), @p35='?' (DbType = DateTime), @p36='?' (DbType = Int32), @p37='?' (DbType = Int16), @p38='?' (DbType = Int16), @p39='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `begin_date` = @p32, `course_id` = @p33, `end_date` = @p34, `invoice_date` = @p35, `learner_id` = @p36, `org_id` = @p37, `room_id` = @p38, `teacher_id` = @p39
WHERE `course_instance_id` = @p40;
SELECT ROW_COUNT();
2019-07-18 13:31:35.993 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:31:35.993 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 192.52290000000002ms.
2019-07-18 13:31:35.993 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:31:35.994 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 193.6429ms
2019-07-18 13:31:35.994 +12:00 [INF] Request finished in 194.4032ms 200 application/json; charset=utf-8
2019-07-18 13:31:35.996 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:31:35.996 +12:00 [INF] Policy execution successful.
2019-07-18 13:31:35.997 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:31:35.998 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:31:35.999 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:31:36.031 +12:00 [INF] Executed action method Pegasus_backend.Controllers.PaymentController.Generateone2oneInvoice (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 36065.3617ms.
2019-07-18 13:31:36.031 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:31:36.032 +12:00 [INF] Executed action Pegasus_backend.Controllers.PaymentController.Generateone2oneInvoice (Pegasus_backend) in 36066.553100000005ms
2019-07-18 13:31:36.032 +12:00 [INF] Request finished in 36081.4202ms 200 application/json; charset=utf-8
2019-07-18 13:31:36.184 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:31:36.184 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 185.38230000000001ms.
2019-07-18 13:31:36.184 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:31:36.185 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 188.12130000000002ms
2019-07-18 13:31:36.185 +12:00 [INF] Request finished in 189.5406ms 200 application/json; charset=utf-8
2019-07-18 13:31:36.188 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:31:36.188 +12:00 [INF] Policy execution successful.
2019-07-18 13:31:36.189 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:31:36.190 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:31:36.191 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:31:36.374 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:31:36.374 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 183.9908ms.
2019-07-18 13:31:36.375 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:31:36.375 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 185.78900000000002ms
2019-07-18 13:31:36.375 +12:00 [INF] Request finished in 186.9355ms 200 application/json; charset=utf-8
2019-07-18 13:31:36.376 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:31:36.377 +12:00 [INF] Policy execution successful.
2019-07-18 13:31:36.377 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:31:36.378 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:31:36.378 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:31:36.554 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:31:36.554 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 176.4255ms.
2019-07-18 13:31:36.554 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:31:36.554 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 177.53050000000002ms
2019-07-18 13:31:36.555 +12:00 [INF] Request finished in 178.2849ms 200 application/json; charset=utf-8
2019-07-18 13:31:36.556 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:31:36.557 +12:00 [INF] Policy execution successful.
2019-07-18 13:31:36.557 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:31:36.558 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:31:36.558 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:31:36.740 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:31:36.740 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 182.05360000000002ms.
2019-07-18 13:31:36.740 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:31:36.740 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 183.3818ms
2019-07-18 13:31:36.741 +12:00 [INF] Request finished in 184.229ms 200 application/json; charset=utf-8
2019-07-18 13:31:36.742 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:31:36.742 +12:00 [INF] Policy execution successful.
2019-07-18 13:31:36.742 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:31:36.743 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:31:36.743 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:31:36.940 +12:00 [INF] Executed DbCommand (69ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:31:36.941 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 197.6233ms.
2019-07-18 13:31:36.941 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:31:36.941 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 198.65390000000002ms
2019-07-18 13:31:36.941 +12:00 [INF] Request finished in 199.3142ms 200 application/json; charset=utf-8
2019-07-18 13:31:36.942 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:31:36.942 +12:00 [INF] Policy execution successful.
2019-07-18 13:31:36.943 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:31:36.943 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:31:36.944 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:31:37.134 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:31:37.135 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 191.1515ms.
2019-07-18 13:31:37.135 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:31:37.135 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 192.2416ms
2019-07-18 13:31:37.135 +12:00 [INF] Request finished in 193.0151ms 200 application/json; charset=utf-8
2019-07-18 13:31:47.773 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:31:47.774 +12:00 [INF] Policy execution successful.
2019-07-18 13:31:47.774 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:31:47.775 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:31:47.776 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:31:47.966 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:31:47.966 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 190.62300000000002ms.
2019-07-18 13:31:47.966 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:31:47.966 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 192.2535ms
2019-07-18 13:31:47.966 +12:00 [INF] Request finished in 193.1648ms 200 application/json; charset=utf-8
2019-07-18 13:31:47.968 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:31:47.968 +12:00 [INF] Policy execution successful.
2019-07-18 13:31:47.969 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:31:47.969 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:31:47.970 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:31:48.164 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:31:48.164 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 194.5179ms.
2019-07-18 13:31:48.164 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:31:48.164 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 195.6216ms
2019-07-18 13:31:48.164 +12:00 [INF] Request finished in 196.334ms 200 application/json; charset=utf-8
2019-07-18 13:31:48.166 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:31:48.166 +12:00 [INF] Policy execution successful.
2019-07-18 13:31:48.166 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:31:48.167 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:31:48.167 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:31:48.354 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:31:48.355 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 187.5508ms.
2019-07-18 13:31:48.355 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:31:48.355 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 188.57330000000002ms
2019-07-18 13:31:48.355 +12:00 [INF] Request finished in 189.2524ms 200 application/json; charset=utf-8
2019-07-18 13:31:48.358 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:31:48.358 +12:00 [INF] Policy execution successful.
2019-07-18 13:31:48.359 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:31:48.361 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:31:48.361 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:31:48.551 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:31:48.551 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 190.66660000000002ms.
2019-07-18 13:31:48.552 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:31:48.552 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 192.8916ms
2019-07-18 13:31:48.552 +12:00 [INF] Request finished in 194.1916ms 200 application/json; charset=utf-8
2019-07-18 13:31:48.554 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:31:48.554 +12:00 [INF] Policy execution successful.
2019-07-18 13:31:48.554 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:31:48.556 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:31:48.556 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:31:48.748 +12:00 [INF] Executed DbCommand (76ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:31:48.748 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 192.1227ms.
2019-07-18 13:31:48.748 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:31:48.748 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 193.6818ms
2019-07-18 13:31:48.748 +12:00 [INF] Request finished in 194.6881ms 200 application/json; charset=utf-8
2019-07-18 13:31:50.069 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:31:50.070 +12:00 [INF] Policy execution successful.
2019-07-18 13:31:50.070 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:31:50.072 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:31:50.073 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:31:50.297 +12:00 [INF] Executed DbCommand (62ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:31:50.297 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 224.6045ms.
2019-07-18 13:31:50.297 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:31:50.297 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 226.6567ms
2019-07-18 13:31:50.297 +12:00 [INF] Request finished in 228.0213ms 200 application/json; charset=utf-8
2019-07-18 13:31:50.299 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:31:50.299 +12:00 [INF] Policy execution successful.
2019-07-18 13:31:50.300 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:31:50.300 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:31:50.301 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:31:50.499 +12:00 [INF] Executed DbCommand (72ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:31:50.499 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 198.8536ms.
2019-07-18 13:31:50.499 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:31:50.500 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 199.9574ms
2019-07-18 13:31:50.500 +12:00 [INF] Request finished in 200.9041ms 200 application/json; charset=utf-8
2019-07-18 13:31:50.501 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:31:50.501 +12:00 [INF] Policy execution successful.
2019-07-18 13:31:50.501 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:31:50.503 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:31:50.503 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:31:50.693 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:31:50.693 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 189.7895ms.
2019-07-18 13:31:50.693 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:31:50.693 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 191.4881ms
2019-07-18 13:31:50.693 +12:00 [INF] Request finished in 192.1894ms 200 application/json; charset=utf-8
2019-07-18 13:31:50.694 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:31:50.695 +12:00 [INF] Policy execution successful.
2019-07-18 13:31:50.695 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:31:50.696 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:31:50.696 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:31:50.889 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:31:50.889 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 193.50220000000002ms.
2019-07-18 13:31:50.889 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:31:50.890 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 194.70000000000002ms
2019-07-18 13:31:50.890 +12:00 [INF] Request finished in 195.471ms 200 application/json; charset=utf-8
2019-07-18 13:31:50.891 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:31:50.891 +12:00 [INF] Policy execution successful.
2019-07-18 13:31:50.892 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:31:50.893 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:31:50.893 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:31:51.078 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:31:51.078 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 185.603ms.
2019-07-18 13:31:51.078 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:31:51.079 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 186.7358ms
2019-07-18 13:31:51.079 +12:00 [INF] Request finished in 187.538ms 200 application/json; charset=utf-8
2019-07-18 13:31:51.080 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:31:51.080 +12:00 [INF] Policy execution successful.
2019-07-18 13:31:51.080 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:31:51.081 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:31:51.082 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:31:51.267 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:31:51.268 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 186.13410000000002ms.
2019-07-18 13:31:51.268 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:31:51.268 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 187.5478ms
2019-07-18 13:31:51.268 +12:00 [INF] Request finished in 188.3184ms 200 application/json; charset=utf-8
2019-07-18 13:31:51.270 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:31:51.270 +12:00 [INF] Policy execution successful.
2019-07-18 13:31:51.271 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:31:51.271 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:31:51.272 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:31:51.457 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:31:51.457 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 185.8245ms.
2019-07-18 13:31:51.457 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:31:51.458 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 186.9941ms
2019-07-18 13:31:51.458 +12:00 [INF] Request finished in 187.612ms 200 application/json; charset=utf-8
2019-07-18 13:31:51.459 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:31:51.459 +12:00 [INF] Policy execution successful.
2019-07-18 13:31:51.460 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:31:51.460 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:31:51.461 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:31:51.648 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:31:51.648 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 187.5697ms.
2019-07-18 13:31:51.648 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:31:51.648 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 188.5874ms
2019-07-18 13:31:51.648 +12:00 [INF] Request finished in 189.1677ms 200 application/json; charset=utf-8
2019-07-18 13:31:51.650 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:31:51.650 +12:00 [INF] Policy execution successful.
2019-07-18 13:31:51.651 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:31:51.652 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:31:51.653 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:31:51.842 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:31:51.842 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 190.10340000000002ms.
2019-07-18 13:31:51.842 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:31:51.842 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 191.72500000000002ms
2019-07-18 13:31:51.843 +12:00 [INF] Request finished in 192.6491ms 200 application/json; charset=utf-8
2019-07-18 13:31:51.844 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:31:51.844 +12:00 [INF] Policy execution successful.
2019-07-18 13:31:51.844 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:31:51.845 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:31:51.846 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:31:52.034 +12:00 [INF] Executed DbCommand (63ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:31:52.034 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 188.732ms.
2019-07-18 13:31:52.034 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:31:52.034 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 189.89260000000002ms
2019-07-18 13:31:52.034 +12:00 [INF] Request finished in 190.5349ms 200 application/json; charset=utf-8
2019-07-18 13:31:52.473 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/10080  
2019-07-18 13:31:52.473 +12:00 [INF] Policy execution successful.
2019-07-18 13:31:52.473 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:31:52.473 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:31:52.474 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:31:52.659 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:31:52.724 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Parent`.`parent_id`, `w.Parent`.`contact_num`, `w.Parent`.`created_at`, `w.Parent`.`email`, `w.Parent`.`first_name`, `w.Parent`.`last_name`, `w.Parent`.`learner_id`, `w.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `w.Parent`
INNER JOIN (
    SELECT `w0`.`learner_id`
    FROM `ablemusic`.`learner` AS `w0`
    WHERE `w0`.`learner_id` = @__learnerId_0
    ORDER BY `w0`.`learner_id`
    LIMIT 1
) AS `t` ON `w.Parent`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-18 13:31:52.926 +12:00 [INF] Executed DbCommand (71ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerOthers`.`learner_others_id`, `w.LearnerOthers`.`learner_id`, `w.LearnerOthers`.`learner_level`, `w.LearnerOthers`.`others_type`, `w.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `w.LearnerOthers`
INNER JOIN (
    SELECT `w1`.`learner_id`
    FROM `ablemusic`.`learner` AS `w1`
    WHERE `w1`.`learner_id` = @__learnerId_0
    ORDER BY `w1`.`learner_id`
    LIMIT 1
) AS `t0` ON `w.LearnerOthers`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-18 13:31:53.157 +12:00 [INF] Executed DbCommand (82ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance`.`course_instance_id`, `w.One2oneCourseInstance`.`begin_date`, `w.One2oneCourseInstance`.`course_id`, `w.One2oneCourseInstance`.`end_date`, `w.One2oneCourseInstance`.`invoice_date`, `w.One2oneCourseInstance`.`learner_id`, `w.One2oneCourseInstance`.`org_id`, `w.One2oneCourseInstance`.`room_id`, `w.One2oneCourseInstance`.`teacher_id`, `o.Teacher`.`teacher_id`, `o.Teacher`.`ability`, `o.Teacher`.`comment`, `o.Teacher`.`cv_url`, `o.Teacher`.`dob`, `o.Teacher`.`email`, `o.Teacher`.`expiry_date`, `o.Teacher`.`first_name`, `o.Teacher`.`form_url`, `o.Teacher`.`gender`, `o.Teacher`.`home_phone`, `o.Teacher`.`id_number`, `o.Teacher`.`id_photo`, `o.Teacher`.`id_type`, `o.Teacher`.`invoice_template`, `o.Teacher`.`ird_number`, `o.Teacher`.`is_activate`, `o.Teacher`.`is_contract`, `o.Teacher`.`is_left`, `o.Teacher`.`last_name`, `o.Teacher`.`level`, `o.Teacher`.`minimum_hours`, `o.Teacher`.`mobile_phone`, `o.Teacher`.`otherfile_url`, `o.Teacher`.`photo`, `o.Teacher`.`user_id`, `o.Teacher`.`visa`, `o.Room`.`room_id`, `o.Room`.`created_at`, `o.Room`.`is_activate`, `o.Room`.`org_id`, `o.Room`.`room_name`, `o.Course`.`course_id`, `o.Course`.`course_category_id`, `o.Course`.`course_name`, `o.Course`.`course_type`, `o.Course`.`duration`, `o.Course`.`level`, `o.Course`.`price`, `o.Course`.`teacher_level`, `o.Org`.`org_id`, `o.Org`.`abbr`, `o.Org`.`address`, `o.Org`.`email`, `o.Org`.`is_activate`, `o.Org`.`is_headoffice`, `o.Org`.`localtion_x`, `o.Org`.`localtion_y`, `o.Org`.`org_name`, `o.Org`.`phone`
FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance`
LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher` ON `w.One2oneCourseInstance`.`teacher_id` = `o.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `o.Room` ON `w.One2oneCourseInstance`.`room_id` = `o.Room`.`room_id`
LEFT JOIN `ablemusic`.`course` AS `o.Course` ON `w.One2oneCourseInstance`.`course_id` = `o.Course`.`course_id`
LEFT JOIN `ablemusic`.`org` AS `o.Org` ON `w.One2oneCourseInstance`.`org_id` = `o.Org`.`org_id`
INNER JOIN (
    SELECT `w2`.`learner_id`
    FROM `ablemusic`.`learner` AS `w2`
    WHERE `w2`.`learner_id` = @__learnerId_0
    ORDER BY `w2`.`learner_id`
    LIMIT 1
) AS `t1` ON `w.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`, `w.One2oneCourseInstance`.`course_instance_id`
2019-07-18 13:31:53.279 +12:00 [INF] Executed DbCommand (93ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.Amendment`.`amendment_id`, `w.One2oneCourseInstance.Amendment`.`amend_type`, `w.One2oneCourseInstance.Amendment`.`begin_date`, `w.One2oneCourseInstance.Amendment`.`begin_time`, `w.One2oneCourseInstance.Amendment`.`course_instance_id`, `w.One2oneCourseInstance.Amendment`.`course_schedule_id`, `w.One2oneCourseInstance.Amendment`.`created_at`, `w.One2oneCourseInstance.Amendment`.`day_of_week`, `w.One2oneCourseInstance.Amendment`.`end_date`, `w.One2oneCourseInstance.Amendment`.`end_time`, `w.One2oneCourseInstance.Amendment`.`is_temporary`, `w.One2oneCourseInstance.Amendment`.`learner_id`, `w.One2oneCourseInstance.Amendment`.`org_id`, `w.One2oneCourseInstance.Amendment`.`reason`, `w.One2oneCourseInstance.Amendment`.`room_id`, `w.One2oneCourseInstance.Amendment`.`teacher_id`, `a.Teacher`.`teacher_id`, `a.Teacher`.`ability`, `a.Teacher`.`comment`, `a.Teacher`.`cv_url`, `a.Teacher`.`dob`, `a.Teacher`.`email`, `a.Teacher`.`expiry_date`, `a.Teacher`.`first_name`, `a.Teacher`.`form_url`, `a.Teacher`.`gender`, `a.Teacher`.`home_phone`, `a.Teacher`.`id_number`, `a.Teacher`.`id_photo`, `a.Teacher`.`id_type`, `a.Teacher`.`invoice_template`, `a.Teacher`.`ird_number`, `a.Teacher`.`is_activate`, `a.Teacher`.`is_contract`, `a.Teacher`.`is_left`, `a.Teacher`.`last_name`, `a.Teacher`.`level`, `a.Teacher`.`minimum_hours`, `a.Teacher`.`mobile_phone`, `a.Teacher`.`otherfile_url`, `a.Teacher`.`photo`, `a.Teacher`.`user_id`, `a.Teacher`.`visa`, `a.Room`.`room_id`, `a.Room`.`created_at`, `a.Room`.`is_activate`, `a.Room`.`org_id`, `a.Room`.`room_name`
FROM `ablemusic`.`amendment` AS `w.One2oneCourseInstance.Amendment`
LEFT JOIN `ablemusic`.`teacher` AS `a.Teacher` ON `w.One2oneCourseInstance.Amendment`.`teacher_id` = `a.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `a.Room` ON `w.One2oneCourseInstance.Amendment`.`room_id` = `a.Room`.`room_id`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance0`.`course_instance_id`, `t2`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance0`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher0` ON `w.One2oneCourseInstance0`.`teacher_id` = `o.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room0` ON `w.One2oneCourseInstance0`.`room_id` = `o.Room0`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course0` ON `w.One2oneCourseInstance0`.`course_id` = `o.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org0` ON `w.One2oneCourseInstance0`.`org_id` = `o.Org0`.`org_id`
    INNER JOIN (
        SELECT `w3`.`learner_id`
        FROM `ablemusic`.`learner` AS `w3`
        WHERE `w3`.`learner_id` = @__learnerId_0
        ORDER BY `w3`.`learner_id`
        LIMIT 1
    ) AS `t2` ON `w.One2oneCourseInstance0`.`learner_id` = `t2`.`learner_id`
) AS `t3` ON `w.One2oneCourseInstance.Amendment`.`course_instance_id` = `t3`.`course_instance_id`
ORDER BY `t3`.`learner_id`, `t3`.`course_instance_id`
2019-07-18 13:31:53.469 +12:00 [INF] Executed DbCommand (66ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.CourseSchedule`.`course_schedule_id`, `w.One2oneCourseInstance.CourseSchedule`.`begin_time`, `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id`, `w.One2oneCourseInstance.CourseSchedule`.`day_of_week`, `w.One2oneCourseInstance.CourseSchedule`.`end_time`, `w.One2oneCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `w.One2oneCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance1`.`course_instance_id`, `t4`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance1`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher1` ON `w.One2oneCourseInstance1`.`teacher_id` = `o.Teacher1`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room1` ON `w.One2oneCourseInstance1`.`room_id` = `o.Room1`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course1` ON `w.One2oneCourseInstance1`.`course_id` = `o.Course1`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org1` ON `w.One2oneCourseInstance1`.`org_id` = `o.Org1`.`org_id`
    INNER JOIN (
        SELECT `w4`.`learner_id`
        FROM `ablemusic`.`learner` AS `w4`
        WHERE `w4`.`learner_id` = @__learnerId_0
        ORDER BY `w4`.`learner_id`
        LIMIT 1
    ) AS `t4` ON `w.One2oneCourseInstance1`.`learner_id` = `t4`.`learner_id`
) AS `t5` ON `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id` = `t5`.`course_instance_id`
ORDER BY `t5`.`learner_id`, `t5`.`course_instance_id`
2019-07-18 13:31:53.683 +12:00 [INF] Executed DbCommand (100ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerGroupCourse`.`learner_group_course_id`, `w.LearnerGroupCourse`.`begin_date`, `w.LearnerGroupCourse`.`comment`, `w.LearnerGroupCourse`.`created_at`, `w.LearnerGroupCourse`.`end_date`, `w.LearnerGroupCourse`.`group_course_instance_id`, `w.LearnerGroupCourse`.`invoice_date`, `w.LearnerGroupCourse`.`is_activate`, `w.LearnerGroupCourse`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`, `l.GroupCourseInstance`.`begin_date`, `l.GroupCourseInstance`.`course_id`, `l.GroupCourseInstance`.`end_date`, `l.GroupCourseInstance`.`invoice_date`, `l.GroupCourseInstance`.`is_activate`, `l.GroupCourseInstance`.`is_started`, `l.GroupCourseInstance`.`org_id`, `l.GroupCourseInstance`.`room_id`, `l.GroupCourseInstance`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`ability`, `l.GroupCourseInstance.Teacher`.`comment`, `l.GroupCourseInstance.Teacher`.`cv_url`, `l.GroupCourseInstance.Teacher`.`dob`, `l.GroupCourseInstance.Teacher`.`email`, `l.GroupCourseInstance.Teacher`.`expiry_date`, `l.GroupCourseInstance.Teacher`.`first_name`, `l.GroupCourseInstance.Teacher`.`form_url`, `l.GroupCourseInstance.Teacher`.`gender`, `l.GroupCourseInstance.Teacher`.`home_phone`, `l.GroupCourseInstance.Teacher`.`id_number`, `l.GroupCourseInstance.Teacher`.`id_photo`, `l.GroupCourseInstance.Teacher`.`id_type`, `l.GroupCourseInstance.Teacher`.`invoice_template`, `l.GroupCourseInstance.Teacher`.`ird_number`, `l.GroupCourseInstance.Teacher`.`is_activate`, `l.GroupCourseInstance.Teacher`.`is_contract`, `l.GroupCourseInstance.Teacher`.`is_left`, `l.GroupCourseInstance.Teacher`.`last_name`, `l.GroupCourseInstance.Teacher`.`level`, `l.GroupCourseInstance.Teacher`.`minimum_hours`, `l.GroupCourseInstance.Teacher`.`mobile_phone`, `l.GroupCourseInstance.Teacher`.`otherfile_url`, `l.GroupCourseInstance.Teacher`.`photo`, `l.GroupCourseInstance.Teacher`.`user_id`, `l.GroupCourseInstance.Teacher`.`visa`, `l.GroupCourseInstance.Course`.`course_id`, `l.GroupCourseInstance.Course`.`course_category_id`, `l.GroupCourseInstance.Course`.`course_name`, `l.GroupCourseInstance.Course`.`course_type`, `l.GroupCourseInstance.Course`.`duration`, `l.GroupCourseInstance.Course`.`level`, `l.GroupCourseInstance.Course`.`price`, `l.GroupCourseInstance.Course`.`teacher_level`, `l.GroupCourseInstance.Room`.`room_id`, `l.GroupCourseInstance.Room`.`created_at`, `l.GroupCourseInstance.Room`.`is_activate`, `l.GroupCourseInstance.Room`.`org_id`, `l.GroupCourseInstance.Room`.`room_name`
FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse`
LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance` ON `w.LearnerGroupCourse`.`group_course_instance_id` = `l.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher` ON `l.GroupCourseInstance`.`teacher_id` = `l.GroupCourseInstance.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course` ON `l.GroupCourseInstance`.`course_id` = `l.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room` ON `l.GroupCourseInstance`.`room_id` = `l.GroupCourseInstance.Room`.`room_id`
INNER JOIN (
    SELECT `w5`.`learner_id`
    FROM `ablemusic`.`learner` AS `w5`
    WHERE `w5`.`learner_id` = @__learnerId_0
    ORDER BY `w5`.`learner_id`
    LIMIT 1
) AS `t6` ON `w.LearnerGroupCourse`.`learner_id` = `t6`.`learner_id`
ORDER BY `t6`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`
2019-07-18 13:31:53.820 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1346.4964ms.
2019-07-18 13:31:53.820 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:31:53.821 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 1347.9966000000002ms
2019-07-18 13:31:53.821 +12:00 [INF] Request finished in 1348.6804ms 200 application/json; charset=utf-8
2019-07-18 13:31:53.826 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/3  
2019-07-18 13:31:53.826 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/2  
2019-07-18 13:31:53.827 +12:00 [INF] Policy execution successful.
2019-07-18 13:31:53.827 +12:00 [INF] Policy execution successful.
2019-07-18 13:31:53.827 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 13:31:53.827 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 13:31:53.827 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:31:53.827 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:31:53.828 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/5  
2019-07-18 13:31:53.828 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:31:53.828 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:31:53.829 +12:00 [INF] Policy execution successful.
2019-07-18 13:31:53.828 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/4  
2019-07-18 13:31:53.829 +12:00 [INF] Policy execution successful.
2019-07-18 13:31:53.829 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 13:31:53.829 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 13:31:53.829 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:31:53.829 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:31:53.830 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:31:53.830 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:31:54.001 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 13:31:54.002 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 173.76180000000002ms.
2019-07-18 13:31:54.002 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:31:54.002 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 174.8091ms
2019-07-18 13:31:54.002 +12:00 [INF] Request finished in 175.569ms 200 application/json; charset=utf-8
2019-07-18 13:31:54.003 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 13:31:54.007 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 13:31:54.007 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 177.247ms.
2019-07-18 13:31:54.007 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:31:54.007 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 179.5532ms.
2019-07-18 13:31:54.007 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:31:54.007 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 177.9599ms
2019-07-18 13:31:54.007 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 180.38840000000002ms
2019-07-18 13:31:54.007 +12:00 [INF] Request finished in 179.0396ms 200 application/json; charset=utf-8
2019-07-18 13:31:54.007 +12:00 [INF] Request finished in 181.1282ms 200 application/json; charset=utf-8
2019-07-18 13:31:54.008 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 13:31:54.008 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 178.5162ms.
2019-07-18 13:31:54.008 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:31:54.008 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 179.321ms
2019-07-18 13:31:54.009 +12:00 [INF] Request finished in 180.3687ms 200 application/json; charset=utf-8
2019-07-18 13:32:06.886 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:32:06.886 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:06.887 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:32:06.888 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:32:06.888 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:07.074 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:32:07.075 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 186.7289ms.
2019-07-18 13:32:07.075 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:07.075 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 188.079ms
2019-07-18 13:32:07.075 +12:00 [INF] Request finished in 189.1126ms 200 application/json; charset=utf-8
2019-07-18 13:32:07.077 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:32:07.077 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:07.077 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:32:07.078 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:32:07.079 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:07.268 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:32:07.268 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 189.41750000000002ms.
2019-07-18 13:32:07.268 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:07.268 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 190.7803ms
2019-07-18 13:32:07.268 +12:00 [INF] Request finished in 191.8285ms 200 application/json; charset=utf-8
2019-07-18 13:32:07.270 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:32:07.270 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:07.270 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:32:07.271 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:32:07.272 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:07.455 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:32:07.455 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 183.387ms.
2019-07-18 13:32:07.455 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:07.455 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 184.78920000000002ms
2019-07-18 13:32:07.456 +12:00 [INF] Request finished in 185.5688ms 200 application/json; charset=utf-8
2019-07-18 13:32:07.457 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:32:07.457 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:07.457 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:32:07.458 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:32:07.459 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:07.643 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:32:07.643 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 185.0295ms.
2019-07-18 13:32:07.643 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:07.644 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 186.15200000000002ms
2019-07-18 13:32:07.644 +12:00 [INF] Request finished in 186.9581ms 200 application/json; charset=utf-8
2019-07-18 13:32:07.645 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:32:07.645 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:07.646 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:32:07.647 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:32:07.648 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:07.844 +12:00 [INF] Executed DbCommand (69ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:32:07.844 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 197.2021ms.
2019-07-18 13:32:07.844 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:07.844 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 198.73260000000002ms
2019-07-18 13:32:07.845 +12:00 [INF] Request finished in 199.4036ms 200 application/json; charset=utf-8
2019-07-18 13:32:08.466 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:32:08.467 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:08.467 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:32:08.468 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:32:08.468 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:08.667 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:32:08.667 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 198.9383ms.
2019-07-18 13:32:08.667 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:08.667 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 200.3769ms
2019-07-18 13:32:08.667 +12:00 [INF] Request finished in 201.1868ms 200 application/json; charset=utf-8
2019-07-18 13:32:08.669 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:32:08.669 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:08.670 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:32:08.671 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:32:08.671 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:08.855 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:32:08.855 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 184.2474ms.
2019-07-18 13:32:08.855 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:08.855 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 185.5568ms
2019-07-18 13:32:08.856 +12:00 [INF] Request finished in 186.6045ms 200 application/json; charset=utf-8
2019-07-18 13:32:08.857 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:32:08.857 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:08.857 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:32:08.858 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:32:08.858 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:09.052 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:32:09.052 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 193.97650000000002ms.
2019-07-18 13:32:09.052 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:09.052 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 195.05970000000002ms
2019-07-18 13:32:09.053 +12:00 [INF] Request finished in 195.7789ms 200 application/json; charset=utf-8
2019-07-18 13:32:09.054 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:32:09.054 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:09.054 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:32:09.055 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:32:09.056 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:09.238 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:32:09.239 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 183.3194ms.
2019-07-18 13:32:09.239 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:09.239 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 184.3461ms
2019-07-18 13:32:09.239 +12:00 [INF] Request finished in 185.059ms 200 application/json; charset=utf-8
2019-07-18 13:32:09.240 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:32:09.241 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:09.241 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:32:09.242 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:32:09.242 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:09.429 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:32:09.429 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 187.5017ms.
2019-07-18 13:32:09.429 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:09.429 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 188.5216ms
2019-07-18 13:32:09.430 +12:00 [INF] Request finished in 189.2332ms 200 application/json; charset=utf-8
2019-07-18 13:32:09.431 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:32:09.431 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:09.431 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:32:09.432 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:32:09.433 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:09.636 +12:00 [INF] Executed DbCommand (72ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:32:09.636 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 203.9027ms.
2019-07-18 13:32:09.636 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:09.637 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 205.08ms
2019-07-18 13:32:09.637 +12:00 [INF] Request finished in 205.7796ms 200 application/json; charset=utf-8
2019-07-18 13:32:09.638 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:32:09.638 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:09.639 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:32:09.639 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:32:09.640 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:09.825 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:32:09.825 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 185.4456ms.
2019-07-18 13:32:09.825 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:09.825 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 186.64430000000002ms
2019-07-18 13:32:09.825 +12:00 [INF] Request finished in 187.3721ms 200 application/json; charset=utf-8
2019-07-18 13:32:09.828 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:32:09.828 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:09.828 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:32:09.829 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:32:09.829 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:10.011 +12:00 [INF] Executed DbCommand (64ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:32:10.011 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 182.01940000000002ms.
2019-07-18 13:32:10.011 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:10.012 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 183.3707ms
2019-07-18 13:32:10.012 +12:00 [INF] Request finished in 184.1862ms 200 application/json; charset=utf-8
2019-07-18 13:32:10.013 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:32:10.013 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:10.014 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:32:10.014 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:32:10.015 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:10.200 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:32:10.200 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 185.7372ms.
2019-07-18 13:32:10.200 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:10.201 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 186.86790000000002ms
2019-07-18 13:32:10.201 +12:00 [INF] Request finished in 187.7972ms 200 application/json; charset=utf-8
2019-07-18 13:32:10.202 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:32:10.202 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:10.202 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:32:10.203 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:32:10.204 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:10.420 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:32:10.421 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 217.2919ms.
2019-07-18 13:32:10.421 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:10.421 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 218.36870000000002ms
2019-07-18 13:32:10.421 +12:00 [INF] Request finished in 218.9584ms 200 application/json; charset=utf-8
2019-07-18 13:32:25.422 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/payment  
2019-07-18 13:32:25.422 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:25.423 +12:00 [INF] Route matched with {action = "GetTerms", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetTerms() on controller Pegasus_backend.Controllers.PaymentController (Pegasus_backend).
2019-07-18 13:32:25.423 +12:00 [INF] Executing action method Pegasus_backend.Controllers.PaymentController.GetTerms (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:32:25.424 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:25.601 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`term_id`, `t`.`begin_date`, `t`.`end_date`, `t`.`term_name`, `t`.`term_type`, `t`.`week_quantity`
FROM `ablemusic`.`term` AS `t`
2019-07-18 13:32:25.602 +12:00 [INF] Executed action method Pegasus_backend.Controllers.PaymentController.GetTerms (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 178.5757ms.
2019-07-18 13:32:25.602 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:25.602 +12:00 [INF] Executed action Pegasus_backend.Controllers.PaymentController.GetTerms (Pegasus_backend) in 179.4579ms
2019-07-18 13:32:25.602 +12:00 [INF] Request finished in 180.4354ms 200 application/json; charset=utf-8
2019-07-18 13:32:25.612 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/InvoiceWaitingConfirms/3/2  
2019-07-18 13:32:25.612 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:25.612 +12:00 [INF] Route matched with {action = "GetInvoiceWaitingConfirm", controller = "InvoiceWaitingConfirms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetInvoiceWaitingConfirm(Int32, Int32) on controller Pegasus_backend.Controllers.InvoiceWaitingConfirmsController (Pegasus_backend).
2019-07-18 13:32:25.613 +12:00 [INF] Executing action method Pegasus_backend.Controllers.InvoiceWaitingConfirmsController.GetInvoiceWaitingConfirm (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:32:25.614 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:25.889 +12:00 [INF] Executed DbCommand (146ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__termId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `iw`.`invoice_num` AS `InvoiceNum`, `iw.Learner`.`email`, `iw.Learner`.`first_name` AS `FirstName`, `iw.Learner`.`middle_name` AS `MiddleName`, `iw.Learner`.`last_name` AS `LastName`, `iw.Learner`.`enroll_date` AS `EnrollDate`, `iw.Learner`.`contact_num` AS `ContactNum`, `iw.Learner`.`address`, `iw.Learner`.`is_under_18` AS `IsUnder18`, `iw.Learner`.`dob`, `iw.Learner`.`gender`, `iw.Learner`.`is_abrsm_g5` AS `IsAbrsmG5`, `iw.Learner`.`g5_certification` AS `G5Certification`, `iw.Learner`.`created_at` AS `CreatedAt`, `iw.Learner`.`referrer_learner_id` AS `ReferrerLearnerId`, `iw.Learner`.`photo`, `iw.Learner`.`note`, `iw.Learner`.`level_type` AS `LevelType`, `iw.Learner`.`user_id` AS `UserId`, `iw.Learner`.`org_id` AS `OrgId`, `iw`.`waiting_id` AS `WaitingId`, `iw`.`lesson_fee` AS `LessonFee`, `iw`.`concert_fee` AS `ConcertFee`, `iw`.`note_fee` AS `NoteFee`, `iw`.`other1_fee` AS `Other1Fee`, `iw`.`other2_fee` AS `Other2Fee`, `iw`.`other3_fee` AS `Other3Fee`, `iw`.`learner_id` AS `LearnerId`, `iw`.`learner_name` AS `LearnerName`, `iw`.`begin_date` AS `BeginDate`, `iw`.`end_date` AS `EndDate`, `iw`.`total_fee` AS `TotalFee`, `iw`.`due_date` AS `DueDate`, `iw`.`paid_fee` AS `PaidFee`, `iw`.`owing_fee` AS `OwingFee`, `iw`.`created_at` AS `CreatedAt0`, `iw`.`is_paid` AS `IsPaid`, `iw`.`term_id` AS `TermId`, `iw`.`course_instance_id` AS `CourseInstanceId`, `iw`.`group_course_instance_id` AS `GroupCourseInstanceId`, `iw`.`lesson_quantity` AS `LessonQuantity`, `iw`.`course_name` AS `CourseName`, `iw`.`concert_fee_name` AS `ConcertFeeName`, `iw`.`lesson_note_fee_name` AS `LessonNoteFeeName`, `iw`.`other1_fee_name` AS `Other1FeeName`, `iw`.`other2_fee_name` AS `Other2FeeName`, `iw`.`other3_fee_name` AS `Other3FeeName`, `iw`.`is_activate` AS `IsActivate`, `iw`.`is_email_sent` AS `IsEmailSent`, `iw`.`is_confirmed` AS `IsConfirmed`, `iw`.`comment`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`invoice_id`
END AS `InvoiceId`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN '' ELSE `iv`.`invoice_num`
END AS `InvoiceNum0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`lesson_fee`
END AS `LessonFee0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`concert_fee`
END AS `ConcertFee0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`note_fee`
END AS `NoteFee0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`other1_fee`
END AS `Other1Fee0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`other2_fee`
END AS `Other2Fee0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`other3_fee`
END AS `Other3Fee0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`learner_id`
END AS `LearnerId0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN '' ELSE `iv`.`learner_name`
END AS `LearnerName0`, `iv`.`begin_date` AS `BeginDate0`, `iv`.`end_date` AS `EndDate0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`total_fee`
END AS `TotalFee0`, `iv`.`due_date` AS `DueDate0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`paid_fee`
END AS `PaidFee0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`owing_fee`
END AS `OwingFee0`, `iv`.`created_at` AS `CreatedAt1`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`is_paid`
END AS `IsPaid0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`term_id`
END AS `TermId0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`course_instance_id`
END AS `CourseInstanceId0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`group_course_instance_id`
END AS `GroupCourseInstanceId0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`lesson_quantity`
END AS `LessonQuantity0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN '' ELSE `iv`.`course_name`
END AS `CourseName0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN '' ELSE `iv`.`concert_fee_name`
END AS `ConcertFeeName0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN '' ELSE `iv`.`lesson_note_fee_name`
END AS `LessonNoteFeeName0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN '' ELSE `iv`.`other1_fee_name`
END AS `Other1FeeName0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN '' ELSE `iv`.`other2_fee_name`
END AS `Other2FeeName0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN '' ELSE `iv`.`other3_fee_name`
END AS `Other3FeeName0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`is_active`
END AS `IsActive`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN '' ELSE `iv`.`comment`
END AS `Comment0`, `iw.Learner`.`learner_id`
FROM `ablemusic`.`staff` AS `s`
INNER JOIN `ablemusic`.`staff_org` AS `so` ON `s`.`staff_id` = `so`.`staff_id`
INNER JOIN `ablemusic`.`learner` AS `l` ON `so`.`org_id` = `l`.`org_id`
INNER JOIN `ablemusic`.`invoice_waiting_confirm` AS `iw` ON `l`.`learner_id` = `iw`.`learner_id`
LEFT JOIN `ablemusic`.`learner` AS `iw.Learner` ON `iw`.`learner_id` = `iw.Learner`.`learner_id`
INNER JOIN `ablemusic`.`term` AS `t` ON `iw`.`term_id` = `t`.`term_id`
LEFT JOIN `ablemusic`.`invoice` AS `iv` ON `iw`.`invoice_num` = `iv`.`invoice_num`
WHERE (`s`.`user_id` = @__userId_0) AND (`t`.`term_id` = @__termId_1)
ORDER BY `InvoiceNum`, `iw`.`waiting_id`, `iw.Learner`.`learner_id`
2019-07-18 13:32:26.916 +12:00 [INF] Executed DbCommand (68ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__termId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `iw.Learner.Parent`.`parent_id`, `iw.Learner.Parent`.`contact_num`, `iw.Learner.Parent`.`created_at`, `iw.Learner.Parent`.`email`, `iw.Learner.Parent`.`first_name`, `iw.Learner.Parent`.`last_name`, `iw.Learner.Parent`.`learner_id`, `iw.Learner.Parent`.`relationship`, `t1`.`invoice_num`, `t1`.`waiting_id`, `t1`.`learner_id`
FROM `ablemusic`.`parent` AS `iw.Learner.Parent`
INNER JOIN (
    SELECT `iw0`.`invoice_num`, `iw0`.`waiting_id`, `iw.Learner0`.`learner_id`
    FROM `ablemusic`.`staff` AS `s0`
    INNER JOIN `ablemusic`.`staff_org` AS `so0` ON `s0`.`staff_id` = `so0`.`staff_id`
    INNER JOIN `ablemusic`.`learner` AS `l0` ON `so0`.`org_id` = `l0`.`org_id`
    INNER JOIN `ablemusic`.`invoice_waiting_confirm` AS `iw0` ON `l0`.`learner_id` = `iw0`.`learner_id`
    LEFT JOIN `ablemusic`.`learner` AS `iw.Learner0` ON `iw0`.`learner_id` = `iw.Learner0`.`learner_id`
    INNER JOIN `ablemusic`.`term` AS `t0` ON `iw0`.`term_id` = `t0`.`term_id`
    LEFT JOIN `ablemusic`.`invoice` AS `iv0` ON `iw0`.`invoice_num` = `iv0`.`invoice_num`
    WHERE (`s0`.`user_id` = @__userId_0) AND (`t0`.`term_id` = @__termId_1)
) AS `t1` ON `iw.Learner.Parent`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`invoice_num`, `t1`.`waiting_id`, `t1`.`learner_id`
2019-07-18 13:32:27.012 +12:00 [INF] Executed action method Pegasus_backend.Controllers.InvoiceWaitingConfirmsController.GetInvoiceWaitingConfirm (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1399.1878000000002ms.
2019-07-18 13:32:27.012 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:27.030 +12:00 [INF] Executed action Pegasus_backend.Controllers.InvoiceWaitingConfirmsController.GetInvoiceWaitingConfirm (Pegasus_backend) in 1417.4054ms
2019-07-18 13:32:27.030 +12:00 [INF] Request finished in 1418.3013ms 200 application/json; charset=utf-8
2019-07-18 13:32:27.066 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:32:27.066 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:27.066 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:32:27.067 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:32:27.068 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:27.249 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:32:27.249 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 182.3846ms.
2019-07-18 13:32:27.250 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:27.250 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 183.5841ms
2019-07-18 13:32:27.250 +12:00 [INF] Request finished in 184.4595ms 200 application/json; charset=utf-8
2019-07-18 13:32:27.251 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:32:27.251 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:27.252 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:32:27.253 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:32:27.253 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:27.438 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:32:27.438 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 185.32160000000002ms.
2019-07-18 13:32:27.438 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:27.438 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 186.55450000000002ms
2019-07-18 13:32:27.439 +12:00 [INF] Request finished in 187.3182ms 200 application/json; charset=utf-8
2019-07-18 13:32:27.440 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:32:27.440 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:27.440 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:32:27.441 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:32:27.442 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:27.621 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:32:27.622 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 180.4128ms.
2019-07-18 13:32:27.622 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:27.622 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 181.60240000000002ms
2019-07-18 13:32:27.622 +12:00 [INF] Request finished in 182.3876ms 200 application/json; charset=utf-8
2019-07-18 13:32:27.624 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:32:27.624 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:27.624 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:32:27.625 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:32:27.625 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:27.807 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:32:27.807 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 181.9634ms.
2019-07-18 13:32:27.807 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:27.807 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 183.24460000000002ms
2019-07-18 13:32:27.808 +12:00 [INF] Request finished in 183.9514ms 200 application/json; charset=utf-8
2019-07-18 13:32:27.809 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:32:27.809 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:27.809 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:32:27.810 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:32:27.811 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:27.992 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:32:27.992 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 181.3476ms.
2019-07-18 13:32:27.992 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:27.992 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 182.6292ms
2019-07-18 13:32:27.992 +12:00 [INF] Request finished in 183.4263ms 200 application/json; charset=utf-8
2019-07-18 13:32:27.994 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:32:27.994 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:27.994 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:32:27.995 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:32:27.995 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:28.173 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:32:28.174 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 178.77020000000002ms.
2019-07-18 13:32:28.174 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:28.174 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 179.785ms
2019-07-18 13:32:28.174 +12:00 [INF] Request finished in 180.4521ms 200 application/json; charset=utf-8
2019-07-18 13:32:28.175 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:32:28.176 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:28.176 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:32:28.177 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:32:28.177 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:28.350 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:32:28.350 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 173.1404ms.
2019-07-18 13:32:28.350 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:28.350 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 174.25660000000002ms
2019-07-18 13:32:28.350 +12:00 [INF] Request finished in 174.8762ms 200 application/json; charset=utf-8
2019-07-18 13:32:28.352 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:32:28.352 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:28.352 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:32:28.353 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:32:28.353 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:28.521 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:32:28.522 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 168.80460000000002ms.
2019-07-18 13:32:28.522 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:28.522 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 170.0375ms
2019-07-18 13:32:28.523 +12:00 [INF] Request finished in 170.8757ms 200 application/json; charset=utf-8
2019-07-18 13:32:28.525 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:32:28.525 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:28.525 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:32:28.527 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:32:28.527 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:28.695 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:32:28.695 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 168.2611ms.
2019-07-18 13:32:28.695 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:28.696 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 169.8819ms
2019-07-18 13:32:28.696 +12:00 [INF] Request finished in 170.9582ms 200 application/json; charset=utf-8
2019-07-18 13:32:28.699 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:32:28.700 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:28.700 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:32:28.702 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:32:28.703 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:28.889 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:32:28.889 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 186.63660000000002ms.
2019-07-18 13:32:28.889 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:28.889 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 189.0531ms
2019-07-18 13:32:28.890 +12:00 [INF] Request finished in 190.5259ms 200 application/json; charset=utf-8
2019-07-18 13:32:35.022 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lookups  
2019-07-18 13:32:35.022 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:35.022 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/navitems  
2019-07-18 13:32:35.022 +12:00 [INF] Request finished in 0.3724ms 204 
2019-07-18 13:32:35.022 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:35.022 +12:00 [INF] Request finished in 0.3117ms 204 
2019-07-18 13:32:35.057 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/payment  
2019-07-18 13:32:35.057 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:35.057 +12:00 [INF] Route matched with {action = "GetTerms", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetTerms() on controller Pegasus_backend.Controllers.PaymentController (Pegasus_backend).
2019-07-18 13:32:35.057 +12:00 [INF] Executing action method Pegasus_backend.Controllers.PaymentController.GetTerms (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:32:35.058 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:35.072 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/staff/Photos/2190613092457108.jpg  
2019-07-18 13:32:35.072 +12:00 [INF] Request finished in 0.5024ms 404 
2019-07-18 13:32:35.106 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups  
2019-07-18 13:32:35.106 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:35.107 +12:00 [INF] Successfully validated the token.
2019-07-18 13:32:35.107 +12:00 [INF] Route matched with {action = "GetLookups", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookups() on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 13:32:35.108 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:32:35.108 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:35.135 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/navitems  
2019-07-18 13:32:35.135 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:35.135 +12:00 [INF] Successfully validated the token.
2019-07-18 13:32:35.135 +12:00 [INF] Route matched with {action = "GetNavItems", controller = "NavItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetNavItems() on controller Pegasus_backend.Controllers.NavItemsController (Pegasus_backend).
2019-07-18 13:32:35.136 +12:00 [INF] Authorization was successful.
2019-07-18 13:32:35.136 +12:00 [INF] Executing action method Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:32:35.138 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:35.225 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`term_id`, `t`.`begin_date`, `t`.`end_date`, `t`.`term_name`, `t`.`term_type`, `t`.`week_quantity`
FROM `ablemusic`.`term` AS `t`
2019-07-18 13:32:35.225 +12:00 [INF] Executed action method Pegasus_backend.Controllers.PaymentController.GetTerms (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 168.0695ms.
2019-07-18 13:32:35.226 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:35.226 +12:00 [INF] Executed action Pegasus_backend.Controllers.PaymentController.GetTerms (Pegasus_backend) in 168.7674ms
2019-07-18 13:32:35.226 +12:00 [INF] Request finished in 169.5415ms 200 application/json; charset=utf-8
2019-07-18 13:32:35.257 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/InvoiceWaitingConfirms/3/2  
2019-07-18 13:32:35.257 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:35.257 +12:00 [INF] Route matched with {action = "GetInvoiceWaitingConfirm", controller = "InvoiceWaitingConfirms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetInvoiceWaitingConfirm(Int32, Int32) on controller Pegasus_backend.Controllers.InvoiceWaitingConfirmsController (Pegasus_backend).
2019-07-18 13:32:35.258 +12:00 [INF] Executing action method Pegasus_backend.Controllers.InvoiceWaitingConfirmsController.GetInvoiceWaitingConfirm (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:32:35.259 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:35.275 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
2019-07-18 13:32:35.278 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 169.76850000000002ms.
2019-07-18 13:32:35.278 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:35.278 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend) in 170.66570000000002ms
2019-07-18 13:32:35.278 +12:00 [INF] Request finished in 172.0179ms 200 application/json; charset=utf-8
2019-07-18 13:32:35.323 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`user_id`, `s`.`created_at`, `s`.`is_activate`, `s`.`is_online`, `s`.`password`, `s`.`role_id`, `s`.`signature`, `s`.`unread_message_id`, `s`.`user_name`
FROM `ablemusic`.`user` AS `s`
WHERE `s`.`user_id` = @__userId_0
LIMIT 1
2019-07-18 13:32:35.500 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__roleId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`page_id`
FROM `ablemusic`.`role_access` AS `s`
WHERE `s`.`role_id` = @__roleId_0
2019-07-18 13:32:35.506 +12:00 [INF] Executed DbCommand (119ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__termId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `iw`.`invoice_num` AS `InvoiceNum`, `iw.Learner`.`email`, `iw.Learner`.`first_name` AS `FirstName`, `iw.Learner`.`middle_name` AS `MiddleName`, `iw.Learner`.`last_name` AS `LastName`, `iw.Learner`.`enroll_date` AS `EnrollDate`, `iw.Learner`.`contact_num` AS `ContactNum`, `iw.Learner`.`address`, `iw.Learner`.`is_under_18` AS `IsUnder18`, `iw.Learner`.`dob`, `iw.Learner`.`gender`, `iw.Learner`.`is_abrsm_g5` AS `IsAbrsmG5`, `iw.Learner`.`g5_certification` AS `G5Certification`, `iw.Learner`.`created_at` AS `CreatedAt`, `iw.Learner`.`referrer_learner_id` AS `ReferrerLearnerId`, `iw.Learner`.`photo`, `iw.Learner`.`note`, `iw.Learner`.`level_type` AS `LevelType`, `iw.Learner`.`user_id` AS `UserId`, `iw.Learner`.`org_id` AS `OrgId`, `iw`.`waiting_id` AS `WaitingId`, `iw`.`lesson_fee` AS `LessonFee`, `iw`.`concert_fee` AS `ConcertFee`, `iw`.`note_fee` AS `NoteFee`, `iw`.`other1_fee` AS `Other1Fee`, `iw`.`other2_fee` AS `Other2Fee`, `iw`.`other3_fee` AS `Other3Fee`, `iw`.`learner_id` AS `LearnerId`, `iw`.`learner_name` AS `LearnerName`, `iw`.`begin_date` AS `BeginDate`, `iw`.`end_date` AS `EndDate`, `iw`.`total_fee` AS `TotalFee`, `iw`.`due_date` AS `DueDate`, `iw`.`paid_fee` AS `PaidFee`, `iw`.`owing_fee` AS `OwingFee`, `iw`.`created_at` AS `CreatedAt0`, `iw`.`is_paid` AS `IsPaid`, `iw`.`term_id` AS `TermId`, `iw`.`course_instance_id` AS `CourseInstanceId`, `iw`.`group_course_instance_id` AS `GroupCourseInstanceId`, `iw`.`lesson_quantity` AS `LessonQuantity`, `iw`.`course_name` AS `CourseName`, `iw`.`concert_fee_name` AS `ConcertFeeName`, `iw`.`lesson_note_fee_name` AS `LessonNoteFeeName`, `iw`.`other1_fee_name` AS `Other1FeeName`, `iw`.`other2_fee_name` AS `Other2FeeName`, `iw`.`other3_fee_name` AS `Other3FeeName`, `iw`.`is_activate` AS `IsActivate`, `iw`.`is_email_sent` AS `IsEmailSent`, `iw`.`is_confirmed` AS `IsConfirmed`, `iw`.`comment`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`invoice_id`
END AS `InvoiceId`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN '' ELSE `iv`.`invoice_num`
END AS `InvoiceNum0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`lesson_fee`
END AS `LessonFee0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`concert_fee`
END AS `ConcertFee0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`note_fee`
END AS `NoteFee0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`other1_fee`
END AS `Other1Fee0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`other2_fee`
END AS `Other2Fee0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`other3_fee`
END AS `Other3Fee0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`learner_id`
END AS `LearnerId0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN '' ELSE `iv`.`learner_name`
END AS `LearnerName0`, `iv`.`begin_date` AS `BeginDate0`, `iv`.`end_date` AS `EndDate0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`total_fee`
END AS `TotalFee0`, `iv`.`due_date` AS `DueDate0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`paid_fee`
END AS `PaidFee0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`owing_fee`
END AS `OwingFee0`, `iv`.`created_at` AS `CreatedAt1`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`is_paid`
END AS `IsPaid0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`term_id`
END AS `TermId0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`course_instance_id`
END AS `CourseInstanceId0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`group_course_instance_id`
END AS `GroupCourseInstanceId0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`lesson_quantity`
END AS `LessonQuantity0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN '' ELSE `iv`.`course_name`
END AS `CourseName0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN '' ELSE `iv`.`concert_fee_name`
END AS `ConcertFeeName0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN '' ELSE `iv`.`lesson_note_fee_name`
END AS `LessonNoteFeeName0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN '' ELSE `iv`.`other1_fee_name`
END AS `Other1FeeName0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN '' ELSE `iv`.`other2_fee_name`
END AS `Other2FeeName0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN '' ELSE `iv`.`other3_fee_name`
END AS `Other3FeeName0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`is_active`
END AS `IsActive`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN '' ELSE `iv`.`comment`
END AS `Comment0`, `iw.Learner`.`learner_id`
FROM `ablemusic`.`staff` AS `s`
INNER JOIN `ablemusic`.`staff_org` AS `so` ON `s`.`staff_id` = `so`.`staff_id`
INNER JOIN `ablemusic`.`learner` AS `l` ON `so`.`org_id` = `l`.`org_id`
INNER JOIN `ablemusic`.`invoice_waiting_confirm` AS `iw` ON `l`.`learner_id` = `iw`.`learner_id`
LEFT JOIN `ablemusic`.`learner` AS `iw.Learner` ON `iw`.`learner_id` = `iw.Learner`.`learner_id`
INNER JOIN `ablemusic`.`term` AS `t` ON `iw`.`term_id` = `t`.`term_id`
LEFT JOIN `ablemusic`.`invoice` AS `iv` ON `iw`.`invoice_num` = `iv`.`invoice_num`
WHERE (`s`.`user_id` = @__userId_0) AND (`t`.`term_id` = @__termId_1)
ORDER BY `InvoiceNum`, `iw`.`waiting_id`, `iw.Learner`.`learner_id`
2019-07-18 13:32:35.659 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`page_group_id`, `s`.`display_order`, `s`.`icon`, `s`.`page_group_name`
FROM `ablemusic`.`page_group` AS `s`
ORDER BY `s`.`page_group_id`
2019-07-18 13:32:35.715 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Page`.`page_id`, `s.Page`.`display_order`, `s.Page`.`icon`, `s.Page`.`is_activate`, `s.Page`.`page_group_id`, `s.Page`.`page_name`, `s.Page`.`para`, `s.Page`.`para_flag`, `s.Page`.`url`
FROM `ablemusic`.`page` AS `s.Page`
INNER JOIN (
    SELECT `s0`.`page_group_id`
    FROM `ablemusic`.`page_group` AS `s0`
) AS `t` ON `s.Page`.`page_group_id` = `t`.`page_group_id`
ORDER BY `t`.`page_group_id`
2019-07-18 13:32:35.717 +12:00 [INF] Executed action method Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 580.3447ms.
2019-07-18 13:32:35.717 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:35.717 +12:00 [INF] Executed action Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend) in 581.8008ms
2019-07-18 13:32:35.718 +12:00 [INF] Request finished in 583.0922ms 200 application/json; charset=utf-8
2019-07-18 13:32:36.176 +12:00 [INF] Executed DbCommand (62ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__termId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `iw.Learner.Parent`.`parent_id`, `iw.Learner.Parent`.`contact_num`, `iw.Learner.Parent`.`created_at`, `iw.Learner.Parent`.`email`, `iw.Learner.Parent`.`first_name`, `iw.Learner.Parent`.`last_name`, `iw.Learner.Parent`.`learner_id`, `iw.Learner.Parent`.`relationship`, `t1`.`invoice_num`, `t1`.`waiting_id`, `t1`.`learner_id`
FROM `ablemusic`.`parent` AS `iw.Learner.Parent`
INNER JOIN (
    SELECT `iw0`.`invoice_num`, `iw0`.`waiting_id`, `iw.Learner0`.`learner_id`
    FROM `ablemusic`.`staff` AS `s0`
    INNER JOIN `ablemusic`.`staff_org` AS `so0` ON `s0`.`staff_id` = `so0`.`staff_id`
    INNER JOIN `ablemusic`.`learner` AS `l0` ON `so0`.`org_id` = `l0`.`org_id`
    INNER JOIN `ablemusic`.`invoice_waiting_confirm` AS `iw0` ON `l0`.`learner_id` = `iw0`.`learner_id`
    LEFT JOIN `ablemusic`.`learner` AS `iw.Learner0` ON `iw0`.`learner_id` = `iw.Learner0`.`learner_id`
    INNER JOIN `ablemusic`.`term` AS `t0` ON `iw0`.`term_id` = `t0`.`term_id`
    LEFT JOIN `ablemusic`.`invoice` AS `iv0` ON `iw0`.`invoice_num` = `iv0`.`invoice_num`
    WHERE (`s0`.`user_id` = @__userId_0) AND (`t0`.`term_id` = @__termId_1)
) AS `t1` ON `iw.Learner.Parent`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`invoice_num`, `t1`.`waiting_id`, `t1`.`learner_id`
2019-07-18 13:32:36.276 +12:00 [INF] Executed action method Pegasus_backend.Controllers.InvoiceWaitingConfirmsController.GetInvoiceWaitingConfirm (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1017.902ms.
2019-07-18 13:32:36.276 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:36.294 +12:00 [INF] Executed action Pegasus_backend.Controllers.InvoiceWaitingConfirmsController.GetInvoiceWaitingConfirm (Pegasus_backend) in 1036.6473ms
2019-07-18 13:32:36.294 +12:00 [INF] Request finished in 1037.5141ms 200 application/json; charset=utf-8
2019-07-18 13:32:36.332 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:32:36.332 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:36.332 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:32:36.333 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:32:36.334 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:36.527 +12:00 [INF] Executed DbCommand (64ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:32:36.527 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 193.7079ms.
2019-07-18 13:32:36.527 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:36.527 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 195.0233ms
2019-07-18 13:32:36.527 +12:00 [INF] Request finished in 195.8777ms 200 application/json; charset=utf-8
2019-07-18 13:32:36.529 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:32:36.529 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:36.529 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:32:36.530 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:32:36.530 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:36.713 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:32:36.714 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 183.65ms.
2019-07-18 13:32:36.714 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:36.714 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 184.7956ms
2019-07-18 13:32:36.714 +12:00 [INF] Request finished in 185.6286ms 200 application/json; charset=utf-8
2019-07-18 13:32:36.716 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:32:36.716 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:36.717 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:32:36.718 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:32:36.718 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:36.901 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:32:36.901 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 183.6226ms.
2019-07-18 13:32:36.901 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:36.902 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 184.8358ms
2019-07-18 13:32:36.902 +12:00 [INF] Request finished in 185.6958ms 200 application/json; charset=utf-8
2019-07-18 13:32:36.903 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:32:36.903 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:36.904 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:32:36.904 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:32:36.905 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:37.083 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:32:37.083 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 178.8288ms.
2019-07-18 13:32:37.083 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:37.084 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 180.06040000000002ms
2019-07-18 13:32:37.084 +12:00 [INF] Request finished in 180.8387ms 200 application/json; charset=utf-8
2019-07-18 13:32:37.086 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:32:37.086 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:37.086 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:32:37.087 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:32:37.088 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:37.270 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:32:37.270 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 182.9392ms.
2019-07-18 13:32:37.271 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:37.271 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 184.7687ms
2019-07-18 13:32:37.272 +12:00 [INF] Request finished in 185.8638ms 200 application/json; charset=utf-8
2019-07-18 13:32:37.275 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:32:37.276 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:37.276 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:32:37.278 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:32:37.279 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:37.474 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:32:37.474 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 195.8247ms.
2019-07-18 13:32:37.474 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:37.475 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 198.03900000000002ms
2019-07-18 13:32:37.475 +12:00 [INF] Request finished in 199.7812ms 200 application/json; charset=utf-8
2019-07-18 13:32:37.477 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:32:37.477 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:37.478 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:32:37.479 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:32:37.479 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:37.659 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:32:37.660 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 181.2142ms.
2019-07-18 13:32:37.660 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:37.661 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 183.0077ms
2019-07-18 13:32:37.661 +12:00 [INF] Request finished in 184.3919ms 200 application/json; charset=utf-8
2019-07-18 13:32:37.665 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:32:37.665 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:37.666 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:32:37.668 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:32:37.669 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:37.854 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:32:37.854 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 186.1302ms.
2019-07-18 13:32:37.854 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:37.855 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 188.4155ms
2019-07-18 13:32:37.855 +12:00 [INF] Request finished in 190.2454ms 200 application/json; charset=utf-8
2019-07-18 13:32:37.856 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:32:37.857 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:37.857 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:32:37.858 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:32:37.858 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:38.043 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:32:38.043 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 185.0154ms.
2019-07-18 13:32:38.043 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:38.043 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 186.3376ms
2019-07-18 13:32:38.044 +12:00 [INF] Request finished in 187.1942ms 200 application/json; charset=utf-8
2019-07-18 13:32:38.045 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:32:38.045 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:38.045 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:32:38.046 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:32:38.047 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:38.230 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:32:38.230 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 183.93390000000002ms.
2019-07-18 13:32:38.231 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:38.231 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 185.4666ms
2019-07-18 13:32:38.231 +12:00 [INF] Request finished in 186.5143ms 200 application/json; charset=utf-8
2019-07-18 13:32:41.026 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:32:41.026 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:41.026 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:32:41.027 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:32:41.028 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:41.214 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:32:41.214 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 186.6695ms.
2019-07-18 13:32:41.214 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:41.214 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 187.7792ms
2019-07-18 13:32:41.214 +12:00 [INF] Request finished in 188.5104ms 200 application/json; charset=utf-8
2019-07-18 13:32:41.216 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:32:41.216 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:41.216 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:32:41.217 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:32:41.217 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:41.396 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:32:41.396 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 179.51090000000002ms.
2019-07-18 13:32:41.397 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:41.397 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 180.5445ms
2019-07-18 13:32:41.397 +12:00 [INF] Request finished in 181.2689ms 200 application/json; charset=utf-8
2019-07-18 13:32:41.398 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:32:41.399 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:41.399 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:32:41.400 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:32:41.400 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:41.583 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:32:41.584 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 183.6688ms.
2019-07-18 13:32:41.584 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:41.584 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 184.90550000000002ms
2019-07-18 13:32:41.584 +12:00 [INF] Request finished in 185.7783ms 200 application/json; charset=utf-8
2019-07-18 13:32:41.586 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:32:41.586 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:41.586 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:32:41.587 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:32:41.587 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:41.765 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:32:41.765 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 178.4204ms.
2019-07-18 13:32:41.765 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:41.766 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 179.53650000000002ms
2019-07-18 13:32:41.766 +12:00 [INF] Request finished in 180.3529ms 200 application/json; charset=utf-8
2019-07-18 13:32:41.767 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:32:41.767 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:41.767 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:32:41.768 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:32:41.769 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:41.946 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:32:41.946 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 177.9342ms.
2019-07-18 13:32:41.946 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:41.946 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 178.9661ms
2019-07-18 13:32:41.947 +12:00 [INF] Request finished in 179.6037ms 200 application/json; charset=utf-8
2019-07-18 13:32:41.948 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:32:41.948 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:41.949 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:32:41.949 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:32:41.950 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:42.131 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:32:42.131 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 181.3544ms.
2019-07-18 13:32:42.131 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:42.131 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 182.61ms
2019-07-18 13:32:42.131 +12:00 [INF] Request finished in 183.3335ms 200 application/json; charset=utf-8
2019-07-18 13:32:42.133 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:32:42.133 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:42.133 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:32:42.134 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:32:42.135 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:42.315 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:32:42.315 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 180.3683ms.
2019-07-18 13:32:42.315 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:42.315 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 181.5028ms
2019-07-18 13:32:42.315 +12:00 [INF] Request finished in 182.243ms 200 application/json; charset=utf-8
2019-07-18 13:32:42.317 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:32:42.317 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:42.317 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:32:42.318 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:32:42.318 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:42.497 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:32:42.498 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 179.7546ms.
2019-07-18 13:32:42.498 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:42.498 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 180.9614ms
2019-07-18 13:32:42.498 +12:00 [INF] Request finished in 181.6888ms 200 application/json; charset=utf-8
2019-07-18 13:32:42.500 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:32:42.500 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:42.500 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:32:42.502 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:32:42.502 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:42.682 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:32:42.683 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 181.0174ms.
2019-07-18 13:32:42.683 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:42.683 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 182.8204ms
2019-07-18 13:32:42.684 +12:00 [INF] Request finished in 184.0139ms 200 application/json; charset=utf-8
2019-07-18 13:32:42.686 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:32:42.686 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:42.686 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:32:42.687 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:32:42.687 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:42.868 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:32:42.868 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 181.5088ms.
2019-07-18 13:32:42.869 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:42.869 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 182.648ms
2019-07-18 13:32:42.869 +12:00 [INF] Request finished in 183.3874ms 200 application/json; charset=utf-8
2019-07-18 13:32:46.277 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/courseinstance/10139/0  
2019-07-18 13:32:46.277 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:46.277 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Lookups/15  
2019-07-18 13:32:46.278 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:46.278 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Lookups/16  
2019-07-18 13:32:46.278 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 13:32:46.278 +12:00 [INF] Policy execution successful.
2019-07-18 13:32:46.278 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 13:32:46.278 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:32:46.278 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:32:46.279 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:46.279 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:46.282 +12:00 [INF] Route matched with {action = "GetCourseInstance", controller = "CourseInstance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourseInstance(Int32, Int32) on controller Pegasus_backend.Controllers.CourseInstanceController (Pegasus_backend).
2019-07-18 13:32:46.283 +12:00 [INF] Executing action method Pegasus_backend.Controllers.CourseInstanceController.GetCourseInstance (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:32:46.287 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:32:46.452 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 13:32:46.452 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 174.1355ms.
2019-07-18 13:32:46.453 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:46.453 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 174.83ms
2019-07-18 13:32:46.453 +12:00 [INF] Request finished in 175.5271ms 200 application/json; charset=utf-8
2019-07-18 13:32:46.454 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 13:32:46.454 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 175.39960000000002ms.
2019-07-18 13:32:46.454 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:32:46.454 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 176.1022ms
2019-07-18 13:32:46.454 +12:00 [INF] Request finished in 176.845ms 200 application/json; charset=utf-8
2019-07-18 13:32:46.508 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`course_instance_id`, `o`.`begin_date`, `o`.`course_id`, `o`.`end_date`, `o`.`invoice_date`, `o`.`learner_id`, `o`.`org_id`, `o`.`room_id`, `o`.`teacher_id`, `o.Course`.`course_id`, `o.Course`.`course_category_id`, `o.Course`.`course_name`, `o.Course`.`course_type`, `o.Course`.`duration`, `o.Course`.`level`, `o.Course`.`price`, `o.Course`.`teacher_level`
FROM `ablemusic`.`one2one_course_instance` AS `o`
LEFT JOIN `ablemusic`.`course` AS `o.Course` ON `o`.`course_id` = `o.Course`.`course_id`
WHERE `o`.`course_instance_id` = @__id_0
LIMIT 1
2019-07-18 13:32:46.527 +12:00 [INF] Executed action method Pegasus_backend.Controllers.CourseInstanceController.GetCourseInstance (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 244.2209ms.
2019-07-18 13:32:46.528 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[Pegasus_backend.pegasusContext.One2oneCourseInstance, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-18 13:32:46.545 +12:00 [INF] Executed action Pegasus_backend.Controllers.CourseInstanceController.GetCourseInstance (Pegasus_backend) in 262.53520000000003ms
2019-07-18 13:32:46.545 +12:00 [INF] Request finished in 268.4802ms 200 application/json; charset=utf-8
2019-07-18 13:33:01.399 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:33:01.400 +12:00 [INF] Policy execution successful.
2019-07-18 13:33:01.400 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:33:01.401 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:33:01.401 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:33:01.586 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:33:01.586 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 185.3246ms.
2019-07-18 13:33:01.586 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:33:01.586 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 186.51600000000002ms
2019-07-18 13:33:01.587 +12:00 [INF] Request finished in 187.2831ms 200 application/json; charset=utf-8
2019-07-18 13:33:01.595 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:33:01.595 +12:00 [INF] Policy execution successful.
2019-07-18 13:33:01.596 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:33:01.597 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:33:01.597 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:33:01.786 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:33:01.786 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 189.5124ms.
2019-07-18 13:33:01.786 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:33:01.787 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 190.8398ms
2019-07-18 13:33:01.787 +12:00 [INF] Request finished in 191.5633ms 200 application/json; charset=utf-8
2019-07-18 13:33:01.788 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:33:01.788 +12:00 [INF] Policy execution successful.
2019-07-18 13:33:01.789 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:33:01.790 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:33:01.791 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:33:01.983 +12:00 [INF] Executed DbCommand (61ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:33:01.983 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 193.1528ms.
2019-07-18 13:33:01.983 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:33:01.984 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 194.57260000000002ms
2019-07-18 13:33:01.984 +12:00 [INF] Request finished in 195.4651ms 200 application/json; charset=utf-8
2019-07-18 13:33:01.985 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:33:01.985 +12:00 [INF] Policy execution successful.
2019-07-18 13:33:01.985 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:33:01.986 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:33:01.987 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:33:02.171 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:33:02.171 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 184.9932ms.
2019-07-18 13:33:02.171 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:33:02.172 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 186.1465ms
2019-07-18 13:33:02.172 +12:00 [INF] Request finished in 186.8974ms 200 application/json; charset=utf-8
2019-07-18 13:33:02.173 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:33:02.173 +12:00 [INF] Policy execution successful.
2019-07-18 13:33:02.174 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:33:02.174 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:33:02.175 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:33:02.359 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:33:02.360 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 185.24890000000002ms.
2019-07-18 13:33:02.360 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:33:02.360 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 186.2773ms
2019-07-18 13:33:02.360 +12:00 [INF] Request finished in 186.9239ms 200 application/json; charset=utf-8
2019-07-18 13:33:02.361 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:33:02.362 +12:00 [INF] Policy execution successful.
2019-07-18 13:33:02.362 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:33:02.363 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:33:02.363 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:33:02.547 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:33:02.547 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 184.2658ms.
2019-07-18 13:33:02.547 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:33:02.547 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 185.4264ms
2019-07-18 13:33:02.548 +12:00 [INF] Request finished in 186.2346ms 200 application/json; charset=utf-8
2019-07-18 13:33:03.298 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:33:03.299 +12:00 [INF] Policy execution successful.
2019-07-18 13:33:03.299 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:33:03.300 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:33:03.301 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:33:03.481 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:33:03.481 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 180.7955ms.
2019-07-18 13:33:03.481 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:33:03.481 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 182.1237ms
2019-07-18 13:33:03.481 +12:00 [INF] Request finished in 182.9213ms 200 application/json; charset=utf-8
2019-07-18 13:33:03.483 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:33:03.483 +12:00 [INF] Policy execution successful.
2019-07-18 13:33:03.483 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:33:03.484 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:33:03.484 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:33:03.670 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:33:03.670 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 186.4232ms.
2019-07-18 13:33:03.671 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:33:03.671 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 187.46450000000002ms
2019-07-18 13:33:03.671 +12:00 [INF] Request finished in 188.0259ms 200 application/json; charset=utf-8
2019-07-18 13:33:03.672 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:33:03.672 +12:00 [INF] Policy execution successful.
2019-07-18 13:33:03.673 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:33:03.674 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:33:03.674 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:33:03.867 +12:00 [INF] Executed DbCommand (63ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:33:03.867 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 192.8338ms.
2019-07-18 13:33:03.867 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:33:03.867 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 194.20530000000002ms
2019-07-18 13:33:03.867 +12:00 [INF] Request finished in 195.1401ms 200 application/json; charset=utf-8
2019-07-18 13:33:03.869 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:33:03.869 +12:00 [INF] Policy execution successful.
2019-07-18 13:33:03.869 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:33:03.870 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:33:03.870 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:33:04.068 +12:00 [INF] Executed DbCommand (66ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:33:04.068 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 198.3623ms.
2019-07-18 13:33:04.068 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:33:04.069 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 199.4557ms
2019-07-18 13:33:04.069 +12:00 [INF] Request finished in 200.1105ms 200 application/json; charset=utf-8
2019-07-18 13:33:04.070 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:33:04.070 +12:00 [INF] Policy execution successful.
2019-07-18 13:33:04.070 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:33:04.071 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:33:04.072 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:33:04.249 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:33:04.249 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 178.1429ms.
2019-07-18 13:33:04.250 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:33:04.250 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 179.3522ms
2019-07-18 13:33:04.250 +12:00 [INF] Request finished in 179.9257ms 200 application/json; charset=utf-8
2019-07-18 13:33:04.251 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:33:04.252 +12:00 [INF] Policy execution successful.
2019-07-18 13:33:04.252 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:33:04.252 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:33:04.253 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:33:04.437 +12:00 [INF] Executed DbCommand (67ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:33:04.437 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 184.793ms.
2019-07-18 13:33:04.437 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:33:04.438 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 185.8159ms
2019-07-18 13:33:04.438 +12:00 [INF] Request finished in 186.3937ms 200 application/json; charset=utf-8
2019-07-18 13:33:04.439 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:33:04.439 +12:00 [INF] Policy execution successful.
2019-07-18 13:33:04.440 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:33:04.440 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:33:04.441 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:33:04.622 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:33:04.622 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 181.5584ms.
2019-07-18 13:33:04.622 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:33:04.622 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 182.7263ms
2019-07-18 13:33:04.622 +12:00 [INF] Request finished in 183.3006ms 200 application/json; charset=utf-8
2019-07-18 13:33:04.624 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:33:04.624 +12:00 [INF] Policy execution successful.
2019-07-18 13:33:04.624 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:33:04.625 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:33:04.625 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:33:04.810 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:33:04.810 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 184.9273ms.
2019-07-18 13:33:04.810 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:33:04.810 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 185.99210000000002ms
2019-07-18 13:33:04.810 +12:00 [INF] Request finished in 186.7037ms 200 application/json; charset=utf-8
2019-07-18 13:33:04.812 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:33:04.812 +12:00 [INF] Policy execution successful.
2019-07-18 13:33:04.812 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:33:04.813 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:33:04.813 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:33:04.994 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:33:04.994 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 180.9208ms.
2019-07-18 13:33:04.994 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:33:04.994 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 181.93640000000002ms
2019-07-18 13:33:04.994 +12:00 [INF] Request finished in 182.5903ms 200 application/json; charset=utf-8
2019-07-18 13:33:04.996 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:33:04.996 +12:00 [INF] Policy execution successful.
2019-07-18 13:33:04.996 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:33:04.997 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:33:04.997 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:33:05.184 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:33:05.184 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 187.163ms.
2019-07-18 13:33:05.184 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:33:05.185 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 188.5729ms
2019-07-18 13:33:05.185 +12:00 [INF] Request finished in 189.2917ms 200 application/json; charset=utf-8
2019-07-18 13:33:05.453 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/courseinstance/10139/0  
2019-07-18 13:33:05.453 +12:00 [INF] Policy execution successful.
2019-07-18 13:33:05.453 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Lookups/15  
2019-07-18 13:33:05.454 +12:00 [INF] Policy execution successful.
2019-07-18 13:33:05.454 +12:00 [INF] Route matched with {action = "GetCourseInstance", controller = "CourseInstance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourseInstance(Int32, Int32) on controller Pegasus_backend.Controllers.CourseInstanceController (Pegasus_backend).
2019-07-18 13:33:05.454 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 13:33:05.454 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Lookups/16  
2019-07-18 13:33:05.454 +12:00 [INF] Policy execution successful.
2019-07-18 13:33:05.454 +12:00 [INF] Executing action method Pegasus_backend.Controllers.CourseInstanceController.GetCourseInstance (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:33:05.454 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:33:05.454 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 13:33:05.455 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:33:05.455 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:33:05.455 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:33:05.455 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:33:05.640 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 13:33:05.641 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 186.3295ms.
2019-07-18 13:33:05.641 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:33:05.641 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 187.0052ms
2019-07-18 13:33:05.641 +12:00 [INF] Request finished in 187.6731ms 200 application/json; charset=utf-8
2019-07-18 13:33:05.643 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 13:33:05.644 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 189.00740000000002ms.
2019-07-18 13:33:05.644 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:33:05.644 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 189.6253ms
2019-07-18 13:33:05.644 +12:00 [INF] Request finished in 190.3057ms 200 application/json; charset=utf-8
2019-07-18 13:33:05.655 +12:00 [INF] Executed DbCommand (67ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`course_instance_id`, `o`.`begin_date`, `o`.`course_id`, `o`.`end_date`, `o`.`invoice_date`, `o`.`learner_id`, `o`.`org_id`, `o`.`room_id`, `o`.`teacher_id`, `o.Course`.`course_id`, `o.Course`.`course_category_id`, `o.Course`.`course_name`, `o.Course`.`course_type`, `o.Course`.`duration`, `o.Course`.`level`, `o.Course`.`price`, `o.Course`.`teacher_level`
FROM `ablemusic`.`one2one_course_instance` AS `o`
LEFT JOIN `ablemusic`.`course` AS `o.Course` ON `o`.`course_id` = `o.Course`.`course_id`
WHERE `o`.`course_instance_id` = @__id_0
LIMIT 1
2019-07-18 13:33:05.655 +12:00 [INF] Executed action method Pegasus_backend.Controllers.CourseInstanceController.GetCourseInstance (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 200.82500000000002ms.
2019-07-18 13:33:05.655 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[Pegasus_backend.pegasusContext.One2oneCourseInstance, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-18 13:33:05.655 +12:00 [INF] Executed action Pegasus_backend.Controllers.CourseInstanceController.GetCourseInstance (Pegasus_backend) in 201.58710000000002ms
2019-07-18 13:33:05.655 +12:00 [INF] Request finished in 202.3034ms 200 application/json; charset=utf-8
2019-07-18 13:33:52.623 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/InvoiceWaitingConfirms/  
2019-07-18 13:33:52.623 +12:00 [INF] Policy execution successful.
2019-07-18 13:33:52.623 +12:00 [INF] Request finished in 0.3314ms 204 
2019-07-18 13:33:52.636 +12:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/InvoiceWaitingConfirms/ application/json 572
2019-07-18 13:33:52.636 +12:00 [INF] Policy execution successful.
2019-07-18 13:33:52.640 +12:00 [INF] Route matched with {action = "PutInvoiceWaitingConfirm", controller = "InvoiceWaitingConfirms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PutInvoiceWaitingConfirm(Pegasus_backend.Models.InvoiceWaitingConfirmViewModel) on controller Pegasus_backend.Controllers.InvoiceWaitingConfirmsController (Pegasus_backend).
2019-07-18 13:33:52.661 +12:00 [INF] Executing action method Pegasus_backend.Controllers.InvoiceWaitingConfirmsController.PutInvoiceWaitingConfirm (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:33:52.689 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:33:52.884 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@__invoiceWaitingConfirm_InvoiceNum_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`waiting_id`, `i`.`begin_date`, `i`.`comment`, `i`.`concert_fee`, `i`.`concert_fee_name`, `i`.`course_instance_id`, `i`.`course_name`, `i`.`created_at`, `i`.`due_date`, `i`.`end_date`, `i`.`group_course_instance_id`, `i`.`invoice_num`, `i`.`is_activate`, `i`.`is_confirmed`, `i`.`is_email_sent`, `i`.`is_paid`, `i`.`learner_id`, `i`.`learner_name`, `i`.`lesson_fee`, `i`.`lesson_note_fee_name`, `i`.`lesson_quantity`, `i`.`note_fee`, `i`.`other1_fee`, `i`.`other1_fee_name`, `i`.`other2_fee`, `i`.`other2_fee_name`, `i`.`other3_fee`, `i`.`other3_fee_name`, `i`.`owing_fee`, `i`.`paid_fee`, `i`.`term_id`, `i`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `i`
WHERE (`i`.`invoice_num` = @__invoiceWaitingConfirm_InvoiceNum_0) AND (`i`.`is_activate` = 1)
LIMIT 1
2019-07-18 13:33:53.083 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__invoiceWaitingConfirm_InvoiceNum_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`invoice_id`, `i`.`begin_date`, `i`.`comment`, `i`.`concert_fee`, `i`.`concert_fee_name`, `i`.`course_instance_id`, `i`.`course_name`, `i`.`created_at`, `i`.`due_date`, `i`.`end_date`, `i`.`group_course_instance_id`, `i`.`invoice_num`, `i`.`is_active`, `i`.`is_paid`, `i`.`learner_id`, `i`.`learner_name`, `i`.`lesson_fee`, `i`.`lesson_note_fee_name`, `i`.`lesson_quantity`, `i`.`note_fee`, `i`.`other1_fee`, `i`.`other1_fee_name`, `i`.`other2_fee`, `i`.`other2_fee_name`, `i`.`other3_fee`, `i`.`other3_fee_name`, `i`.`owing_fee`, `i`.`paid_fee`, `i`.`term_id`, `i`.`total_fee`
FROM `ablemusic`.`invoice` AS `i`
WHERE ((`i`.`is_active` = 1) OR `i`.`is_active` IS NULL) AND (`i`.`invoice_num` = @__invoiceWaitingConfirm_InvoiceNum_0)
2019-07-18 13:33:53.405 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`invoice_waiting_confirm` SET `is_activate` = @p0
WHERE `waiting_id` = @p1;
SELECT ROW_COUNT();
2019-07-18 13:33:53.843 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = Decimal), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int32), @p14='?' (Size = -1), @p15='?' (DbType = Decimal), @p16='?' (Size = -1), @p17='?' (DbType = Int32), @p18='?' (DbType = AnsiString), @p19='?' (DbType = Decimal), @p20='?' (Size = -1), @p21='?' (DbType = Decimal), @p22='?' (Size = -1), @p23='?' (DbType = Decimal), @p24='?' (Size = -1), @p25='?' (DbType = Decimal), @p26='?' (DbType = Decimal), @p27='?' (DbType = Int16), @p28='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`invoice` (`begin_date`, `comment`, `concert_fee`, `concert_fee_name`, `course_instance_id`, `course_name`, `created_at`, `due_date`, `end_date`, `group_course_instance_id`, `invoice_num`, `is_active`, `is_paid`, `learner_id`, `learner_name`, `lesson_fee`, `lesson_note_fee_name`, `lesson_quantity`, `note_fee`, `other1_fee`, `other1_fee_name`, `other2_fee`, `other2_fee_name`, `other3_fee`, `other3_fee_name`, `owing_fee`, `paid_fee`, `term_id`, `total_fee`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28);
SELECT `invoice_id`
FROM `ablemusic`.`invoice`
WHERE ROW_COUNT() = 1
 AND `invoice_id`=LAST_INSERT_ID();
2019-07-18 13:33:53.923 +12:00 [INF] Executed DbCommand (61ms) [Parameters=[@p29='?' (DbType = DateTime), @p30='?' (Size = -1), @p31='?' (DbType = Decimal), @p32='?' (Size = -1), @p33='?' (DbType = Int32), @p34='?' (Size = -1), @p35='?' (DbType = DateTime), @p36='?' (DbType = DateTime), @p37='?' (DbType = DateTime), @p38='?' (DbType = AnsiString), @p39='?' (Size = -1), @p40='?' (DbType = Int16), @p41='?' (DbType = Int16), @p42='?' (DbType = Int16), @p43='?' (DbType = Int16), @p44='?' (DbType = Int32), @p45='?' (Size = -1), @p46='?' (DbType = Decimal), @p47='?' (Size = -1), @p48='?' (DbType = Int32), @p49='?' (DbType = AnsiString), @p50='?' (DbType = Decimal), @p51='?' (Size = -1), @p52='?' (DbType = Decimal), @p53='?' (Size = -1), @p54='?' (DbType = Decimal), @p55='?' (Size = -1), @p56='?' (DbType = Decimal), @p57='?' (DbType = Decimal), @p58='?' (DbType = Int16), @p59='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`invoice_waiting_confirm` (`begin_date`, `comment`, `concert_fee`, `concert_fee_name`, `course_instance_id`, `course_name`, `created_at`, `due_date`, `end_date`, `group_course_instance_id`, `invoice_num`, `is_activate`, `is_confirmed`, `is_email_sent`, `is_paid`, `learner_id`, `learner_name`, `lesson_fee`, `lesson_note_fee_name`, `lesson_quantity`, `note_fee`, `other1_fee`, `other1_fee_name`, `other2_fee`, `other2_fee_name`, `other3_fee`, `other3_fee_name`, `owing_fee`, `paid_fee`, `term_id`, `total_fee`)
VALUES (@p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57, @p58, @p59);
SELECT `waiting_id`
FROM `ablemusic`.`invoice_waiting_confirm`
WHERE ROW_COUNT() = 1
 AND `waiting_id`=LAST_INSERT_ID();
2019-07-18 13:33:54.202 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__invoice_LearnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`comment`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`learner_id` = @__invoice_LearnerId_0
LIMIT 1
2019-07-18 13:33:54.217 +12:00 [INF] Executed action method Pegasus_backend.Controllers.InvoiceWaitingConfirmsController.PutInvoiceWaitingConfirm (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1556.2783000000002ms.
2019-07-18 13:33:54.217 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:33:54.218 +12:00 [INF] Executed action Pegasus_backend.Controllers.InvoiceWaitingConfirmsController.PutInvoiceWaitingConfirm (Pegasus_backend) in 1577.4192ms
2019-07-18 13:33:54.218 +12:00 [INF] Request finished in 1581.9975ms 200 application/json; charset=utf-8
2019-07-18 13:33:54.251 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/InvoiceWaitingConfirms/3/2  
2019-07-18 13:33:54.251 +12:00 [INF] Policy execution successful.
2019-07-18 13:33:54.251 +12:00 [INF] Route matched with {action = "GetInvoiceWaitingConfirm", controller = "InvoiceWaitingConfirms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetInvoiceWaitingConfirm(Int32, Int32) on controller Pegasus_backend.Controllers.InvoiceWaitingConfirmsController (Pegasus_backend).
2019-07-18 13:33:54.252 +12:00 [INF] Executing action method Pegasus_backend.Controllers.InvoiceWaitingConfirmsController.GetInvoiceWaitingConfirm (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:33:54.253 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:33:54.527 +12:00 [INF] Executed DbCommand (139ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__termId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `iw`.`invoice_num` AS `InvoiceNum`, `iw.Learner`.`email`, `iw.Learner`.`first_name` AS `FirstName`, `iw.Learner`.`middle_name` AS `MiddleName`, `iw.Learner`.`last_name` AS `LastName`, `iw.Learner`.`enroll_date` AS `EnrollDate`, `iw.Learner`.`contact_num` AS `ContactNum`, `iw.Learner`.`address`, `iw.Learner`.`is_under_18` AS `IsUnder18`, `iw.Learner`.`dob`, `iw.Learner`.`gender`, `iw.Learner`.`is_abrsm_g5` AS `IsAbrsmG5`, `iw.Learner`.`g5_certification` AS `G5Certification`, `iw.Learner`.`created_at` AS `CreatedAt`, `iw.Learner`.`referrer_learner_id` AS `ReferrerLearnerId`, `iw.Learner`.`photo`, `iw.Learner`.`note`, `iw.Learner`.`level_type` AS `LevelType`, `iw.Learner`.`user_id` AS `UserId`, `iw.Learner`.`org_id` AS `OrgId`, `iw`.`waiting_id` AS `WaitingId`, `iw`.`lesson_fee` AS `LessonFee`, `iw`.`concert_fee` AS `ConcertFee`, `iw`.`note_fee` AS `NoteFee`, `iw`.`other1_fee` AS `Other1Fee`, `iw`.`other2_fee` AS `Other2Fee`, `iw`.`other3_fee` AS `Other3Fee`, `iw`.`learner_id` AS `LearnerId`, `iw`.`learner_name` AS `LearnerName`, `iw`.`begin_date` AS `BeginDate`, `iw`.`end_date` AS `EndDate`, `iw`.`total_fee` AS `TotalFee`, `iw`.`due_date` AS `DueDate`, `iw`.`paid_fee` AS `PaidFee`, `iw`.`owing_fee` AS `OwingFee`, `iw`.`created_at` AS `CreatedAt0`, `iw`.`is_paid` AS `IsPaid`, `iw`.`term_id` AS `TermId`, `iw`.`course_instance_id` AS `CourseInstanceId`, `iw`.`group_course_instance_id` AS `GroupCourseInstanceId`, `iw`.`lesson_quantity` AS `LessonQuantity`, `iw`.`course_name` AS `CourseName`, `iw`.`concert_fee_name` AS `ConcertFeeName`, `iw`.`lesson_note_fee_name` AS `LessonNoteFeeName`, `iw`.`other1_fee_name` AS `Other1FeeName`, `iw`.`other2_fee_name` AS `Other2FeeName`, `iw`.`other3_fee_name` AS `Other3FeeName`, `iw`.`is_activate` AS `IsActivate`, `iw`.`is_email_sent` AS `IsEmailSent`, `iw`.`is_confirmed` AS `IsConfirmed`, `iw`.`comment`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`invoice_id`
END AS `InvoiceId`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN '' ELSE `iv`.`invoice_num`
END AS `InvoiceNum0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`lesson_fee`
END AS `LessonFee0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`concert_fee`
END AS `ConcertFee0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`note_fee`
END AS `NoteFee0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`other1_fee`
END AS `Other1Fee0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`other2_fee`
END AS `Other2Fee0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`other3_fee`
END AS `Other3Fee0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`learner_id`
END AS `LearnerId0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN '' ELSE `iv`.`learner_name`
END AS `LearnerName0`, `iv`.`begin_date` AS `BeginDate0`, `iv`.`end_date` AS `EndDate0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`total_fee`
END AS `TotalFee0`, `iv`.`due_date` AS `DueDate0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`paid_fee`
END AS `PaidFee0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`owing_fee`
END AS `OwingFee0`, `iv`.`created_at` AS `CreatedAt1`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`is_paid`
END AS `IsPaid0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`term_id`
END AS `TermId0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`course_instance_id`
END AS `CourseInstanceId0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`group_course_instance_id`
END AS `GroupCourseInstanceId0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`lesson_quantity`
END AS `LessonQuantity0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN '' ELSE `iv`.`course_name`
END AS `CourseName0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN '' ELSE `iv`.`concert_fee_name`
END AS `ConcertFeeName0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN '' ELSE `iv`.`lesson_note_fee_name`
END AS `LessonNoteFeeName0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN '' ELSE `iv`.`other1_fee_name`
END AS `Other1FeeName0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN '' ELSE `iv`.`other2_fee_name`
END AS `Other2FeeName0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN '' ELSE `iv`.`other3_fee_name`
END AS `Other3FeeName0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`is_active`
END AS `IsActive`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN '' ELSE `iv`.`comment`
END AS `Comment0`, `iw.Learner`.`learner_id`
FROM `ablemusic`.`staff` AS `s`
INNER JOIN `ablemusic`.`staff_org` AS `so` ON `s`.`staff_id` = `so`.`staff_id`
INNER JOIN `ablemusic`.`learner` AS `l` ON `so`.`org_id` = `l`.`org_id`
INNER JOIN `ablemusic`.`invoice_waiting_confirm` AS `iw` ON `l`.`learner_id` = `iw`.`learner_id`
LEFT JOIN `ablemusic`.`learner` AS `iw.Learner` ON `iw`.`learner_id` = `iw.Learner`.`learner_id`
INNER JOIN `ablemusic`.`term` AS `t` ON `iw`.`term_id` = `t`.`term_id`
LEFT JOIN `ablemusic`.`invoice` AS `iv` ON `iw`.`invoice_num` = `iv`.`invoice_num`
WHERE (`s`.`user_id` = @__userId_0) AND (`t`.`term_id` = @__termId_1)
ORDER BY `InvoiceNum`, `iw`.`waiting_id`, `iw.Learner`.`learner_id`
2019-07-18 13:33:55.187 +12:00 [INF] Executed DbCommand (71ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__termId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `iw.Learner.Parent`.`parent_id`, `iw.Learner.Parent`.`contact_num`, `iw.Learner.Parent`.`created_at`, `iw.Learner.Parent`.`email`, `iw.Learner.Parent`.`first_name`, `iw.Learner.Parent`.`last_name`, `iw.Learner.Parent`.`learner_id`, `iw.Learner.Parent`.`relationship`, `t1`.`invoice_num`, `t1`.`waiting_id`, `t1`.`learner_id`
FROM `ablemusic`.`parent` AS `iw.Learner.Parent`
INNER JOIN (
    SELECT `iw0`.`invoice_num`, `iw0`.`waiting_id`, `iw.Learner0`.`learner_id`
    FROM `ablemusic`.`staff` AS `s0`
    INNER JOIN `ablemusic`.`staff_org` AS `so0` ON `s0`.`staff_id` = `so0`.`staff_id`
    INNER JOIN `ablemusic`.`learner` AS `l0` ON `so0`.`org_id` = `l0`.`org_id`
    INNER JOIN `ablemusic`.`invoice_waiting_confirm` AS `iw0` ON `l0`.`learner_id` = `iw0`.`learner_id`
    LEFT JOIN `ablemusic`.`learner` AS `iw.Learner0` ON `iw0`.`learner_id` = `iw.Learner0`.`learner_id`
    INNER JOIN `ablemusic`.`term` AS `t0` ON `iw0`.`term_id` = `t0`.`term_id`
    LEFT JOIN `ablemusic`.`invoice` AS `iv0` ON `iw0`.`invoice_num` = `iv0`.`invoice_num`
    WHERE (`s0`.`user_id` = @__userId_0) AND (`t0`.`term_id` = @__termId_1)
) AS `t1` ON `iw.Learner.Parent`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`invoice_num`, `t1`.`waiting_id`, `t1`.`learner_id`
2019-07-18 13:33:55.296 +12:00 [INF] Executed action method Pegasus_backend.Controllers.InvoiceWaitingConfirmsController.GetInvoiceWaitingConfirm (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1043.7371ms.
2019-07-18 13:33:55.296 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:33:55.320 +12:00 [INF] Executed action Pegasus_backend.Controllers.InvoiceWaitingConfirmsController.GetInvoiceWaitingConfirm (Pegasus_backend) in 1068.9008000000001ms
2019-07-18 13:33:55.320 +12:00 [INF] Request finished in 1069.8933ms 200 application/json; charset=utf-8
2019-07-18 13:33:55.351 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:33:55.351 +12:00 [INF] Policy execution successful.
2019-07-18 13:33:55.351 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:33:55.352 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:33:55.352 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:33:55.537 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:33:55.537 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 185.35150000000002ms.
2019-07-18 13:33:55.538 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:33:55.538 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 186.35940000000002ms
2019-07-18 13:33:55.538 +12:00 [INF] Request finished in 187.0364ms 200 application/json; charset=utf-8
2019-07-18 13:33:55.539 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:33:55.540 +12:00 [INF] Policy execution successful.
2019-07-18 13:33:55.540 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:33:55.541 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:33:55.541 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:33:55.724 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:33:55.724 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 183.31560000000002ms.
2019-07-18 13:33:55.724 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:33:55.724 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 184.43300000000002ms
2019-07-18 13:33:55.725 +12:00 [INF] Request finished in 185.2579ms 200 application/json; charset=utf-8
2019-07-18 13:33:55.726 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:33:55.726 +12:00 [INF] Policy execution successful.
2019-07-18 13:33:55.726 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:33:55.727 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:33:55.728 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:33:55.912 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:33:55.912 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 185.1095ms.
2019-07-18 13:33:55.913 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:33:55.913 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 186.2329ms
2019-07-18 13:33:55.913 +12:00 [INF] Request finished in 187.006ms 200 application/json; charset=utf-8
2019-07-18 13:33:55.915 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:33:55.915 +12:00 [INF] Policy execution successful.
2019-07-18 13:33:55.915 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:33:55.916 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:33:55.916 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:33:56.101 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:33:56.101 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 185.0051ms.
2019-07-18 13:33:56.101 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:33:56.101 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 186.13410000000002ms
2019-07-18 13:33:56.102 +12:00 [INF] Request finished in 187.0445ms 200 application/json; charset=utf-8
2019-07-18 13:33:56.103 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:33:56.103 +12:00 [INF] Policy execution successful.
2019-07-18 13:33:56.104 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:33:56.105 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:33:56.105 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:33:56.289 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:33:56.289 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 183.842ms.
2019-07-18 13:33:56.289 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:33:56.289 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 185.0646ms
2019-07-18 13:33:56.289 +12:00 [INF] Request finished in 186.347ms 200 application/json; charset=utf-8
2019-07-18 13:33:56.291 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:33:56.291 +12:00 [INF] Policy execution successful.
2019-07-18 13:33:56.291 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:33:56.292 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:33:56.292 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:33:56.478 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:33:56.478 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 185.848ms.
2019-07-18 13:33:56.478 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:33:56.478 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 186.87300000000002ms
2019-07-18 13:33:56.478 +12:00 [INF] Request finished in 187.6039ms 200 application/json; charset=utf-8
2019-07-18 13:33:56.480 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:33:56.480 +12:00 [INF] Policy execution successful.
2019-07-18 13:33:56.480 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:33:56.481 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:33:56.481 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:33:56.685 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:33:56.686 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 204.7588ms.
2019-07-18 13:33:56.686 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:33:56.686 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 206.14090000000002ms
2019-07-18 13:33:56.687 +12:00 [INF] Request finished in 207.234ms 200 application/json; charset=utf-8
2019-07-18 13:33:56.690 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:33:56.690 +12:00 [INF] Policy execution successful.
2019-07-18 13:33:56.691 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:33:56.692 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:33:56.693 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:33:56.877 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:33:56.877 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 184.2474ms.
2019-07-18 13:33:56.877 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:33:56.877 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 186.18630000000002ms
2019-07-18 13:33:56.877 +12:00 [INF] Request finished in 187.4149ms 200 application/json; charset=utf-8
2019-07-18 13:33:56.879 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:33:56.879 +12:00 [INF] Policy execution successful.
2019-07-18 13:33:56.879 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:33:56.880 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:33:56.880 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:33:57.064 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:33:57.065 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 184.7109ms.
2019-07-18 13:33:57.065 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:33:57.065 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 185.8069ms
2019-07-18 13:33:57.065 +12:00 [INF] Request finished in 186.5801ms 200 application/json; charset=utf-8
2019-07-18 13:33:57.067 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 13:33:57.067 +12:00 [INF] Policy execution successful.
2019-07-18 13:33:57.067 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:33:57.068 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:33:57.069 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:33:57.257 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:33:57.258 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 189.3016ms.
2019-07-18 13:33:57.258 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:33:57.258 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 190.8526ms
2019-07-18 13:33:57.259 +12:00 [INF] Request finished in 192.1376ms 200 application/json; charset=utf-8
2019-07-18 13:34:15.975 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/edward  
2019-07-18 13:34:15.975 +12:00 [INF] Policy execution successful.
2019-07-18 13:34:15.982 +12:00 [INF] Route matched with {action = "GetLearner", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearner(System.String) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:34:15.983 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:34:15.987 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:34:16.209 +12:00 [INF] Executed DbCommand (63ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`learner_id`, `s`.`address`, `s`.`comment`, `s`.`contact_num`, `s`.`created_at`, `s`.`dob`, `s`.`email`, `s`.`enroll_date`, `s`.`first_name`, `s`.`form_url`, `s`.`g5_certification`, `s`.`gender`, `s`.`is_abrsm_g5`, `s`.`is_active`, `s`.`is_under_18`, `s`.`last_name`, `s`.`learner_level`, `s`.`level_type`, `s`.`middle_name`, `s`.`note`, `s`.`org_id`, `s`.`otherfile_url`, `s`.`payment_period`, `s`.`photo`, `s`.`referrer`, `s`.`referrer_learner_id`, `s`.`user_id`
FROM `ablemusic`.`learner` AS `s`
WHERE (`s`.`is_active` = 1) AND `s`.`first_name` LIKE concat('%', @__name_0, '%')
ORDER BY `s`.`learner_id`
2019-07-18 13:34:16.286 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.LearnerOthers`.`learner_others_id`, `s.LearnerOthers`.`learner_id`, `s.LearnerOthers`.`learner_level`, `s.LearnerOthers`.`others_type`, `s.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `s.LearnerOthers`
INNER JOIN (
    SELECT `s0`.`learner_id`
    FROM `ablemusic`.`learner` AS `s0`
    WHERE (`s0`.`is_active` = 1) AND `s0`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t` ON `s.LearnerOthers`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-18 13:34:16.472 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Parent`.`parent_id`, `s.Parent`.`contact_num`, `s.Parent`.`created_at`, `s.Parent`.`email`, `s.Parent`.`first_name`, `s.Parent`.`last_name`, `s.Parent`.`learner_id`, `s.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `s.Parent`
INNER JOIN (
    SELECT `s1`.`learner_id`
    FROM `ablemusic`.`learner` AS `s1`
    WHERE (`s1`.`is_active` = 1) AND `s1`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t0` ON `s.Parent`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-18 13:34:16.667 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.One2oneCourseInstance`.`course_instance_id`, `s.One2oneCourseInstance`.`begin_date`, `s.One2oneCourseInstance`.`course_id`, `s.One2oneCourseInstance`.`end_date`, `s.One2oneCourseInstance`.`invoice_date`, `s.One2oneCourseInstance`.`learner_id`, `s.One2oneCourseInstance`.`org_id`, `s.One2oneCourseInstance`.`room_id`, `s.One2oneCourseInstance`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `s.One2oneCourseInstance`
INNER JOIN (
    SELECT `s2`.`learner_id`
    FROM `ablemusic`.`learner` AS `s2`
    WHERE (`s2`.`is_active` = 1) AND `s2`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t1` ON `s.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`
2019-07-18 13:34:16.860 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.LearnerGroupCourse`.`learner_group_course_id`, `s.LearnerGroupCourse`.`begin_date`, `s.LearnerGroupCourse`.`comment`, `s.LearnerGroupCourse`.`created_at`, `s.LearnerGroupCourse`.`end_date`, `s.LearnerGroupCourse`.`group_course_instance_id`, `s.LearnerGroupCourse`.`invoice_date`, `s.LearnerGroupCourse`.`is_activate`, `s.LearnerGroupCourse`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `s.LearnerGroupCourse`
INNER JOIN (
    SELECT `s3`.`learner_id`
    FROM `ablemusic`.`learner` AS `s3`
    WHERE (`s3`.`is_active` = 1) AND `s3`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t2` ON `s.LearnerGroupCourse`.`learner_id` = `t2`.`learner_id`
ORDER BY `t2`.`learner_id`
2019-07-18 13:34:16.860 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 877.6449ms.
2019-07-18 13:34:16.861 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.IEnumerable`1[[Pegasus_backend.pegasusContext.Learner, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:34:16.888 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) in 905.81350000000009ms
2019-07-18 13:34:16.888 +12:00 [INF] Request finished in 913.2168ms 200 application/json; charset=utf-8
2019-07-18 13:34:16.914 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/invoice/10080  
2019-07-18 13:34:16.914 +12:00 [INF] Policy execution successful.
2019-07-18 13:34:16.917 +12:00 [INF] Route matched with {action = "GetInvoice", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Pegasus_backend.pegasusContext.Invoice]] GetInvoice(Int32) on controller Pegasus_backend.Controllers.InvoiceController (Pegasus_backend).
2019-07-18 13:34:16.918 +12:00 [INF] Executing action method Pegasus_backend.Controllers.InvoiceController.GetInvoice (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:34:16.920 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:34:17.138 +12:00 [INF] Executed DbCommand (73ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`invoice_id`, `s`.`begin_date`, `s`.`comment`, `s`.`concert_fee`, `s`.`concert_fee_name`, `s`.`course_instance_id`, `s`.`course_name`, `s`.`created_at`, `s`.`due_date`, `s`.`end_date`, `s`.`group_course_instance_id`, `s`.`invoice_num`, `s`.`is_active`, `s`.`is_paid`, `s`.`learner_id`, `s`.`learner_name`, `s`.`lesson_fee`, `s`.`lesson_note_fee_name`, `s`.`lesson_quantity`, `s`.`note_fee`, `s`.`other1_fee`, `s`.`other1_fee_name`, `s`.`other2_fee`, `s`.`other2_fee_name`, `s`.`other3_fee`, `s`.`other3_fee_name`, `s`.`owing_fee`, `s`.`paid_fee`, `s`.`term_id`, `s`.`total_fee`, `s.Term`.`term_id`, `s.Term`.`begin_date`, `s.Term`.`end_date`, `s.Term`.`term_name`, `s.Term`.`term_type`, `s.Term`.`week_quantity`
FROM `ablemusic`.`invoice` AS `s`
LEFT JOIN `ablemusic`.`term` AS `s.Term` ON `s`.`term_id` = `s.Term`.`term_id`
WHERE ((`s`.`learner_id` = @__id_0) AND (`s`.`is_active` = 1)) AND (`s`.`is_paid` = 0)
2019-07-18 13:34:17.161 +12:00 [INF] Executed action method Pegasus_backend.Controllers.InvoiceController.GetInvoice (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 243.3254ms.
2019-07-18 13:34:17.162 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Invoice, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:34:17.171 +12:00 [INF] Executed action Pegasus_backend.Controllers.InvoiceController.GetInvoice (Pegasus_backend) in 253.7315ms
2019-07-18 13:34:17.171 +12:00 [INF] Request finished in 257.6452ms 200 application/json; charset=utf-8
2019-07-18 13:34:28.820 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/payment/payInvoice  
2019-07-18 13:34:28.820 +12:00 [INF] Policy execution successful.
2019-07-18 13:34:28.821 +12:00 [INF] Request finished in 0.3421ms 204 
2019-07-18 13:34:28.829 +12:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/payment/payInvoice application/json 79
2019-07-18 13:34:28.829 +12:00 [INF] Policy execution successful.
2019-07-18 13:34:28.834 +12:00 [INF] Route matched with {action = "SavePaymentDetails", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SavePaymentDetails(Pegasus_backend.Models.InvoicePay) on controller Pegasus_backend.Controllers.PaymentController (Pegasus_backend).
2019-07-18 13:34:28.841 +12:00 [INF] Executing action method Pegasus_backend.Controllers.PaymentController.SavePaymentDetails (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:34:28.847 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:34:35.205 +12:00 [INF] Executed DbCommand (63ms) [Parameters=[@__details_InvoiceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`invoice_id`, `s`.`begin_date`, `s`.`comment`, `s`.`concert_fee`, `s`.`concert_fee_name`, `s`.`course_instance_id`, `s`.`course_name`, `s`.`created_at`, `s`.`due_date`, `s`.`end_date`, `s`.`group_course_instance_id`, `s`.`invoice_num`, `s`.`is_active`, `s`.`is_paid`, `s`.`learner_id`, `s`.`learner_name`, `s`.`lesson_fee`, `s`.`lesson_note_fee_name`, `s`.`lesson_quantity`, `s`.`note_fee`, `s`.`other1_fee`, `s`.`other1_fee_name`, `s`.`other2_fee`, `s`.`other2_fee_name`, `s`.`other3_fee`, `s`.`other3_fee_name`, `s`.`owing_fee`, `s`.`paid_fee`, `s`.`term_id`, `s`.`total_fee`
FROM `ablemusic`.`invoice` AS `s`
WHERE `s`.`invoice_id` = @__details_InvoiceId_0
LIMIT 1
2019-07-18 13:34:35.295 +12:00 [INF] Executed DbCommand (61ms) [Parameters=[@p29='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = Decimal), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int32), @p14='?' (Size = -1), @p15='?' (DbType = Decimal), @p16='?' (Size = -1), @p17='?' (DbType = Int32), @p18='?' (DbType = AnsiString), @p19='?' (DbType = Decimal), @p20='?' (Size = -1), @p21='?' (DbType = Decimal), @p22='?' (Size = -1), @p23='?' (DbType = Decimal), @p24='?' (Size = -1), @p25='?' (DbType = Decimal), @p26='?' (DbType = Decimal), @p27='?' (DbType = Int16), @p28='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`invoice` SET `begin_date` = @p0, `comment` = @p1, `concert_fee` = @p2, `concert_fee_name` = @p3, `course_instance_id` = @p4, `course_name` = @p5, `created_at` = @p6, `due_date` = @p7, `end_date` = @p8, `group_course_instance_id` = @p9, `invoice_num` = @p10, `is_active` = @p11, `is_paid` = @p12, `learner_id` = @p13, `learner_name` = @p14, `lesson_fee` = @p15, `lesson_note_fee_name` = @p16, `lesson_quantity` = @p17, `note_fee` = @p18, `other1_fee` = @p19, `other1_fee_name` = @p20, `other2_fee` = @p21, `other2_fee_name` = @p22, `other3_fee` = @p23, `other3_fee_name` = @p24, `owing_fee` = @p25, `paid_fee` = @p26, `term_id` = @p27, `total_fee` = @p28
WHERE `invoice_id` = @p29;
SELECT ROW_COUNT();
2019-07-18 13:34:35.427 +12:00 [INF] Executed DbCommand (62ms) [Parameters=[@p0='?' (DbType = AnsiString), @p1='?' (DbType = Decimal), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (DbType = AnsiString), @p7='?' (DbType = Int32), @p8='?' (DbType = Byte), @p9='?' (DbType = Byte), @p10='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`payment` (`after_balance`, `amount`, `before_balance`, `comment`, `created_at`, `invoice_id`, `is_confirmed`, `learner_id`, `payment_method`, `payment_type`, `staff_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
SELECT `payment_id`
FROM `ablemusic`.`payment`
WHERE ROW_COUNT() = 1
 AND `payment_id`=LAST_INSERT_ID();
2019-07-18 13:34:35.497 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__details_LearnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`learner_id`, `s`.`balance`, `s`.`updated_at`
FROM `ablemusic`.`fund` AS `s`
WHERE `s`.`learner_id` = @__details_LearnerId_0
LIMIT 1
2019-07-18 13:34:35.578 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Decimal), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`fund` SET `balance` = @p0, `updated_at` = @p1
WHERE `learner_id` = @p2;
SELECT ROW_COUNT();
2019-07-18 13:34:35.673 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__invoice_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`invoice_id`, `x`.`begin_date`, `x`.`comment`, `x`.`concert_fee`, `x`.`concert_fee_name`, `x`.`course_instance_id`, `x`.`course_name`, `x`.`created_at`, `x`.`due_date`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_num`, `x`.`is_active`, `x`.`is_paid`, `x`.`learner_id`, `x`.`learner_name`, `x`.`lesson_fee`, `x`.`lesson_note_fee_name`, `x`.`lesson_quantity`, `x`.`note_fee`, `x`.`other1_fee`, `x`.`other1_fee_name`, `x`.`other2_fee`, `x`.`other2_fee_name`, `x`.`other3_fee`, `x`.`other3_fee_name`, `x`.`owing_fee`, `x`.`paid_fee`, `x`.`term_id`, `x`.`total_fee`
FROM `ablemusic`.`invoice` AS `x`
WHERE `x`.`invoice_id` = @__invoice_id_0
LIMIT 1
2019-07-18 13:34:35.742 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/payment/payInvoice  
2019-07-18 13:34:35.743 +12:00 [INF] Policy execution successful.
2019-07-18 13:34:35.743 +12:00 [INF] Request finished in 0.4438ms 204 
2019-07-18 13:34:35.755 +12:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/payment/payInvoice application/json 79
2019-07-18 13:34:35.756 +12:00 [INF] Policy execution successful.
2019-07-18 13:34:35.756 +12:00 [INF] Route matched with {action = "SavePaymentDetails", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SavePaymentDetails(Pegasus_backend.Models.InvoicePay) on controller Pegasus_backend.Controllers.PaymentController (Pegasus_backend).
2019-07-18 13:34:35.757 +12:00 [INF] Executing action method Pegasus_backend.Controllers.PaymentController.SavePaymentDetails (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:34:35.757 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:34:35.769 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_schedule_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`day_of_week`, `x`.`end_time`, `x`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
ORDER BY `x`.`day_of_week`
2019-07-18 13:34:35.825 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32), @__invoice_EndDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`amendment_id`, `x`.`amend_type`, `x`.`begin_date`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`course_schedule_id`, `x`.`created_at`, `x`.`day_of_week`, `x`.`end_date`, `x`.`end_time`, `x`.`is_temporary`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`amendment` AS `x`
WHERE (`x`.`course_instance_id` = @__invoice_CourseInstanceId_0) AND (`x`.`begin_date` <= @__invoice_EndDate_1)
ORDER BY `x`.`created_at`
2019-07-18 13:34:35.880 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:34:35.943 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`holiday_date`
FROM `ablemusic`.`holiday` AS `x`
2019-07-18 13:34:36.010 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:34:36.061 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__details_InvoiceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`invoice_id`, `s`.`begin_date`, `s`.`comment`, `s`.`concert_fee`, `s`.`concert_fee_name`, `s`.`course_instance_id`, `s`.`course_name`, `s`.`created_at`, `s`.`due_date`, `s`.`end_date`, `s`.`group_course_instance_id`, `s`.`invoice_num`, `s`.`is_active`, `s`.`is_paid`, `s`.`learner_id`, `s`.`learner_name`, `s`.`lesson_fee`, `s`.`lesson_note_fee_name`, `s`.`lesson_quantity`, `s`.`note_fee`, `s`.`other1_fee`, `s`.`other1_fee_name`, `s`.`other2_fee`, `s`.`other2_fee_name`, `s`.`other3_fee`, `s`.`other3_fee_name`, `s`.`owing_fee`, `s`.`paid_fee`, `s`.`term_id`, `s`.`total_fee`
FROM `ablemusic`.`invoice` AS `s`
WHERE `s`.`invoice_id` = @__details_InvoiceId_0
LIMIT 1
2019-07-18 13:34:36.069 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@p18='?' (DbType = Int32), @p19='?' (DbType = DateTime), @p20='?' (DbType = AnsiString), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson_remain` (`course_instance_id`, `expiry_date`, `group_course_instance_id`, `learner_id`, `quantity`, `term_id`)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23);
SELECT `lesson_remain_id`
FROM `ablemusic`.`lesson_remain`
WHERE ROW_COUNT() = 1
 AND `lesson_remain_id`=LAST_INSERT_ID();
2019-07-18 13:34:36.132 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:34:36.191 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:34:36.251 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:34:36.311 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:34:36.385 +12:00 [INF] Executed DbCommand (68ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:34:36.465 +12:00 [INF] Executed DbCommand (78ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:34:36.559 +12:00 [INF] Executed DbCommand (89ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:34:36.659 +12:00 [INF] Executed DbCommand (98ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:34:36.765 +12:00 [INF] Executed DbCommand (104ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:34:36.859 +12:00 [INF] Executed DbCommand (795ms) [Parameters=[@p29='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (Size = -1), @p2='?' (DbType = Decimal), @p3='?' (Size = -1), @p4='?' (DbType = Int32), @p5='?' (Size = -1), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = DateTime), @p9='?' (DbType = AnsiString), @p10='?' (Size = -1), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int32), @p14='?' (Size = -1), @p15='?' (DbType = Decimal), @p16='?' (Size = -1), @p17='?' (DbType = Int32), @p18='?' (DbType = AnsiString), @p19='?' (DbType = Decimal), @p20='?' (Size = -1), @p21='?' (DbType = Decimal), @p22='?' (Size = -1), @p23='?' (DbType = Decimal), @p24='?' (Size = -1), @p25='?' (DbType = Decimal), @p26='?' (DbType = Decimal), @p27='?' (DbType = Int16), @p28='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`invoice` SET `begin_date` = @p0, `comment` = @p1, `concert_fee` = @p2, `concert_fee_name` = @p3, `course_instance_id` = @p4, `course_name` = @p5, `created_at` = @p6, `due_date` = @p7, `end_date` = @p8, `group_course_instance_id` = @p9, `invoice_num` = @p10, `is_active` = @p11, `is_paid` = @p12, `learner_id` = @p13, `learner_name` = @p14, `lesson_fee` = @p15, `lesson_note_fee_name` = @p16, `lesson_quantity` = @p17, `note_fee` = @p18, `other1_fee` = @p19, `other1_fee_name` = @p20, `other2_fee` = @p21, `other2_fee_name` = @p22, `other3_fee` = @p23, `other3_fee_name` = @p24, `owing_fee` = @p25, `paid_fee` = @p26, `term_id` = @p27, `total_fee` = @p28
WHERE `invoice_id` = @p29;
SELECT ROW_COUNT();
2019-07-18 13:34:36.874 +12:00 [INF] Executed action method Pegasus_backend.Controllers.PaymentController.SavePaymentDetails (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 8032.4065ms.
2019-07-18 13:34:36.874 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:34:36.874 +12:00 [INF] Executed action Pegasus_backend.Controllers.PaymentController.SavePaymentDetails (Pegasus_backend) in 8040.4828000000007ms
2019-07-18 13:34:36.875 +12:00 [INF] Request finished in 8046.0433ms 200 application/json; charset=utf-8
2019-07-18 13:34:36.940 +12:00 [INF] Executed DbCommand (80ms) [Parameters=[@p0='?' (DbType = AnsiString), @p1='?' (DbType = Decimal), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (DbType = AnsiString), @p7='?' (DbType = Int32), @p8='?' (DbType = Byte), @p9='?' (DbType = Byte), @p10='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`payment` (`after_balance`, `amount`, `before_balance`, `comment`, `created_at`, `invoice_id`, `is_confirmed`, `learner_id`, `payment_method`, `payment_type`, `staff_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
SELECT `payment_id`
FROM `ablemusic`.`payment`
WHERE ROW_COUNT() = 1
 AND `payment_id`=LAST_INSERT_ID();
2019-07-18 13:34:36.966 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/invoice/NaN  
2019-07-18 13:34:36.967 +12:00 [INF] Policy execution successful.
2019-07-18 13:34:36.967 +12:00 [INF] Route matched with {action = "GetInvoice", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Pegasus_backend.pegasusContext.Invoice]] GetInvoice(Int32) on controller Pegasus_backend.Controllers.InvoiceController (Pegasus_backend).
2019-07-18 13:34:36.968 +12:00 [INF] Executing action method Pegasus_backend.Controllers.InvoiceController.GetInvoice (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 13:34:36.968 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:34:36.992 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__details_LearnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`learner_id`, `s`.`balance`, `s`.`updated_at`
FROM `ablemusic`.`fund` AS `s`
WHERE `s`.`learner_id` = @__details_LearnerId_0
LIMIT 1
2019-07-18 13:34:37.045 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Decimal), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`fund` SET `balance` = @p0, `updated_at` = @p1
WHERE `learner_id` = @p2;
SELECT ROW_COUNT();
2019-07-18 13:34:37.107 +12:00 [INF] Executed DbCommand (61ms) [Parameters=[@__invoice_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`invoice_id`, `x`.`begin_date`, `x`.`comment`, `x`.`concert_fee`, `x`.`concert_fee_name`, `x`.`course_instance_id`, `x`.`course_name`, `x`.`created_at`, `x`.`due_date`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_num`, `x`.`is_active`, `x`.`is_paid`, `x`.`learner_id`, `x`.`learner_name`, `x`.`lesson_fee`, `x`.`lesson_note_fee_name`, `x`.`lesson_quantity`, `x`.`note_fee`, `x`.`other1_fee`, `x`.`other1_fee_name`, `x`.`other2_fee`, `x`.`other2_fee_name`, `x`.`other3_fee`, `x`.`other3_fee_name`, `x`.`owing_fee`, `x`.`paid_fee`, `x`.`term_id`, `x`.`total_fee`
FROM `ablemusic`.`invoice` AS `x`
WHERE `x`.`invoice_id` = @__invoice_id_0
LIMIT 1
2019-07-18 13:34:37.154 +12:00 [INF] Executed DbCommand (61ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`invoice_id`, `s`.`begin_date`, `s`.`comment`, `s`.`concert_fee`, `s`.`concert_fee_name`, `s`.`course_instance_id`, `s`.`course_name`, `s`.`created_at`, `s`.`due_date`, `s`.`end_date`, `s`.`group_course_instance_id`, `s`.`invoice_num`, `s`.`is_active`, `s`.`is_paid`, `s`.`learner_id`, `s`.`learner_name`, `s`.`lesson_fee`, `s`.`lesson_note_fee_name`, `s`.`lesson_quantity`, `s`.`note_fee`, `s`.`other1_fee`, `s`.`other1_fee_name`, `s`.`other2_fee`, `s`.`other2_fee_name`, `s`.`other3_fee`, `s`.`other3_fee_name`, `s`.`owing_fee`, `s`.`paid_fee`, `s`.`term_id`, `s`.`total_fee`, `s.Term`.`term_id`, `s.Term`.`begin_date`, `s.Term`.`end_date`, `s.Term`.`term_name`, `s.Term`.`term_type`, `s.Term`.`week_quantity`
FROM `ablemusic`.`invoice` AS `s`
LEFT JOIN `ablemusic`.`term` AS `s.Term` ON `s`.`term_id` = `s.Term`.`term_id`
WHERE ((`s`.`learner_id` = @__id_0) AND (`s`.`is_active` = 1)) AND (`s`.`is_paid` = 0)
2019-07-18 13:34:37.154 +12:00 [INF] Executed action method Pegasus_backend.Controllers.InvoiceController.GetInvoice (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 186.693ms.
2019-07-18 13:34:37.155 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Invoice, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:34:37.155 +12:00 [INF] Executed action Pegasus_backend.Controllers.InvoiceController.GetInvoice (Pegasus_backend) in 188.0247ms
2019-07-18 13:34:37.155 +12:00 [INF] Request finished in 188.7811ms 200 application/json; charset=utf-8
2019-07-18 13:34:37.159 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_schedule_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`day_of_week`, `x`.`end_time`, `x`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
ORDER BY `x`.`day_of_week`
2019-07-18 13:34:37.247 +12:00 [INF] Executed DbCommand (87ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32), @__invoice_EndDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`amendment_id`, `x`.`amend_type`, `x`.`begin_date`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`course_schedule_id`, `x`.`created_at`, `x`.`day_of_week`, `x`.`end_date`, `x`.`end_time`, `x`.`is_temporary`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`amendment` AS `x`
WHERE (`x`.`course_instance_id` = @__invoice_CourseInstanceId_0) AND (`x`.`begin_date` <= @__invoice_EndDate_1)
ORDER BY `x`.`created_at`
2019-07-18 13:34:37.336 +12:00 [INF] Executed DbCommand (88ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-18 13:34:37.416 +12:00 [INF] Executed DbCommand (79ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`holiday_date`
FROM `ablemusic`.`holiday` AS `x`
2019-07-18 13:34:37.513 +12:00 [INF] Executed DbCommand (95ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:34:37.662 +12:00 [INF] Executed DbCommand (148ms) [Parameters=[@p18='?' (DbType = Int32), @p19='?' (DbType = DateTime), @p20='?' (DbType = AnsiString), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson_remain` (`course_instance_id`, `expiry_date`, `group_course_instance_id`, `learner_id`, `quantity`, `term_id`)
VALUES (@p18, @p19, @p20, @p21, @p22, @p23);
SELECT `lesson_remain_id`
FROM `ablemusic`.`lesson_remain`
WHERE ROW_COUNT() = 1
 AND `lesson_remain_id`=LAST_INSERT_ID();
2019-07-18 13:34:37.782 +12:00 [INF] Executed DbCommand (117ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:34:37.897 +12:00 [INF] Executed DbCommand (113ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:34:37.977 +12:00 [INF] Executed DbCommand (75ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:34:38.037 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:34:38.099 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:34:38.160 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:34:38.221 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:34:38.280 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:34:38.341 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 13:34:38.408 +12:00 [INF] Executed action method Pegasus_backend.Controllers.PaymentController.SavePaymentDetails (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2651.5060000000003ms.
2019-07-18 13:34:38.408 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:34:38.409 +12:00 [INF] Executed action Pegasus_backend.Controllers.PaymentController.SavePaymentDetails (Pegasus_backend) in 2652.7615ms
2019-07-18 13:34:38.409 +12:00 [INF] Request finished in 2653.6784ms 200 application/json; charset=utf-8
2019-07-18 13:34:46.356 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/room/forCalendar  
2019-07-18 13:34:46.356 +12:00 [INF] Policy execution successful.
2019-07-18 13:34:46.356 +12:00 [INF] Request finished in 0.3297ms 204 
2019-07-18 13:34:46.413 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/room/forCalendar  
2019-07-18 13:34:46.413 +12:00 [INF] Policy execution successful.
2019-07-18 13:34:46.413 +12:00 [INF] Successfully validated the token.
2019-07-18 13:34:46.417 +12:00 [INF] Route matched with {action = "GetRoom", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoom() on controller Pegasus_backend.Controllers.RoomController (Pegasus_backend).
2019-07-18 13:34:46.417 +12:00 [INF] Authorization was successful.
2019-07-18 13:34:46.418 +12:00 [INF] Executing action method Pegasus_backend.Controllers.RoomController.GetRoom (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:34:46.423 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:34:46.616 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__userId_0
LIMIT 1
2019-07-18 13:34:46.860 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:34:47.078 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__orgId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`room_id` AS `id`, `s`.`room_name` AS `title`
FROM `ablemusic`.`room` AS `s`
WHERE `s`.`org_id` = @__orgId_0
2019-07-18 13:34:47.080 +12:00 [INF] Executed action method Pegasus_backend.Controllers.RoomController.GetRoom (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 661.53140000000008ms.
2019-07-18 13:34:47.080 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.IEnumerable`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:34:47.086 +12:00 [INF] Executed action Pegasus_backend.Controllers.RoomController.GetRoom (Pegasus_backend) in 668.7242ms
2019-07-18 13:34:47.086 +12:00 [INF] Request finished in 673.7545ms 200 application/json; charset=utf-8
2019-07-18 13:34:47.090 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-18  
2019-07-18 13:34:47.090 +12:00 [INF] Policy execution successful.
2019-07-18 13:34:47.091 +12:00 [INF] Request finished in 0.3036ms 204 
2019-07-18 13:34:47.152 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-18  
2019-07-18 13:34:47.152 +12:00 [INF] Policy execution successful.
2019-07-18 13:34:47.153 +12:00 [INF] Successfully validated the token.
2019-07-18 13:34:47.157 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:34:47.158 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:34:47.180 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:34:47.432 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:34:47.619 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:34:47.651 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:34:47.651 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:34:47.651 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:34:47.652 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:34:47.652 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:34:47.652 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:34:47.652 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:34:47.652 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:34:47.702 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:34:48.040 +12:00 [INF] Executed DbCommand (135ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:34:49.689 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2531.4003000000002ms.
2019-07-18 13:34:49.690 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:34:49.732 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 2574.5840000000003ms
2019-07-18 13:34:49.732 +12:00 [INF] Request finished in 2579.6801ms 200 application/json; charset=utf-8
2019-07-18 13:34:54.588 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-19  
2019-07-18 13:34:54.588 +12:00 [INF] Policy execution successful.
2019-07-18 13:34:54.588 +12:00 [INF] Request finished in 0.3224ms 204 
2019-07-18 13:34:54.609 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-19  
2019-07-18 13:34:54.609 +12:00 [INF] Policy execution successful.
2019-07-18 13:34:54.609 +12:00 [INF] Successfully validated the token.
2019-07-18 13:34:54.609 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:34:54.610 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:34:54.610 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:34:54.944 +12:00 [INF] Executed DbCommand (107ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:34:55.246 +12:00 [INF] Executed DbCommand (86ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:34:55.278 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:34:55.278 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:34:55.278 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:34:55.278 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:34:55.278 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:34:55.278 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:34:55.279 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:34:55.279 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:34:55.313 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:34:55.775 +12:00 [INF] Executed DbCommand (229ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:34:56.441 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-20  
2019-07-18 13:34:56.441 +12:00 [INF] Policy execution successful.
2019-07-18 13:34:56.441 +12:00 [INF] Request finished in 0.3463ms 204 
2019-07-18 13:34:56.450 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-20  
2019-07-18 13:34:56.450 +12:00 [INF] Policy execution successful.
2019-07-18 13:34:56.450 +12:00 [INF] Successfully validated the token.
2019-07-18 13:34:56.450 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:34:56.451 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:34:56.451 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:34:56.695 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-21  
2019-07-18 13:34:56.695 +12:00 [INF] Policy execution successful.
2019-07-18 13:34:56.695 +12:00 [INF] Request finished in 0.3681ms 204 
2019-07-18 13:34:56.704 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-21  
2019-07-18 13:34:56.704 +12:00 [INF] Policy execution successful.
2019-07-18 13:34:56.705 +12:00 [INF] Successfully validated the token.
2019-07-18 13:34:56.705 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:34:56.705 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:34:56.706 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:34:56.900 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-22  
2019-07-18 13:34:56.900 +12:00 [INF] Policy execution successful.
2019-07-18 13:34:56.900 +12:00 [INF] Request finished in 0.348ms 204 
2019-07-18 13:34:56.909 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-22  
2019-07-18 13:34:56.909 +12:00 [INF] Policy execution successful.
2019-07-18 13:34:56.910 +12:00 [INF] Successfully validated the token.
2019-07-18 13:34:56.910 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:34:56.910 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:34:56.911 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:34:58.302 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:34:58.322 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:34:58.328 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:34:58.470 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:34:58.491 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:34:58.491 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:34:58.491 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:34:58.491 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:34:58.491 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:34:58.491 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:34:58.491 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:34:58.491 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:34:58.495 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:34:58.498 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:34:58.530 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:34:58.530 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:34:58.530 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:34:58.530 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:34:58.530 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:34:58.530 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:34:58.530 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:34:58.530 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:34:58.531 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:34:58.531 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:34:58.531 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:34:58.531 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:34:58.531 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:34:58.531 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:34:58.531 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:34:58.531 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:34:58.543 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:34:58.578 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:34:58.578 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:34:58.942 +12:00 [INF] Executed DbCommand (137ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:34:59.011 +12:00 [INF] Executed DbCommand (206ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:34:59.032 +12:00 [INF] Executed DbCommand (256ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:35:00.769 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4063.7871ms.
2019-07-18 13:35:00.770 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:35:00.770 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 4064.8126ms
2019-07-18 13:35:00.770 +12:00 [INF] Request finished in 4065.933ms 200 application/json; charset=utf-8
2019-07-18 13:35:01.058 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4148.04ms.
2019-07-18 13:35:01.058 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:35:01.237 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name` AS `FirstName`, `w`.`learner_id` AS `LearnerId`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-18 13:35:01.239 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 4329.0562ms
2019-07-18 13:35:01.239 +12:00 [INF] Request finished in 4329.965ms 200 application/json; charset=utf-8
2019-07-18 13:35:01.763 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5311.6661ms.
2019-07-18 13:35:01.763 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:35:01.763 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 5312.5106000000005ms
2019-07-18 13:35:01.763 +12:00 [INF] Request finished in 5313.3471ms 200 application/json; charset=utf-8
2019-07-18 13:35:02.261 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-21  
2019-07-18 13:35:02.261 +12:00 [INF] Policy execution successful.
2019-07-18 13:35:02.262 +12:00 [INF] Request finished in 0.5991ms 204 
2019-07-18 13:35:02.275 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-21  
2019-07-18 13:35:02.275 +12:00 [INF] Policy execution successful.
2019-07-18 13:35:02.275 +12:00 [INF] Successfully validated the token.
2019-07-18 13:35:02.276 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:35:02.276 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:35:02.277 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:35:02.438 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:35:02.606 +12:00 [INF] Executed DbCommand (68ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:35:02.630 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:35:02.630 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:35:02.630 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:35:02.630 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:35:02.630 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:35:02.630 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:35:02.630 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:35:02.630 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:35:02.669 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:35:02.944 +12:00 [INF] Executed DbCommand (120ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:35:03.166 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 8556.1744ms.
2019-07-18 13:35:03.166 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:35:03.166 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 8557.1212ms
2019-07-18 13:35:03.167 +12:00 [INF] Request finished in 8557.9563ms 200 application/json; charset=utf-8
2019-07-18 13:35:04.040 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1763.5893ms.
2019-07-18 13:35:04.040 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:35:04.040 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 1764.4253ms
2019-07-18 13:35:04.040 +12:00 [INF] Request finished in 1765.3336ms 200 application/json; charset=utf-8
2019-07-18 13:35:06.978 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-22  
2019-07-18 13:35:06.979 +12:00 [INF] Policy execution successful.
2019-07-18 13:35:06.979 +12:00 [INF] Request finished in 0.4203ms 204 
2019-07-18 13:35:06.990 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-22  
2019-07-18 13:35:06.991 +12:00 [INF] Policy execution successful.
2019-07-18 13:35:06.991 +12:00 [INF] Successfully validated the token.
2019-07-18 13:35:06.991 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:35:06.991 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:35:06.992 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:35:07.171 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:35:07.345 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:35:07.374 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:35:07.374 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:35:07.374 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:35:07.374 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:35:07.374 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:35:07.374 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:35:07.375 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:35:07.375 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:35:07.409 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:35:07.686 +12:00 [INF] Executed DbCommand (106ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:35:09.420 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2428.9973ms.
2019-07-18 13:35:09.421 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:35:09.599 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name` AS `FirstName`, `w`.`learner_id` AS `LearnerId`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-18 13:35:09.600 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 2608.5570000000002ms
2019-07-18 13:35:09.600 +12:00 [INF] Request finished in 2609.4016ms 200 application/json; charset=utf-8
2019-07-18 13:35:15.993 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-23  
2019-07-18 13:35:15.993 +12:00 [INF] Policy execution successful.
2019-07-18 13:35:15.993 +12:00 [INF] Request finished in 0.3318ms 204 
2019-07-18 13:35:16.003 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-23  
2019-07-18 13:35:16.003 +12:00 [INF] Policy execution successful.
2019-07-18 13:35:16.004 +12:00 [INF] Successfully validated the token.
2019-07-18 13:35:16.004 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:35:16.004 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:35:16.005 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:35:16.191 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:35:16.363 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:35:16.384 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:35:16.384 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:35:16.384 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:35:16.384 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:35:16.384 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:35:16.384 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:35:16.384 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:35:16.384 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:35:16.423 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:35:16.732 +12:00 [INF] Executed DbCommand (128ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:35:18.563 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2559.1426ms.
2019-07-18 13:35:18.564 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:35:18.564 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 2560.1676ms
2019-07-18 13:35:18.564 +12:00 [INF] Request finished in 2561.1914ms 200 application/json; charset=utf-8
2019-07-18 13:36:04.417 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/teacherfilter/sessionEditFilter/1  
2019-07-18 13:36:04.418 +12:00 [INF] Policy execution successful.
2019-07-18 13:36:04.423 +12:00 [INF] Route matched with {action = "sessionEditFilterGet", controller = "TeacherFilter"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] sessionEditFilterGet(Int32) on controller Pegasus_backend.Controllers.TeacherFilterController (Pegasus_backend).
2019-07-18 13:36:04.423 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TeacherFilterController.sessionEditFilterGet (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:36:04.435 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:36:04.644 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`org_id` AS `OrgId`, `o`.`org_name` AS `OrgName`
FROM `ablemusic`.`org` AS `o`
2019-07-18 13:36:04.826 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `r`.`room_id` AS `RoomId`, `r`.`room_name` AS `RoomName`, `r`.`org_id` AS `OrgId`
FROM `ablemusic`.`room` AS `r`
2019-07-18 13:36:04.830 +12:00 [WRN] Query: '(from <>f__AnonymousType117<short, string, string, Nullable<short>, Nullable<byte>> <generated>_1 in...' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-07-18 13:36:04.836 +12:00 [WRN] The LINQ expression 'GroupBy(new <>f__AnonymousType118`2(TeacherId = [t].TeacherId, TeacherAvailableOrgId = [ta].OrgId), new <>f__AnonymousType117`5(TeacherId = [t].TeacherId, TeacherFirstName = [t].FirstName, TeacherLastName = [t].LastName, TeacherAvailableOrgId = [ta].OrgId, TeacherLevelId = [t].Level))' could not be translated and will be evaluated locally.
2019-07-18 13:36:04.837 +12:00 [WRN] The LINQ expression 'FirstOrDefault()' could not be translated and will be evaluated locally.
2019-07-18 13:36:05.096 +12:00 [INF] Executed DbCommand (121ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`teacher_id` AS `TeacherId`, `t`.`first_name` AS `TeacherFirstName`, `t`.`last_name` AS `TeacherLastName`, `ta`.`org_id` AS `TeacherAvailableOrgId`, `t`.`level` AS `TeacherLevelId`
FROM `ablemusic`.`teacher` AS `t`
INNER JOIN `ablemusic`.`available_days` AS `ta` ON `t`.`teacher_id` = `ta`.`teacher_id`
INNER JOIN `ablemusic`.`teacher_course` AS `tc` ON `t`.`teacher_id` = `tc`.`teacher_id`
WHERE `tc`.`course_id` = @__courseId_0
ORDER BY `t`.`teacher_id`, `ta`.`org_id`
2019-07-18 13:36:05.114 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TeacherFilterController.sessionEditFilterGet (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 690.90730000000008ms.
2019-07-18 13:36:05.114 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:36:05.119 +12:00 [INF] Executed action Pegasus_backend.Controllers.TeacherFilterController.sessionEditFilterGet (Pegasus_backend) in 695.8961ms
2019-07-18 13:36:05.119 +12:00 [INF] Request finished in 701.6046ms 200 application/json; charset=utf-8
2019-07-18 13:36:06.624 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-23  
2019-07-18 13:36:06.624 +12:00 [INF] Policy execution successful.
2019-07-18 13:36:06.625 +12:00 [INF] Request finished in 0.4532ms 204 
2019-07-18 13:36:06.630 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-23  
2019-07-18 13:36:06.630 +12:00 [INF] Policy execution successful.
2019-07-18 13:36:06.631 +12:00 [INF] Successfully validated the token.
2019-07-18 13:36:06.631 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:36:06.632 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:36:06.632 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:36:06.816 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:36:07.001 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:36:07.021 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:07.022 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:07.022 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:07.022 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:07.022 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:07.022 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:07.022 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:07.022 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:07.058 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:36:07.425 +12:00 [INF] Executed DbCommand (189ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:36:08.360 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1727.9379000000001ms.
2019-07-18 13:36:08.360 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:36:08.360 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 1729.0185000000001ms
2019-07-18 13:36:08.360 +12:00 [INF] Request finished in 1730.3899ms 200 application/json; charset=utf-8
2019-07-18 13:36:14.659 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-24  
2019-07-18 13:36:14.660 +12:00 [INF] Policy execution successful.
2019-07-18 13:36:14.660 +12:00 [INF] Request finished in 0.5319ms 204 
2019-07-18 13:36:14.672 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-24  
2019-07-18 13:36:14.672 +12:00 [INF] Policy execution successful.
2019-07-18 13:36:14.673 +12:00 [INF] Successfully validated the token.
2019-07-18 13:36:14.673 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:36:14.674 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:36:14.674 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:36:14.809 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-25  
2019-07-18 13:36:14.809 +12:00 [INF] Policy execution successful.
2019-07-18 13:36:14.810 +12:00 [INF] Request finished in 0.3173ms 204 
2019-07-18 13:36:14.822 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-25  
2019-07-18 13:36:14.823 +12:00 [INF] Policy execution successful.
2019-07-18 13:36:14.823 +12:00 [INF] Successfully validated the token.
2019-07-18 13:36:14.823 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:36:14.824 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:36:14.824 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:36:14.965 +12:00 [INF] Executed DbCommand (70ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:36:14.975 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-26  
2019-07-18 13:36:14.975 +12:00 [INF] Policy execution successful.
2019-07-18 13:36:14.975 +12:00 [INF] Request finished in 0.3339ms 204 
2019-07-18 13:36:14.989 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-26  
2019-07-18 13:36:14.989 +12:00 [INF] Policy execution successful.
2019-07-18 13:36:14.989 +12:00 [INF] Successfully validated the token.
2019-07-18 13:36:14.989 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:36:14.990 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:36:14.990 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:36:15.037 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:36:15.119 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-27  
2019-07-18 13:36:15.119 +12:00 [INF] Policy execution successful.
2019-07-18 13:36:15.119 +12:00 [INF] Request finished in 0.4015ms 204 
2019-07-18 13:36:15.130 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-27  
2019-07-18 13:36:15.130 +12:00 [INF] Policy execution successful.
2019-07-18 13:36:15.130 +12:00 [INF] Successfully validated the token.
2019-07-18 13:36:15.131 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:36:15.131 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:36:15.132 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:36:15.132 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:36:15.151 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:15.152 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:15.152 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:15.152 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:15.152 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:15.152 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:15.152 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:15.152 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:15.171 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:36:15.186 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:36:15.214 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:36:15.247 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:15.248 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:15.248 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:15.248 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:15.248 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:15.248 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:15.248 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:15.248 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:15.273 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-28  
2019-07-18 13:36:15.274 +12:00 [INF] Policy execution successful.
2019-07-18 13:36:15.274 +12:00 [INF] Request finished in 0.4699ms 204 
2019-07-18 13:36:15.283 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-28  
2019-07-18 13:36:15.283 +12:00 [INF] Policy execution successful.
2019-07-18 13:36:15.284 +12:00 [INF] Successfully validated the token.
2019-07-18 13:36:15.284 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:36:15.284 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:36:15.285 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:36:15.287 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:36:15.342 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:36:15.344 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:36:15.366 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:15.366 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:15.366 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:15.366 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:15.366 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:15.366 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:15.366 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:15.366 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:15.397 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:36:15.475 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:36:15.524 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:36:15.543 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:15.543 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:15.543 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:15.543 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:15.543 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:15.543 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:15.543 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:15.543 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:15.579 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:36:15.598 +12:00 [INF] Executed DbCommand (238ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:36:15.642 +12:00 [INF] Executed DbCommand (167ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:36:15.694 +12:00 [INF] Executed DbCommand (71ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:36:15.723 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:15.723 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:15.723 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:15.723 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:15.723 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:15.723 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:15.723 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:15.723 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:15.742 +12:00 [INF] Executed DbCommand (154ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:36:15.760 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:36:15.777 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-29  
2019-07-18 13:36:15.778 +12:00 [INF] Policy execution successful.
2019-07-18 13:36:15.778 +12:00 [INF] Request finished in 0.6042ms 204 
2019-07-18 13:36:15.787 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-29  
2019-07-18 13:36:15.787 +12:00 [INF] Policy execution successful.
2019-07-18 13:36:15.787 +12:00 [INF] Successfully validated the token.
2019-07-18 13:36:15.787 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:36:15.788 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:36:15.788 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:36:15.923 +12:00 [INF] Executed DbCommand (164ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:36:16.000 +12:00 [INF] Executed DbCommand (75ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:36:16.077 +12:00 [INF] Executed DbCommand (122ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:36:16.256 +12:00 [INF] Executed DbCommand (90ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:36:16.313 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:16.314 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:16.314 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:16.314 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:16.314 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:16.314 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:16.314 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:16.314 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:16.381 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:36:16.819 +12:00 [INF] Executed DbCommand (154ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:36:17.719 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2729.0951ms.
2019-07-18 13:36:17.719 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:36:17.719 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 2729.905ms
2019-07-18 13:36:17.719 +12:00 [INF] Request finished in 2730.9005ms 200 application/json; charset=utf-8
2019-07-18 13:36:17.721 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-30  
2019-07-18 13:36:17.721 +12:00 [INF] Policy execution successful.
2019-07-18 13:36:17.721 +12:00 [INF] Request finished in 0.3506ms 204 
2019-07-18 13:36:17.728 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-30  
2019-07-18 13:36:17.728 +12:00 [INF] Policy execution successful.
2019-07-18 13:36:17.729 +12:00 [INF] Successfully validated the token.
2019-07-18 13:36:17.729 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:36:17.730 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:36:17.730 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:36:17.939 +12:00 [INF] Executed DbCommand (68ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:36:18.146 +12:00 [INF] Executed DbCommand (69ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:36:18.168 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:18.168 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:18.168 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:18.168 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:18.168 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:18.168 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:18.168 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:18.168 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:18.220 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:36:18.580 +12:00 [INF] Executed DbCommand (143ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:36:18.870 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4045.9638ms.
2019-07-18 13:36:18.870 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:36:18.870 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 4047.0598ms
2019-07-18 13:36:18.871 +12:00 [INF] Request finished in 4048.2512ms 200 application/json; charset=utf-8
2019-07-18 13:36:19.317 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4643.0884000000005ms.
2019-07-18 13:36:19.317 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:36:19.317 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 4644.0481ms
2019-07-18 13:36:19.317 +12:00 [INF] Request finished in 4645.0692ms 200 application/json; charset=utf-8
2019-07-18 13:36:20.055 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4770.4836000000005ms.
2019-07-18 13:36:20.055 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:36:20.055 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 4771.4201ms
2019-07-18 13:36:20.056 +12:00 [INF] Request finished in 4772.5145ms 200 application/json; charset=utf-8
2019-07-18 13:36:20.333 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5201.7261ms.
2019-07-18 13:36:20.333 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:36:20.334 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 5202.8815ms
2019-07-18 13:36:20.334 +12:00 [INF] Request finished in 5204.0327ms 200 application/json; charset=utf-8
2019-07-18 13:36:20.837 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3107.6444ms.
2019-07-18 13:36:20.837 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:36:20.838 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 3108.7862ms
2019-07-18 13:36:20.838 +12:00 [INF] Request finished in 3109.8874ms 200 application/json; charset=utf-8
2019-07-18 13:36:21.222 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5434.2696000000005ms.
2019-07-18 13:36:21.223 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:36:21.387 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name` AS `FirstName`, `w`.`learner_id` AS `LearnerId`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-18 13:36:21.387 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 5599.5899ms
2019-07-18 13:36:21.387 +12:00 [INF] Request finished in 5600.5436ms 200 application/json; charset=utf-8
2019-07-18 13:36:38.547 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/teacher  
2019-07-18 13:36:38.547 +12:00 [INF] Policy execution successful.
2019-07-18 13:36:38.547 +12:00 [INF] Route matched with {action = "GetTeacher", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetTeacher() on controller Pegasus_backend.Controllers.TeacherController (Pegasus_backend).
2019-07-18 13:36:38.547 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TeacherController.GetTeacher (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:36:38.549 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:36:38.561 +12:00 [WRN] The Include operation for navigation '[s].TeacherLanguage.Lang' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:38.561 +12:00 [WRN] The Include operation for navigation '[s].TeacherQualificatiion.Quali' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:38.561 +12:00 [WRN] The Include operation for navigation '[s].TeacherCourse.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:38.561 +12:00 [WRN] The Include operation for navigation '[s].AvailableDays.Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:38.561 +12:00 [WRN] The Include operation for navigation '[s].TeacherCourse.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:38.561 +12:00 [WRN] The Include operation for navigation '[s].TeacherWageRates' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:36:38.767 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`teacher_id` AS `TeacherId`, `s`.`first_name` AS `FirstName`, `s`.`last_name` AS `LastName`, `s`.`dob`, `s`.`gender`, `s`.`ird_number` AS `IrdNumber`, `s`.`id_type` AS `IdType`, `s`.`id_photo`, `s`.`id_number` AS `IdNumber`, `s`.`home_phone` AS `HomePhone`, `s`.`mobile_phone` AS `MobilePhone`, `s`.`email`, `s`.`photo`, `s`.`expiry_date` AS `ExpiryDate`, `s`.`cv_url`, `s`.`otherfile_url`, `s`.`form_url`, `s`.`is_left` AS `IsLeft`, `s`.`is_contract` AS `IsContract`, `s`.`invoice_template` AS `InvoiceTemplate`, `s`.`ability`, `s`.`comment`, `s`.`level`
FROM `ablemusic`.`teacher` AS `s`
WHERE `s`.`is_activate` = 1
ORDER BY `s`.`teacher_id`
2019-07-18 13:36:38.843 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.AvailableDays`.`available_days_id`, `s.AvailableDays`.`created_at`, `s.AvailableDays`.`day_of_week`, `s.AvailableDays`.`org_id`, `s.AvailableDays`.`teacher_id`, `t`.`teacher_id`
FROM `ablemusic`.`available_days` AS `s.AvailableDays`
INNER JOIN (
    SELECT `s0`.`teacher_id`
    FROM `ablemusic`.`teacher` AS `s0`
    WHERE `s0`.`is_activate` = 1
) AS `t` ON `s.AvailableDays`.`teacher_id` = `t`.`teacher_id`
ORDER BY `t`.`teacher_id`
2019-07-18 13:36:38.901 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.TeacherLanguage`.`teacher_lang_id`, `s.TeacherLanguage`.`lang_id`, `s.TeacherLanguage`.`teacher_id`, `t0`.`teacher_id`
FROM `ablemusic`.`teacher_language` AS `s.TeacherLanguage`
INNER JOIN (
    SELECT `s1`.`teacher_id`
    FROM `ablemusic`.`teacher` AS `s1`
    WHERE `s1`.`is_activate` = 1
) AS `t0` ON `s.TeacherLanguage`.`teacher_id` = `t0`.`teacher_id`
ORDER BY `t0`.`teacher_id`
2019-07-18 13:36:38.962 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.TeacherQualificatiion`.`teacher_quali_id`, `s.TeacherQualificatiion`.`description`, `s.TeacherQualificatiion`.`quali_id`, `s.TeacherQualificatiion`.`teacher_id`, `t1`.`teacher_id`
FROM `ablemusic`.`teacher_qualificatiion` AS `s.TeacherQualificatiion`
INNER JOIN (
    SELECT `s2`.`teacher_id`
    FROM `ablemusic`.`teacher` AS `s2`
    WHERE `s2`.`is_activate` = 1
) AS `t1` ON `s.TeacherQualificatiion`.`teacher_id` = `t1`.`teacher_id`
ORDER BY `t1`.`teacher_id`
2019-07-18 13:36:39.020 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.TeacherWageRates`.`rates_id`, `s.TeacherWageRates`.`create_at`, `s.TeacherWageRates`.`group_rates`, `s.TeacherWageRates`.`is_activate`, `s.TeacherWageRates`.`others_rates`, `s.TeacherWageRates`.`piano_rates`, `s.TeacherWageRates`.`teacher_id`, `s.TeacherWageRates`.`theory_rates`, `t2`.`teacher_id`
FROM `ablemusic`.`teacher_wage_rates` AS `s.TeacherWageRates`
INNER JOIN (
    SELECT `s3`.`teacher_id`
    FROM `ablemusic`.`teacher` AS `s3`
    WHERE `s3`.`is_activate` = 1
) AS `t2` ON `s.TeacherWageRates`.`teacher_id` = `t2`.`teacher_id`
ORDER BY `t2`.`teacher_id`
2019-07-18 13:36:39.025 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TeacherController.GetTeacher (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 477.6976ms.
2019-07-18 13:36:39.026 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:36:39.029 +12:00 [INF] Executed action Pegasus_backend.Controllers.TeacherController.GetTeacher (Pegasus_backend) in 481.6027ms
2019-07-18 13:36:39.029 +12:00 [INF] Request finished in 482.7051ms 200 application/json; charset=utf-8
2019-07-18 13:37:01.522 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForTeacher/267/2019-07-28  
2019-07-18 13:37:01.522 +12:00 [INF] Policy execution successful.
2019-07-18 13:37:01.529 +12:00 [INF] Route matched with {action = "GetLessonsForTeacher", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForTeacher(Int16, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:37:01.530 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForTeacher (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:37:01.548 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:37:01.564 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:01.565 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:01.565 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:01.565 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:01.565 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:01.565 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:01.565 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:01.610 +12:00 [WRN] The LINQ expression 'where ((__8__locals1_beginDate_Date_1 <= Convert([s].EndTime, DateTime).Date) AndAlso (Convert([s].EndTime, DateTime).Date <= __endDate_Date_2))' could not be translated and will be evaluated locally.
2019-07-18 13:37:01.880 +12:00 [INF] Executed DbCommand (93ms) [Parameters=[@__8__locals1_teacherId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`end_time` AS `end`, `s`.`begin_time` AS `BeginTime0`, `s.Learner`.`first_name`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.Org`.`org_name` AS `orgName0`, `s.Room`.`room_name` AS `roomName0`, `s.Org`.`abbr` AS `orgAbbr`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, `s`.`is_canceled` AS `IsCanceled`, `s`.`reason`, (
    SELECT `z`.`room_name`
    FROM `ablemusic`.`room` AS `z`
    WHERE `z`.`room_id` = (
        SELECT `r`.`room_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z0`.`org_name`
    FROM `ablemusic`.`org` AS `z0`
    WHERE `z0`.`org_id` = (
        SELECT `r0`.`org_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r1`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r1`
    WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE `s`.`teacher_id` = @__8__locals1_teacherId_0
2019-07-18 13:37:01.901 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForTeacher (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 370.84380000000004ms.
2019-07-18 13:37:01.901 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:37:01.919 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForTeacher (Pegasus_backend) in 389.492ms
2019-07-18 13:37:01.919 +12:00 [INF] Request finished in 397.5363ms 200 application/json; charset=utf-8
2019-07-18 13:37:12.993 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForTeacher/267/2019-08-04  
2019-07-18 13:37:12.993 +12:00 [INF] Policy execution successful.
2019-07-18 13:37:12.993 +12:00 [INF] Route matched with {action = "GetLessonsForTeacher", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForTeacher(Int16, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:37:12.993 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForTeacher (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:37:12.994 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:37:13.005 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:13.005 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:13.005 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:13.005 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:13.005 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:13.005 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:13.005 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:13.030 +12:00 [WRN] The LINQ expression 'where ((__8__locals1_beginDate_Date_1 <= Convert([s].EndTime, DateTime).Date) AndAlso (Convert([s].EndTime, DateTime).Date <= __endDate_Date_2))' could not be translated and will be evaluated locally.
2019-07-18 13:37:13.195 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForTeacher/267/2019-08-11  
2019-07-18 13:37:13.195 +12:00 [INF] Policy execution successful.
2019-07-18 13:37:13.196 +12:00 [INF] Route matched with {action = "GetLessonsForTeacher", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForTeacher(Int16, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:37:13.196 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForTeacher (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:37:13.197 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:37:13.208 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:13.208 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:13.208 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:13.208 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:13.208 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:13.209 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:13.209 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:13.243 +12:00 [WRN] The LINQ expression 'where ((__8__locals1_beginDate_Date_1 <= Convert([s].EndTime, DateTime).Date) AndAlso (Convert([s].EndTime, DateTime).Date <= __endDate_Date_2))' could not be translated and will be evaluated locally.
2019-07-18 13:37:13.262 +12:00 [INF] Executed DbCommand (80ms) [Parameters=[@__8__locals1_teacherId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`end_time` AS `end`, `s`.`begin_time` AS `BeginTime0`, `s.Learner`.`first_name`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.Org`.`org_name` AS `orgName0`, `s.Room`.`room_name` AS `roomName0`, `s.Org`.`abbr` AS `orgAbbr`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, `s`.`is_canceled` AS `IsCanceled`, `s`.`reason`, (
    SELECT `z`.`room_name`
    FROM `ablemusic`.`room` AS `z`
    WHERE `z`.`room_id` = (
        SELECT `r`.`room_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z0`.`org_name`
    FROM `ablemusic`.`org` AS `z0`
    WHERE `z0`.`org_id` = (
        SELECT `r0`.`org_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r1`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r1`
    WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE `s`.`teacher_id` = @__8__locals1_teacherId_0
2019-07-18 13:37:13.267 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForTeacher (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 273.3804ms.
2019-07-18 13:37:13.267 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:37:13.267 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForTeacher (Pegasus_backend) in 274.1762ms
2019-07-18 13:37:13.268 +12:00 [INF] Request finished in 274.8716ms 200 application/json; charset=utf-8
2019-07-18 13:37:13.442 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForTeacher/267/2019-08-18  
2019-07-18 13:37:13.442 +12:00 [INF] Policy execution successful.
2019-07-18 13:37:13.442 +12:00 [INF] Route matched with {action = "GetLessonsForTeacher", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForTeacher(Int16, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:37:13.443 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForTeacher (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:37:13.443 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:37:13.461 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:13.461 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:13.462 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:13.462 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:13.462 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:13.462 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:13.462 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:13.475 +12:00 [INF] Executed DbCommand (81ms) [Parameters=[@__8__locals1_teacherId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`end_time` AS `end`, `s`.`begin_time` AS `BeginTime0`, `s.Learner`.`first_name`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.Org`.`org_name` AS `orgName0`, `s.Room`.`room_name` AS `roomName0`, `s.Org`.`abbr` AS `orgAbbr`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, `s`.`is_canceled` AS `IsCanceled`, `s`.`reason`, (
    SELECT `z`.`room_name`
    FROM `ablemusic`.`room` AS `z`
    WHERE `z`.`room_id` = (
        SELECT `r`.`room_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z0`.`org_name`
    FROM `ablemusic`.`org` AS `z0`
    WHERE `z0`.`org_id` = (
        SELECT `r0`.`org_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r1`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r1`
    WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE `s`.`teacher_id` = @__8__locals1_teacherId_0
2019-07-18 13:37:13.478 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForTeacher (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 281.446ms.
2019-07-18 13:37:13.478 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:37:13.478 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForTeacher (Pegasus_backend) in 282.4048ms
2019-07-18 13:37:13.478 +12:00 [INF] Request finished in 283.1655ms 200 application/json; charset=utf-8
2019-07-18 13:37:13.491 +12:00 [WRN] The LINQ expression 'where ((__8__locals1_beginDate_Date_1 <= Convert([s].EndTime, DateTime).Date) AndAlso (Convert([s].EndTime, DateTime).Date <= __endDate_Date_2))' could not be translated and will be evaluated locally.
2019-07-18 13:37:13.686 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForTeacher/267/2019-08-25  
2019-07-18 13:37:13.687 +12:00 [INF] Policy execution successful.
2019-07-18 13:37:13.687 +12:00 [INF] Route matched with {action = "GetLessonsForTeacher", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForTeacher(Int16, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:37:13.687 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForTeacher (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:37:13.687 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:37:13.699 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:13.699 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:13.699 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:13.699 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:13.699 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:13.699 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:13.699 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:13.720 +12:00 [INF] Executed DbCommand (82ms) [Parameters=[@__8__locals1_teacherId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`end_time` AS `end`, `s`.`begin_time` AS `BeginTime0`, `s.Learner`.`first_name`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.Org`.`org_name` AS `orgName0`, `s.Room`.`room_name` AS `roomName0`, `s.Org`.`abbr` AS `orgAbbr`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, `s`.`is_canceled` AS `IsCanceled`, `s`.`reason`, (
    SELECT `z`.`room_name`
    FROM `ablemusic`.`room` AS `z`
    WHERE `z`.`room_id` = (
        SELECT `r`.`room_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z0`.`org_name`
    FROM `ablemusic`.`org` AS `z0`
    WHERE `z0`.`org_id` = (
        SELECT `r0`.`org_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r1`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r1`
    WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE `s`.`teacher_id` = @__8__locals1_teacherId_0
2019-07-18 13:37:13.723 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForTeacher (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 280.27860000000004ms.
2019-07-18 13:37:13.723 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:37:13.723 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForTeacher (Pegasus_backend) in 281.0462ms
2019-07-18 13:37:13.724 +12:00 [INF] Request finished in 281.8031ms 200 application/json; charset=utf-8
2019-07-18 13:37:13.728 +12:00 [WRN] The LINQ expression 'where ((__8__locals1_beginDate_Date_1 <= Convert([s].EndTime, DateTime).Date) AndAlso (Convert([s].EndTime, DateTime).Date <= __endDate_Date_2))' could not be translated and will be evaluated locally.
2019-07-18 13:37:13.966 +12:00 [INF] Executed DbCommand (82ms) [Parameters=[@__8__locals1_teacherId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`end_time` AS `end`, `s`.`begin_time` AS `BeginTime0`, `s.Learner`.`first_name`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.Org`.`org_name` AS `orgName0`, `s.Room`.`room_name` AS `roomName0`, `s.Org`.`abbr` AS `orgAbbr`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, `s`.`is_canceled` AS `IsCanceled`, `s`.`reason`, (
    SELECT `z`.`room_name`
    FROM `ablemusic`.`room` AS `z`
    WHERE `z`.`room_id` = (
        SELECT `r`.`room_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z0`.`org_name`
    FROM `ablemusic`.`org` AS `z0`
    WHERE `z0`.`org_id` = (
        SELECT `r0`.`org_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r1`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r1`
    WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE `s`.`teacher_id` = @__8__locals1_teacherId_0
2019-07-18 13:37:13.969 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForTeacher (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 281.4238ms.
2019-07-18 13:37:13.969 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:37:13.969 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForTeacher (Pegasus_backend) in 282.2111ms
2019-07-18 13:37:13.969 +12:00 [INF] Request finished in 282.897ms 200 application/json; charset=utf-8
2019-07-18 13:37:15.500 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForTeacher/267/2019-08-18  
2019-07-18 13:37:15.500 +12:00 [INF] Policy execution successful.
2019-07-18 13:37:15.500 +12:00 [INF] Route matched with {action = "GetLessonsForTeacher", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForTeacher(Int16, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:37:15.501 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForTeacher (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:37:15.501 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:37:15.516 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:15.516 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:15.516 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:15.516 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:15.516 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:15.516 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:15.517 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:15.546 +12:00 [WRN] The LINQ expression 'where ((__8__locals1_beginDate_Date_1 <= Convert([s].EndTime, DateTime).Date) AndAlso (Convert([s].EndTime, DateTime).Date <= __endDate_Date_2))' could not be translated and will be evaluated locally.
2019-07-18 13:37:15.789 +12:00 [INF] Executed DbCommand (83ms) [Parameters=[@__8__locals1_teacherId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`end_time` AS `end`, `s`.`begin_time` AS `BeginTime0`, `s.Learner`.`first_name`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.Org`.`org_name` AS `orgName0`, `s.Room`.`room_name` AS `roomName0`, `s.Org`.`abbr` AS `orgAbbr`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, `s`.`is_canceled` AS `IsCanceled`, `s`.`reason`, (
    SELECT `z`.`room_name`
    FROM `ablemusic`.`room` AS `z`
    WHERE `z`.`room_id` = (
        SELECT `r`.`room_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z0`.`org_name`
    FROM `ablemusic`.`org` AS `z0`
    WHERE `z0`.`org_id` = (
        SELECT `r0`.`org_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r1`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r1`
    WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE `s`.`teacher_id` = @__8__locals1_teacherId_0
2019-07-18 13:37:15.796 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForTeacher (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 294.993ms.
2019-07-18 13:37:15.796 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:37:15.796 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForTeacher (Pegasus_backend) in 295.8646ms
2019-07-18 13:37:15.796 +12:00 [INF] Request finished in 296.5838ms 200 application/json; charset=utf-8
2019-07-18 13:37:18.342 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForTeacher/267/2019-08-25  
2019-07-18 13:37:18.343 +12:00 [INF] Policy execution successful.
2019-07-18 13:37:18.343 +12:00 [INF] Route matched with {action = "GetLessonsForTeacher", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForTeacher(Int16, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:37:18.343 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForTeacher (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:37:18.344 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:37:18.355 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:18.355 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:18.355 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:18.355 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:18.355 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:18.355 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:18.355 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:18.382 +12:00 [WRN] The LINQ expression 'where ((__8__locals1_beginDate_Date_1 <= Convert([s].EndTime, DateTime).Date) AndAlso (Convert([s].EndTime, DateTime).Date <= __endDate_Date_2))' could not be translated and will be evaluated locally.
2019-07-18 13:37:18.512 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForTeacher/267/2019-09-01  
2019-07-18 13:37:18.513 +12:00 [INF] Policy execution successful.
2019-07-18 13:37:18.513 +12:00 [INF] Route matched with {action = "GetLessonsForTeacher", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForTeacher(Int16, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:37:18.513 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForTeacher (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:37:18.514 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:37:18.527 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:18.527 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:18.527 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:18.527 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:18.527 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:18.527 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:18.527 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:18.559 +12:00 [WRN] The LINQ expression 'where ((__8__locals1_beginDate_Date_1 <= Convert([s].EndTime, DateTime).Date) AndAlso (Convert([s].EndTime, DateTime).Date <= __endDate_Date_2))' could not be translated and will be evaluated locally.
2019-07-18 13:37:18.610 +12:00 [INF] Executed DbCommand (82ms) [Parameters=[@__8__locals1_teacherId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`end_time` AS `end`, `s`.`begin_time` AS `BeginTime0`, `s.Learner`.`first_name`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.Org`.`org_name` AS `orgName0`, `s.Room`.`room_name` AS `roomName0`, `s.Org`.`abbr` AS `orgAbbr`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, `s`.`is_canceled` AS `IsCanceled`, `s`.`reason`, (
    SELECT `z`.`room_name`
    FROM `ablemusic`.`room` AS `z`
    WHERE `z`.`room_id` = (
        SELECT `r`.`room_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z0`.`org_name`
    FROM `ablemusic`.`org` AS `z0`
    WHERE `z0`.`org_id` = (
        SELECT `r0`.`org_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r1`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r1`
    WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE `s`.`teacher_id` = @__8__locals1_teacherId_0
2019-07-18 13:37:18.615 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForTeacher (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 271.6814ms.
2019-07-18 13:37:18.615 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:37:18.615 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForTeacher (Pegasus_backend) in 272.4289ms
2019-07-18 13:37:18.615 +12:00 [INF] Request finished in 273.0443ms 200 application/json; charset=utf-8
2019-07-18 13:37:18.669 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForTeacher/267/2019-09-08  
2019-07-18 13:37:18.670 +12:00 [INF] Policy execution successful.
2019-07-18 13:37:18.670 +12:00 [INF] Route matched with {action = "GetLessonsForTeacher", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForTeacher(Int16, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:37:18.671 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForTeacher (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:37:18.671 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:37:18.683 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:18.684 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:18.684 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:18.684 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:18.684 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:18.684 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:18.684 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:18.716 +12:00 [WRN] The LINQ expression 'where ((__8__locals1_beginDate_Date_1 <= Convert([s].EndTime, DateTime).Date) AndAlso (Convert([s].EndTime, DateTime).Date <= __endDate_Date_2))' could not be translated and will be evaluated locally.
2019-07-18 13:37:18.783 +12:00 [INF] Executed DbCommand (81ms) [Parameters=[@__8__locals1_teacherId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`end_time` AS `end`, `s`.`begin_time` AS `BeginTime0`, `s.Learner`.`first_name`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.Org`.`org_name` AS `orgName0`, `s.Room`.`room_name` AS `roomName0`, `s.Org`.`abbr` AS `orgAbbr`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, `s`.`is_canceled` AS `IsCanceled`, `s`.`reason`, (
    SELECT `z`.`room_name`
    FROM `ablemusic`.`room` AS `z`
    WHERE `z`.`room_id` = (
        SELECT `r`.`room_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z0`.`org_name`
    FROM `ablemusic`.`org` AS `z0`
    WHERE `z0`.`org_id` = (
        SELECT `r0`.`org_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r1`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r1`
    WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE `s`.`teacher_id` = @__8__locals1_teacherId_0
2019-07-18 13:37:18.786 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForTeacher (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 272.3721ms.
2019-07-18 13:37:18.786 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:37:18.786 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForTeacher (Pegasus_backend) in 273.1521ms
2019-07-18 13:37:18.786 +12:00 [INF] Request finished in 273.9483ms 200 application/json; charset=utf-8
2019-07-18 13:37:18.939 +12:00 [INF] Executed DbCommand (82ms) [Parameters=[@__8__locals1_teacherId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`end_time` AS `end`, `s`.`begin_time` AS `BeginTime0`, `s.Learner`.`first_name`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.Org`.`org_name` AS `orgName0`, `s.Room`.`room_name` AS `roomName0`, `s.Org`.`abbr` AS `orgAbbr`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, `s`.`is_canceled` AS `IsCanceled`, `s`.`reason`, (
    SELECT `z`.`room_name`
    FROM `ablemusic`.`room` AS `z`
    WHERE `z`.`room_id` = (
        SELECT `r`.`room_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z0`.`org_name`
    FROM `ablemusic`.`org` AS `z0`
    WHERE `z0`.`org_id` = (
        SELECT `r0`.`org_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r1`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r1`
    WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE `s`.`teacher_id` = @__8__locals1_teacherId_0
2019-07-18 13:37:18.940 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForTeacher (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 269.7896ms.
2019-07-18 13:37:18.941 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:37:18.941 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForTeacher (Pegasus_backend) in 270.8125ms
2019-07-18 13:37:18.941 +12:00 [INF] Request finished in 271.7712ms 200 application/json; charset=utf-8
2019-07-18 13:37:22.252 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/room/forCalendar  
2019-07-18 13:37:22.252 +12:00 [INF] Policy execution successful.
2019-07-18 13:37:22.253 +12:00 [INF] Request finished in 0.573ms 204 
2019-07-18 13:37:22.263 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/room/forCalendar  
2019-07-18 13:37:22.264 +12:00 [INF] Policy execution successful.
2019-07-18 13:37:22.264 +12:00 [INF] Successfully validated the token.
2019-07-18 13:37:22.264 +12:00 [INF] Route matched with {action = "GetRoom", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoom() on controller Pegasus_backend.Controllers.RoomController (Pegasus_backend).
2019-07-18 13:37:22.264 +12:00 [INF] Authorization was successful.
2019-07-18 13:37:22.265 +12:00 [INF] Executing action method Pegasus_backend.Controllers.RoomController.GetRoom (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:37:22.265 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:37:22.447 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__userId_0
LIMIT 1
2019-07-18 13:37:22.619 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:37:22.792 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__orgId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`room_id` AS `id`, `s`.`room_name` AS `title`
FROM `ablemusic`.`room` AS `s`
WHERE `s`.`org_id` = @__orgId_0
2019-07-18 13:37:22.793 +12:00 [INF] Executed action method Pegasus_backend.Controllers.RoomController.GetRoom (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 528.0579ms.
2019-07-18 13:37:22.793 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.IEnumerable`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:37:22.794 +12:00 [INF] Executed action Pegasus_backend.Controllers.RoomController.GetRoom (Pegasus_backend) in 529.2582ms
2019-07-18 13:37:22.794 +12:00 [INF] Request finished in 530.5984ms 200 application/json; charset=utf-8
2019-07-18 13:37:22.807 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-18  
2019-07-18 13:37:22.807 +12:00 [INF] Policy execution successful.
2019-07-18 13:37:22.808 +12:00 [INF] Request finished in 0.6944ms 204 
2019-07-18 13:37:22.894 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-18  
2019-07-18 13:37:22.894 +12:00 [INF] Policy execution successful.
2019-07-18 13:37:22.894 +12:00 [INF] Successfully validated the token.
2019-07-18 13:37:22.894 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:37:22.895 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:37:22.895 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:37:23.073 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:37:23.250 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:37:23.276 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:23.276 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:23.276 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:23.276 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:23.276 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:23.276 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:23.276 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:23.276 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:23.309 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:37:23.593 +12:00 [INF] Executed DbCommand (102ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:37:25.425 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2530.2683ms.
2019-07-18 13:37:25.425 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:37:25.426 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 2531.2292ms
2019-07-18 13:37:25.426 +12:00 [INF] Request finished in 2532.4163ms 200 application/json; charset=utf-8
2019-07-18 13:37:25.770 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-19  
2019-07-18 13:37:25.770 +12:00 [INF] Policy execution successful.
2019-07-18 13:37:25.770 +12:00 [INF] Request finished in 0.4246ms 204 
2019-07-18 13:37:25.784 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-19  
2019-07-18 13:37:25.784 +12:00 [INF] Policy execution successful.
2019-07-18 13:37:25.785 +12:00 [INF] Successfully validated the token.
2019-07-18 13:37:25.785 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:37:25.785 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:37:25.786 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:37:25.897 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-20  
2019-07-18 13:37:25.897 +12:00 [INF] Policy execution successful.
2019-07-18 13:37:25.897 +12:00 [INF] Request finished in 0.3267ms 204 
2019-07-18 13:37:25.908 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-20  
2019-07-18 13:37:25.908 +12:00 [INF] Policy execution successful.
2019-07-18 13:37:25.909 +12:00 [INF] Successfully validated the token.
2019-07-18 13:37:25.909 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:37:25.909 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:37:25.910 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:37:25.966 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:37:26.080 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:37:26.128 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:37:26.148 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:26.149 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:26.149 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:26.149 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:26.149 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:26.149 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:26.149 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:26.149 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:26.189 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:37:26.255 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:37:26.273 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:26.273 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:26.273 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:26.274 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:26.274 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:26.274 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:26.274 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:26.274 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:26.304 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:37:26.405 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-21  
2019-07-18 13:37:26.405 +12:00 [INF] Policy execution successful.
2019-07-18 13:37:26.406 +12:00 [INF] Request finished in 0.316ms 204 
2019-07-18 13:37:26.415 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-21  
2019-07-18 13:37:26.415 +12:00 [INF] Policy execution successful.
2019-07-18 13:37:26.415 +12:00 [INF] Successfully validated the token.
2019-07-18 13:37:26.416 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:37:26.416 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:37:26.417 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:37:26.476 +12:00 [INF] Executed DbCommand (113ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:37:26.579 +12:00 [INF] Executed DbCommand (105ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:37:26.591 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:37:26.629 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-22  
2019-07-18 13:37:26.629 +12:00 [INF] Policy execution successful.
2019-07-18 13:37:26.629 +12:00 [INF] Request finished in 0.452ms 204 
2019-07-18 13:37:26.638 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-22  
2019-07-18 13:37:26.639 +12:00 [INF] Policy execution successful.
2019-07-18 13:37:26.639 +12:00 [INF] Successfully validated the token.
2019-07-18 13:37:26.639 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:37:26.639 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:37:26.640 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:37:26.752 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:37:26.779 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:26.779 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:26.780 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:26.780 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:26.780 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:26.780 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:26.780 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:26.780 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:26.812 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:37:26.816 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:37:26.997 +12:00 [INF] Executed DbCommand (64ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:37:27.024 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:27.025 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:27.025 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:27.025 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:27.025 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:27.025 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:27.025 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:27.025 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:27.063 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:37:27.117 +12:00 [INF] Executed DbCommand (125ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:37:27.449 +12:00 [INF] Executed DbCommand (160ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:37:27.708 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1799.1633000000002ms.
2019-07-18 13:37:27.709 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:37:27.709 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 1800.2747000000002ms
2019-07-18 13:37:27.709 +12:00 [INF] Request finished in 1801.2968ms 200 application/json; charset=utf-8
2019-07-18 13:37:27.862 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-23  
2019-07-18 13:37:27.862 +12:00 [INF] Policy execution successful.
2019-07-18 13:37:27.862 +12:00 [INF] Request finished in 0.325ms 204 
2019-07-18 13:37:27.872 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-23  
2019-07-18 13:37:27.873 +12:00 [INF] Policy execution successful.
2019-07-18 13:37:27.873 +12:00 [INF] Successfully validated the token.
2019-07-18 13:37:27.873 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:37:27.873 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:37:27.874 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:37:28.031 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:37:28.059 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-24  
2019-07-18 13:37:28.059 +12:00 [INF] Policy execution successful.
2019-07-18 13:37:28.059 +12:00 [INF] Request finished in 0.3211ms 204 
2019-07-18 13:37:28.072 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-24  
2019-07-18 13:37:28.073 +12:00 [INF] Policy execution successful.
2019-07-18 13:37:28.073 +12:00 [INF] Successfully validated the token.
2019-07-18 13:37:28.073 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:37:28.074 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:37:28.074 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:37:28.200 +12:00 [INF] Executed DbCommand (63ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:37:28.230 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:28.230 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:28.230 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:28.230 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:28.231 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:28.231 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:28.231 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:28.231 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:28.241 +12:00 [INF] Executed DbCommand (63ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:37:28.277 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:37:28.446 +12:00 [INF] Executed DbCommand (61ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:37:28.477 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:28.477 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:28.477 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:28.477 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:28.477 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:28.477 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:28.477 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:28.477 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:28.512 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:37:28.574 +12:00 [INF] Executed DbCommand (118ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:37:28.697 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-25  
2019-07-18 13:37:28.697 +12:00 [INF] Policy execution successful.
2019-07-18 13:37:28.698 +12:00 [INF] Request finished in 0.6944ms 204 
2019-07-18 13:37:28.711 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-25  
2019-07-18 13:37:28.711 +12:00 [INF] Policy execution successful.
2019-07-18 13:37:28.712 +12:00 [INF] Successfully validated the token.
2019-07-18 13:37:28.712 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:37:28.713 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:37:28.713 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:37:28.864 +12:00 [INF] Executed DbCommand (123ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:37:28.962 +12:00 [INF] Executed DbCommand (94ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:37:29.329 +12:00 [INF] Executed DbCommand (120ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:37:29.348 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:29.348 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:29.349 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:29.349 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:29.349 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:29.349 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:29.349 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:29.349 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:29.384 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:37:29.718 +12:00 [INF] Executed DbCommand (146ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:37:29.968 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4182.9076000000005ms.
2019-07-18 13:37:29.969 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:37:29.969 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 4183.7821ms
2019-07-18 13:37:29.969 +12:00 [INF] Request finished in 4184.8871ms 200 application/json; charset=utf-8
2019-07-18 13:37:29.971 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-26  
2019-07-18 13:37:29.971 +12:00 [INF] Policy execution successful.
2019-07-18 13:37:29.971 +12:00 [INF] Request finished in 0.3617ms 204 
2019-07-18 13:37:29.972 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-27  
2019-07-18 13:37:29.973 +12:00 [INF] Policy execution successful.
2019-07-18 13:37:29.973 +12:00 [INF] Request finished in 0.5567ms 204 
2019-07-18 13:37:29.977 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-26  
2019-07-18 13:37:29.977 +12:00 [INF] Policy execution successful.
2019-07-18 13:37:29.977 +12:00 [INF] Successfully validated the token.
2019-07-18 13:37:29.978 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:37:29.978 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:37:29.979 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:37:30.332 +12:00 [INF] Executed DbCommand (128ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:37:30.447 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2373.2693ms.
2019-07-18 13:37:30.447 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:37:30.447 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 2374.1669ms
2019-07-18 13:37:30.448 +12:00 [INF] Request finished in 2375.2783ms 200 application/json; charset=utf-8
2019-07-18 13:37:30.449 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-27  
2019-07-18 13:37:30.449 +12:00 [INF] Policy execution successful.
2019-07-18 13:37:30.450 +12:00 [INF] Successfully validated the token.
2019-07-18 13:37:30.450 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:37:30.450 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:37:30.451 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:37:30.616 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:37:30.637 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:30.637 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:30.637 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:30.637 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:30.637 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:30.637 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:30.637 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:30.637 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:30.667 +12:00 [INF] Executed DbCommand (70ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:37:30.678 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:37:30.844 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:37:30.864 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:30.864 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:30.864 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:30.865 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:30.865 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:30.865 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:30.865 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:30.865 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:30.916 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:37:30.952 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4535.6586000000007ms.
2019-07-18 13:37:30.952 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:37:30.952 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 4536.7846ms
2019-07-18 13:37:30.953 +12:00 [INF] Request finished in 4537.855ms 200 application/json; charset=utf-8
2019-07-18 13:37:30.955 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-28  
2019-07-18 13:37:30.955 +12:00 [INF] Policy execution successful.
2019-07-18 13:37:30.955 +12:00 [INF] Request finished in 0.6521ms 204 
2019-07-18 13:37:30.956 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-29  
2019-07-18 13:37:30.956 +12:00 [INF] Policy execution successful.
2019-07-18 13:37:30.957 +12:00 [INF] Request finished in 0.4434ms 204 
2019-07-18 13:37:30.961 +12:00 [INF] Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:37:30.961 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-28  
2019-07-18 13:37:30.961 +12:00 [INF] Policy execution successful.
2019-07-18 13:37:30.962 +12:00 [INF] Successfully validated the token.
2019-07-18 13:37:30.962 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:37:30.962 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:37:30.963 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:37:31.094 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4454.5412000000006ms.
2019-07-18 13:37:31.094 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:37:31.231 +12:00 [INF] Executed DbCommand (97ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:37:31.299 +12:00 [INF] Executed DbCommand (137ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:37:31.423 +12:00 [INF] Executed DbCommand (83ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name` AS `FirstName`, `w`.`learner_id` AS `LearnerId`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-18 13:37:31.423 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 4783.7997000000005ms
2019-07-18 13:37:31.423 +12:00 [INF] Request finished in 4784.8945ms 200 application/json; charset=utf-8
2019-07-18 13:37:31.425 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-29  
2019-07-18 13:37:31.425 +12:00 [INF] Policy execution successful.
2019-07-18 13:37:31.425 +12:00 [INF] Successfully validated the token.
2019-07-18 13:37:31.426 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:37:31.426 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:37:31.427 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:37:31.529 +12:00 [INF] Executed DbCommand (94ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:37:31.555 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:31.556 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:31.556 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:31.556 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:31.556 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:31.556 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:31.556 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:31.556 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:31.595 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:37:31.728 +12:00 [INF] Executed DbCommand (123ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:37:32.263 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2284.8171ms.
2019-07-18 13:37:32.264 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:37:32.264 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 2286.2385ms
2019-07-18 13:37:32.264 +12:00 [INF] Request finished in 2287.2554ms 200 application/json; charset=utf-8
2019-07-18 13:37:32.265 +12:00 [INF] Executed DbCommand (94ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:37:32.266 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-30  
2019-07-18 13:37:32.266 +12:00 [INF] Policy execution successful.
2019-07-18 13:37:32.266 +12:00 [INF] Request finished in 0.419ms 204 
2019-07-18 13:37:32.270 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-30  
2019-07-18 13:37:32.271 +12:00 [INF] Policy execution successful.
2019-07-18 13:37:32.271 +12:00 [INF] Successfully validated the token.
2019-07-18 13:37:32.271 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:37:32.271 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:37:32.272 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:37:32.288 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:32.288 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:32.288 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:32.288 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:32.288 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:32.288 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:32.289 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:32.289 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:32.327 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:37:32.466 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:37:32.612 +12:00 [INF] Executed DbCommand (132ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:37:32.661 +12:00 [INF] Executed DbCommand (76ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:37:32.685 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:32.685 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:32.685 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:32.685 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:32.685 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:32.685 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:32.685 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:32.686 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:32.726 +12:00 [INF] Executed DbCommand (750ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:37:32.727 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:37:33.072 +12:00 [INF] Executed DbCommand (133ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:37:33.141 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2690.6461ms.
2019-07-18 13:37:33.141 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:37:33.142 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 2691.6266ms
2019-07-18 13:37:33.142 +12:00 [INF] Request finished in 2692.8201ms 200 application/json; charset=utf-8
2019-07-18 13:37:34.433 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 6559.4851ms.
2019-07-18 13:37:34.433 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:37:34.434 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 6560.4601ms
2019-07-18 13:37:34.434 +12:00 [INF] Request finished in 6561.3269ms 200 application/json; charset=utf-8
2019-07-18 13:37:35.472 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3199.8175ms.
2019-07-18 13:37:35.472 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:37:35.472 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 3200.8148ms
2019-07-18 13:37:35.472 +12:00 [INF] Request finished in 3201.7128ms 200 application/json; charset=utf-8
2019-07-18 13:37:35.794 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4367.7516000000005ms.
2019-07-18 13:37:35.795 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:37:35.953 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name` AS `FirstName`, `w`.`learner_id` AS `LearnerId`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-18 13:37:35.954 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 4527.7598ms
2019-07-18 13:37:35.954 +12:00 [INF] Request finished in 4529.286ms 200 application/json; charset=utf-8
2019-07-18 13:37:36.693 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 7979.6745ms.
2019-07-18 13:37:36.693 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:37:36.693 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 7980.7714000000005ms
2019-07-18 13:37:36.693 +12:00 [INF] Request finished in 7981.7451ms 200 application/json; charset=utf-8
2019-07-18 13:37:36.849 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5885.9696ms.
2019-07-18 13:37:36.849 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:37:36.849 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 5886.907ms
2019-07-18 13:37:36.849 +12:00 [INF] Request finished in 5887.9992ms 200 application/json; charset=utf-8
2019-07-18 13:37:57.694 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-29  
2019-07-18 13:37:57.696 +12:00 [INF] Policy execution successful.
2019-07-18 13:37:57.696 +12:00 [INF] Request finished in 1.8978ms 204 
2019-07-18 13:37:57.709 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-29  
2019-07-18 13:37:57.709 +12:00 [INF] Policy execution successful.
2019-07-18 13:37:57.709 +12:00 [INF] Successfully validated the token.
2019-07-18 13:37:57.710 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:37:57.710 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:37:57.711 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:37:57.909 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:37:58.085 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:37:58.113 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:58.114 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:58.114 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:58.114 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:58.114 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:58.114 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:58.114 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:58.114 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:37:58.160 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:37:58.434 +12:00 [INF] Executed DbCommand (100ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:37:59.540 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1829.8033ms.
2019-07-18 13:37:59.540 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:37:59.720 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name` AS `FirstName`, `w`.`learner_id` AS `LearnerId`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-18 13:37:59.720 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 2010.2632ms
2019-07-18 13:37:59.720 +12:00 [INF] Request finished in 2011.3314ms 200 application/json; charset=utf-8
2019-07-18 13:38:00.439 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-30  
2019-07-18 13:38:00.439 +12:00 [INF] Policy execution successful.
2019-07-18 13:38:00.439 +12:00 [INF] Request finished in 0.3241ms 204 
2019-07-18 13:38:00.443 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-30  
2019-07-18 13:38:00.443 +12:00 [INF] Policy execution successful.
2019-07-18 13:38:00.443 +12:00 [INF] Successfully validated the token.
2019-07-18 13:38:00.444 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:38:00.444 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:38:00.444 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:38:00.617 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:38:00.795 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:38:00.815 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:00.815 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:00.815 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:00.815 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:00.816 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:00.816 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:00.816 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:00.816 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:00.851 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:38:01.155 +12:00 [INF] Executed DbCommand (101ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:38:02.369 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1924.5277ms.
2019-07-18 13:38:02.369 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:38:02.369 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 1925.3457ms
2019-07-18 13:38:02.369 +12:00 [INF] Request finished in 1926.1394ms 200 application/json; charset=utf-8
2019-07-18 13:38:39.643 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-18  
2019-07-18 13:38:39.643 +12:00 [INF] Policy execution successful.
2019-07-18 13:38:39.643 +12:00 [INF] Request finished in 0.4622ms 204 
2019-07-18 13:38:39.658 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-18  
2019-07-18 13:38:39.658 +12:00 [INF] Policy execution successful.
2019-07-18 13:38:39.659 +12:00 [INF] Successfully validated the token.
2019-07-18 13:38:39.659 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:38:39.659 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:38:39.660 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:38:39.843 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:38:40.024 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:38:40.047 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:40.047 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:40.047 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:40.047 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:40.047 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:40.047 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:40.047 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:40.047 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:40.086 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:38:40.367 +12:00 [INF] Executed DbCommand (101ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:38:42.084 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2424.1856000000002ms.
2019-07-18 13:38:42.084 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:38:42.084 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 2425.5065ms
2019-07-18 13:38:42.085 +12:00 [INF] Request finished in 2426.4815ms 200 application/json; charset=utf-8
2019-07-18 13:38:44.954 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-19  
2019-07-18 13:38:44.954 +12:00 [INF] Policy execution successful.
2019-07-18 13:38:44.954 +12:00 [INF] Request finished in 0.3677ms 204 
2019-07-18 13:38:44.964 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-19  
2019-07-18 13:38:44.964 +12:00 [INF] Policy execution successful.
2019-07-18 13:38:44.964 +12:00 [INF] Successfully validated the token.
2019-07-18 13:38:44.965 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:38:44.965 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:38:44.965 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:38:45.138 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-20  
2019-07-18 13:38:45.138 +12:00 [INF] Policy execution successful.
2019-07-18 13:38:45.138 +12:00 [INF] Request finished in 0.3716ms 204 
2019-07-18 13:38:45.140 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:38:45.151 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-20  
2019-07-18 13:38:45.151 +12:00 [INF] Policy execution successful.
2019-07-18 13:38:45.151 +12:00 [INF] Successfully validated the token.
2019-07-18 13:38:45.151 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:38:45.152 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:38:45.152 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:38:45.297 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-21  
2019-07-18 13:38:45.297 +12:00 [INF] Policy execution successful.
2019-07-18 13:38:45.297 +12:00 [INF] Request finished in 0.3262ms 204 
2019-07-18 13:38:45.308 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-21  
2019-07-18 13:38:45.309 +12:00 [INF] Policy execution successful.
2019-07-18 13:38:45.309 +12:00 [INF] Successfully validated the token.
2019-07-18 13:38:45.309 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:38:45.310 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:38:45.310 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:38:45.347 +12:00 [INF] Executed DbCommand (73ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:38:45.347 +12:00 [INF] Executed DbCommand (73ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:38:45.367 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:45.368 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:45.368 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:45.368 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:45.368 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:45.368 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:45.368 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:45.368 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:45.405 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:38:45.462 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-22  
2019-07-18 13:38:45.462 +12:00 [INF] Policy execution successful.
2019-07-18 13:38:45.462 +12:00 [INF] Request finished in 0.3403ms 204 
2019-07-18 13:38:45.471 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-22  
2019-07-18 13:38:45.472 +12:00 [INF] Policy execution successful.
2019-07-18 13:38:45.472 +12:00 [INF] Successfully validated the token.
2019-07-18 13:38:45.472 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:38:45.472 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:38:45.473 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:38:45.504 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:38:45.526 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:38:45.546 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:45.546 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:45.546 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:45.546 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:45.546 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:45.546 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:45.546 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:45.546 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:45.580 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:38:45.640 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:38:45.690 +12:00 [INF] Executed DbCommand (62ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:38:45.698 +12:00 [INF] Executed DbCommand (109ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:38:45.714 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:45.714 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:45.714 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:45.714 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:45.715 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:45.715 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:45.715 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:45.715 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:45.746 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:38:45.824 +12:00 [INF] Executed DbCommand (76ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:38:45.843 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:45.843 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:45.844 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:45.844 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:45.844 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:45.844 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:45.844 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:45.844 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:45.879 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:38:45.882 +12:00 [INF] Executed DbCommand (133ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:38:45.963 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-23  
2019-07-18 13:38:45.963 +12:00 [INF] Policy execution successful.
2019-07-18 13:38:45.963 +12:00 [INF] Request finished in 0.351ms 204 
2019-07-18 13:38:45.972 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-23  
2019-07-18 13:38:45.972 +12:00 [INF] Policy execution successful.
2019-07-18 13:38:45.973 +12:00 [INF] Successfully validated the token.
2019-07-18 13:38:45.973 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:38:45.973 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:38:45.974 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:38:46.154 +12:00 [INF] Executed DbCommand (144ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:38:46.317 +12:00 [INF] Executed DbCommand (127ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:38:46.320 +12:00 [INF] Executed DbCommand (136ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:38:46.890 +12:00 [INF] Executed DbCommand (132ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:38:46.910 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:46.910 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:46.910 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:46.910 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:46.910 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:46.910 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:46.910 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:46.911 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:46.946 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:38:47.407 +12:00 [INF] Executed DbCommand (178ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:38:47.690 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2537.9794ms.
2019-07-18 13:38:47.690 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:38:47.690 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 2538.9352ms
2019-07-18 13:38:47.691 +12:00 [INF] Request finished in 2539.9281ms 200 application/json; charset=utf-8
2019-07-18 13:38:47.811 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2846.2959ms.
2019-07-18 13:38:47.812 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:38:47.812 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 2847.2362000000003ms
2019-07-18 13:38:47.812 +12:00 [INF] Request finished in 2848.1249ms 200 application/json; charset=utf-8
2019-07-18 13:38:49.500 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4189.9789ms.
2019-07-18 13:38:49.500 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:38:49.500 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 4190.9745ms
2019-07-18 13:38:49.500 +12:00 [INF] Request finished in 4192.0025ms 200 application/json; charset=utf-8
2019-07-18 13:38:49.929 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-21  
2019-07-18 13:38:49.929 +12:00 [INF] Policy execution successful.
2019-07-18 13:38:49.929 +12:00 [INF] Successfully validated the token.
2019-07-18 13:38:49.930 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:38:49.930 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:38:49.931 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:38:49.978 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4505.7268ms.
2019-07-18 13:38:49.978 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:38:50.094 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:38:50.137 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name` AS `FirstName`, `w`.`learner_id` AS `LearnerId`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-18 13:38:50.138 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 4665.5901ms
2019-07-18 13:38:50.138 +12:00 [INF] Request finished in 4666.474ms 200 application/json; charset=utf-8
2019-07-18 13:38:50.140 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-22  
2019-07-18 13:38:50.140 +12:00 [INF] Policy execution successful.
2019-07-18 13:38:50.140 +12:00 [INF] Successfully validated the token.
2019-07-18 13:38:50.141 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:38:50.141 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:38:50.142 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:38:50.244 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:38:50.264 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:50.264 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:50.264 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:50.264 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:50.265 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:50.265 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:50.265 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:50.265 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:50.298 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:38:50.300 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:38:50.324 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4350.2716ms.
2019-07-18 13:38:50.324 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:38:50.324 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 4351.1179ms
2019-07-18 13:38:50.324 +12:00 [INF] Request finished in 4352.0475ms 200 application/json; charset=utf-8
2019-07-18 13:38:50.461 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:38:50.493 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:50.494 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:50.494 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:50.494 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:50.494 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:50.494 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:50.494 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:50.494 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:50.529 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:38:50.586 +12:00 [INF] Executed DbCommand (108ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:38:50.656 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-22  
2019-07-18 13:38:50.656 +12:00 [INF] Policy execution successful.
2019-07-18 13:38:50.656 +12:00 [INF] Request finished in 0.3019ms 204 
2019-07-18 13:38:50.804 +12:00 [INF] Executed DbCommand (105ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:38:50.829 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-23  
2019-07-18 13:38:50.830 +12:00 [INF] Policy execution successful.
2019-07-18 13:38:50.830 +12:00 [INF] Successfully validated the token.
2019-07-18 13:38:50.830 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:38:50.831 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:38:50.831 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:38:51.001 +12:00 [INF] Executed DbCommand (68ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:38:51.167 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:38:51.188 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:51.188 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:51.188 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:51.188 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:51.188 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:51.188 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:51.188 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:51.188 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:51.226 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:38:51.959 +12:00 [INF] Executed DbCommand (127ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:38:53.137 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2996.0084ms.
2019-07-18 13:38:53.138 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:38:53.351 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name` AS `FirstName`, `w`.`learner_id` AS `LearnerId`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-18 13:38:53.351 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 3210.398ms
2019-07-18 13:38:53.351 +12:00 [INF] Request finished in 3211.8084ms 200 application/json; charset=utf-8
2019-07-18 13:38:53.353 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-22  
2019-07-18 13:38:53.354 +12:00 [INF] Policy execution successful.
2019-07-18 13:38:53.354 +12:00 [INF] Successfully validated the token.
2019-07-18 13:38:53.354 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:38:53.355 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:38:53.355 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:38:53.528 +12:00 [INF] Executed DbCommand (63ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:38:53.715 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2884.4361000000004ms.
2019-07-18 13:38:53.715 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:38:53.716 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 2885.7113ms
2019-07-18 13:38:53.716 +12:00 [INF] Request finished in 2886.8108ms 200 application/json; charset=utf-8
2019-07-18 13:38:53.735 +12:00 [INF] Executed DbCommand (70ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:38:53.754 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:53.754 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:53.754 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:53.754 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:53.754 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:53.754 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:53.755 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:53.755 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:38:53.794 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:38:53.986 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4055.7976000000003ms.
2019-07-18 13:38:53.986 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:38:53.986 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 4056.626ms
2019-07-18 13:38:53.987 +12:00 [INF] Request finished in 4057.4804ms 200 application/json; charset=utf-8
2019-07-18 13:38:54.057 +12:00 [INF] Executed DbCommand (104ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:38:55.109 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1754.1741000000002ms.
2019-07-18 13:38:55.109 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:38:55.315 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name` AS `FirstName`, `w`.`learner_id` AS `LearnerId`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-18 13:38:55.315 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 1960.6482ms
2019-07-18 13:38:55.315 +12:00 [INF] Request finished in 1961.9585ms 200 application/json; charset=utf-8
2019-07-18 13:39:04.193 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-22  
2019-07-18 13:39:04.193 +12:00 [INF] Policy execution successful.
2019-07-18 13:39:04.193 +12:00 [INF] Request finished in 0.3416ms 204 
2019-07-18 13:39:04.203 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-22  
2019-07-18 13:39:04.203 +12:00 [INF] Policy execution successful.
2019-07-18 13:39:04.204 +12:00 [INF] Successfully validated the token.
2019-07-18 13:39:04.204 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:39:04.205 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:39:04.205 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:39:04.379 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:39:04.554 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:39:04.575 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:39:04.575 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:39:04.575 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:39:04.575 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:39:04.575 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:39:04.575 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:39:04.575 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:39:04.575 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:39:04.615 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:39:04.896 +12:00 [INF] Executed DbCommand (107ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:39:05.529 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-23  
2019-07-18 13:39:05.529 +12:00 [INF] Policy execution successful.
2019-07-18 13:39:05.529 +12:00 [INF] Request finished in 0.3091ms 204 
2019-07-18 13:39:05.539 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-23  
2019-07-18 13:39:05.539 +12:00 [INF] Policy execution successful.
2019-07-18 13:39:05.539 +12:00 [INF] Successfully validated the token.
2019-07-18 13:39:05.539 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:39:05.539 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:39:05.540 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:39:05.710 +12:00 [INF] Executed DbCommand (67ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:39:05.881 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:39:05.903 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:39:05.903 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:39:05.903 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:39:05.903 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:39:05.903 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:39:05.904 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:39:05.904 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:39:05.904 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:39:05.942 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:39:06.238 +12:00 [INF] Executed DbCommand (102ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:39:07.101 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2895.8287ms.
2019-07-18 13:39:07.101 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:39:07.263 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name` AS `FirstName`, `w`.`learner_id` AS `LearnerId`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-18 13:39:07.263 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 3058.886ms
2019-07-18 13:39:07.263 +12:00 [INF] Request finished in 3060.2852ms 200 application/json; charset=utf-8
2019-07-18 13:39:08.214 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2674.6966ms.
2019-07-18 13:39:08.214 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:39:08.215 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 2675.619ms
2019-07-18 13:39:08.215 +12:00 [INF] Request finished in 2676.4619ms 200 application/json; charset=utf-8
2019-07-18 13:39:46.498 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/session/Confirm/40237/undefined  
2019-07-18 13:39:46.498 +12:00 [INF] Policy execution successful.
2019-07-18 13:39:46.498 +12:00 [INF] Request finished in 0.5191ms 204 
2019-07-18 13:39:46.513 +12:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/session/Confirm/40237/undefined  0
2019-07-18 13:39:46.513 +12:00 [INF] Policy execution successful.
2019-07-18 13:39:46.519 +12:00 [INF] Route matched with {action = "Confirm", controller = "Session"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Confirm(Int32, System.String) on controller Pegasus_backend.Controllers.SessionController (Pegasus_backend).
2019-07-18 13:39:46.519 +12:00 [INF] Executing action method Pegasus_backend.Controllers.SessionController.Confirm (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:39:46.533 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:39:46.911 +12:00 [INF] Executed DbCommand (74ms) [Parameters=[@__lessonId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`lesson_id`, `s`.`begin_time`, `s`.`course_instance_id`, `s`.`created_at`, `s`.`end_time`, `s`.`group_course_instance_id`, `s`.`invoice_id`, `s`.`is_canceled`, `s`.`is_changed`, `s`.`is_confirm`, `s`.`is_paid`, `s`.`is_trial`, `s`.`learner_id`, `s`.`new_lesson_id`, `s`.`org_id`, `s`.`reason`, `s`.`room_id`, `s`.`teacher_id`, `s`.`trial_course_id`, `s.TrialCourse`.`course_id`, `s.TrialCourse`.`course_category_id`, `s.TrialCourse`.`course_name`, `s.TrialCourse`.`course_type`, `s.TrialCourse`.`duration`, `s.TrialCourse`.`level`, `s.TrialCourse`.`price`, `s.TrialCourse`.`teacher_level`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s.GroupCourseInstance.Course`.`course_id`, `s.GroupCourseInstance.Course`.`course_category_id`, `s.GroupCourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_type`, `s.GroupCourseInstance.Course`.`duration`, `s.GroupCourseInstance.Course`.`level`, `s.GroupCourseInstance.Course`.`price`, `s.GroupCourseInstance.Course`.`teacher_level`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE `s`.`lesson_id` = @__lessonId_0
LIMIT 1
2019-07-18 13:39:47.017 +12:00 [INF] Executed DbCommand (73ms) [Parameters=[@p18='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`lesson` SET `begin_time` = @p0, `course_instance_id` = @p1, `created_at` = @p2, `end_time` = @p3, `group_course_instance_id` = @p4, `invoice_id` = @p5, `is_canceled` = @p6, `is_changed` = @p7, `is_confirm` = @p8, `is_paid` = @p9, `is_trial` = @p10, `learner_id` = @p11, `new_lesson_id` = @p12, `org_id` = @p13, `reason` = @p14, `room_id` = @p15, `teacher_id` = @p16, `trial_course_id` = @p17
WHERE `lesson_id` = @p18;
SELECT ROW_COUNT();
2019-07-18 13:39:47.101 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__lesson_LearnerId_0='?' (DbType = Int32), @__lesson_CourseInstanceId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`lesson_remain_id`, `s`.`course_instance_id`, `s`.`expiry_date`, `s`.`group_course_instance_id`, `s`.`learner_id`, `s`.`quantity`, `s`.`term_id`
FROM `ablemusic`.`lesson_remain` AS `s`
WHERE (`s`.`learner_id` = @__lesson_LearnerId_0) AND (`s`.`course_instance_id` = @__lesson_CourseInstanceId_1)
LIMIT 1
2019-07-18 13:39:47.164 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`lesson_remain` SET `course_instance_id` = @p0, `expiry_date` = @p1, `group_course_instance_id` = @p2, `learner_id` = @p3, `quantity` = @p4, `term_id` = @p5
WHERE `lesson_remain_id` = @p6;
SELECT ROW_COUNT();
2019-07-18 13:39:47.228 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__lesson_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`course_instance_id`, `s`.`begin_date`, `s`.`course_id`, `s`.`end_date`, `s`.`invoice_date`, `s`.`learner_id`, `s`.`org_id`, `s`.`room_id`, `s`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `s`
WHERE `s`.`course_instance_id` = @__lesson_CourseInstanceId_0
LIMIT 1
2019-07-18 13:39:47.280 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__courseInstance_CourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`course_id`, `s`.`course_category_id`, `s`.`course_name`, `s`.`course_type`, `s`.`duration`, `s`.`level`, `s`.`price`, `s`.`teacher_level`
FROM `ablemusic`.`course` AS `s`
WHERE `s`.`course_id` = @__courseInstance_CourseId_0
LIMIT 1
2019-07-18 13:39:47.345 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__lesson_LearnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`learner_id`, `s`.`balance`, `s`.`updated_at`
FROM `ablemusic`.`fund` AS `s`
WHERE `s`.`learner_id` = @__lesson_LearnerId_0
LIMIT 1
2019-07-18 13:39:47.401 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Decimal), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`fund` SET `balance` = @p0, `updated_at` = @p1
WHERE `learner_id` = @p2;
SELECT ROW_COUNT();
2019-07-18 13:39:47.483 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[@p0='?' (Size = -1), @p1='?' (Size = -1), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`learner_transaction` (`amount`, `created_at`, `learner_id`, `lesson_id`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `tran_id`
FROM `ablemusic`.`learner_transaction`
WHERE ROW_COUNT() = 1
 AND `tran_id`=LAST_INSERT_ID();
2019-07-18 13:39:47.552 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__lesson_TeacherId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`rates_id`, `s`.`create_at`, `s`.`group_rates`, `s`.`is_activate`, `s`.`others_rates`, `s`.`piano_rates`, `s`.`teacher_id`, `s`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s`
WHERE (`s`.`teacher_id` = @__lesson_TeacherId_0) AND (`s`.`is_activate` = 1)
LIMIT 1
2019-07-18 13:39:47.623 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Int16), @p3='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`teacher_transaction` (`created_at`, `lesson_id`, `teacher_id`, `wage_amount`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `tran_id`
FROM `ablemusic`.`teacher_transaction`
WHERE ROW_COUNT() = 1
 AND `tran_id`=LAST_INSERT_ID();
2019-07-18 13:39:47.691 +12:00 [INF] Executed action method Pegasus_backend.Controllers.SessionController.Confirm (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1171.4526ms.
2019-07-18 13:39:47.691 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:39:47.691 +12:00 [INF] Executed action Pegasus_backend.Controllers.SessionController.Confirm (Pegasus_backend) in 1172.6375ms
2019-07-18 13:39:47.691 +12:00 [INF] Request finished in 1178.3824ms 200 application/json; charset=utf-8
2019-07-18 13:39:50.852 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-23  
2019-07-18 13:39:50.852 +12:00 [INF] Policy execution successful.
2019-07-18 13:39:50.852 +12:00 [INF] Request finished in 0.3181ms 204 
2019-07-18 13:39:50.861 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-23  
2019-07-18 13:39:50.861 +12:00 [INF] Policy execution successful.
2019-07-18 13:39:50.861 +12:00 [INF] Successfully validated the token.
2019-07-18 13:39:50.861 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:39:50.862 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:39:50.862 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:39:51.045 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:39:51.219 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:39:51.240 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:39:51.240 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:39:51.241 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:39:51.241 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:39:51.241 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:39:51.241 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:39:51.241 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:39:51.241 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:39:51.278 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:39:51.565 +12:00 [INF] Executed DbCommand (104ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:39:52.933 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2071.1035ms.
2019-07-18 13:39:52.933 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:39:52.933 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 2071.8878ms
2019-07-18 13:39:52.934 +12:00 [INF] Request finished in 2072.7572ms 200 application/json; charset=utf-8
2019-07-18 13:40:33.783 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-24  
2019-07-18 13:40:33.783 +12:00 [INF] Policy execution successful.
2019-07-18 13:40:33.783 +12:00 [INF] Request finished in 0.3262ms 204 
2019-07-18 13:40:33.800 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-24  
2019-07-18 13:40:33.801 +12:00 [INF] Policy execution successful.
2019-07-18 13:40:33.801 +12:00 [INF] Successfully validated the token.
2019-07-18 13:40:33.801 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:40:33.801 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:40:33.802 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:40:33.983 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:40:34.067 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-25  
2019-07-18 13:40:34.068 +12:00 [INF] Policy execution successful.
2019-07-18 13:40:34.068 +12:00 [INF] Request finished in 1.0233ms 204 
2019-07-18 13:40:34.080 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-25  
2019-07-18 13:40:34.080 +12:00 [INF] Policy execution successful.
2019-07-18 13:40:34.081 +12:00 [INF] Successfully validated the token.
2019-07-18 13:40:34.081 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:40:34.081 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:40:34.082 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:40:34.162 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:40:34.192 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:34.192 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:34.192 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:34.192 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:34.192 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:34.192 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:34.192 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:34.192 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:34.228 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:40:34.264 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:40:34.436 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:40:34.476 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:34.476 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:34.476 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:34.476 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:34.476 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:34.476 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:34.476 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:34.476 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:34.512 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:40:34.520 +12:00 [INF] Executed DbCommand (104ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:40:34.562 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-26  
2019-07-18 13:40:34.562 +12:00 [INF] Policy execution successful.
2019-07-18 13:40:34.562 +12:00 [INF] Request finished in 0.4002ms 204 
2019-07-18 13:40:34.573 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-26  
2019-07-18 13:40:34.574 +12:00 [INF] Policy execution successful.
2019-07-18 13:40:34.574 +12:00 [INF] Successfully validated the token.
2019-07-18 13:40:34.574 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:40:34.574 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:40:34.575 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:40:34.770 +12:00 [INF] Executed DbCommand (100ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:40:34.777 +12:00 [INF] Executed DbCommand (76ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:40:34.941 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:40:34.965 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:34.966 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:34.966 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:34.966 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:34.966 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:34.966 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:34.966 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:34.966 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:35.007 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:40:35.048 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-27  
2019-07-18 13:40:35.048 +12:00 [INF] Policy execution successful.
2019-07-18 13:40:35.049 +12:00 [INF] Request finished in 1.4971ms 204 
2019-07-18 13:40:35.065 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-27  
2019-07-18 13:40:35.066 +12:00 [INF] Policy execution successful.
2019-07-18 13:40:35.066 +12:00 [INF] Successfully validated the token.
2019-07-18 13:40:35.066 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:40:35.067 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:40:35.067 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:40:35.391 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-28  
2019-07-18 13:40:35.391 +12:00 [INF] Policy execution successful.
2019-07-18 13:40:35.391 +12:00 [INF] Request finished in 0.3232ms 204 
2019-07-18 13:40:35.401 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-28  
2019-07-18 13:40:35.401 +12:00 [INF] Policy execution successful.
2019-07-18 13:40:35.402 +12:00 [INF] Successfully validated the token.
2019-07-18 13:40:35.402 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:40:35.402 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:40:35.403 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:40:35.422 +12:00 [INF] Executed DbCommand (189ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:40:35.423 +12:00 [INF] Executed DbCommand (185ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:40:35.705 +12:00 [INF] Executed DbCommand (118ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:40:35.759 +12:00 [INF] Executed DbCommand (62ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:40:35.789 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:35.789 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:35.789 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:35.789 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:35.789 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:35.789 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:35.789 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:35.789 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:35.828 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:40:35.873 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-29  
2019-07-18 13:40:35.873 +12:00 [INF] Policy execution successful.
2019-07-18 13:40:35.874 +12:00 [INF] Request finished in 0.4182ms 204 
2019-07-18 13:40:35.889 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-29  
2019-07-18 13:40:35.889 +12:00 [INF] Policy execution successful.
2019-07-18 13:40:35.890 +12:00 [INF] Successfully validated the token.
2019-07-18 13:40:35.890 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:40:35.890 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:40:35.891 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:40:35.966 +12:00 [INF] Executed DbCommand (98ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:40:35.991 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:35.991 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:35.991 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:35.991 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:35.991 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:35.992 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:35.992 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:35.992 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:36.025 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:40:36.027 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1945.5356000000002ms.
2019-07-18 13:40:36.027 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:40:36.027 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 1946.4213000000002ms
2019-07-18 13:40:36.029 +12:00 [INF] Request finished in 1948.2755ms 200 application/json; charset=utf-8
2019-07-18 13:40:36.166 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:40:36.217 +12:00 [INF] Executed DbCommand (107ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:40:36.270 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-30  
2019-07-18 13:40:36.270 +12:00 [INF] Policy execution successful.
2019-07-18 13:40:36.271 +12:00 [INF] Request finished in 0.3185ms 204 
2019-07-18 13:40:36.282 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-30  
2019-07-18 13:40:36.282 +12:00 [INF] Policy execution successful.
2019-07-18 13:40:36.283 +12:00 [INF] Successfully validated the token.
2019-07-18 13:40:36.283 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:40:36.283 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:40:36.284 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:40:36.358 +12:00 [INF] Executed DbCommand (137ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:40:36.418 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:40:36.442 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:36.442 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:36.442 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:36.442 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:36.443 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:36.443 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:36.443 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:36.443 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:36.480 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:40:36.485 +12:00 [INF] Executed DbCommand (64ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:40:36.649 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:40:36.670 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:36.670 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:36.670 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:36.670 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:36.670 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:36.670 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:36.670 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:36.670 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:36.705 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:40:36.778 +12:00 [INF] Executed DbCommand (136ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:40:37.042 +12:00 [INF] Executed DbCommand (146ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:40:37.826 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4024.5966000000003ms.
2019-07-18 13:40:37.826 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:40:37.827 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 4025.6366000000003ms
2019-07-18 13:40:37.827 +12:00 [INF] Request finished in 4026.6668ms 200 application/json; charset=utf-8
2019-07-18 13:40:39.363 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3079.6066ms.
2019-07-18 13:40:39.363 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:40:39.364 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 3080.6475ms
2019-07-18 13:40:39.364 +12:00 [INF] Request finished in 3081.7614ms 200 application/json; charset=utf-8
2019-07-18 13:40:40.047 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4980.0555ms.
2019-07-18 13:40:40.047 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:40:40.047 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 4981.0485ms
2019-07-18 13:40:40.048 +12:00 [INF] Request finished in 4982.378ms 200 application/json; charset=utf-8
2019-07-18 13:40:40.231 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4829.0759ms.
2019-07-18 13:40:40.231 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:40:40.232 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 4829.7721ms
2019-07-18 13:40:40.232 +12:00 [INF] Request finished in 4830.5991ms 200 application/json; charset=utf-8
2019-07-18 13:40:40.679 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4788.7098000000005ms.
2019-07-18 13:40:40.679 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:40:40.837 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name` AS `FirstName`, `w`.`learner_id` AS `LearnerId`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-18 13:40:40.837 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 4946.9767ms
2019-07-18 13:40:40.837 +12:00 [INF] Request finished in 4947.9851ms 200 application/json; charset=utf-8
2019-07-18 13:40:41.144 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 6569.7582ms.
2019-07-18 13:40:41.144 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:40:41.145 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 6570.4847ms
2019-07-18 13:40:41.145 +12:00 [INF] Request finished in 6571.4059ms 200 application/json; charset=utf-8
2019-07-18 13:40:43.831 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-29  
2019-07-18 13:40:43.831 +12:00 [INF] Policy execution successful.
2019-07-18 13:40:43.831 +12:00 [INF] Request finished in 0.3356ms 204 
2019-07-18 13:40:43.841 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-29  
2019-07-18 13:40:43.841 +12:00 [INF] Policy execution successful.
2019-07-18 13:40:43.842 +12:00 [INF] Successfully validated the token.
2019-07-18 13:40:43.842 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:40:43.842 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:40:43.843 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:40:44.019 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:40:44.198 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:40:44.218 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:44.218 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:44.219 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:44.219 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:44.219 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:44.219 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:44.219 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:44.219 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:44.263 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:40:44.565 +12:00 [INF] Executed DbCommand (102ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:40:44.707 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-30  
2019-07-18 13:40:44.707 +12:00 [INF] Policy execution successful.
2019-07-18 13:40:44.707 +12:00 [INF] Request finished in 0.3344ms 204 
2019-07-18 13:40:44.717 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-30  
2019-07-18 13:40:44.717 +12:00 [INF] Policy execution successful.
2019-07-18 13:40:44.717 +12:00 [INF] Successfully validated the token.
2019-07-18 13:40:44.717 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:40:44.718 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:40:44.719 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:40:44.872 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:40:45.067 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:40:45.088 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:45.088 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:45.088 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:45.088 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:45.088 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:45.089 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:45.089 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:45.089 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:40:45.123 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:40:45.384 +12:00 [INF] Executed DbCommand (105ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:40:46.115 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2272.0941000000003ms.
2019-07-18 13:40:46.115 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:40:46.301 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name` AS `FirstName`, `w`.`learner_id` AS `LearnerId`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-18 13:40:46.301 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 2458.9462000000003ms
2019-07-18 13:40:46.302 +12:00 [INF] Request finished in 2460.3908ms 200 application/json; charset=utf-8
2019-07-18 13:40:46.862 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2143.4066000000003ms.
2019-07-18 13:40:46.862 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:40:46.862 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 2144.6117ms
2019-07-18 13:40:46.862 +12:00 [INF] Request finished in 2145.8202ms 200 application/json; charset=utf-8
2019-07-18 13:40:54.417 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/teacherfilter/sessionEditFilter/1  
2019-07-18 13:40:54.417 +12:00 [INF] Policy execution successful.
2019-07-18 13:40:54.418 +12:00 [INF] Route matched with {action = "sessionEditFilterGet", controller = "TeacherFilter"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] sessionEditFilterGet(Int32) on controller Pegasus_backend.Controllers.TeacherFilterController (Pegasus_backend).
2019-07-18 13:40:54.418 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TeacherFilterController.sessionEditFilterGet (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:40:54.419 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:40:54.591 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`org_id` AS `OrgId`, `o`.`org_name` AS `OrgName`
FROM `ablemusic`.`org` AS `o`
2019-07-18 13:40:54.764 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `r`.`room_id` AS `RoomId`, `r`.`room_name` AS `RoomName`, `r`.`org_id` AS `OrgId`
FROM `ablemusic`.`room` AS `r`
2019-07-18 13:40:54.940 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`teacher_id` AS `TeacherId`, `t`.`first_name` AS `TeacherFirstName`, `t`.`last_name` AS `TeacherLastName`, `ta`.`org_id` AS `TeacherAvailableOrgId`, `t`.`level` AS `TeacherLevelId`
FROM `ablemusic`.`teacher` AS `t`
INNER JOIN `ablemusic`.`available_days` AS `ta` ON `t`.`teacher_id` = `ta`.`teacher_id`
INNER JOIN `ablemusic`.`teacher_course` AS `tc` ON `t`.`teacher_id` = `tc`.`teacher_id`
WHERE `tc`.`course_id` = @__courseId_0
ORDER BY `t`.`teacher_id`, `ta`.`org_id`
2019-07-18 13:40:54.942 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TeacherFilterController.sessionEditFilterGet (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 523.85340000000008ms.
2019-07-18 13:40:54.942 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:40:54.943 +12:00 [INF] Executed action Pegasus_backend.Controllers.TeacherFilterController.sessionEditFilterGet (Pegasus_backend) in 524.8241ms
2019-07-18 13:40:54.943 +12:00 [INF] Request finished in 525.5173ms 200 application/json; charset=utf-8
2019-07-18 13:41:28.352 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lookups  
2019-07-18 13:41:28.353 +12:00 [INF] Policy execution successful.
2019-07-18 13:41:28.353 +12:00 [INF] Request finished in 0.4331ms 204 
2019-07-18 13:41:28.359 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/navitems  
2019-07-18 13:41:28.359 +12:00 [INF] Policy execution successful.
2019-07-18 13:41:28.359 +12:00 [INF] Request finished in 0.3335ms 204 
2019-07-18 13:41:28.397 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/room/forCalendar  
2019-07-18 13:41:28.397 +12:00 [INF] Policy execution successful.
2019-07-18 13:41:28.398 +12:00 [INF] Request finished in 0.3164ms 204 
2019-07-18 13:41:28.404 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/staff/Photos/2190613092457108.jpg  
2019-07-18 13:41:28.405 +12:00 [INF] Request finished in 0.4618ms 404 
2019-07-18 13:41:28.454 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups  
2019-07-18 13:41:28.455 +12:00 [INF] Policy execution successful.
2019-07-18 13:41:28.455 +12:00 [INF] Successfully validated the token.
2019-07-18 13:41:28.455 +12:00 [INF] Route matched with {action = "GetLookups", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookups() on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 13:41:28.456 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:41:28.456 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:41:28.488 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/navitems  
2019-07-18 13:41:28.488 +12:00 [INF] Policy execution successful.
2019-07-18 13:41:28.489 +12:00 [INF] Successfully validated the token.
2019-07-18 13:41:28.513 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/room/forCalendar  
2019-07-18 13:41:28.513 +12:00 [INF] Route matched with {action = "GetNavItems", controller = "NavItems"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult GetNavItems() on controller Pegasus_backend.Controllers.NavItemsController (Pegasus_backend).
2019-07-18 13:41:28.513 +12:00 [INF] Authorization was successful.
2019-07-18 13:41:28.514 +12:00 [INF] Policy execution successful.
2019-07-18 13:41:28.514 +12:00 [INF] Executing action method Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:41:28.514 +12:00 [INF] Successfully validated the token.
2019-07-18 13:41:28.514 +12:00 [INF] Route matched with {action = "GetRoom", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoom() on controller Pegasus_backend.Controllers.RoomController (Pegasus_backend).
2019-07-18 13:41:28.515 +12:00 [INF] Authorization was successful.
2019-07-18 13:41:28.515 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:41:28.515 +12:00 [INF] Executing action method Pegasus_backend.Controllers.RoomController.GetRoom (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:41:28.515 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:41:28.634 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
2019-07-18 13:41:28.636 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 180.5723ms.
2019-07-18 13:41:28.637 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:41:28.637 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend) in 181.4562ms
2019-07-18 13:41:28.637 +12:00 [INF] Request finished in 182.5745ms 200 application/json; charset=utf-8
2019-07-18 13:41:28.686 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__userId_0
LIMIT 1
2019-07-18 13:41:28.688 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`user_id`, `s`.`created_at`, `s`.`is_activate`, `s`.`is_online`, `s`.`password`, `s`.`role_id`, `s`.`signature`, `s`.`unread_message_id`, `s`.`user_name`
FROM `ablemusic`.`user` AS `s`
WHERE `s`.`user_id` = @__userId_0
LIMIT 1
2019-07-18 13:41:28.857 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:41:28.858 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__roleId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`page_id`
FROM `ablemusic`.`role_access` AS `s`
WHERE `s`.`role_id` = @__roleId_0
2019-07-18 13:41:29.032 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__orgId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`room_id` AS `id`, `s`.`room_name` AS `title`
FROM `ablemusic`.`room` AS `s`
WHERE `s`.`org_id` = @__orgId_0
2019-07-18 13:41:29.033 +12:00 [INF] Executed action method Pegasus_backend.Controllers.RoomController.GetRoom (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 517.63560000000007ms.
2019-07-18 13:41:29.033 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.IEnumerable`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:41:29.033 +12:00 [INF] Executed action Pegasus_backend.Controllers.RoomController.GetRoom (Pegasus_backend) in 518.8954ms
2019-07-18 13:41:29.034 +12:00 [INF] Request finished in 520.7064ms 200 application/json; charset=utf-8
2019-07-18 13:41:29.035 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`page_group_id`, `s`.`display_order`, `s`.`icon`, `s`.`page_group_name`
FROM `ablemusic`.`page_group` AS `s`
ORDER BY `s`.`page_group_id`
2019-07-18 13:41:29.042 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-18  
2019-07-18 13:41:29.042 +12:00 [INF] Policy execution successful.
2019-07-18 13:41:29.042 +12:00 [INF] Request finished in 0.576ms 204 
2019-07-18 13:41:29.091 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Page`.`page_id`, `s.Page`.`display_order`, `s.Page`.`icon`, `s.Page`.`is_activate`, `s.Page`.`page_group_id`, `s.Page`.`page_name`, `s.Page`.`para`, `s.Page`.`para_flag`, `s.Page`.`url`
FROM `ablemusic`.`page` AS `s.Page`
INNER JOIN (
    SELECT `s0`.`page_group_id`
    FROM `ablemusic`.`page_group` AS `s0`
) AS `t` ON `s.Page`.`page_group_id` = `t`.`page_group_id`
ORDER BY `t`.`page_group_id`
2019-07-18 13:41:29.093 +12:00 [INF] Executed action method Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 579.0297ms.
2019-07-18 13:41:29.093 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:41:29.093 +12:00 [INF] Executed action Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend) in 580.0039ms
2019-07-18 13:41:29.093 +12:00 [INF] Request finished in 605.3198ms 200 application/json; charset=utf-8
2019-07-18 13:41:29.110 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-18  
2019-07-18 13:41:29.111 +12:00 [INF] Policy execution successful.
2019-07-18 13:41:29.111 +12:00 [INF] Successfully validated the token.
2019-07-18 13:41:29.111 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:41:29.112 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:41:29.113 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:41:29.285 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:41:29.459 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:41:29.495 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:41:29.495 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:41:29.495 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:41:29.495 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:41:29.495 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:41:29.495 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:41:29.495 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:41:29.495 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:41:29.525 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:41:29.803 +12:00 [INF] Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:41:31.457 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2345.1182ms.
2019-07-18 13:41:31.457 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:41:31.457 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 2346.0474ms
2019-07-18 13:41:31.458 +12:00 [INF] Request finished in 2347.196ms 200 application/json; charset=utf-8
2019-07-18 13:41:42.763 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-7-30  
2019-07-18 13:41:42.763 +12:00 [INF] Policy execution successful.
2019-07-18 13:41:42.763 +12:00 [INF] Request finished in 0.4742ms 204 
2019-07-18 13:41:42.777 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-7-30  
2019-07-18 13:41:42.777 +12:00 [INF] Policy execution successful.
2019-07-18 13:41:42.777 +12:00 [INF] Successfully validated the token.
2019-07-18 13:41:42.778 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:41:42.778 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:41:42.778 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:41:42.961 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:41:43.127 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:41:43.149 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:41:43.150 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:41:43.150 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:41:43.150 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:41:43.150 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:41:43.150 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:41:43.150 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:41:43.150 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:41:43.185 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:41:43.458 +12:00 [INF] Executed DbCommand (104ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:41:45.507 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2728.9432ms.
2019-07-18 13:41:45.507 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:41:45.507 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 2729.9084000000003ms
2019-07-18 13:41:45.508 +12:00 [INF] Request finished in 2730.7393ms 200 application/json; charset=utf-8
2019-07-18 13:42:09.116 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/session/40238/vvvvg/3  
2019-07-18 13:42:09.116 +12:00 [INF] Policy execution successful.
2019-07-18 13:42:09.116 +12:00 [INF] Request finished in 0.3669ms 204 
2019-07-18 13:42:09.130 +12:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/session/40238/vvvvg/3  0
2019-07-18 13:42:09.130 +12:00 [INF] Policy execution successful.
2019-07-18 13:42:09.136 +12:00 [INF] Route matched with {action = "PutSesson", controller = "Session"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PutSesson(Int32, System.String, Int16) on controller Pegasus_backend.Controllers.SessionController (Pegasus_backend).
2019-07-18 13:42:09.136 +12:00 [INF] Executing action method Pegasus_backend.Controllers.SessionController.PutSesson (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:42:09.158 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:42:09.348 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__sessionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`lesson_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`created_at`, `x`.`end_time`, `x`.`group_course_instance_id`, `x`.`invoice_id`, `x`.`is_canceled`, `x`.`is_changed`, `x`.`is_confirm`, `x`.`is_paid`, `x`.`is_trial`, `x`.`learner_id`, `x`.`new_lesson_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`, `x`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `x`
WHERE `x`.`lesson_id` = @__sessionId_0
LIMIT 1
2019-07-18 13:42:09.547 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__userId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`user_id`, `u`.`created_at`, `u`.`is_activate`, `u`.`is_online`, `u`.`password`, `u`.`role_id`, `u`.`signature`, `u`.`unread_message_id`, `u`.`user_name`
FROM `ablemusic`.`user` AS `u`
WHERE `u`.`user_id` = @__userId_0
LIMIT 1
2019-07-18 13:42:09.776 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__lesson_TeacherId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`teacher_id`, `t`.`ability`, `t`.`comment`, `t`.`cv_url`, `t`.`dob`, `t`.`email`, `t`.`expiry_date`, `t`.`first_name`, `t`.`form_url`, `t`.`gender`, `t`.`home_phone`, `t`.`id_number`, `t`.`id_photo`, `t`.`id_type`, `t`.`invoice_template`, `t`.`ird_number`, `t`.`is_activate`, `t`.`is_contract`, `t`.`is_left`, `t`.`last_name`, `t`.`level`, `t`.`minimum_hours`, `t`.`mobile_phone`, `t`.`otherfile_url`, `t`.`photo`, `t`.`user_id`, `t`.`visa`
FROM `ablemusic`.`teacher` AS `t`
WHERE `t`.`teacher_id` = @__lesson_TeacherId_0
LIMIT 1
2019-07-18 13:42:09.970 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__lesson_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`course_id` AS `CourseId`, `c`.`course_name` AS `CourseName`
FROM `ablemusic`.`course` AS `c`
INNER JOIN `ablemusic`.`one2one_course_instance` AS `oto` ON `c`.`course_id` = `oto`.`course_id`
WHERE `oto`.`course_instance_id` = @__lesson_CourseInstanceId_0
LIMIT 1
2019-07-18 13:42:10.166 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `h`.`holiday_id`, `h`.`holiday_date`, `h`.`holiday_name`
FROM `ablemusic`.`holiday` AS `h`
2019-07-18 13:42:10.391 +12:00 [INF] Executed DbCommand (64ms) [Parameters=[@__lesson_LearnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`comment`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`learner_id` = @__lesson_LearnerId_0
LIMIT 1
2019-07-18 13:42:12.932 +12:00 [INF] Executed DbCommand (122ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = AnsiString), @p4='?' (DbType = Int16), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = AnsiString), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`await_make_up_lesson` (`course_instance_id`, `create_at`, `expired_date`, `group_course_instance_id`, `is_active`, `learner_id`, `missed_lesson_id`, `new_lesson_id`, `schduled_at`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT `await_id`
FROM `ablemusic`.`await_make_up_lesson`
WHERE ROW_COUNT() = 1
 AND `await_id`=LAST_INSERT_ID();
2019-07-18 13:42:13.023 +12:00 [INF] Executed DbCommand (84ms) [Parameters=[@p11='?' (DbType = Int32), @p9='?' (DbType = Int16), @p10='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`lesson` SET `is_canceled` = @p9, `reason` = @p10
WHERE `lesson_id` = @p11;
SELECT ROW_COUNT();
2019-07-18 13:42:13.093 +12:00 [INF] Executed action method Pegasus_backend.Controllers.SessionController.PutSesson (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3957.2477000000003ms.
2019-07-18 13:42:13.095 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:42:13.100 +12:00 [INF] Executed action Pegasus_backend.Controllers.SessionController.PutSesson (Pegasus_backend) in 3963.8863ms
2019-07-18 13:42:13.100 +12:00 [INF] Request finished in 3969.9651ms 200 application/json; charset=utf-8
2019-07-18 13:42:19.225 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-30  
2019-07-18 13:42:19.226 +12:00 [INF] Policy execution successful.
2019-07-18 13:42:19.226 +12:00 [INF] Request finished in 0.5726ms 204 
2019-07-18 13:42:19.236 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-30  
2019-07-18 13:42:19.236 +12:00 [INF] Policy execution successful.
2019-07-18 13:42:19.237 +12:00 [INF] Successfully validated the token.
2019-07-18 13:42:19.237 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:42:19.237 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:42:19.238 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:42:19.419 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:42:19.594 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:42:19.615 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:42:19.615 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:42:19.615 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:42:19.615 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:42:19.615 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:42:19.615 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:42:19.615 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:42:19.615 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:42:19.650 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:42:19.936 +12:00 [INF] Executed DbCommand (107ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:42:21.119 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1881.7365ms.
2019-07-18 13:42:21.119 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:42:21.119 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 1882.5943000000002ms
2019-07-18 13:42:21.120 +12:00 [INF] Request finished in 1883.6116ms 200 application/json; charset=utf-8
2019-07-18 13:45:07.863 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/10080  
2019-07-18 13:45:07.864 +12:00 [INF] Policy execution successful.
2019-07-18 13:45:07.864 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:45:07.864 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:45:07.865 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:45:08.063 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:45:08.119 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Parent`.`parent_id`, `w.Parent`.`contact_num`, `w.Parent`.`created_at`, `w.Parent`.`email`, `w.Parent`.`first_name`, `w.Parent`.`last_name`, `w.Parent`.`learner_id`, `w.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `w.Parent`
INNER JOIN (
    SELECT `w0`.`learner_id`
    FROM `ablemusic`.`learner` AS `w0`
    WHERE `w0`.`learner_id` = @__learnerId_0
    ORDER BY `w0`.`learner_id`
    LIMIT 1
) AS `t` ON `w.Parent`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-18 13:45:08.308 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerOthers`.`learner_others_id`, `w.LearnerOthers`.`learner_id`, `w.LearnerOthers`.`learner_level`, `w.LearnerOthers`.`others_type`, `w.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `w.LearnerOthers`
INNER JOIN (
    SELECT `w1`.`learner_id`
    FROM `ablemusic`.`learner` AS `w1`
    WHERE `w1`.`learner_id` = @__learnerId_0
    ORDER BY `w1`.`learner_id`
    LIMIT 1
) AS `t0` ON `w.LearnerOthers`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-18 13:45:08.518 +12:00 [INF] Executed DbCommand (80ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance`.`course_instance_id`, `w.One2oneCourseInstance`.`begin_date`, `w.One2oneCourseInstance`.`course_id`, `w.One2oneCourseInstance`.`end_date`, `w.One2oneCourseInstance`.`invoice_date`, `w.One2oneCourseInstance`.`learner_id`, `w.One2oneCourseInstance`.`org_id`, `w.One2oneCourseInstance`.`room_id`, `w.One2oneCourseInstance`.`teacher_id`, `o.Teacher`.`teacher_id`, `o.Teacher`.`ability`, `o.Teacher`.`comment`, `o.Teacher`.`cv_url`, `o.Teacher`.`dob`, `o.Teacher`.`email`, `o.Teacher`.`expiry_date`, `o.Teacher`.`first_name`, `o.Teacher`.`form_url`, `o.Teacher`.`gender`, `o.Teacher`.`home_phone`, `o.Teacher`.`id_number`, `o.Teacher`.`id_photo`, `o.Teacher`.`id_type`, `o.Teacher`.`invoice_template`, `o.Teacher`.`ird_number`, `o.Teacher`.`is_activate`, `o.Teacher`.`is_contract`, `o.Teacher`.`is_left`, `o.Teacher`.`last_name`, `o.Teacher`.`level`, `o.Teacher`.`minimum_hours`, `o.Teacher`.`mobile_phone`, `o.Teacher`.`otherfile_url`, `o.Teacher`.`photo`, `o.Teacher`.`user_id`, `o.Teacher`.`visa`, `o.Room`.`room_id`, `o.Room`.`created_at`, `o.Room`.`is_activate`, `o.Room`.`org_id`, `o.Room`.`room_name`, `o.Course`.`course_id`, `o.Course`.`course_category_id`, `o.Course`.`course_name`, `o.Course`.`course_type`, `o.Course`.`duration`, `o.Course`.`level`, `o.Course`.`price`, `o.Course`.`teacher_level`, `o.Org`.`org_id`, `o.Org`.`abbr`, `o.Org`.`address`, `o.Org`.`email`, `o.Org`.`is_activate`, `o.Org`.`is_headoffice`, `o.Org`.`localtion_x`, `o.Org`.`localtion_y`, `o.Org`.`org_name`, `o.Org`.`phone`
FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance`
LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher` ON `w.One2oneCourseInstance`.`teacher_id` = `o.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `o.Room` ON `w.One2oneCourseInstance`.`room_id` = `o.Room`.`room_id`
LEFT JOIN `ablemusic`.`course` AS `o.Course` ON `w.One2oneCourseInstance`.`course_id` = `o.Course`.`course_id`
LEFT JOIN `ablemusic`.`org` AS `o.Org` ON `w.One2oneCourseInstance`.`org_id` = `o.Org`.`org_id`
INNER JOIN (
    SELECT `w2`.`learner_id`
    FROM `ablemusic`.`learner` AS `w2`
    WHERE `w2`.`learner_id` = @__learnerId_0
    ORDER BY `w2`.`learner_id`
    LIMIT 1
) AS `t1` ON `w.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`, `w.One2oneCourseInstance`.`course_instance_id`
2019-07-18 13:45:08.607 +12:00 [INF] Executed DbCommand (87ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.Amendment`.`amendment_id`, `w.One2oneCourseInstance.Amendment`.`amend_type`, `w.One2oneCourseInstance.Amendment`.`begin_date`, `w.One2oneCourseInstance.Amendment`.`begin_time`, `w.One2oneCourseInstance.Amendment`.`course_instance_id`, `w.One2oneCourseInstance.Amendment`.`course_schedule_id`, `w.One2oneCourseInstance.Amendment`.`created_at`, `w.One2oneCourseInstance.Amendment`.`day_of_week`, `w.One2oneCourseInstance.Amendment`.`end_date`, `w.One2oneCourseInstance.Amendment`.`end_time`, `w.One2oneCourseInstance.Amendment`.`is_temporary`, `w.One2oneCourseInstance.Amendment`.`learner_id`, `w.One2oneCourseInstance.Amendment`.`org_id`, `w.One2oneCourseInstance.Amendment`.`reason`, `w.One2oneCourseInstance.Amendment`.`room_id`, `w.One2oneCourseInstance.Amendment`.`teacher_id`, `a.Teacher`.`teacher_id`, `a.Teacher`.`ability`, `a.Teacher`.`comment`, `a.Teacher`.`cv_url`, `a.Teacher`.`dob`, `a.Teacher`.`email`, `a.Teacher`.`expiry_date`, `a.Teacher`.`first_name`, `a.Teacher`.`form_url`, `a.Teacher`.`gender`, `a.Teacher`.`home_phone`, `a.Teacher`.`id_number`, `a.Teacher`.`id_photo`, `a.Teacher`.`id_type`, `a.Teacher`.`invoice_template`, `a.Teacher`.`ird_number`, `a.Teacher`.`is_activate`, `a.Teacher`.`is_contract`, `a.Teacher`.`is_left`, `a.Teacher`.`last_name`, `a.Teacher`.`level`, `a.Teacher`.`minimum_hours`, `a.Teacher`.`mobile_phone`, `a.Teacher`.`otherfile_url`, `a.Teacher`.`photo`, `a.Teacher`.`user_id`, `a.Teacher`.`visa`, `a.Room`.`room_id`, `a.Room`.`created_at`, `a.Room`.`is_activate`, `a.Room`.`org_id`, `a.Room`.`room_name`
FROM `ablemusic`.`amendment` AS `w.One2oneCourseInstance.Amendment`
LEFT JOIN `ablemusic`.`teacher` AS `a.Teacher` ON `w.One2oneCourseInstance.Amendment`.`teacher_id` = `a.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `a.Room` ON `w.One2oneCourseInstance.Amendment`.`room_id` = `a.Room`.`room_id`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance0`.`course_instance_id`, `t2`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance0`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher0` ON `w.One2oneCourseInstance0`.`teacher_id` = `o.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room0` ON `w.One2oneCourseInstance0`.`room_id` = `o.Room0`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course0` ON `w.One2oneCourseInstance0`.`course_id` = `o.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org0` ON `w.One2oneCourseInstance0`.`org_id` = `o.Org0`.`org_id`
    INNER JOIN (
        SELECT `w3`.`learner_id`
        FROM `ablemusic`.`learner` AS `w3`
        WHERE `w3`.`learner_id` = @__learnerId_0
        ORDER BY `w3`.`learner_id`
        LIMIT 1
    ) AS `t2` ON `w.One2oneCourseInstance0`.`learner_id` = `t2`.`learner_id`
) AS `t3` ON `w.One2oneCourseInstance.Amendment`.`course_instance_id` = `t3`.`course_instance_id`
ORDER BY `t3`.`learner_id`, `t3`.`course_instance_id`
2019-07-18 13:45:08.797 +12:00 [INF] Executed DbCommand (67ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.CourseSchedule`.`course_schedule_id`, `w.One2oneCourseInstance.CourseSchedule`.`begin_time`, `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id`, `w.One2oneCourseInstance.CourseSchedule`.`day_of_week`, `w.One2oneCourseInstance.CourseSchedule`.`end_time`, `w.One2oneCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `w.One2oneCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance1`.`course_instance_id`, `t4`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance1`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher1` ON `w.One2oneCourseInstance1`.`teacher_id` = `o.Teacher1`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room1` ON `w.One2oneCourseInstance1`.`room_id` = `o.Room1`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course1` ON `w.One2oneCourseInstance1`.`course_id` = `o.Course1`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org1` ON `w.One2oneCourseInstance1`.`org_id` = `o.Org1`.`org_id`
    INNER JOIN (
        SELECT `w4`.`learner_id`
        FROM `ablemusic`.`learner` AS `w4`
        WHERE `w4`.`learner_id` = @__learnerId_0
        ORDER BY `w4`.`learner_id`
        LIMIT 1
    ) AS `t4` ON `w.One2oneCourseInstance1`.`learner_id` = `t4`.`learner_id`
) AS `t5` ON `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id` = `t5`.`course_instance_id`
ORDER BY `t5`.`learner_id`, `t5`.`course_instance_id`
2019-07-18 13:45:09.024 +12:00 [INF] Executed DbCommand (94ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerGroupCourse`.`learner_group_course_id`, `w.LearnerGroupCourse`.`begin_date`, `w.LearnerGroupCourse`.`comment`, `w.LearnerGroupCourse`.`created_at`, `w.LearnerGroupCourse`.`end_date`, `w.LearnerGroupCourse`.`group_course_instance_id`, `w.LearnerGroupCourse`.`invoice_date`, `w.LearnerGroupCourse`.`is_activate`, `w.LearnerGroupCourse`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`, `l.GroupCourseInstance`.`begin_date`, `l.GroupCourseInstance`.`course_id`, `l.GroupCourseInstance`.`end_date`, `l.GroupCourseInstance`.`invoice_date`, `l.GroupCourseInstance`.`is_activate`, `l.GroupCourseInstance`.`is_started`, `l.GroupCourseInstance`.`org_id`, `l.GroupCourseInstance`.`room_id`, `l.GroupCourseInstance`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`ability`, `l.GroupCourseInstance.Teacher`.`comment`, `l.GroupCourseInstance.Teacher`.`cv_url`, `l.GroupCourseInstance.Teacher`.`dob`, `l.GroupCourseInstance.Teacher`.`email`, `l.GroupCourseInstance.Teacher`.`expiry_date`, `l.GroupCourseInstance.Teacher`.`first_name`, `l.GroupCourseInstance.Teacher`.`form_url`, `l.GroupCourseInstance.Teacher`.`gender`, `l.GroupCourseInstance.Teacher`.`home_phone`, `l.GroupCourseInstance.Teacher`.`id_number`, `l.GroupCourseInstance.Teacher`.`id_photo`, `l.GroupCourseInstance.Teacher`.`id_type`, `l.GroupCourseInstance.Teacher`.`invoice_template`, `l.GroupCourseInstance.Teacher`.`ird_number`, `l.GroupCourseInstance.Teacher`.`is_activate`, `l.GroupCourseInstance.Teacher`.`is_contract`, `l.GroupCourseInstance.Teacher`.`is_left`, `l.GroupCourseInstance.Teacher`.`last_name`, `l.GroupCourseInstance.Teacher`.`level`, `l.GroupCourseInstance.Teacher`.`minimum_hours`, `l.GroupCourseInstance.Teacher`.`mobile_phone`, `l.GroupCourseInstance.Teacher`.`otherfile_url`, `l.GroupCourseInstance.Teacher`.`photo`, `l.GroupCourseInstance.Teacher`.`user_id`, `l.GroupCourseInstance.Teacher`.`visa`, `l.GroupCourseInstance.Course`.`course_id`, `l.GroupCourseInstance.Course`.`course_category_id`, `l.GroupCourseInstance.Course`.`course_name`, `l.GroupCourseInstance.Course`.`course_type`, `l.GroupCourseInstance.Course`.`duration`, `l.GroupCourseInstance.Course`.`level`, `l.GroupCourseInstance.Course`.`price`, `l.GroupCourseInstance.Course`.`teacher_level`, `l.GroupCourseInstance.Room`.`room_id`, `l.GroupCourseInstance.Room`.`created_at`, `l.GroupCourseInstance.Room`.`is_activate`, `l.GroupCourseInstance.Room`.`org_id`, `l.GroupCourseInstance.Room`.`room_name`
FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse`
LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance` ON `w.LearnerGroupCourse`.`group_course_instance_id` = `l.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher` ON `l.GroupCourseInstance`.`teacher_id` = `l.GroupCourseInstance.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course` ON `l.GroupCourseInstance`.`course_id` = `l.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room` ON `l.GroupCourseInstance`.`room_id` = `l.GroupCourseInstance.Room`.`room_id`
INNER JOIN (
    SELECT `w5`.`learner_id`
    FROM `ablemusic`.`learner` AS `w5`
    WHERE `w5`.`learner_id` = @__learnerId_0
    ORDER BY `w5`.`learner_id`
    LIMIT 1
) AS `t6` ON `w.LearnerGroupCourse`.`learner_id` = `t6`.`learner_id`
ORDER BY `t6`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`
2019-07-18 13:45:09.025 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1160.4521ms.
2019-07-18 13:45:09.025 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:45:09.026 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 1161.5922ms
2019-07-18 13:45:09.026 +12:00 [INF] Request finished in 1162.459ms 200 application/json; charset=utf-8
2019-07-18 13:45:09.082 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/10080  
2019-07-18 13:45:09.082 +12:00 [INF] Policy execution successful.
2019-07-18 13:45:09.082 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:45:09.083 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:45:09.083 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:45:09.266 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:45:09.321 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Parent`.`parent_id`, `w.Parent`.`contact_num`, `w.Parent`.`created_at`, `w.Parent`.`email`, `w.Parent`.`first_name`, `w.Parent`.`last_name`, `w.Parent`.`learner_id`, `w.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `w.Parent`
INNER JOIN (
    SELECT `w0`.`learner_id`
    FROM `ablemusic`.`learner` AS `w0`
    WHERE `w0`.`learner_id` = @__learnerId_0
    ORDER BY `w0`.`learner_id`
    LIMIT 1
) AS `t` ON `w.Parent`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-18 13:45:09.505 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerOthers`.`learner_others_id`, `w.LearnerOthers`.`learner_id`, `w.LearnerOthers`.`learner_level`, `w.LearnerOthers`.`others_type`, `w.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `w.LearnerOthers`
INNER JOIN (
    SELECT `w1`.`learner_id`
    FROM `ablemusic`.`learner` AS `w1`
    WHERE `w1`.`learner_id` = @__learnerId_0
    ORDER BY `w1`.`learner_id`
    LIMIT 1
) AS `t0` ON `w.LearnerOthers`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-18 13:45:09.709 +12:00 [INF] Executed DbCommand (79ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance`.`course_instance_id`, `w.One2oneCourseInstance`.`begin_date`, `w.One2oneCourseInstance`.`course_id`, `w.One2oneCourseInstance`.`end_date`, `w.One2oneCourseInstance`.`invoice_date`, `w.One2oneCourseInstance`.`learner_id`, `w.One2oneCourseInstance`.`org_id`, `w.One2oneCourseInstance`.`room_id`, `w.One2oneCourseInstance`.`teacher_id`, `o.Teacher`.`teacher_id`, `o.Teacher`.`ability`, `o.Teacher`.`comment`, `o.Teacher`.`cv_url`, `o.Teacher`.`dob`, `o.Teacher`.`email`, `o.Teacher`.`expiry_date`, `o.Teacher`.`first_name`, `o.Teacher`.`form_url`, `o.Teacher`.`gender`, `o.Teacher`.`home_phone`, `o.Teacher`.`id_number`, `o.Teacher`.`id_photo`, `o.Teacher`.`id_type`, `o.Teacher`.`invoice_template`, `o.Teacher`.`ird_number`, `o.Teacher`.`is_activate`, `o.Teacher`.`is_contract`, `o.Teacher`.`is_left`, `o.Teacher`.`last_name`, `o.Teacher`.`level`, `o.Teacher`.`minimum_hours`, `o.Teacher`.`mobile_phone`, `o.Teacher`.`otherfile_url`, `o.Teacher`.`photo`, `o.Teacher`.`user_id`, `o.Teacher`.`visa`, `o.Room`.`room_id`, `o.Room`.`created_at`, `o.Room`.`is_activate`, `o.Room`.`org_id`, `o.Room`.`room_name`, `o.Course`.`course_id`, `o.Course`.`course_category_id`, `o.Course`.`course_name`, `o.Course`.`course_type`, `o.Course`.`duration`, `o.Course`.`level`, `o.Course`.`price`, `o.Course`.`teacher_level`, `o.Org`.`org_id`, `o.Org`.`abbr`, `o.Org`.`address`, `o.Org`.`email`, `o.Org`.`is_activate`, `o.Org`.`is_headoffice`, `o.Org`.`localtion_x`, `o.Org`.`localtion_y`, `o.Org`.`org_name`, `o.Org`.`phone`
FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance`
LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher` ON `w.One2oneCourseInstance`.`teacher_id` = `o.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `o.Room` ON `w.One2oneCourseInstance`.`room_id` = `o.Room`.`room_id`
LEFT JOIN `ablemusic`.`course` AS `o.Course` ON `w.One2oneCourseInstance`.`course_id` = `o.Course`.`course_id`
LEFT JOIN `ablemusic`.`org` AS `o.Org` ON `w.One2oneCourseInstance`.`org_id` = `o.Org`.`org_id`
INNER JOIN (
    SELECT `w2`.`learner_id`
    FROM `ablemusic`.`learner` AS `w2`
    WHERE `w2`.`learner_id` = @__learnerId_0
    ORDER BY `w2`.`learner_id`
    LIMIT 1
) AS `t1` ON `w.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`, `w.One2oneCourseInstance`.`course_instance_id`
2019-07-18 13:45:09.795 +12:00 [INF] Executed DbCommand (84ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.Amendment`.`amendment_id`, `w.One2oneCourseInstance.Amendment`.`amend_type`, `w.One2oneCourseInstance.Amendment`.`begin_date`, `w.One2oneCourseInstance.Amendment`.`begin_time`, `w.One2oneCourseInstance.Amendment`.`course_instance_id`, `w.One2oneCourseInstance.Amendment`.`course_schedule_id`, `w.One2oneCourseInstance.Amendment`.`created_at`, `w.One2oneCourseInstance.Amendment`.`day_of_week`, `w.One2oneCourseInstance.Amendment`.`end_date`, `w.One2oneCourseInstance.Amendment`.`end_time`, `w.One2oneCourseInstance.Amendment`.`is_temporary`, `w.One2oneCourseInstance.Amendment`.`learner_id`, `w.One2oneCourseInstance.Amendment`.`org_id`, `w.One2oneCourseInstance.Amendment`.`reason`, `w.One2oneCourseInstance.Amendment`.`room_id`, `w.One2oneCourseInstance.Amendment`.`teacher_id`, `a.Teacher`.`teacher_id`, `a.Teacher`.`ability`, `a.Teacher`.`comment`, `a.Teacher`.`cv_url`, `a.Teacher`.`dob`, `a.Teacher`.`email`, `a.Teacher`.`expiry_date`, `a.Teacher`.`first_name`, `a.Teacher`.`form_url`, `a.Teacher`.`gender`, `a.Teacher`.`home_phone`, `a.Teacher`.`id_number`, `a.Teacher`.`id_photo`, `a.Teacher`.`id_type`, `a.Teacher`.`invoice_template`, `a.Teacher`.`ird_number`, `a.Teacher`.`is_activate`, `a.Teacher`.`is_contract`, `a.Teacher`.`is_left`, `a.Teacher`.`last_name`, `a.Teacher`.`level`, `a.Teacher`.`minimum_hours`, `a.Teacher`.`mobile_phone`, `a.Teacher`.`otherfile_url`, `a.Teacher`.`photo`, `a.Teacher`.`user_id`, `a.Teacher`.`visa`, `a.Room`.`room_id`, `a.Room`.`created_at`, `a.Room`.`is_activate`, `a.Room`.`org_id`, `a.Room`.`room_name`
FROM `ablemusic`.`amendment` AS `w.One2oneCourseInstance.Amendment`
LEFT JOIN `ablemusic`.`teacher` AS `a.Teacher` ON `w.One2oneCourseInstance.Amendment`.`teacher_id` = `a.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `a.Room` ON `w.One2oneCourseInstance.Amendment`.`room_id` = `a.Room`.`room_id`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance0`.`course_instance_id`, `t2`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance0`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher0` ON `w.One2oneCourseInstance0`.`teacher_id` = `o.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room0` ON `w.One2oneCourseInstance0`.`room_id` = `o.Room0`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course0` ON `w.One2oneCourseInstance0`.`course_id` = `o.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org0` ON `w.One2oneCourseInstance0`.`org_id` = `o.Org0`.`org_id`
    INNER JOIN (
        SELECT `w3`.`learner_id`
        FROM `ablemusic`.`learner` AS `w3`
        WHERE `w3`.`learner_id` = @__learnerId_0
        ORDER BY `w3`.`learner_id`
        LIMIT 1
    ) AS `t2` ON `w.One2oneCourseInstance0`.`learner_id` = `t2`.`learner_id`
) AS `t3` ON `w.One2oneCourseInstance.Amendment`.`course_instance_id` = `t3`.`course_instance_id`
ORDER BY `t3`.`learner_id`, `t3`.`course_instance_id`
2019-07-18 13:45:09.983 +12:00 [INF] Executed DbCommand (69ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.CourseSchedule`.`course_schedule_id`, `w.One2oneCourseInstance.CourseSchedule`.`begin_time`, `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id`, `w.One2oneCourseInstance.CourseSchedule`.`day_of_week`, `w.One2oneCourseInstance.CourseSchedule`.`end_time`, `w.One2oneCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `w.One2oneCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance1`.`course_instance_id`, `t4`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance1`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher1` ON `w.One2oneCourseInstance1`.`teacher_id` = `o.Teacher1`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room1` ON `w.One2oneCourseInstance1`.`room_id` = `o.Room1`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course1` ON `w.One2oneCourseInstance1`.`course_id` = `o.Course1`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org1` ON `w.One2oneCourseInstance1`.`org_id` = `o.Org1`.`org_id`
    INNER JOIN (
        SELECT `w4`.`learner_id`
        FROM `ablemusic`.`learner` AS `w4`
        WHERE `w4`.`learner_id` = @__learnerId_0
        ORDER BY `w4`.`learner_id`
        LIMIT 1
    ) AS `t4` ON `w.One2oneCourseInstance1`.`learner_id` = `t4`.`learner_id`
) AS `t5` ON `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id` = `t5`.`course_instance_id`
ORDER BY `t5`.`learner_id`, `t5`.`course_instance_id`
2019-07-18 13:45:10.205 +12:00 [INF] Executed DbCommand (91ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerGroupCourse`.`learner_group_course_id`, `w.LearnerGroupCourse`.`begin_date`, `w.LearnerGroupCourse`.`comment`, `w.LearnerGroupCourse`.`created_at`, `w.LearnerGroupCourse`.`end_date`, `w.LearnerGroupCourse`.`group_course_instance_id`, `w.LearnerGroupCourse`.`invoice_date`, `w.LearnerGroupCourse`.`is_activate`, `w.LearnerGroupCourse`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`, `l.GroupCourseInstance`.`begin_date`, `l.GroupCourseInstance`.`course_id`, `l.GroupCourseInstance`.`end_date`, `l.GroupCourseInstance`.`invoice_date`, `l.GroupCourseInstance`.`is_activate`, `l.GroupCourseInstance`.`is_started`, `l.GroupCourseInstance`.`org_id`, `l.GroupCourseInstance`.`room_id`, `l.GroupCourseInstance`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`ability`, `l.GroupCourseInstance.Teacher`.`comment`, `l.GroupCourseInstance.Teacher`.`cv_url`, `l.GroupCourseInstance.Teacher`.`dob`, `l.GroupCourseInstance.Teacher`.`email`, `l.GroupCourseInstance.Teacher`.`expiry_date`, `l.GroupCourseInstance.Teacher`.`first_name`, `l.GroupCourseInstance.Teacher`.`form_url`, `l.GroupCourseInstance.Teacher`.`gender`, `l.GroupCourseInstance.Teacher`.`home_phone`, `l.GroupCourseInstance.Teacher`.`id_number`, `l.GroupCourseInstance.Teacher`.`id_photo`, `l.GroupCourseInstance.Teacher`.`id_type`, `l.GroupCourseInstance.Teacher`.`invoice_template`, `l.GroupCourseInstance.Teacher`.`ird_number`, `l.GroupCourseInstance.Teacher`.`is_activate`, `l.GroupCourseInstance.Teacher`.`is_contract`, `l.GroupCourseInstance.Teacher`.`is_left`, `l.GroupCourseInstance.Teacher`.`last_name`, `l.GroupCourseInstance.Teacher`.`level`, `l.GroupCourseInstance.Teacher`.`minimum_hours`, `l.GroupCourseInstance.Teacher`.`mobile_phone`, `l.GroupCourseInstance.Teacher`.`otherfile_url`, `l.GroupCourseInstance.Teacher`.`photo`, `l.GroupCourseInstance.Teacher`.`user_id`, `l.GroupCourseInstance.Teacher`.`visa`, `l.GroupCourseInstance.Course`.`course_id`, `l.GroupCourseInstance.Course`.`course_category_id`, `l.GroupCourseInstance.Course`.`course_name`, `l.GroupCourseInstance.Course`.`course_type`, `l.GroupCourseInstance.Course`.`duration`, `l.GroupCourseInstance.Course`.`level`, `l.GroupCourseInstance.Course`.`price`, `l.GroupCourseInstance.Course`.`teacher_level`, `l.GroupCourseInstance.Room`.`room_id`, `l.GroupCourseInstance.Room`.`created_at`, `l.GroupCourseInstance.Room`.`is_activate`, `l.GroupCourseInstance.Room`.`org_id`, `l.GroupCourseInstance.Room`.`room_name`
FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse`
LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance` ON `w.LearnerGroupCourse`.`group_course_instance_id` = `l.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher` ON `l.GroupCourseInstance`.`teacher_id` = `l.GroupCourseInstance.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course` ON `l.GroupCourseInstance`.`course_id` = `l.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room` ON `l.GroupCourseInstance`.`room_id` = `l.GroupCourseInstance.Room`.`room_id`
INNER JOIN (
    SELECT `w5`.`learner_id`
    FROM `ablemusic`.`learner` AS `w5`
    WHERE `w5`.`learner_id` = @__learnerId_0
    ORDER BY `w5`.`learner_id`
    LIMIT 1
) AS `t6` ON `w.LearnerGroupCourse`.`learner_id` = `t6`.`learner_id`
ORDER BY `t6`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`
2019-07-18 13:45:10.207 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1124.0887ms.
2019-07-18 13:45:10.207 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:45:10.209 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 1126.758ms
2019-07-18 13:45:10.210 +12:00 [INF] Request finished in 1127.9694ms 200 application/json; charset=utf-8
2019-07-18 13:45:10.664 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-30  
2019-07-18 13:45:10.664 +12:00 [INF] Policy execution successful.
2019-07-18 13:45:10.664 +12:00 [INF] Request finished in 0.4096ms 204 
2019-07-18 13:45:10.677 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-30  
2019-07-18 13:45:10.677 +12:00 [INF] Policy execution successful.
2019-07-18 13:45:10.678 +12:00 [INF] Successfully validated the token.
2019-07-18 13:45:10.678 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:45:10.678 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:45:10.679 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:45:10.859 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:45:11.039 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:45:11.059 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:45:11.059 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:45:11.059 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:45:11.059 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:45:11.059 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:45:11.059 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:45:11.059 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:45:11.060 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:45:11.091 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:45:11.363 +12:00 [INF] Executed DbCommand (104ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:45:13.575 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2896.1529ms.
2019-07-18 13:45:13.575 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:45:13.575 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 2897.5055ms
2019-07-18 13:45:13.576 +12:00 [INF] Request finished in 2898.5382ms 200 application/json; charset=utf-8
2019-07-18 13:45:43.729 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/10080  
2019-07-18 13:45:43.735 +12:00 [INF] Policy execution successful.
2019-07-18 13:45:43.741 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:45:43.758 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:45:43.759 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:45:43.947 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:45:44.015 +12:00 [INF] Executed DbCommand (67ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Parent`.`parent_id`, `w.Parent`.`contact_num`, `w.Parent`.`created_at`, `w.Parent`.`email`, `w.Parent`.`first_name`, `w.Parent`.`last_name`, `w.Parent`.`learner_id`, `w.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `w.Parent`
INNER JOIN (
    SELECT `w0`.`learner_id`
    FROM `ablemusic`.`learner` AS `w0`
    WHERE `w0`.`learner_id` = @__learnerId_0
    ORDER BY `w0`.`learner_id`
    LIMIT 1
) AS `t` ON `w.Parent`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-18 13:45:44.199 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerOthers`.`learner_others_id`, `w.LearnerOthers`.`learner_id`, `w.LearnerOthers`.`learner_level`, `w.LearnerOthers`.`others_type`, `w.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `w.LearnerOthers`
INNER JOIN (
    SELECT `w1`.`learner_id`
    FROM `ablemusic`.`learner` AS `w1`
    WHERE `w1`.`learner_id` = @__learnerId_0
    ORDER BY `w1`.`learner_id`
    LIMIT 1
) AS `t0` ON `w.LearnerOthers`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-18 13:45:44.410 +12:00 [INF] Executed DbCommand (80ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance`.`course_instance_id`, `w.One2oneCourseInstance`.`begin_date`, `w.One2oneCourseInstance`.`course_id`, `w.One2oneCourseInstance`.`end_date`, `w.One2oneCourseInstance`.`invoice_date`, `w.One2oneCourseInstance`.`learner_id`, `w.One2oneCourseInstance`.`org_id`, `w.One2oneCourseInstance`.`room_id`, `w.One2oneCourseInstance`.`teacher_id`, `o.Teacher`.`teacher_id`, `o.Teacher`.`ability`, `o.Teacher`.`comment`, `o.Teacher`.`cv_url`, `o.Teacher`.`dob`, `o.Teacher`.`email`, `o.Teacher`.`expiry_date`, `o.Teacher`.`first_name`, `o.Teacher`.`form_url`, `o.Teacher`.`gender`, `o.Teacher`.`home_phone`, `o.Teacher`.`id_number`, `o.Teacher`.`id_photo`, `o.Teacher`.`id_type`, `o.Teacher`.`invoice_template`, `o.Teacher`.`ird_number`, `o.Teacher`.`is_activate`, `o.Teacher`.`is_contract`, `o.Teacher`.`is_left`, `o.Teacher`.`last_name`, `o.Teacher`.`level`, `o.Teacher`.`minimum_hours`, `o.Teacher`.`mobile_phone`, `o.Teacher`.`otherfile_url`, `o.Teacher`.`photo`, `o.Teacher`.`user_id`, `o.Teacher`.`visa`, `o.Room`.`room_id`, `o.Room`.`created_at`, `o.Room`.`is_activate`, `o.Room`.`org_id`, `o.Room`.`room_name`, `o.Course`.`course_id`, `o.Course`.`course_category_id`, `o.Course`.`course_name`, `o.Course`.`course_type`, `o.Course`.`duration`, `o.Course`.`level`, `o.Course`.`price`, `o.Course`.`teacher_level`, `o.Org`.`org_id`, `o.Org`.`abbr`, `o.Org`.`address`, `o.Org`.`email`, `o.Org`.`is_activate`, `o.Org`.`is_headoffice`, `o.Org`.`localtion_x`, `o.Org`.`localtion_y`, `o.Org`.`org_name`, `o.Org`.`phone`
FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance`
LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher` ON `w.One2oneCourseInstance`.`teacher_id` = `o.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `o.Room` ON `w.One2oneCourseInstance`.`room_id` = `o.Room`.`room_id`
LEFT JOIN `ablemusic`.`course` AS `o.Course` ON `w.One2oneCourseInstance`.`course_id` = `o.Course`.`course_id`
LEFT JOIN `ablemusic`.`org` AS `o.Org` ON `w.One2oneCourseInstance`.`org_id` = `o.Org`.`org_id`
INNER JOIN (
    SELECT `w2`.`learner_id`
    FROM `ablemusic`.`learner` AS `w2`
    WHERE `w2`.`learner_id` = @__learnerId_0
    ORDER BY `w2`.`learner_id`
    LIMIT 1
) AS `t1` ON `w.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`, `w.One2oneCourseInstance`.`course_instance_id`
2019-07-18 13:45:44.495 +12:00 [INF] Executed DbCommand (83ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.Amendment`.`amendment_id`, `w.One2oneCourseInstance.Amendment`.`amend_type`, `w.One2oneCourseInstance.Amendment`.`begin_date`, `w.One2oneCourseInstance.Amendment`.`begin_time`, `w.One2oneCourseInstance.Amendment`.`course_instance_id`, `w.One2oneCourseInstance.Amendment`.`course_schedule_id`, `w.One2oneCourseInstance.Amendment`.`created_at`, `w.One2oneCourseInstance.Amendment`.`day_of_week`, `w.One2oneCourseInstance.Amendment`.`end_date`, `w.One2oneCourseInstance.Amendment`.`end_time`, `w.One2oneCourseInstance.Amendment`.`is_temporary`, `w.One2oneCourseInstance.Amendment`.`learner_id`, `w.One2oneCourseInstance.Amendment`.`org_id`, `w.One2oneCourseInstance.Amendment`.`reason`, `w.One2oneCourseInstance.Amendment`.`room_id`, `w.One2oneCourseInstance.Amendment`.`teacher_id`, `a.Teacher`.`teacher_id`, `a.Teacher`.`ability`, `a.Teacher`.`comment`, `a.Teacher`.`cv_url`, `a.Teacher`.`dob`, `a.Teacher`.`email`, `a.Teacher`.`expiry_date`, `a.Teacher`.`first_name`, `a.Teacher`.`form_url`, `a.Teacher`.`gender`, `a.Teacher`.`home_phone`, `a.Teacher`.`id_number`, `a.Teacher`.`id_photo`, `a.Teacher`.`id_type`, `a.Teacher`.`invoice_template`, `a.Teacher`.`ird_number`, `a.Teacher`.`is_activate`, `a.Teacher`.`is_contract`, `a.Teacher`.`is_left`, `a.Teacher`.`last_name`, `a.Teacher`.`level`, `a.Teacher`.`minimum_hours`, `a.Teacher`.`mobile_phone`, `a.Teacher`.`otherfile_url`, `a.Teacher`.`photo`, `a.Teacher`.`user_id`, `a.Teacher`.`visa`, `a.Room`.`room_id`, `a.Room`.`created_at`, `a.Room`.`is_activate`, `a.Room`.`org_id`, `a.Room`.`room_name`
FROM `ablemusic`.`amendment` AS `w.One2oneCourseInstance.Amendment`
LEFT JOIN `ablemusic`.`teacher` AS `a.Teacher` ON `w.One2oneCourseInstance.Amendment`.`teacher_id` = `a.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `a.Room` ON `w.One2oneCourseInstance.Amendment`.`room_id` = `a.Room`.`room_id`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance0`.`course_instance_id`, `t2`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance0`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher0` ON `w.One2oneCourseInstance0`.`teacher_id` = `o.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room0` ON `w.One2oneCourseInstance0`.`room_id` = `o.Room0`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course0` ON `w.One2oneCourseInstance0`.`course_id` = `o.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org0` ON `w.One2oneCourseInstance0`.`org_id` = `o.Org0`.`org_id`
    INNER JOIN (
        SELECT `w3`.`learner_id`
        FROM `ablemusic`.`learner` AS `w3`
        WHERE `w3`.`learner_id` = @__learnerId_0
        ORDER BY `w3`.`learner_id`
        LIMIT 1
    ) AS `t2` ON `w.One2oneCourseInstance0`.`learner_id` = `t2`.`learner_id`
) AS `t3` ON `w.One2oneCourseInstance.Amendment`.`course_instance_id` = `t3`.`course_instance_id`
ORDER BY `t3`.`learner_id`, `t3`.`course_instance_id`
2019-07-18 13:45:44.682 +12:00 [INF] Executed DbCommand (68ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.CourseSchedule`.`course_schedule_id`, `w.One2oneCourseInstance.CourseSchedule`.`begin_time`, `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id`, `w.One2oneCourseInstance.CourseSchedule`.`day_of_week`, `w.One2oneCourseInstance.CourseSchedule`.`end_time`, `w.One2oneCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `w.One2oneCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance1`.`course_instance_id`, `t4`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance1`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher1` ON `w.One2oneCourseInstance1`.`teacher_id` = `o.Teacher1`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room1` ON `w.One2oneCourseInstance1`.`room_id` = `o.Room1`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course1` ON `w.One2oneCourseInstance1`.`course_id` = `o.Course1`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org1` ON `w.One2oneCourseInstance1`.`org_id` = `o.Org1`.`org_id`
    INNER JOIN (
        SELECT `w4`.`learner_id`
        FROM `ablemusic`.`learner` AS `w4`
        WHERE `w4`.`learner_id` = @__learnerId_0
        ORDER BY `w4`.`learner_id`
        LIMIT 1
    ) AS `t4` ON `w.One2oneCourseInstance1`.`learner_id` = `t4`.`learner_id`
) AS `t5` ON `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id` = `t5`.`course_instance_id`
ORDER BY `t5`.`learner_id`, `t5`.`course_instance_id`
2019-07-18 13:45:44.920 +12:00 [INF] Executed DbCommand (94ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerGroupCourse`.`learner_group_course_id`, `w.LearnerGroupCourse`.`begin_date`, `w.LearnerGroupCourse`.`comment`, `w.LearnerGroupCourse`.`created_at`, `w.LearnerGroupCourse`.`end_date`, `w.LearnerGroupCourse`.`group_course_instance_id`, `w.LearnerGroupCourse`.`invoice_date`, `w.LearnerGroupCourse`.`is_activate`, `w.LearnerGroupCourse`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`, `l.GroupCourseInstance`.`begin_date`, `l.GroupCourseInstance`.`course_id`, `l.GroupCourseInstance`.`end_date`, `l.GroupCourseInstance`.`invoice_date`, `l.GroupCourseInstance`.`is_activate`, `l.GroupCourseInstance`.`is_started`, `l.GroupCourseInstance`.`org_id`, `l.GroupCourseInstance`.`room_id`, `l.GroupCourseInstance`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`ability`, `l.GroupCourseInstance.Teacher`.`comment`, `l.GroupCourseInstance.Teacher`.`cv_url`, `l.GroupCourseInstance.Teacher`.`dob`, `l.GroupCourseInstance.Teacher`.`email`, `l.GroupCourseInstance.Teacher`.`expiry_date`, `l.GroupCourseInstance.Teacher`.`first_name`, `l.GroupCourseInstance.Teacher`.`form_url`, `l.GroupCourseInstance.Teacher`.`gender`, `l.GroupCourseInstance.Teacher`.`home_phone`, `l.GroupCourseInstance.Teacher`.`id_number`, `l.GroupCourseInstance.Teacher`.`id_photo`, `l.GroupCourseInstance.Teacher`.`id_type`, `l.GroupCourseInstance.Teacher`.`invoice_template`, `l.GroupCourseInstance.Teacher`.`ird_number`, `l.GroupCourseInstance.Teacher`.`is_activate`, `l.GroupCourseInstance.Teacher`.`is_contract`, `l.GroupCourseInstance.Teacher`.`is_left`, `l.GroupCourseInstance.Teacher`.`last_name`, `l.GroupCourseInstance.Teacher`.`level`, `l.GroupCourseInstance.Teacher`.`minimum_hours`, `l.GroupCourseInstance.Teacher`.`mobile_phone`, `l.GroupCourseInstance.Teacher`.`otherfile_url`, `l.GroupCourseInstance.Teacher`.`photo`, `l.GroupCourseInstance.Teacher`.`user_id`, `l.GroupCourseInstance.Teacher`.`visa`, `l.GroupCourseInstance.Course`.`course_id`, `l.GroupCourseInstance.Course`.`course_category_id`, `l.GroupCourseInstance.Course`.`course_name`, `l.GroupCourseInstance.Course`.`course_type`, `l.GroupCourseInstance.Course`.`duration`, `l.GroupCourseInstance.Course`.`level`, `l.GroupCourseInstance.Course`.`price`, `l.GroupCourseInstance.Course`.`teacher_level`, `l.GroupCourseInstance.Room`.`room_id`, `l.GroupCourseInstance.Room`.`created_at`, `l.GroupCourseInstance.Room`.`is_activate`, `l.GroupCourseInstance.Room`.`org_id`, `l.GroupCourseInstance.Room`.`room_name`
FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse`
LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance` ON `w.LearnerGroupCourse`.`group_course_instance_id` = `l.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher` ON `l.GroupCourseInstance`.`teacher_id` = `l.GroupCourseInstance.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course` ON `l.GroupCourseInstance`.`course_id` = `l.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room` ON `l.GroupCourseInstance`.`room_id` = `l.GroupCourseInstance.Room`.`room_id`
INNER JOIN (
    SELECT `w5`.`learner_id`
    FROM `ablemusic`.`learner` AS `w5`
    WHERE `w5`.`learner_id` = @__learnerId_0
    ORDER BY `w5`.`learner_id`
    LIMIT 1
) AS `t6` ON `w.LearnerGroupCourse`.`learner_id` = `t6`.`learner_id`
ORDER BY `t6`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`
2019-07-18 13:45:44.921 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1162.7797ms.
2019-07-18 13:45:44.921 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:45:44.922 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 1164.0827000000002ms
2019-07-18 13:45:44.922 +12:00 [INF] Request finished in 1192.9673ms 200 application/json; charset=utf-8
2019-07-18 13:45:44.931 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/10080  
2019-07-18 13:45:44.931 +12:00 [INF] Policy execution successful.
2019-07-18 13:45:44.931 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:45:44.932 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:45:44.932 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:45:45.118 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:45:45.174 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Parent`.`parent_id`, `w.Parent`.`contact_num`, `w.Parent`.`created_at`, `w.Parent`.`email`, `w.Parent`.`first_name`, `w.Parent`.`last_name`, `w.Parent`.`learner_id`, `w.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `w.Parent`
INNER JOIN (
    SELECT `w0`.`learner_id`
    FROM `ablemusic`.`learner` AS `w0`
    WHERE `w0`.`learner_id` = @__learnerId_0
    ORDER BY `w0`.`learner_id`
    LIMIT 1
) AS `t` ON `w.Parent`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-18 13:45:45.357 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerOthers`.`learner_others_id`, `w.LearnerOthers`.`learner_id`, `w.LearnerOthers`.`learner_level`, `w.LearnerOthers`.`others_type`, `w.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `w.LearnerOthers`
INNER JOIN (
    SELECT `w1`.`learner_id`
    FROM `ablemusic`.`learner` AS `w1`
    WHERE `w1`.`learner_id` = @__learnerId_0
    ORDER BY `w1`.`learner_id`
    LIMIT 1
) AS `t0` ON `w.LearnerOthers`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-18 13:45:45.575 +12:00 [INF] Executed DbCommand (84ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance`.`course_instance_id`, `w.One2oneCourseInstance`.`begin_date`, `w.One2oneCourseInstance`.`course_id`, `w.One2oneCourseInstance`.`end_date`, `w.One2oneCourseInstance`.`invoice_date`, `w.One2oneCourseInstance`.`learner_id`, `w.One2oneCourseInstance`.`org_id`, `w.One2oneCourseInstance`.`room_id`, `w.One2oneCourseInstance`.`teacher_id`, `o.Teacher`.`teacher_id`, `o.Teacher`.`ability`, `o.Teacher`.`comment`, `o.Teacher`.`cv_url`, `o.Teacher`.`dob`, `o.Teacher`.`email`, `o.Teacher`.`expiry_date`, `o.Teacher`.`first_name`, `o.Teacher`.`form_url`, `o.Teacher`.`gender`, `o.Teacher`.`home_phone`, `o.Teacher`.`id_number`, `o.Teacher`.`id_photo`, `o.Teacher`.`id_type`, `o.Teacher`.`invoice_template`, `o.Teacher`.`ird_number`, `o.Teacher`.`is_activate`, `o.Teacher`.`is_contract`, `o.Teacher`.`is_left`, `o.Teacher`.`last_name`, `o.Teacher`.`level`, `o.Teacher`.`minimum_hours`, `o.Teacher`.`mobile_phone`, `o.Teacher`.`otherfile_url`, `o.Teacher`.`photo`, `o.Teacher`.`user_id`, `o.Teacher`.`visa`, `o.Room`.`room_id`, `o.Room`.`created_at`, `o.Room`.`is_activate`, `o.Room`.`org_id`, `o.Room`.`room_name`, `o.Course`.`course_id`, `o.Course`.`course_category_id`, `o.Course`.`course_name`, `o.Course`.`course_type`, `o.Course`.`duration`, `o.Course`.`level`, `o.Course`.`price`, `o.Course`.`teacher_level`, `o.Org`.`org_id`, `o.Org`.`abbr`, `o.Org`.`address`, `o.Org`.`email`, `o.Org`.`is_activate`, `o.Org`.`is_headoffice`, `o.Org`.`localtion_x`, `o.Org`.`localtion_y`, `o.Org`.`org_name`, `o.Org`.`phone`
FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance`
LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher` ON `w.One2oneCourseInstance`.`teacher_id` = `o.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `o.Room` ON `w.One2oneCourseInstance`.`room_id` = `o.Room`.`room_id`
LEFT JOIN `ablemusic`.`course` AS `o.Course` ON `w.One2oneCourseInstance`.`course_id` = `o.Course`.`course_id`
LEFT JOIN `ablemusic`.`org` AS `o.Org` ON `w.One2oneCourseInstance`.`org_id` = `o.Org`.`org_id`
INNER JOIN (
    SELECT `w2`.`learner_id`
    FROM `ablemusic`.`learner` AS `w2`
    WHERE `w2`.`learner_id` = @__learnerId_0
    ORDER BY `w2`.`learner_id`
    LIMIT 1
) AS `t1` ON `w.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`, `w.One2oneCourseInstance`.`course_instance_id`
2019-07-18 13:45:45.665 +12:00 [INF] Executed DbCommand (88ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.Amendment`.`amendment_id`, `w.One2oneCourseInstance.Amendment`.`amend_type`, `w.One2oneCourseInstance.Amendment`.`begin_date`, `w.One2oneCourseInstance.Amendment`.`begin_time`, `w.One2oneCourseInstance.Amendment`.`course_instance_id`, `w.One2oneCourseInstance.Amendment`.`course_schedule_id`, `w.One2oneCourseInstance.Amendment`.`created_at`, `w.One2oneCourseInstance.Amendment`.`day_of_week`, `w.One2oneCourseInstance.Amendment`.`end_date`, `w.One2oneCourseInstance.Amendment`.`end_time`, `w.One2oneCourseInstance.Amendment`.`is_temporary`, `w.One2oneCourseInstance.Amendment`.`learner_id`, `w.One2oneCourseInstance.Amendment`.`org_id`, `w.One2oneCourseInstance.Amendment`.`reason`, `w.One2oneCourseInstance.Amendment`.`room_id`, `w.One2oneCourseInstance.Amendment`.`teacher_id`, `a.Teacher`.`teacher_id`, `a.Teacher`.`ability`, `a.Teacher`.`comment`, `a.Teacher`.`cv_url`, `a.Teacher`.`dob`, `a.Teacher`.`email`, `a.Teacher`.`expiry_date`, `a.Teacher`.`first_name`, `a.Teacher`.`form_url`, `a.Teacher`.`gender`, `a.Teacher`.`home_phone`, `a.Teacher`.`id_number`, `a.Teacher`.`id_photo`, `a.Teacher`.`id_type`, `a.Teacher`.`invoice_template`, `a.Teacher`.`ird_number`, `a.Teacher`.`is_activate`, `a.Teacher`.`is_contract`, `a.Teacher`.`is_left`, `a.Teacher`.`last_name`, `a.Teacher`.`level`, `a.Teacher`.`minimum_hours`, `a.Teacher`.`mobile_phone`, `a.Teacher`.`otherfile_url`, `a.Teacher`.`photo`, `a.Teacher`.`user_id`, `a.Teacher`.`visa`, `a.Room`.`room_id`, `a.Room`.`created_at`, `a.Room`.`is_activate`, `a.Room`.`org_id`, `a.Room`.`room_name`
FROM `ablemusic`.`amendment` AS `w.One2oneCourseInstance.Amendment`
LEFT JOIN `ablemusic`.`teacher` AS `a.Teacher` ON `w.One2oneCourseInstance.Amendment`.`teacher_id` = `a.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `a.Room` ON `w.One2oneCourseInstance.Amendment`.`room_id` = `a.Room`.`room_id`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance0`.`course_instance_id`, `t2`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance0`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher0` ON `w.One2oneCourseInstance0`.`teacher_id` = `o.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room0` ON `w.One2oneCourseInstance0`.`room_id` = `o.Room0`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course0` ON `w.One2oneCourseInstance0`.`course_id` = `o.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org0` ON `w.One2oneCourseInstance0`.`org_id` = `o.Org0`.`org_id`
    INNER JOIN (
        SELECT `w3`.`learner_id`
        FROM `ablemusic`.`learner` AS `w3`
        WHERE `w3`.`learner_id` = @__learnerId_0
        ORDER BY `w3`.`learner_id`
        LIMIT 1
    ) AS `t2` ON `w.One2oneCourseInstance0`.`learner_id` = `t2`.`learner_id`
) AS `t3` ON `w.One2oneCourseInstance.Amendment`.`course_instance_id` = `t3`.`course_instance_id`
ORDER BY `t3`.`learner_id`, `t3`.`course_instance_id`
2019-07-18 13:45:45.861 +12:00 [INF] Executed DbCommand (68ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.CourseSchedule`.`course_schedule_id`, `w.One2oneCourseInstance.CourseSchedule`.`begin_time`, `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id`, `w.One2oneCourseInstance.CourseSchedule`.`day_of_week`, `w.One2oneCourseInstance.CourseSchedule`.`end_time`, `w.One2oneCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `w.One2oneCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance1`.`course_instance_id`, `t4`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance1`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher1` ON `w.One2oneCourseInstance1`.`teacher_id` = `o.Teacher1`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room1` ON `w.One2oneCourseInstance1`.`room_id` = `o.Room1`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course1` ON `w.One2oneCourseInstance1`.`course_id` = `o.Course1`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org1` ON `w.One2oneCourseInstance1`.`org_id` = `o.Org1`.`org_id`
    INNER JOIN (
        SELECT `w4`.`learner_id`
        FROM `ablemusic`.`learner` AS `w4`
        WHERE `w4`.`learner_id` = @__learnerId_0
        ORDER BY `w4`.`learner_id`
        LIMIT 1
    ) AS `t4` ON `w.One2oneCourseInstance1`.`learner_id` = `t4`.`learner_id`
) AS `t5` ON `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id` = `t5`.`course_instance_id`
ORDER BY `t5`.`learner_id`, `t5`.`course_instance_id`
2019-07-18 13:45:46.083 +12:00 [INF] Executed DbCommand (93ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerGroupCourse`.`learner_group_course_id`, `w.LearnerGroupCourse`.`begin_date`, `w.LearnerGroupCourse`.`comment`, `w.LearnerGroupCourse`.`created_at`, `w.LearnerGroupCourse`.`end_date`, `w.LearnerGroupCourse`.`group_course_instance_id`, `w.LearnerGroupCourse`.`invoice_date`, `w.LearnerGroupCourse`.`is_activate`, `w.LearnerGroupCourse`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`, `l.GroupCourseInstance`.`begin_date`, `l.GroupCourseInstance`.`course_id`, `l.GroupCourseInstance`.`end_date`, `l.GroupCourseInstance`.`invoice_date`, `l.GroupCourseInstance`.`is_activate`, `l.GroupCourseInstance`.`is_started`, `l.GroupCourseInstance`.`org_id`, `l.GroupCourseInstance`.`room_id`, `l.GroupCourseInstance`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`ability`, `l.GroupCourseInstance.Teacher`.`comment`, `l.GroupCourseInstance.Teacher`.`cv_url`, `l.GroupCourseInstance.Teacher`.`dob`, `l.GroupCourseInstance.Teacher`.`email`, `l.GroupCourseInstance.Teacher`.`expiry_date`, `l.GroupCourseInstance.Teacher`.`first_name`, `l.GroupCourseInstance.Teacher`.`form_url`, `l.GroupCourseInstance.Teacher`.`gender`, `l.GroupCourseInstance.Teacher`.`home_phone`, `l.GroupCourseInstance.Teacher`.`id_number`, `l.GroupCourseInstance.Teacher`.`id_photo`, `l.GroupCourseInstance.Teacher`.`id_type`, `l.GroupCourseInstance.Teacher`.`invoice_template`, `l.GroupCourseInstance.Teacher`.`ird_number`, `l.GroupCourseInstance.Teacher`.`is_activate`, `l.GroupCourseInstance.Teacher`.`is_contract`, `l.GroupCourseInstance.Teacher`.`is_left`, `l.GroupCourseInstance.Teacher`.`last_name`, `l.GroupCourseInstance.Teacher`.`level`, `l.GroupCourseInstance.Teacher`.`minimum_hours`, `l.GroupCourseInstance.Teacher`.`mobile_phone`, `l.GroupCourseInstance.Teacher`.`otherfile_url`, `l.GroupCourseInstance.Teacher`.`photo`, `l.GroupCourseInstance.Teacher`.`user_id`, `l.GroupCourseInstance.Teacher`.`visa`, `l.GroupCourseInstance.Course`.`course_id`, `l.GroupCourseInstance.Course`.`course_category_id`, `l.GroupCourseInstance.Course`.`course_name`, `l.GroupCourseInstance.Course`.`course_type`, `l.GroupCourseInstance.Course`.`duration`, `l.GroupCourseInstance.Course`.`level`, `l.GroupCourseInstance.Course`.`price`, `l.GroupCourseInstance.Course`.`teacher_level`, `l.GroupCourseInstance.Room`.`room_id`, `l.GroupCourseInstance.Room`.`created_at`, `l.GroupCourseInstance.Room`.`is_activate`, `l.GroupCourseInstance.Room`.`org_id`, `l.GroupCourseInstance.Room`.`room_name`
FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse`
LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance` ON `w.LearnerGroupCourse`.`group_course_instance_id` = `l.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher` ON `l.GroupCourseInstance`.`teacher_id` = `l.GroupCourseInstance.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course` ON `l.GroupCourseInstance`.`course_id` = `l.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room` ON `l.GroupCourseInstance`.`room_id` = `l.GroupCourseInstance.Room`.`room_id`
INNER JOIN (
    SELECT `w5`.`learner_id`
    FROM `ablemusic`.`learner` AS `w5`
    WHERE `w5`.`learner_id` = @__learnerId_0
    ORDER BY `w5`.`learner_id`
    LIMIT 1
) AS `t6` ON `w.LearnerGroupCourse`.`learner_id` = `t6`.`learner_id`
ORDER BY `t6`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`
2019-07-18 13:45:46.084 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1152.0504ms.
2019-07-18 13:45:46.084 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:45:46.085 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 1153.5296ms
2019-07-18 13:45:46.085 +12:00 [INF] Request finished in 1154.709ms 200 application/json; charset=utf-8
2019-07-18 13:45:47.709 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/2  
2019-07-18 13:45:47.709 +12:00 [INF] Policy execution successful.
2019-07-18 13:45:47.709 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 13:45:47.709 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/3  
2019-07-18 13:45:47.710 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:45:47.710 +12:00 [INF] Policy execution successful.
2019-07-18 13:45:47.710 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/4  
2019-07-18 13:45:47.710 +12:00 [INF] Policy execution successful.
2019-07-18 13:45:47.710 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 13:45:47.710 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 13:45:47.711 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:45:47.711 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:45:47.711 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/5  
2019-07-18 13:45:47.712 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:45:47.712 +12:00 [INF] Policy execution successful.
2019-07-18 13:45:47.713 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:45:47.713 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:45:47.713 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 13:45:47.718 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:45:47.718 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner  
2019-07-18 13:45:47.719 +12:00 [INF] Policy execution successful.
2019-07-18 13:45:47.719 +12:00 [INF] Route matched with {action = "GetLearner", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearner() on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:45:47.719 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:45:47.719 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:45:47.720 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:45:47.738 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/null  
2019-07-18 13:45:47.743 +12:00 [INF] Request finished in 1.329ms 404 
2019-07-18 13:45:47.889 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 13:45:47.890 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 179.9556ms.
2019-07-18 13:45:47.890 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:45:47.890 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 181.215ms
2019-07-18 13:45:47.891 +12:00 [INF] Request finished in 182.0985ms 200 application/json; charset=utf-8
2019-07-18 13:45:47.897 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`is_active` = 1
ORDER BY `w`.`learner_id`
2019-07-18 13:45:47.900 +12:00 [INF] Executed DbCommand (63ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 13:45:47.901 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 182.6732ms.
2019-07-18 13:45:47.902 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:45:47.902 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 185.1014ms
2019-07-18 13:45:47.903 +12:00 [INF] Executed DbCommand (65ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 13:45:47.903 +12:00 [INF] Request finished in 191.4842ms 200 application/json; charset=utf-8
2019-07-18 13:45:47.904 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 192.6063ms.
2019-07-18 13:45:47.905 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:45:47.905 +12:00 [INF] Executed DbCommand (67ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 13:45:47.905 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 194.8989ms
2019-07-18 13:45:47.905 +12:00 [INF] Request finished in 195.5604ms 200 application/json; charset=utf-8
2019-07-18 13:45:47.906 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 194.8309ms.
2019-07-18 13:45:47.907 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:45:47.907 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 196.9622ms
2019-07-18 13:45:47.907 +12:00 [INF] Request finished in 197.8838ms 200 application/json; charset=utf-8
2019-07-18 13:45:47.965 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Parent`.`parent_id`, `w.Parent`.`contact_num`, `w.Parent`.`created_at`, `w.Parent`.`email`, `w.Parent`.`first_name`, `w.Parent`.`last_name`, `w.Parent`.`learner_id`, `w.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `w.Parent`
INNER JOIN (
    SELECT `w0`.`learner_id`
    FROM `ablemusic`.`learner` AS `w0`
    WHERE `w0`.`is_active` = 1
) AS `t` ON `w.Parent`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-18 13:45:48.022 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerOthers`.`learner_others_id`, `w.LearnerOthers`.`learner_id`, `w.LearnerOthers`.`learner_level`, `w.LearnerOthers`.`others_type`, `w.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `w.LearnerOthers`
INNER JOIN (
    SELECT `w1`.`learner_id`
    FROM `ablemusic`.`learner` AS `w1`
    WHERE `w1`.`is_active` = 1
) AS `t0` ON `w.LearnerOthers`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-18 13:45:48.141 +12:00 [INF] Executed DbCommand (117ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance`.`course_instance_id`, `w.One2oneCourseInstance`.`begin_date`, `w.One2oneCourseInstance`.`course_id`, `w.One2oneCourseInstance`.`end_date`, `w.One2oneCourseInstance`.`invoice_date`, `w.One2oneCourseInstance`.`learner_id`, `w.One2oneCourseInstance`.`org_id`, `w.One2oneCourseInstance`.`room_id`, `w.One2oneCourseInstance`.`teacher_id`, `o.Teacher`.`teacher_id`, `o.Teacher`.`ability`, `o.Teacher`.`comment`, `o.Teacher`.`cv_url`, `o.Teacher`.`dob`, `o.Teacher`.`email`, `o.Teacher`.`expiry_date`, `o.Teacher`.`first_name`, `o.Teacher`.`form_url`, `o.Teacher`.`gender`, `o.Teacher`.`home_phone`, `o.Teacher`.`id_number`, `o.Teacher`.`id_photo`, `o.Teacher`.`id_type`, `o.Teacher`.`invoice_template`, `o.Teacher`.`ird_number`, `o.Teacher`.`is_activate`, `o.Teacher`.`is_contract`, `o.Teacher`.`is_left`, `o.Teacher`.`last_name`, `o.Teacher`.`level`, `o.Teacher`.`minimum_hours`, `o.Teacher`.`mobile_phone`, `o.Teacher`.`otherfile_url`, `o.Teacher`.`photo`, `o.Teacher`.`user_id`, `o.Teacher`.`visa`, `o.Room`.`room_id`, `o.Room`.`created_at`, `o.Room`.`is_activate`, `o.Room`.`org_id`, `o.Room`.`room_name`, `o.Course`.`course_id`, `o.Course`.`course_category_id`, `o.Course`.`course_name`, `o.Course`.`course_type`, `o.Course`.`duration`, `o.Course`.`level`, `o.Course`.`price`, `o.Course`.`teacher_level`, `o.Org`.`org_id`, `o.Org`.`abbr`, `o.Org`.`address`, `o.Org`.`email`, `o.Org`.`is_activate`, `o.Org`.`is_headoffice`, `o.Org`.`localtion_x`, `o.Org`.`localtion_y`, `o.Org`.`org_name`, `o.Org`.`phone`
FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance`
LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher` ON `w.One2oneCourseInstance`.`teacher_id` = `o.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `o.Room` ON `w.One2oneCourseInstance`.`room_id` = `o.Room`.`room_id`
LEFT JOIN `ablemusic`.`course` AS `o.Course` ON `w.One2oneCourseInstance`.`course_id` = `o.Course`.`course_id`
LEFT JOIN `ablemusic`.`org` AS `o.Org` ON `w.One2oneCourseInstance`.`org_id` = `o.Org`.`org_id`
INNER JOIN (
    SELECT `w2`.`learner_id`
    FROM `ablemusic`.`learner` AS `w2`
    WHERE `w2`.`is_active` = 1
) AS `t1` ON `w.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`, `w.One2oneCourseInstance`.`course_instance_id`
2019-07-18 13:45:48.281 +12:00 [INF] Executed DbCommand (99ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.Amendment`.`amendment_id`, `w.One2oneCourseInstance.Amendment`.`amend_type`, `w.One2oneCourseInstance.Amendment`.`begin_date`, `w.One2oneCourseInstance.Amendment`.`begin_time`, `w.One2oneCourseInstance.Amendment`.`course_instance_id`, `w.One2oneCourseInstance.Amendment`.`course_schedule_id`, `w.One2oneCourseInstance.Amendment`.`created_at`, `w.One2oneCourseInstance.Amendment`.`day_of_week`, `w.One2oneCourseInstance.Amendment`.`end_date`, `w.One2oneCourseInstance.Amendment`.`end_time`, `w.One2oneCourseInstance.Amendment`.`is_temporary`, `w.One2oneCourseInstance.Amendment`.`learner_id`, `w.One2oneCourseInstance.Amendment`.`org_id`, `w.One2oneCourseInstance.Amendment`.`reason`, `w.One2oneCourseInstance.Amendment`.`room_id`, `w.One2oneCourseInstance.Amendment`.`teacher_id`, `a.Teacher`.`teacher_id`, `a.Teacher`.`ability`, `a.Teacher`.`comment`, `a.Teacher`.`cv_url`, `a.Teacher`.`dob`, `a.Teacher`.`email`, `a.Teacher`.`expiry_date`, `a.Teacher`.`first_name`, `a.Teacher`.`form_url`, `a.Teacher`.`gender`, `a.Teacher`.`home_phone`, `a.Teacher`.`id_number`, `a.Teacher`.`id_photo`, `a.Teacher`.`id_type`, `a.Teacher`.`invoice_template`, `a.Teacher`.`ird_number`, `a.Teacher`.`is_activate`, `a.Teacher`.`is_contract`, `a.Teacher`.`is_left`, `a.Teacher`.`last_name`, `a.Teacher`.`level`, `a.Teacher`.`minimum_hours`, `a.Teacher`.`mobile_phone`, `a.Teacher`.`otherfile_url`, `a.Teacher`.`photo`, `a.Teacher`.`user_id`, `a.Teacher`.`visa`, `a.Room`.`room_id`, `a.Room`.`created_at`, `a.Room`.`is_activate`, `a.Room`.`org_id`, `a.Room`.`room_name`
FROM `ablemusic`.`amendment` AS `w.One2oneCourseInstance.Amendment`
LEFT JOIN `ablemusic`.`teacher` AS `a.Teacher` ON `w.One2oneCourseInstance.Amendment`.`teacher_id` = `a.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `a.Room` ON `w.One2oneCourseInstance.Amendment`.`room_id` = `a.Room`.`room_id`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance0`.`course_instance_id`, `t2`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance0`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher0` ON `w.One2oneCourseInstance0`.`teacher_id` = `o.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room0` ON `w.One2oneCourseInstance0`.`room_id` = `o.Room0`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course0` ON `w.One2oneCourseInstance0`.`course_id` = `o.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org0` ON `w.One2oneCourseInstance0`.`org_id` = `o.Org0`.`org_id`
    INNER JOIN (
        SELECT `w3`.`learner_id`
        FROM `ablemusic`.`learner` AS `w3`
        WHERE `w3`.`is_active` = 1
    ) AS `t2` ON `w.One2oneCourseInstance0`.`learner_id` = `t2`.`learner_id`
) AS `t3` ON `w.One2oneCourseInstance.Amendment`.`course_instance_id` = `t3`.`course_instance_id`
ORDER BY `t3`.`learner_id`, `t3`.`course_instance_id`
2019-07-18 13:45:48.360 +12:00 [INF] Executed DbCommand (76ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.CourseSchedule`.`course_schedule_id`, `w.One2oneCourseInstance.CourseSchedule`.`begin_time`, `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id`, `w.One2oneCourseInstance.CourseSchedule`.`day_of_week`, `w.One2oneCourseInstance.CourseSchedule`.`end_time`, `w.One2oneCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `w.One2oneCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance1`.`course_instance_id`, `t4`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance1`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher1` ON `w.One2oneCourseInstance1`.`teacher_id` = `o.Teacher1`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room1` ON `w.One2oneCourseInstance1`.`room_id` = `o.Room1`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course1` ON `w.One2oneCourseInstance1`.`course_id` = `o.Course1`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org1` ON `w.One2oneCourseInstance1`.`org_id` = `o.Org1`.`org_id`
    INNER JOIN (
        SELECT `w4`.`learner_id`
        FROM `ablemusic`.`learner` AS `w4`
        WHERE `w4`.`is_active` = 1
    ) AS `t4` ON `w.One2oneCourseInstance1`.`learner_id` = `t4`.`learner_id`
) AS `t5` ON `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id` = `t5`.`course_instance_id`
ORDER BY `t5`.`learner_id`, `t5`.`course_instance_id`
2019-07-18 13:45:48.465 +12:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerGroupCourse`.`learner_group_course_id`, `w.LearnerGroupCourse`.`begin_date`, `w.LearnerGroupCourse`.`comment`, `w.LearnerGroupCourse`.`created_at`, `w.LearnerGroupCourse`.`end_date`, `w.LearnerGroupCourse`.`group_course_instance_id`, `w.LearnerGroupCourse`.`invoice_date`, `w.LearnerGroupCourse`.`is_activate`, `w.LearnerGroupCourse`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`, `l.GroupCourseInstance`.`begin_date`, `l.GroupCourseInstance`.`course_id`, `l.GroupCourseInstance`.`end_date`, `l.GroupCourseInstance`.`invoice_date`, `l.GroupCourseInstance`.`is_activate`, `l.GroupCourseInstance`.`is_started`, `l.GroupCourseInstance`.`org_id`, `l.GroupCourseInstance`.`room_id`, `l.GroupCourseInstance`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`ability`, `l.GroupCourseInstance.Teacher`.`comment`, `l.GroupCourseInstance.Teacher`.`cv_url`, `l.GroupCourseInstance.Teacher`.`dob`, `l.GroupCourseInstance.Teacher`.`email`, `l.GroupCourseInstance.Teacher`.`expiry_date`, `l.GroupCourseInstance.Teacher`.`first_name`, `l.GroupCourseInstance.Teacher`.`form_url`, `l.GroupCourseInstance.Teacher`.`gender`, `l.GroupCourseInstance.Teacher`.`home_phone`, `l.GroupCourseInstance.Teacher`.`id_number`, `l.GroupCourseInstance.Teacher`.`id_photo`, `l.GroupCourseInstance.Teacher`.`id_type`, `l.GroupCourseInstance.Teacher`.`invoice_template`, `l.GroupCourseInstance.Teacher`.`ird_number`, `l.GroupCourseInstance.Teacher`.`is_activate`, `l.GroupCourseInstance.Teacher`.`is_contract`, `l.GroupCourseInstance.Teacher`.`is_left`, `l.GroupCourseInstance.Teacher`.`last_name`, `l.GroupCourseInstance.Teacher`.`level`, `l.GroupCourseInstance.Teacher`.`minimum_hours`, `l.GroupCourseInstance.Teacher`.`mobile_phone`, `l.GroupCourseInstance.Teacher`.`otherfile_url`, `l.GroupCourseInstance.Teacher`.`photo`, `l.GroupCourseInstance.Teacher`.`user_id`, `l.GroupCourseInstance.Teacher`.`visa`, `l.GroupCourseInstance.Course`.`course_id`, `l.GroupCourseInstance.Course`.`course_category_id`, `l.GroupCourseInstance.Course`.`course_name`, `l.GroupCourseInstance.Course`.`course_type`, `l.GroupCourseInstance.Course`.`duration`, `l.GroupCourseInstance.Course`.`level`, `l.GroupCourseInstance.Course`.`price`, `l.GroupCourseInstance.Course`.`teacher_level`, `l.GroupCourseInstance.Room`.`room_id`, `l.GroupCourseInstance.Room`.`created_at`, `l.GroupCourseInstance.Room`.`is_activate`, `l.GroupCourseInstance.Room`.`org_id`, `l.GroupCourseInstance.Room`.`room_name`
FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse`
LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance` ON `w.LearnerGroupCourse`.`group_course_instance_id` = `l.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher` ON `l.GroupCourseInstance`.`teacher_id` = `l.GroupCourseInstance.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course` ON `l.GroupCourseInstance`.`course_id` = `l.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room` ON `l.GroupCourseInstance`.`room_id` = `l.GroupCourseInstance.Room`.`room_id`
INNER JOIN (
    SELECT `w5`.`learner_id`
    FROM `ablemusic`.`learner` AS `w5`
    WHERE `w5`.`is_active` = 1
) AS `t6` ON `w.LearnerGroupCourse`.`learner_id` = `t6`.`learner_id`
ORDER BY `t6`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`
2019-07-18 13:45:48.546 +12:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l.GroupCourseInstance.CourseSchedule`.`course_schedule_id`, `l.GroupCourseInstance.CourseSchedule`.`begin_time`, `l.GroupCourseInstance.CourseSchedule`.`course_instance_id`, `l.GroupCourseInstance.CourseSchedule`.`day_of_week`, `l.GroupCourseInstance.CourseSchedule`.`end_time`, `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `l.GroupCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `l.GroupCourseInstance0`.`group_course_instance_id`, `t7`.`learner_id`
    FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse0`
    LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance0` ON `w.LearnerGroupCourse0`.`group_course_instance_id` = `l.GroupCourseInstance0`.`group_course_instance_id`
    LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher0` ON `l.GroupCourseInstance0`.`teacher_id` = `l.GroupCourseInstance.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course0` ON `l.GroupCourseInstance0`.`course_id` = `l.GroupCourseInstance.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room0` ON `l.GroupCourseInstance0`.`room_id` = `l.GroupCourseInstance.Room0`.`room_id`
    INNER JOIN (
        SELECT `w6`.`learner_id`
        FROM `ablemusic`.`learner` AS `w6`
        WHERE `w6`.`is_active` = 1
    ) AS `t7` ON `w.LearnerGroupCourse0`.`learner_id` = `t7`.`learner_id`
) AS `t8` ON `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id` = `t8`.`group_course_instance_id`
ORDER BY `t8`.`learner_id`, `t8`.`group_course_instance_id`
2019-07-18 13:45:48.592 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 872.9777ms.
2019-07-18 13:45:48.592 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:45:48.599 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) in 879.8844ms
2019-07-18 13:45:48.599 +12:00 [INF] Request finished in 880.9064ms 200 application/json; charset=utf-8
2019-07-18 13:46:26.898 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/3  
2019-07-18 13:46:26.898 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/2  
2019-07-18 13:46:26.899 +12:00 [INF] Policy execution successful.
2019-07-18 13:46:26.899 +12:00 [INF] Policy execution successful.
2019-07-18 13:46:26.901 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 13:46:26.901 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 13:46:26.909 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:46:26.909 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:46:26.909 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/4  
2019-07-18 13:46:26.909 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/5  
2019-07-18 13:46:26.909 +12:00 [INF] Policy execution successful.
2019-07-18 13:46:26.909 +12:00 [INF] Policy execution successful.
2019-07-18 13:46:26.913 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 13:46:26.913 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 13:46:26.914 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:46:26.914 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:46:26.914 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:46:26.914 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:46:26.919 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner  
2019-07-18 13:46:26.919 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:46:26.919 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:46:26.919 +12:00 [INF] Policy execution successful.
2019-07-18 13:46:26.922 +12:00 [INF] Route matched with {action = "GetLearner", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearner() on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:46:26.927 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:46:26.931 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/null  
2019-07-18 13:46:26.931 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:46:26.932 +12:00 [INF] Request finished in 0.4053ms 404 
2019-07-18 13:46:27.101 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 13:46:27.102 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 192.9566ms.
2019-07-18 13:46:27.102 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:46:27.103 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 202.0874ms
2019-07-18 13:46:27.103 +12:00 [INF] Request finished in 204.8204ms 200 application/json; charset=utf-8
2019-07-18 13:46:27.104 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 13:46:27.105 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 196.17190000000002ms.
2019-07-18 13:46:27.106 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 13:46:27.106 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:46:27.107 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 201.9899ms
2019-07-18 13:46:27.107 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 192.2458ms.
2019-07-18 13:46:27.107 +12:00 [INF] Request finished in 208.6772ms 200 application/json; charset=utf-8
2019-07-18 13:46:27.107 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:46:27.108 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 13:46:27.108 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 194.65040000000002ms
2019-07-18 13:46:27.108 +12:00 [INF] Request finished in 202.8482ms 200 application/json; charset=utf-8
2019-07-18 13:46:27.108 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 193.73780000000002ms.
2019-07-18 13:46:27.109 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:46:27.109 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 195.0601ms
2019-07-18 13:46:27.110 +12:00 [INF] Request finished in 204.4762ms 200 application/json; charset=utf-8
2019-07-18 13:46:27.117 +12:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`is_active` = 1
ORDER BY `w`.`learner_id`
2019-07-18 13:46:27.182 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Parent`.`parent_id`, `w.Parent`.`contact_num`, `w.Parent`.`created_at`, `w.Parent`.`email`, `w.Parent`.`first_name`, `w.Parent`.`last_name`, `w.Parent`.`learner_id`, `w.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `w.Parent`
INNER JOIN (
    SELECT `w0`.`learner_id`
    FROM `ablemusic`.`learner` AS `w0`
    WHERE `w0`.`is_active` = 1
) AS `t` ON `w.Parent`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-18 13:46:27.239 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerOthers`.`learner_others_id`, `w.LearnerOthers`.`learner_id`, `w.LearnerOthers`.`learner_level`, `w.LearnerOthers`.`others_type`, `w.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `w.LearnerOthers`
INNER JOIN (
    SELECT `w1`.`learner_id`
    FROM `ablemusic`.`learner` AS `w1`
    WHERE `w1`.`is_active` = 1
) AS `t0` ON `w.LearnerOthers`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-18 13:46:27.317 +12:00 [INF] Executed DbCommand (76ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance`.`course_instance_id`, `w.One2oneCourseInstance`.`begin_date`, `w.One2oneCourseInstance`.`course_id`, `w.One2oneCourseInstance`.`end_date`, `w.One2oneCourseInstance`.`invoice_date`, `w.One2oneCourseInstance`.`learner_id`, `w.One2oneCourseInstance`.`org_id`, `w.One2oneCourseInstance`.`room_id`, `w.One2oneCourseInstance`.`teacher_id`, `o.Teacher`.`teacher_id`, `o.Teacher`.`ability`, `o.Teacher`.`comment`, `o.Teacher`.`cv_url`, `o.Teacher`.`dob`, `o.Teacher`.`email`, `o.Teacher`.`expiry_date`, `o.Teacher`.`first_name`, `o.Teacher`.`form_url`, `o.Teacher`.`gender`, `o.Teacher`.`home_phone`, `o.Teacher`.`id_number`, `o.Teacher`.`id_photo`, `o.Teacher`.`id_type`, `o.Teacher`.`invoice_template`, `o.Teacher`.`ird_number`, `o.Teacher`.`is_activate`, `o.Teacher`.`is_contract`, `o.Teacher`.`is_left`, `o.Teacher`.`last_name`, `o.Teacher`.`level`, `o.Teacher`.`minimum_hours`, `o.Teacher`.`mobile_phone`, `o.Teacher`.`otherfile_url`, `o.Teacher`.`photo`, `o.Teacher`.`user_id`, `o.Teacher`.`visa`, `o.Room`.`room_id`, `o.Room`.`created_at`, `o.Room`.`is_activate`, `o.Room`.`org_id`, `o.Room`.`room_name`, `o.Course`.`course_id`, `o.Course`.`course_category_id`, `o.Course`.`course_name`, `o.Course`.`course_type`, `o.Course`.`duration`, `o.Course`.`level`, `o.Course`.`price`, `o.Course`.`teacher_level`, `o.Org`.`org_id`, `o.Org`.`abbr`, `o.Org`.`address`, `o.Org`.`email`, `o.Org`.`is_activate`, `o.Org`.`is_headoffice`, `o.Org`.`localtion_x`, `o.Org`.`localtion_y`, `o.Org`.`org_name`, `o.Org`.`phone`
FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance`
LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher` ON `w.One2oneCourseInstance`.`teacher_id` = `o.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `o.Room` ON `w.One2oneCourseInstance`.`room_id` = `o.Room`.`room_id`
LEFT JOIN `ablemusic`.`course` AS `o.Course` ON `w.One2oneCourseInstance`.`course_id` = `o.Course`.`course_id`
LEFT JOIN `ablemusic`.`org` AS `o.Org` ON `w.One2oneCourseInstance`.`org_id` = `o.Org`.`org_id`
INNER JOIN (
    SELECT `w2`.`learner_id`
    FROM `ablemusic`.`learner` AS `w2`
    WHERE `w2`.`is_active` = 1
) AS `t1` ON `w.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`, `w.One2oneCourseInstance`.`course_instance_id`
2019-07-18 13:46:27.446 +12:00 [INF] Executed DbCommand (93ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.Amendment`.`amendment_id`, `w.One2oneCourseInstance.Amendment`.`amend_type`, `w.One2oneCourseInstance.Amendment`.`begin_date`, `w.One2oneCourseInstance.Amendment`.`begin_time`, `w.One2oneCourseInstance.Amendment`.`course_instance_id`, `w.One2oneCourseInstance.Amendment`.`course_schedule_id`, `w.One2oneCourseInstance.Amendment`.`created_at`, `w.One2oneCourseInstance.Amendment`.`day_of_week`, `w.One2oneCourseInstance.Amendment`.`end_date`, `w.One2oneCourseInstance.Amendment`.`end_time`, `w.One2oneCourseInstance.Amendment`.`is_temporary`, `w.One2oneCourseInstance.Amendment`.`learner_id`, `w.One2oneCourseInstance.Amendment`.`org_id`, `w.One2oneCourseInstance.Amendment`.`reason`, `w.One2oneCourseInstance.Amendment`.`room_id`, `w.One2oneCourseInstance.Amendment`.`teacher_id`, `a.Teacher`.`teacher_id`, `a.Teacher`.`ability`, `a.Teacher`.`comment`, `a.Teacher`.`cv_url`, `a.Teacher`.`dob`, `a.Teacher`.`email`, `a.Teacher`.`expiry_date`, `a.Teacher`.`first_name`, `a.Teacher`.`form_url`, `a.Teacher`.`gender`, `a.Teacher`.`home_phone`, `a.Teacher`.`id_number`, `a.Teacher`.`id_photo`, `a.Teacher`.`id_type`, `a.Teacher`.`invoice_template`, `a.Teacher`.`ird_number`, `a.Teacher`.`is_activate`, `a.Teacher`.`is_contract`, `a.Teacher`.`is_left`, `a.Teacher`.`last_name`, `a.Teacher`.`level`, `a.Teacher`.`minimum_hours`, `a.Teacher`.`mobile_phone`, `a.Teacher`.`otherfile_url`, `a.Teacher`.`photo`, `a.Teacher`.`user_id`, `a.Teacher`.`visa`, `a.Room`.`room_id`, `a.Room`.`created_at`, `a.Room`.`is_activate`, `a.Room`.`org_id`, `a.Room`.`room_name`
FROM `ablemusic`.`amendment` AS `w.One2oneCourseInstance.Amendment`
LEFT JOIN `ablemusic`.`teacher` AS `a.Teacher` ON `w.One2oneCourseInstance.Amendment`.`teacher_id` = `a.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `a.Room` ON `w.One2oneCourseInstance.Amendment`.`room_id` = `a.Room`.`room_id`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance0`.`course_instance_id`, `t2`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance0`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher0` ON `w.One2oneCourseInstance0`.`teacher_id` = `o.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room0` ON `w.One2oneCourseInstance0`.`room_id` = `o.Room0`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course0` ON `w.One2oneCourseInstance0`.`course_id` = `o.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org0` ON `w.One2oneCourseInstance0`.`org_id` = `o.Org0`.`org_id`
    INNER JOIN (
        SELECT `w3`.`learner_id`
        FROM `ablemusic`.`learner` AS `w3`
        WHERE `w3`.`is_active` = 1
    ) AS `t2` ON `w.One2oneCourseInstance0`.`learner_id` = `t2`.`learner_id`
) AS `t3` ON `w.One2oneCourseInstance.Amendment`.`course_instance_id` = `t3`.`course_instance_id`
ORDER BY `t3`.`learner_id`, `t3`.`course_instance_id`
2019-07-18 13:46:27.518 +12:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.CourseSchedule`.`course_schedule_id`, `w.One2oneCourseInstance.CourseSchedule`.`begin_time`, `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id`, `w.One2oneCourseInstance.CourseSchedule`.`day_of_week`, `w.One2oneCourseInstance.CourseSchedule`.`end_time`, `w.One2oneCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `w.One2oneCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance1`.`course_instance_id`, `t4`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance1`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher1` ON `w.One2oneCourseInstance1`.`teacher_id` = `o.Teacher1`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room1` ON `w.One2oneCourseInstance1`.`room_id` = `o.Room1`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course1` ON `w.One2oneCourseInstance1`.`course_id` = `o.Course1`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org1` ON `w.One2oneCourseInstance1`.`org_id` = `o.Org1`.`org_id`
    INNER JOIN (
        SELECT `w4`.`learner_id`
        FROM `ablemusic`.`learner` AS `w4`
        WHERE `w4`.`is_active` = 1
    ) AS `t4` ON `w.One2oneCourseInstance1`.`learner_id` = `t4`.`learner_id`
) AS `t5` ON `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id` = `t5`.`course_instance_id`
ORDER BY `t5`.`learner_id`, `t5`.`course_instance_id`
2019-07-18 13:46:27.616 +12:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerGroupCourse`.`learner_group_course_id`, `w.LearnerGroupCourse`.`begin_date`, `w.LearnerGroupCourse`.`comment`, `w.LearnerGroupCourse`.`created_at`, `w.LearnerGroupCourse`.`end_date`, `w.LearnerGroupCourse`.`group_course_instance_id`, `w.LearnerGroupCourse`.`invoice_date`, `w.LearnerGroupCourse`.`is_activate`, `w.LearnerGroupCourse`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`, `l.GroupCourseInstance`.`begin_date`, `l.GroupCourseInstance`.`course_id`, `l.GroupCourseInstance`.`end_date`, `l.GroupCourseInstance`.`invoice_date`, `l.GroupCourseInstance`.`is_activate`, `l.GroupCourseInstance`.`is_started`, `l.GroupCourseInstance`.`org_id`, `l.GroupCourseInstance`.`room_id`, `l.GroupCourseInstance`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`ability`, `l.GroupCourseInstance.Teacher`.`comment`, `l.GroupCourseInstance.Teacher`.`cv_url`, `l.GroupCourseInstance.Teacher`.`dob`, `l.GroupCourseInstance.Teacher`.`email`, `l.GroupCourseInstance.Teacher`.`expiry_date`, `l.GroupCourseInstance.Teacher`.`first_name`, `l.GroupCourseInstance.Teacher`.`form_url`, `l.GroupCourseInstance.Teacher`.`gender`, `l.GroupCourseInstance.Teacher`.`home_phone`, `l.GroupCourseInstance.Teacher`.`id_number`, `l.GroupCourseInstance.Teacher`.`id_photo`, `l.GroupCourseInstance.Teacher`.`id_type`, `l.GroupCourseInstance.Teacher`.`invoice_template`, `l.GroupCourseInstance.Teacher`.`ird_number`, `l.GroupCourseInstance.Teacher`.`is_activate`, `l.GroupCourseInstance.Teacher`.`is_contract`, `l.GroupCourseInstance.Teacher`.`is_left`, `l.GroupCourseInstance.Teacher`.`last_name`, `l.GroupCourseInstance.Teacher`.`level`, `l.GroupCourseInstance.Teacher`.`minimum_hours`, `l.GroupCourseInstance.Teacher`.`mobile_phone`, `l.GroupCourseInstance.Teacher`.`otherfile_url`, `l.GroupCourseInstance.Teacher`.`photo`, `l.GroupCourseInstance.Teacher`.`user_id`, `l.GroupCourseInstance.Teacher`.`visa`, `l.GroupCourseInstance.Course`.`course_id`, `l.GroupCourseInstance.Course`.`course_category_id`, `l.GroupCourseInstance.Course`.`course_name`, `l.GroupCourseInstance.Course`.`course_type`, `l.GroupCourseInstance.Course`.`duration`, `l.GroupCourseInstance.Course`.`level`, `l.GroupCourseInstance.Course`.`price`, `l.GroupCourseInstance.Course`.`teacher_level`, `l.GroupCourseInstance.Room`.`room_id`, `l.GroupCourseInstance.Room`.`created_at`, `l.GroupCourseInstance.Room`.`is_activate`, `l.GroupCourseInstance.Room`.`org_id`, `l.GroupCourseInstance.Room`.`room_name`
FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse`
LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance` ON `w.LearnerGroupCourse`.`group_course_instance_id` = `l.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher` ON `l.GroupCourseInstance`.`teacher_id` = `l.GroupCourseInstance.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course` ON `l.GroupCourseInstance`.`course_id` = `l.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room` ON `l.GroupCourseInstance`.`room_id` = `l.GroupCourseInstance.Room`.`room_id`
INNER JOIN (
    SELECT `w5`.`learner_id`
    FROM `ablemusic`.`learner` AS `w5`
    WHERE `w5`.`is_active` = 1
) AS `t6` ON `w.LearnerGroupCourse`.`learner_id` = `t6`.`learner_id`
ORDER BY `t6`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`
2019-07-18 13:46:27.699 +12:00 [INF] Executed DbCommand (70ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l.GroupCourseInstance.CourseSchedule`.`course_schedule_id`, `l.GroupCourseInstance.CourseSchedule`.`begin_time`, `l.GroupCourseInstance.CourseSchedule`.`course_instance_id`, `l.GroupCourseInstance.CourseSchedule`.`day_of_week`, `l.GroupCourseInstance.CourseSchedule`.`end_time`, `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `l.GroupCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `l.GroupCourseInstance0`.`group_course_instance_id`, `t7`.`learner_id`
    FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse0`
    LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance0` ON `w.LearnerGroupCourse0`.`group_course_instance_id` = `l.GroupCourseInstance0`.`group_course_instance_id`
    LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher0` ON `l.GroupCourseInstance0`.`teacher_id` = `l.GroupCourseInstance.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course0` ON `l.GroupCourseInstance0`.`course_id` = `l.GroupCourseInstance.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room0` ON `l.GroupCourseInstance0`.`room_id` = `l.GroupCourseInstance.Room0`.`room_id`
    INNER JOIN (
        SELECT `w6`.`learner_id`
        FROM `ablemusic`.`learner` AS `w6`
        WHERE `w6`.`is_active` = 1
    ) AS `t7` ON `w.LearnerGroupCourse0`.`learner_id` = `t7`.`learner_id`
) AS `t8` ON `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id` = `t8`.`group_course_instance_id`
ORDER BY `t8`.`learner_id`, `t8`.`group_course_instance_id`
2019-07-18 13:46:27.747 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 819.8005ms.
2019-07-18 13:46:27.747 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:46:27.753 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) in 830.1467ms
2019-07-18 13:46:27.753 +12:00 [INF] Request finished in 834.0608ms 200 application/json; charset=utf-8
2019-07-18 13:46:30.458 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-30  
2019-07-18 13:46:30.458 +12:00 [INF] Policy execution successful.
2019-07-18 13:46:30.458 +12:00 [INF] Request finished in 0.3998ms 204 
2019-07-18 13:46:30.469 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-30  
2019-07-18 13:46:30.470 +12:00 [INF] Policy execution successful.
2019-07-18 13:46:30.470 +12:00 [INF] Successfully validated the token.
2019-07-18 13:46:30.470 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:46:30.471 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:46:30.471 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:46:30.651 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:46:30.843 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:46:30.881 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:46:30.881 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:46:30.881 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:46:30.881 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:46:30.881 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:46:30.881 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:46:30.881 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:46:30.881 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:46:30.916 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:46:31.201 +12:00 [INF] Executed DbCommand (106ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:46:33.058 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2587.3083ms.
2019-07-18 13:46:33.058 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:46:33.059 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 2588.3385000000003ms
2019-07-18 13:46:33.059 +12:00 [INF] Request finished in 2589.3772ms 200 application/json; charset=utf-8
2019-07-18 13:46:37.435 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/10080  
2019-07-18 13:46:37.436 +12:00 [INF] Policy execution successful.
2019-07-18 13:46:37.436 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:46:37.436 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:46:37.437 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:46:37.625 +12:00 [INF] Executed DbCommand (61ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:46:37.680 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Parent`.`parent_id`, `w.Parent`.`contact_num`, `w.Parent`.`created_at`, `w.Parent`.`email`, `w.Parent`.`first_name`, `w.Parent`.`last_name`, `w.Parent`.`learner_id`, `w.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `w.Parent`
INNER JOIN (
    SELECT `w0`.`learner_id`
    FROM `ablemusic`.`learner` AS `w0`
    WHERE `w0`.`learner_id` = @__learnerId_0
    ORDER BY `w0`.`learner_id`
    LIMIT 1
) AS `t` ON `w.Parent`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-18 13:46:37.859 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerOthers`.`learner_others_id`, `w.LearnerOthers`.`learner_id`, `w.LearnerOthers`.`learner_level`, `w.LearnerOthers`.`others_type`, `w.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `w.LearnerOthers`
INNER JOIN (
    SELECT `w1`.`learner_id`
    FROM `ablemusic`.`learner` AS `w1`
    WHERE `w1`.`learner_id` = @__learnerId_0
    ORDER BY `w1`.`learner_id`
    LIMIT 1
) AS `t0` ON `w.LearnerOthers`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-18 13:46:38.063 +12:00 [INF] Executed DbCommand (75ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance`.`course_instance_id`, `w.One2oneCourseInstance`.`begin_date`, `w.One2oneCourseInstance`.`course_id`, `w.One2oneCourseInstance`.`end_date`, `w.One2oneCourseInstance`.`invoice_date`, `w.One2oneCourseInstance`.`learner_id`, `w.One2oneCourseInstance`.`org_id`, `w.One2oneCourseInstance`.`room_id`, `w.One2oneCourseInstance`.`teacher_id`, `o.Teacher`.`teacher_id`, `o.Teacher`.`ability`, `o.Teacher`.`comment`, `o.Teacher`.`cv_url`, `o.Teacher`.`dob`, `o.Teacher`.`email`, `o.Teacher`.`expiry_date`, `o.Teacher`.`first_name`, `o.Teacher`.`form_url`, `o.Teacher`.`gender`, `o.Teacher`.`home_phone`, `o.Teacher`.`id_number`, `o.Teacher`.`id_photo`, `o.Teacher`.`id_type`, `o.Teacher`.`invoice_template`, `o.Teacher`.`ird_number`, `o.Teacher`.`is_activate`, `o.Teacher`.`is_contract`, `o.Teacher`.`is_left`, `o.Teacher`.`last_name`, `o.Teacher`.`level`, `o.Teacher`.`minimum_hours`, `o.Teacher`.`mobile_phone`, `o.Teacher`.`otherfile_url`, `o.Teacher`.`photo`, `o.Teacher`.`user_id`, `o.Teacher`.`visa`, `o.Room`.`room_id`, `o.Room`.`created_at`, `o.Room`.`is_activate`, `o.Room`.`org_id`, `o.Room`.`room_name`, `o.Course`.`course_id`, `o.Course`.`course_category_id`, `o.Course`.`course_name`, `o.Course`.`course_type`, `o.Course`.`duration`, `o.Course`.`level`, `o.Course`.`price`, `o.Course`.`teacher_level`, `o.Org`.`org_id`, `o.Org`.`abbr`, `o.Org`.`address`, `o.Org`.`email`, `o.Org`.`is_activate`, `o.Org`.`is_headoffice`, `o.Org`.`localtion_x`, `o.Org`.`localtion_y`, `o.Org`.`org_name`, `o.Org`.`phone`
FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance`
LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher` ON `w.One2oneCourseInstance`.`teacher_id` = `o.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `o.Room` ON `w.One2oneCourseInstance`.`room_id` = `o.Room`.`room_id`
LEFT JOIN `ablemusic`.`course` AS `o.Course` ON `w.One2oneCourseInstance`.`course_id` = `o.Course`.`course_id`
LEFT JOIN `ablemusic`.`org` AS `o.Org` ON `w.One2oneCourseInstance`.`org_id` = `o.Org`.`org_id`
INNER JOIN (
    SELECT `w2`.`learner_id`
    FROM `ablemusic`.`learner` AS `w2`
    WHERE `w2`.`learner_id` = @__learnerId_0
    ORDER BY `w2`.`learner_id`
    LIMIT 1
) AS `t1` ON `w.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`, `w.One2oneCourseInstance`.`course_instance_id`
2019-07-18 13:46:38.149 +12:00 [INF] Executed DbCommand (85ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.Amendment`.`amendment_id`, `w.One2oneCourseInstance.Amendment`.`amend_type`, `w.One2oneCourseInstance.Amendment`.`begin_date`, `w.One2oneCourseInstance.Amendment`.`begin_time`, `w.One2oneCourseInstance.Amendment`.`course_instance_id`, `w.One2oneCourseInstance.Amendment`.`course_schedule_id`, `w.One2oneCourseInstance.Amendment`.`created_at`, `w.One2oneCourseInstance.Amendment`.`day_of_week`, `w.One2oneCourseInstance.Amendment`.`end_date`, `w.One2oneCourseInstance.Amendment`.`end_time`, `w.One2oneCourseInstance.Amendment`.`is_temporary`, `w.One2oneCourseInstance.Amendment`.`learner_id`, `w.One2oneCourseInstance.Amendment`.`org_id`, `w.One2oneCourseInstance.Amendment`.`reason`, `w.One2oneCourseInstance.Amendment`.`room_id`, `w.One2oneCourseInstance.Amendment`.`teacher_id`, `a.Teacher`.`teacher_id`, `a.Teacher`.`ability`, `a.Teacher`.`comment`, `a.Teacher`.`cv_url`, `a.Teacher`.`dob`, `a.Teacher`.`email`, `a.Teacher`.`expiry_date`, `a.Teacher`.`first_name`, `a.Teacher`.`form_url`, `a.Teacher`.`gender`, `a.Teacher`.`home_phone`, `a.Teacher`.`id_number`, `a.Teacher`.`id_photo`, `a.Teacher`.`id_type`, `a.Teacher`.`invoice_template`, `a.Teacher`.`ird_number`, `a.Teacher`.`is_activate`, `a.Teacher`.`is_contract`, `a.Teacher`.`is_left`, `a.Teacher`.`last_name`, `a.Teacher`.`level`, `a.Teacher`.`minimum_hours`, `a.Teacher`.`mobile_phone`, `a.Teacher`.`otherfile_url`, `a.Teacher`.`photo`, `a.Teacher`.`user_id`, `a.Teacher`.`visa`, `a.Room`.`room_id`, `a.Room`.`created_at`, `a.Room`.`is_activate`, `a.Room`.`org_id`, `a.Room`.`room_name`
FROM `ablemusic`.`amendment` AS `w.One2oneCourseInstance.Amendment`
LEFT JOIN `ablemusic`.`teacher` AS `a.Teacher` ON `w.One2oneCourseInstance.Amendment`.`teacher_id` = `a.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `a.Room` ON `w.One2oneCourseInstance.Amendment`.`room_id` = `a.Room`.`room_id`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance0`.`course_instance_id`, `t2`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance0`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher0` ON `w.One2oneCourseInstance0`.`teacher_id` = `o.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room0` ON `w.One2oneCourseInstance0`.`room_id` = `o.Room0`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course0` ON `w.One2oneCourseInstance0`.`course_id` = `o.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org0` ON `w.One2oneCourseInstance0`.`org_id` = `o.Org0`.`org_id`
    INNER JOIN (
        SELECT `w3`.`learner_id`
        FROM `ablemusic`.`learner` AS `w3`
        WHERE `w3`.`learner_id` = @__learnerId_0
        ORDER BY `w3`.`learner_id`
        LIMIT 1
    ) AS `t2` ON `w.One2oneCourseInstance0`.`learner_id` = `t2`.`learner_id`
) AS `t3` ON `w.One2oneCourseInstance.Amendment`.`course_instance_id` = `t3`.`course_instance_id`
ORDER BY `t3`.`learner_id`, `t3`.`course_instance_id`
2019-07-18 13:46:38.342 +12:00 [INF] Executed DbCommand (65ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.CourseSchedule`.`course_schedule_id`, `w.One2oneCourseInstance.CourseSchedule`.`begin_time`, `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id`, `w.One2oneCourseInstance.CourseSchedule`.`day_of_week`, `w.One2oneCourseInstance.CourseSchedule`.`end_time`, `w.One2oneCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `w.One2oneCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance1`.`course_instance_id`, `t4`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance1`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher1` ON `w.One2oneCourseInstance1`.`teacher_id` = `o.Teacher1`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room1` ON `w.One2oneCourseInstance1`.`room_id` = `o.Room1`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course1` ON `w.One2oneCourseInstance1`.`course_id` = `o.Course1`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org1` ON `w.One2oneCourseInstance1`.`org_id` = `o.Org1`.`org_id`
    INNER JOIN (
        SELECT `w4`.`learner_id`
        FROM `ablemusic`.`learner` AS `w4`
        WHERE `w4`.`learner_id` = @__learnerId_0
        ORDER BY `w4`.`learner_id`
        LIMIT 1
    ) AS `t4` ON `w.One2oneCourseInstance1`.`learner_id` = `t4`.`learner_id`
) AS `t5` ON `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id` = `t5`.`course_instance_id`
ORDER BY `t5`.`learner_id`, `t5`.`course_instance_id`
2019-07-18 13:46:38.559 +12:00 [INF] Executed DbCommand (90ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerGroupCourse`.`learner_group_course_id`, `w.LearnerGroupCourse`.`begin_date`, `w.LearnerGroupCourse`.`comment`, `w.LearnerGroupCourse`.`created_at`, `w.LearnerGroupCourse`.`end_date`, `w.LearnerGroupCourse`.`group_course_instance_id`, `w.LearnerGroupCourse`.`invoice_date`, `w.LearnerGroupCourse`.`is_activate`, `w.LearnerGroupCourse`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`, `l.GroupCourseInstance`.`begin_date`, `l.GroupCourseInstance`.`course_id`, `l.GroupCourseInstance`.`end_date`, `l.GroupCourseInstance`.`invoice_date`, `l.GroupCourseInstance`.`is_activate`, `l.GroupCourseInstance`.`is_started`, `l.GroupCourseInstance`.`org_id`, `l.GroupCourseInstance`.`room_id`, `l.GroupCourseInstance`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`ability`, `l.GroupCourseInstance.Teacher`.`comment`, `l.GroupCourseInstance.Teacher`.`cv_url`, `l.GroupCourseInstance.Teacher`.`dob`, `l.GroupCourseInstance.Teacher`.`email`, `l.GroupCourseInstance.Teacher`.`expiry_date`, `l.GroupCourseInstance.Teacher`.`first_name`, `l.GroupCourseInstance.Teacher`.`form_url`, `l.GroupCourseInstance.Teacher`.`gender`, `l.GroupCourseInstance.Teacher`.`home_phone`, `l.GroupCourseInstance.Teacher`.`id_number`, `l.GroupCourseInstance.Teacher`.`id_photo`, `l.GroupCourseInstance.Teacher`.`id_type`, `l.GroupCourseInstance.Teacher`.`invoice_template`, `l.GroupCourseInstance.Teacher`.`ird_number`, `l.GroupCourseInstance.Teacher`.`is_activate`, `l.GroupCourseInstance.Teacher`.`is_contract`, `l.GroupCourseInstance.Teacher`.`is_left`, `l.GroupCourseInstance.Teacher`.`last_name`, `l.GroupCourseInstance.Teacher`.`level`, `l.GroupCourseInstance.Teacher`.`minimum_hours`, `l.GroupCourseInstance.Teacher`.`mobile_phone`, `l.GroupCourseInstance.Teacher`.`otherfile_url`, `l.GroupCourseInstance.Teacher`.`photo`, `l.GroupCourseInstance.Teacher`.`user_id`, `l.GroupCourseInstance.Teacher`.`visa`, `l.GroupCourseInstance.Course`.`course_id`, `l.GroupCourseInstance.Course`.`course_category_id`, `l.GroupCourseInstance.Course`.`course_name`, `l.GroupCourseInstance.Course`.`course_type`, `l.GroupCourseInstance.Course`.`duration`, `l.GroupCourseInstance.Course`.`level`, `l.GroupCourseInstance.Course`.`price`, `l.GroupCourseInstance.Course`.`teacher_level`, `l.GroupCourseInstance.Room`.`room_id`, `l.GroupCourseInstance.Room`.`created_at`, `l.GroupCourseInstance.Room`.`is_activate`, `l.GroupCourseInstance.Room`.`org_id`, `l.GroupCourseInstance.Room`.`room_name`
FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse`
LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance` ON `w.LearnerGroupCourse`.`group_course_instance_id` = `l.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher` ON `l.GroupCourseInstance`.`teacher_id` = `l.GroupCourseInstance.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course` ON `l.GroupCourseInstance`.`course_id` = `l.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room` ON `l.GroupCourseInstance`.`room_id` = `l.GroupCourseInstance.Room`.`room_id`
INNER JOIN (
    SELECT `w5`.`learner_id`
    FROM `ablemusic`.`learner` AS `w5`
    WHERE `w5`.`learner_id` = @__learnerId_0
    ORDER BY `w5`.`learner_id`
    LIMIT 1
) AS `t6` ON `w.LearnerGroupCourse`.`learner_id` = `t6`.`learner_id`
ORDER BY `t6`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`
2019-07-18 13:46:38.560 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1123.7808ms.
2019-07-18 13:46:38.561 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:46:38.562 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 1125.8236ms
2019-07-18 13:46:38.562 +12:00 [INF] Request finished in 1126.8443ms 200 application/json; charset=utf-8
2019-07-18 13:46:38.579 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/10080  
2019-07-18 13:46:38.579 +12:00 [INF] Policy execution successful.
2019-07-18 13:46:38.579 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:46:38.580 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:46:38.581 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:46:38.760 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:46:38.815 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Parent`.`parent_id`, `w.Parent`.`contact_num`, `w.Parent`.`created_at`, `w.Parent`.`email`, `w.Parent`.`first_name`, `w.Parent`.`last_name`, `w.Parent`.`learner_id`, `w.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `w.Parent`
INNER JOIN (
    SELECT `w0`.`learner_id`
    FROM `ablemusic`.`learner` AS `w0`
    WHERE `w0`.`learner_id` = @__learnerId_0
    ORDER BY `w0`.`learner_id`
    LIMIT 1
) AS `t` ON `w.Parent`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-18 13:46:38.994 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerOthers`.`learner_others_id`, `w.LearnerOthers`.`learner_id`, `w.LearnerOthers`.`learner_level`, `w.LearnerOthers`.`others_type`, `w.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `w.LearnerOthers`
INNER JOIN (
    SELECT `w1`.`learner_id`
    FROM `ablemusic`.`learner` AS `w1`
    WHERE `w1`.`learner_id` = @__learnerId_0
    ORDER BY `w1`.`learner_id`
    LIMIT 1
) AS `t0` ON `w.LearnerOthers`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-18 13:46:39.197 +12:00 [INF] Executed DbCommand (80ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance`.`course_instance_id`, `w.One2oneCourseInstance`.`begin_date`, `w.One2oneCourseInstance`.`course_id`, `w.One2oneCourseInstance`.`end_date`, `w.One2oneCourseInstance`.`invoice_date`, `w.One2oneCourseInstance`.`learner_id`, `w.One2oneCourseInstance`.`org_id`, `w.One2oneCourseInstance`.`room_id`, `w.One2oneCourseInstance`.`teacher_id`, `o.Teacher`.`teacher_id`, `o.Teacher`.`ability`, `o.Teacher`.`comment`, `o.Teacher`.`cv_url`, `o.Teacher`.`dob`, `o.Teacher`.`email`, `o.Teacher`.`expiry_date`, `o.Teacher`.`first_name`, `o.Teacher`.`form_url`, `o.Teacher`.`gender`, `o.Teacher`.`home_phone`, `o.Teacher`.`id_number`, `o.Teacher`.`id_photo`, `o.Teacher`.`id_type`, `o.Teacher`.`invoice_template`, `o.Teacher`.`ird_number`, `o.Teacher`.`is_activate`, `o.Teacher`.`is_contract`, `o.Teacher`.`is_left`, `o.Teacher`.`last_name`, `o.Teacher`.`level`, `o.Teacher`.`minimum_hours`, `o.Teacher`.`mobile_phone`, `o.Teacher`.`otherfile_url`, `o.Teacher`.`photo`, `o.Teacher`.`user_id`, `o.Teacher`.`visa`, `o.Room`.`room_id`, `o.Room`.`created_at`, `o.Room`.`is_activate`, `o.Room`.`org_id`, `o.Room`.`room_name`, `o.Course`.`course_id`, `o.Course`.`course_category_id`, `o.Course`.`course_name`, `o.Course`.`course_type`, `o.Course`.`duration`, `o.Course`.`level`, `o.Course`.`price`, `o.Course`.`teacher_level`, `o.Org`.`org_id`, `o.Org`.`abbr`, `o.Org`.`address`, `o.Org`.`email`, `o.Org`.`is_activate`, `o.Org`.`is_headoffice`, `o.Org`.`localtion_x`, `o.Org`.`localtion_y`, `o.Org`.`org_name`, `o.Org`.`phone`
FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance`
LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher` ON `w.One2oneCourseInstance`.`teacher_id` = `o.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `o.Room` ON `w.One2oneCourseInstance`.`room_id` = `o.Room`.`room_id`
LEFT JOIN `ablemusic`.`course` AS `o.Course` ON `w.One2oneCourseInstance`.`course_id` = `o.Course`.`course_id`
LEFT JOIN `ablemusic`.`org` AS `o.Org` ON `w.One2oneCourseInstance`.`org_id` = `o.Org`.`org_id`
INNER JOIN (
    SELECT `w2`.`learner_id`
    FROM `ablemusic`.`learner` AS `w2`
    WHERE `w2`.`learner_id` = @__learnerId_0
    ORDER BY `w2`.`learner_id`
    LIMIT 1
) AS `t1` ON `w.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`, `w.One2oneCourseInstance`.`course_instance_id`
2019-07-18 13:46:39.285 +12:00 [INF] Executed DbCommand (86ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.Amendment`.`amendment_id`, `w.One2oneCourseInstance.Amendment`.`amend_type`, `w.One2oneCourseInstance.Amendment`.`begin_date`, `w.One2oneCourseInstance.Amendment`.`begin_time`, `w.One2oneCourseInstance.Amendment`.`course_instance_id`, `w.One2oneCourseInstance.Amendment`.`course_schedule_id`, `w.One2oneCourseInstance.Amendment`.`created_at`, `w.One2oneCourseInstance.Amendment`.`day_of_week`, `w.One2oneCourseInstance.Amendment`.`end_date`, `w.One2oneCourseInstance.Amendment`.`end_time`, `w.One2oneCourseInstance.Amendment`.`is_temporary`, `w.One2oneCourseInstance.Amendment`.`learner_id`, `w.One2oneCourseInstance.Amendment`.`org_id`, `w.One2oneCourseInstance.Amendment`.`reason`, `w.One2oneCourseInstance.Amendment`.`room_id`, `w.One2oneCourseInstance.Amendment`.`teacher_id`, `a.Teacher`.`teacher_id`, `a.Teacher`.`ability`, `a.Teacher`.`comment`, `a.Teacher`.`cv_url`, `a.Teacher`.`dob`, `a.Teacher`.`email`, `a.Teacher`.`expiry_date`, `a.Teacher`.`first_name`, `a.Teacher`.`form_url`, `a.Teacher`.`gender`, `a.Teacher`.`home_phone`, `a.Teacher`.`id_number`, `a.Teacher`.`id_photo`, `a.Teacher`.`id_type`, `a.Teacher`.`invoice_template`, `a.Teacher`.`ird_number`, `a.Teacher`.`is_activate`, `a.Teacher`.`is_contract`, `a.Teacher`.`is_left`, `a.Teacher`.`last_name`, `a.Teacher`.`level`, `a.Teacher`.`minimum_hours`, `a.Teacher`.`mobile_phone`, `a.Teacher`.`otherfile_url`, `a.Teacher`.`photo`, `a.Teacher`.`user_id`, `a.Teacher`.`visa`, `a.Room`.`room_id`, `a.Room`.`created_at`, `a.Room`.`is_activate`, `a.Room`.`org_id`, `a.Room`.`room_name`
FROM `ablemusic`.`amendment` AS `w.One2oneCourseInstance.Amendment`
LEFT JOIN `ablemusic`.`teacher` AS `a.Teacher` ON `w.One2oneCourseInstance.Amendment`.`teacher_id` = `a.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `a.Room` ON `w.One2oneCourseInstance.Amendment`.`room_id` = `a.Room`.`room_id`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance0`.`course_instance_id`, `t2`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance0`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher0` ON `w.One2oneCourseInstance0`.`teacher_id` = `o.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room0` ON `w.One2oneCourseInstance0`.`room_id` = `o.Room0`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course0` ON `w.One2oneCourseInstance0`.`course_id` = `o.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org0` ON `w.One2oneCourseInstance0`.`org_id` = `o.Org0`.`org_id`
    INNER JOIN (
        SELECT `w3`.`learner_id`
        FROM `ablemusic`.`learner` AS `w3`
        WHERE `w3`.`learner_id` = @__learnerId_0
        ORDER BY `w3`.`learner_id`
        LIMIT 1
    ) AS `t2` ON `w.One2oneCourseInstance0`.`learner_id` = `t2`.`learner_id`
) AS `t3` ON `w.One2oneCourseInstance.Amendment`.`course_instance_id` = `t3`.`course_instance_id`
ORDER BY `t3`.`learner_id`, `t3`.`course_instance_id`
2019-07-18 13:46:39.474 +12:00 [INF] Executed DbCommand (66ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.CourseSchedule`.`course_schedule_id`, `w.One2oneCourseInstance.CourseSchedule`.`begin_time`, `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id`, `w.One2oneCourseInstance.CourseSchedule`.`day_of_week`, `w.One2oneCourseInstance.CourseSchedule`.`end_time`, `w.One2oneCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `w.One2oneCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance1`.`course_instance_id`, `t4`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance1`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher1` ON `w.One2oneCourseInstance1`.`teacher_id` = `o.Teacher1`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room1` ON `w.One2oneCourseInstance1`.`room_id` = `o.Room1`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course1` ON `w.One2oneCourseInstance1`.`course_id` = `o.Course1`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org1` ON `w.One2oneCourseInstance1`.`org_id` = `o.Org1`.`org_id`
    INNER JOIN (
        SELECT `w4`.`learner_id`
        FROM `ablemusic`.`learner` AS `w4`
        WHERE `w4`.`learner_id` = @__learnerId_0
        ORDER BY `w4`.`learner_id`
        LIMIT 1
    ) AS `t4` ON `w.One2oneCourseInstance1`.`learner_id` = `t4`.`learner_id`
) AS `t5` ON `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id` = `t5`.`course_instance_id`
ORDER BY `t5`.`learner_id`, `t5`.`course_instance_id`
2019-07-18 13:46:39.706 +12:00 [INF] Executed DbCommand (101ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerGroupCourse`.`learner_group_course_id`, `w.LearnerGroupCourse`.`begin_date`, `w.LearnerGroupCourse`.`comment`, `w.LearnerGroupCourse`.`created_at`, `w.LearnerGroupCourse`.`end_date`, `w.LearnerGroupCourse`.`group_course_instance_id`, `w.LearnerGroupCourse`.`invoice_date`, `w.LearnerGroupCourse`.`is_activate`, `w.LearnerGroupCourse`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`, `l.GroupCourseInstance`.`begin_date`, `l.GroupCourseInstance`.`course_id`, `l.GroupCourseInstance`.`end_date`, `l.GroupCourseInstance`.`invoice_date`, `l.GroupCourseInstance`.`is_activate`, `l.GroupCourseInstance`.`is_started`, `l.GroupCourseInstance`.`org_id`, `l.GroupCourseInstance`.`room_id`, `l.GroupCourseInstance`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`ability`, `l.GroupCourseInstance.Teacher`.`comment`, `l.GroupCourseInstance.Teacher`.`cv_url`, `l.GroupCourseInstance.Teacher`.`dob`, `l.GroupCourseInstance.Teacher`.`email`, `l.GroupCourseInstance.Teacher`.`expiry_date`, `l.GroupCourseInstance.Teacher`.`first_name`, `l.GroupCourseInstance.Teacher`.`form_url`, `l.GroupCourseInstance.Teacher`.`gender`, `l.GroupCourseInstance.Teacher`.`home_phone`, `l.GroupCourseInstance.Teacher`.`id_number`, `l.GroupCourseInstance.Teacher`.`id_photo`, `l.GroupCourseInstance.Teacher`.`id_type`, `l.GroupCourseInstance.Teacher`.`invoice_template`, `l.GroupCourseInstance.Teacher`.`ird_number`, `l.GroupCourseInstance.Teacher`.`is_activate`, `l.GroupCourseInstance.Teacher`.`is_contract`, `l.GroupCourseInstance.Teacher`.`is_left`, `l.GroupCourseInstance.Teacher`.`last_name`, `l.GroupCourseInstance.Teacher`.`level`, `l.GroupCourseInstance.Teacher`.`minimum_hours`, `l.GroupCourseInstance.Teacher`.`mobile_phone`, `l.GroupCourseInstance.Teacher`.`otherfile_url`, `l.GroupCourseInstance.Teacher`.`photo`, `l.GroupCourseInstance.Teacher`.`user_id`, `l.GroupCourseInstance.Teacher`.`visa`, `l.GroupCourseInstance.Course`.`course_id`, `l.GroupCourseInstance.Course`.`course_category_id`, `l.GroupCourseInstance.Course`.`course_name`, `l.GroupCourseInstance.Course`.`course_type`, `l.GroupCourseInstance.Course`.`duration`, `l.GroupCourseInstance.Course`.`level`, `l.GroupCourseInstance.Course`.`price`, `l.GroupCourseInstance.Course`.`teacher_level`, `l.GroupCourseInstance.Room`.`room_id`, `l.GroupCourseInstance.Room`.`created_at`, `l.GroupCourseInstance.Room`.`is_activate`, `l.GroupCourseInstance.Room`.`org_id`, `l.GroupCourseInstance.Room`.`room_name`
FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse`
LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance` ON `w.LearnerGroupCourse`.`group_course_instance_id` = `l.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher` ON `l.GroupCourseInstance`.`teacher_id` = `l.GroupCourseInstance.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course` ON `l.GroupCourseInstance`.`course_id` = `l.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room` ON `l.GroupCourseInstance`.`room_id` = `l.GroupCourseInstance.Room`.`room_id`
INNER JOIN (
    SELECT `w5`.`learner_id`
    FROM `ablemusic`.`learner` AS `w5`
    WHERE `w5`.`learner_id` = @__learnerId_0
    ORDER BY `w5`.`learner_id`
    LIMIT 1
) AS `t6` ON `w.LearnerGroupCourse`.`learner_id` = `t6`.`learner_id`
ORDER BY `t6`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`
2019-07-18 13:46:39.707 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1127.2181ms.
2019-07-18 13:46:39.708 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:46:39.708 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 1129.0308ms
2019-07-18 13:46:39.709 +12:00 [INF] Request finished in 1130.0187ms 200 application/json; charset=utf-8
2019-07-18 13:46:40.564 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/2  
2019-07-18 13:46:40.565 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/3  
2019-07-18 13:46:40.565 +12:00 [INF] Policy execution successful.
2019-07-18 13:46:40.565 +12:00 [INF] Policy execution successful.
2019-07-18 13:46:40.565 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 13:46:40.565 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 13:46:40.566 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/4  
2019-07-18 13:46:40.566 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:46:40.566 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:46:40.566 +12:00 [INF] Policy execution successful.
2019-07-18 13:46:40.566 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 13:46:40.566 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/5  
2019-07-18 13:46:40.567 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:46:40.567 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:46:40.567 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:46:40.567 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner  
2019-07-18 13:46:40.567 +12:00 [INF] Policy execution successful.
2019-07-18 13:46:40.567 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:46:40.567 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 13:46:40.568 +12:00 [INF] Policy execution successful.
2019-07-18 13:46:40.568 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:46:40.568 +12:00 [INF] Route matched with {action = "GetLearner", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearner() on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:46:40.568 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:46:40.568 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:46:40.569 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:46:40.586 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/null  
2019-07-18 13:46:40.587 +12:00 [INF] Request finished in 0.3361ms 404 
2019-07-18 13:46:40.738 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 13:46:40.738 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 172.7047ms.
2019-07-18 13:46:40.739 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:46:40.739 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 173.9367ms
2019-07-18 13:46:40.739 +12:00 [INF] Request finished in 174.9485ms 200 application/json; charset=utf-8
2019-07-18 13:46:40.746 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`is_active` = 1
ORDER BY `w`.`learner_id`
2019-07-18 13:46:40.748 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 13:46:40.749 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 182.9649ms.
2019-07-18 13:46:40.749 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:46:40.750 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 184.2726ms
2019-07-18 13:46:40.750 +12:00 [INF] Request finished in 185.3036ms 200 application/json; charset=utf-8
2019-07-18 13:46:40.752 +12:00 [INF] Executed DbCommand (63ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 13:46:40.753 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 185.9275ms.
2019-07-18 13:46:40.753 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:46:40.753 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 187.0556ms
2019-07-18 13:46:40.753 +12:00 [INF] Request finished in 187.9088ms 200 application/json; charset=utf-8
2019-07-18 13:46:40.756 +12:00 [INF] Executed DbCommand (67ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 13:46:40.756 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 188.4027ms.
2019-07-18 13:46:40.757 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:46:40.757 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 189.5162ms
2019-07-18 13:46:40.757 +12:00 [INF] Request finished in 190.7889ms 200 application/json; charset=utf-8
2019-07-18 13:46:40.811 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Parent`.`parent_id`, `w.Parent`.`contact_num`, `w.Parent`.`created_at`, `w.Parent`.`email`, `w.Parent`.`first_name`, `w.Parent`.`last_name`, `w.Parent`.`learner_id`, `w.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `w.Parent`
INNER JOIN (
    SELECT `w0`.`learner_id`
    FROM `ablemusic`.`learner` AS `w0`
    WHERE `w0`.`is_active` = 1
) AS `t` ON `w.Parent`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-18 13:46:40.867 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerOthers`.`learner_others_id`, `w.LearnerOthers`.`learner_id`, `w.LearnerOthers`.`learner_level`, `w.LearnerOthers`.`others_type`, `w.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `w.LearnerOthers`
INNER JOIN (
    SELECT `w1`.`learner_id`
    FROM `ablemusic`.`learner` AS `w1`
    WHERE `w1`.`is_active` = 1
) AS `t0` ON `w.LearnerOthers`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-18 13:46:40.944 +12:00 [INF] Executed DbCommand (75ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance`.`course_instance_id`, `w.One2oneCourseInstance`.`begin_date`, `w.One2oneCourseInstance`.`course_id`, `w.One2oneCourseInstance`.`end_date`, `w.One2oneCourseInstance`.`invoice_date`, `w.One2oneCourseInstance`.`learner_id`, `w.One2oneCourseInstance`.`org_id`, `w.One2oneCourseInstance`.`room_id`, `w.One2oneCourseInstance`.`teacher_id`, `o.Teacher`.`teacher_id`, `o.Teacher`.`ability`, `o.Teacher`.`comment`, `o.Teacher`.`cv_url`, `o.Teacher`.`dob`, `o.Teacher`.`email`, `o.Teacher`.`expiry_date`, `o.Teacher`.`first_name`, `o.Teacher`.`form_url`, `o.Teacher`.`gender`, `o.Teacher`.`home_phone`, `o.Teacher`.`id_number`, `o.Teacher`.`id_photo`, `o.Teacher`.`id_type`, `o.Teacher`.`invoice_template`, `o.Teacher`.`ird_number`, `o.Teacher`.`is_activate`, `o.Teacher`.`is_contract`, `o.Teacher`.`is_left`, `o.Teacher`.`last_name`, `o.Teacher`.`level`, `o.Teacher`.`minimum_hours`, `o.Teacher`.`mobile_phone`, `o.Teacher`.`otherfile_url`, `o.Teacher`.`photo`, `o.Teacher`.`user_id`, `o.Teacher`.`visa`, `o.Room`.`room_id`, `o.Room`.`created_at`, `o.Room`.`is_activate`, `o.Room`.`org_id`, `o.Room`.`room_name`, `o.Course`.`course_id`, `o.Course`.`course_category_id`, `o.Course`.`course_name`, `o.Course`.`course_type`, `o.Course`.`duration`, `o.Course`.`level`, `o.Course`.`price`, `o.Course`.`teacher_level`, `o.Org`.`org_id`, `o.Org`.`abbr`, `o.Org`.`address`, `o.Org`.`email`, `o.Org`.`is_activate`, `o.Org`.`is_headoffice`, `o.Org`.`localtion_x`, `o.Org`.`localtion_y`, `o.Org`.`org_name`, `o.Org`.`phone`
FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance`
LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher` ON `w.One2oneCourseInstance`.`teacher_id` = `o.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `o.Room` ON `w.One2oneCourseInstance`.`room_id` = `o.Room`.`room_id`
LEFT JOIN `ablemusic`.`course` AS `o.Course` ON `w.One2oneCourseInstance`.`course_id` = `o.Course`.`course_id`
LEFT JOIN `ablemusic`.`org` AS `o.Org` ON `w.One2oneCourseInstance`.`org_id` = `o.Org`.`org_id`
INNER JOIN (
    SELECT `w2`.`learner_id`
    FROM `ablemusic`.`learner` AS `w2`
    WHERE `w2`.`is_active` = 1
) AS `t1` ON `w.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`, `w.One2oneCourseInstance`.`course_instance_id`
2019-07-18 13:46:41.064 +12:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.Amendment`.`amendment_id`, `w.One2oneCourseInstance.Amendment`.`amend_type`, `w.One2oneCourseInstance.Amendment`.`begin_date`, `w.One2oneCourseInstance.Amendment`.`begin_time`, `w.One2oneCourseInstance.Amendment`.`course_instance_id`, `w.One2oneCourseInstance.Amendment`.`course_schedule_id`, `w.One2oneCourseInstance.Amendment`.`created_at`, `w.One2oneCourseInstance.Amendment`.`day_of_week`, `w.One2oneCourseInstance.Amendment`.`end_date`, `w.One2oneCourseInstance.Amendment`.`end_time`, `w.One2oneCourseInstance.Amendment`.`is_temporary`, `w.One2oneCourseInstance.Amendment`.`learner_id`, `w.One2oneCourseInstance.Amendment`.`org_id`, `w.One2oneCourseInstance.Amendment`.`reason`, `w.One2oneCourseInstance.Amendment`.`room_id`, `w.One2oneCourseInstance.Amendment`.`teacher_id`, `a.Teacher`.`teacher_id`, `a.Teacher`.`ability`, `a.Teacher`.`comment`, `a.Teacher`.`cv_url`, `a.Teacher`.`dob`, `a.Teacher`.`email`, `a.Teacher`.`expiry_date`, `a.Teacher`.`first_name`, `a.Teacher`.`form_url`, `a.Teacher`.`gender`, `a.Teacher`.`home_phone`, `a.Teacher`.`id_number`, `a.Teacher`.`id_photo`, `a.Teacher`.`id_type`, `a.Teacher`.`invoice_template`, `a.Teacher`.`ird_number`, `a.Teacher`.`is_activate`, `a.Teacher`.`is_contract`, `a.Teacher`.`is_left`, `a.Teacher`.`last_name`, `a.Teacher`.`level`, `a.Teacher`.`minimum_hours`, `a.Teacher`.`mobile_phone`, `a.Teacher`.`otherfile_url`, `a.Teacher`.`photo`, `a.Teacher`.`user_id`, `a.Teacher`.`visa`, `a.Room`.`room_id`, `a.Room`.`created_at`, `a.Room`.`is_activate`, `a.Room`.`org_id`, `a.Room`.`room_name`
FROM `ablemusic`.`amendment` AS `w.One2oneCourseInstance.Amendment`
LEFT JOIN `ablemusic`.`teacher` AS `a.Teacher` ON `w.One2oneCourseInstance.Amendment`.`teacher_id` = `a.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `a.Room` ON `w.One2oneCourseInstance.Amendment`.`room_id` = `a.Room`.`room_id`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance0`.`course_instance_id`, `t2`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance0`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher0` ON `w.One2oneCourseInstance0`.`teacher_id` = `o.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room0` ON `w.One2oneCourseInstance0`.`room_id` = `o.Room0`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course0` ON `w.One2oneCourseInstance0`.`course_id` = `o.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org0` ON `w.One2oneCourseInstance0`.`org_id` = `o.Org0`.`org_id`
    INNER JOIN (
        SELECT `w3`.`learner_id`
        FROM `ablemusic`.`learner` AS `w3`
        WHERE `w3`.`is_active` = 1
    ) AS `t2` ON `w.One2oneCourseInstance0`.`learner_id` = `t2`.`learner_id`
) AS `t3` ON `w.One2oneCourseInstance.Amendment`.`course_instance_id` = `t3`.`course_instance_id`
ORDER BY `t3`.`learner_id`, `t3`.`course_instance_id`
2019-07-18 13:46:41.136 +12:00 [INF] Executed DbCommand (65ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.CourseSchedule`.`course_schedule_id`, `w.One2oneCourseInstance.CourseSchedule`.`begin_time`, `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id`, `w.One2oneCourseInstance.CourseSchedule`.`day_of_week`, `w.One2oneCourseInstance.CourseSchedule`.`end_time`, `w.One2oneCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `w.One2oneCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance1`.`course_instance_id`, `t4`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance1`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher1` ON `w.One2oneCourseInstance1`.`teacher_id` = `o.Teacher1`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room1` ON `w.One2oneCourseInstance1`.`room_id` = `o.Room1`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course1` ON `w.One2oneCourseInstance1`.`course_id` = `o.Course1`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org1` ON `w.One2oneCourseInstance1`.`org_id` = `o.Org1`.`org_id`
    INNER JOIN (
        SELECT `w4`.`learner_id`
        FROM `ablemusic`.`learner` AS `w4`
        WHERE `w4`.`is_active` = 1
    ) AS `t4` ON `w.One2oneCourseInstance1`.`learner_id` = `t4`.`learner_id`
) AS `t5` ON `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id` = `t5`.`course_instance_id`
ORDER BY `t5`.`learner_id`, `t5`.`course_instance_id`
2019-07-18 13:46:41.240 +12:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerGroupCourse`.`learner_group_course_id`, `w.LearnerGroupCourse`.`begin_date`, `w.LearnerGroupCourse`.`comment`, `w.LearnerGroupCourse`.`created_at`, `w.LearnerGroupCourse`.`end_date`, `w.LearnerGroupCourse`.`group_course_instance_id`, `w.LearnerGroupCourse`.`invoice_date`, `w.LearnerGroupCourse`.`is_activate`, `w.LearnerGroupCourse`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`, `l.GroupCourseInstance`.`begin_date`, `l.GroupCourseInstance`.`course_id`, `l.GroupCourseInstance`.`end_date`, `l.GroupCourseInstance`.`invoice_date`, `l.GroupCourseInstance`.`is_activate`, `l.GroupCourseInstance`.`is_started`, `l.GroupCourseInstance`.`org_id`, `l.GroupCourseInstance`.`room_id`, `l.GroupCourseInstance`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`ability`, `l.GroupCourseInstance.Teacher`.`comment`, `l.GroupCourseInstance.Teacher`.`cv_url`, `l.GroupCourseInstance.Teacher`.`dob`, `l.GroupCourseInstance.Teacher`.`email`, `l.GroupCourseInstance.Teacher`.`expiry_date`, `l.GroupCourseInstance.Teacher`.`first_name`, `l.GroupCourseInstance.Teacher`.`form_url`, `l.GroupCourseInstance.Teacher`.`gender`, `l.GroupCourseInstance.Teacher`.`home_phone`, `l.GroupCourseInstance.Teacher`.`id_number`, `l.GroupCourseInstance.Teacher`.`id_photo`, `l.GroupCourseInstance.Teacher`.`id_type`, `l.GroupCourseInstance.Teacher`.`invoice_template`, `l.GroupCourseInstance.Teacher`.`ird_number`, `l.GroupCourseInstance.Teacher`.`is_activate`, `l.GroupCourseInstance.Teacher`.`is_contract`, `l.GroupCourseInstance.Teacher`.`is_left`, `l.GroupCourseInstance.Teacher`.`last_name`, `l.GroupCourseInstance.Teacher`.`level`, `l.GroupCourseInstance.Teacher`.`minimum_hours`, `l.GroupCourseInstance.Teacher`.`mobile_phone`, `l.GroupCourseInstance.Teacher`.`otherfile_url`, `l.GroupCourseInstance.Teacher`.`photo`, `l.GroupCourseInstance.Teacher`.`user_id`, `l.GroupCourseInstance.Teacher`.`visa`, `l.GroupCourseInstance.Course`.`course_id`, `l.GroupCourseInstance.Course`.`course_category_id`, `l.GroupCourseInstance.Course`.`course_name`, `l.GroupCourseInstance.Course`.`course_type`, `l.GroupCourseInstance.Course`.`duration`, `l.GroupCourseInstance.Course`.`level`, `l.GroupCourseInstance.Course`.`price`, `l.GroupCourseInstance.Course`.`teacher_level`, `l.GroupCourseInstance.Room`.`room_id`, `l.GroupCourseInstance.Room`.`created_at`, `l.GroupCourseInstance.Room`.`is_activate`, `l.GroupCourseInstance.Room`.`org_id`, `l.GroupCourseInstance.Room`.`room_name`
FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse`
LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance` ON `w.LearnerGroupCourse`.`group_course_instance_id` = `l.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher` ON `l.GroupCourseInstance`.`teacher_id` = `l.GroupCourseInstance.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course` ON `l.GroupCourseInstance`.`course_id` = `l.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room` ON `l.GroupCourseInstance`.`room_id` = `l.GroupCourseInstance.Room`.`room_id`
INNER JOIN (
    SELECT `w5`.`learner_id`
    FROM `ablemusic`.`learner` AS `w5`
    WHERE `w5`.`is_active` = 1
) AS `t6` ON `w.LearnerGroupCourse`.`learner_id` = `t6`.`learner_id`
ORDER BY `t6`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`
2019-07-18 13:46:41.317 +12:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l.GroupCourseInstance.CourseSchedule`.`course_schedule_id`, `l.GroupCourseInstance.CourseSchedule`.`begin_time`, `l.GroupCourseInstance.CourseSchedule`.`course_instance_id`, `l.GroupCourseInstance.CourseSchedule`.`day_of_week`, `l.GroupCourseInstance.CourseSchedule`.`end_time`, `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `l.GroupCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `l.GroupCourseInstance0`.`group_course_instance_id`, `t7`.`learner_id`
    FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse0`
    LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance0` ON `w.LearnerGroupCourse0`.`group_course_instance_id` = `l.GroupCourseInstance0`.`group_course_instance_id`
    LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher0` ON `l.GroupCourseInstance0`.`teacher_id` = `l.GroupCourseInstance.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course0` ON `l.GroupCourseInstance0`.`course_id` = `l.GroupCourseInstance.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room0` ON `l.GroupCourseInstance0`.`room_id` = `l.GroupCourseInstance.Room0`.`room_id`
    INNER JOIN (
        SELECT `w6`.`learner_id`
        FROM `ablemusic`.`learner` AS `w6`
        WHERE `w6`.`is_active` = 1
    ) AS `t7` ON `w.LearnerGroupCourse0`.`learner_id` = `t7`.`learner_id`
) AS `t8` ON `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id` = `t8`.`group_course_instance_id`
ORDER BY `t8`.`learner_id`, `t8`.`group_course_instance_id`
2019-07-18 13:46:41.380 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 811.0947ms.
2019-07-18 13:46:41.380 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:46:41.386 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) in 817.8612ms
2019-07-18 13:46:41.386 +12:00 [INF] Request finished in 819.4789ms 200 application/json; charset=utf-8
2019-07-18 13:47:02.218 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/null  
2019-07-18 13:47:02.218 +12:00 [INF] Request finished in 0.4263ms 404 
2019-07-18 13:47:05.466 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/null  
2019-07-18 13:47:05.467 +12:00 [INF] Request finished in 0.3498ms 404 
2019-07-18 13:50:28.338 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/2  
2019-07-18 13:50:28.338 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/3  
2019-07-18 13:50:28.338 +12:00 [INF] Policy execution successful.
2019-07-18 13:50:28.338 +12:00 [INF] Policy execution successful.
2019-07-18 13:50:28.340 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 13:50:28.340 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 13:50:28.347 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:50:28.347 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:50:28.349 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/4  
2019-07-18 13:50:28.349 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner  
2019-07-18 13:50:28.349 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/5  
2019-07-18 13:50:28.350 +12:00 [INF] Policy execution successful.
2019-07-18 13:50:28.350 +12:00 [INF] Policy execution successful.
2019-07-18 13:50:28.350 +12:00 [INF] Policy execution successful.
2019-07-18 13:50:28.350 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 13:50:28.350 +12:00 [INF] Route matched with {action = "GetLearner", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearner() on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:50:28.350 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 13:50:28.350 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:50:28.350 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:50:28.350 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:50:28.350 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:50:28.351 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:50:28.351 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:50:28.351 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:50:28.351 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:50:28.383 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/null  
2019-07-18 13:50:28.384 +12:00 [INF] Request finished in 0.3741ms 404 
2019-07-18 13:50:28.523 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 13:50:28.523 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 172.4049ms.
2019-07-18 13:50:28.523 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:50:28.523 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 173.19050000000001ms
2019-07-18 13:50:28.524 +12:00 [INF] Request finished in 174.2202ms 200 application/json; charset=utf-8
2019-07-18 13:50:28.529 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 13:50:28.529 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 13:50:28.530 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 180.02360000000002ms.
2019-07-18 13:50:28.530 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 13:50:28.531 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:50:28.531 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 182.08700000000002ms.
2019-07-18 13:50:28.531 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 181.478ms
2019-07-18 13:50:28.532 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 184.6938ms.
2019-07-18 13:50:28.532 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:50:28.532 +12:00 [INF] Request finished in 182.4765ms 200 application/json; charset=utf-8
2019-07-18 13:50:28.532 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:50:28.532 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 192.0872ms
2019-07-18 13:50:28.533 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 192.1851ms
2019-07-18 13:50:28.533 +12:00 [INF] Request finished in 194.7856ms 200 application/json; charset=utf-8
2019-07-18 13:50:28.533 +12:00 [INF] Request finished in 195.155ms 200 application/json; charset=utf-8
2019-07-18 13:50:28.571 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`is_active` = 1
ORDER BY `w`.`learner_id`
2019-07-18 13:50:28.645 +12:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Parent`.`parent_id`, `w.Parent`.`contact_num`, `w.Parent`.`created_at`, `w.Parent`.`email`, `w.Parent`.`first_name`, `w.Parent`.`last_name`, `w.Parent`.`learner_id`, `w.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `w.Parent`
INNER JOIN (
    SELECT `w0`.`learner_id`
    FROM `ablemusic`.`learner` AS `w0`
    WHERE `w0`.`is_active` = 1
) AS `t` ON `w.Parent`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-18 13:50:28.701 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerOthers`.`learner_others_id`, `w.LearnerOthers`.`learner_id`, `w.LearnerOthers`.`learner_level`, `w.LearnerOthers`.`others_type`, `w.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `w.LearnerOthers`
INNER JOIN (
    SELECT `w1`.`learner_id`
    FROM `ablemusic`.`learner` AS `w1`
    WHERE `w1`.`is_active` = 1
) AS `t0` ON `w.LearnerOthers`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-18 13:50:28.780 +12:00 [INF] Executed DbCommand (76ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance`.`course_instance_id`, `w.One2oneCourseInstance`.`begin_date`, `w.One2oneCourseInstance`.`course_id`, `w.One2oneCourseInstance`.`end_date`, `w.One2oneCourseInstance`.`invoice_date`, `w.One2oneCourseInstance`.`learner_id`, `w.One2oneCourseInstance`.`org_id`, `w.One2oneCourseInstance`.`room_id`, `w.One2oneCourseInstance`.`teacher_id`, `o.Teacher`.`teacher_id`, `o.Teacher`.`ability`, `o.Teacher`.`comment`, `o.Teacher`.`cv_url`, `o.Teacher`.`dob`, `o.Teacher`.`email`, `o.Teacher`.`expiry_date`, `o.Teacher`.`first_name`, `o.Teacher`.`form_url`, `o.Teacher`.`gender`, `o.Teacher`.`home_phone`, `o.Teacher`.`id_number`, `o.Teacher`.`id_photo`, `o.Teacher`.`id_type`, `o.Teacher`.`invoice_template`, `o.Teacher`.`ird_number`, `o.Teacher`.`is_activate`, `o.Teacher`.`is_contract`, `o.Teacher`.`is_left`, `o.Teacher`.`last_name`, `o.Teacher`.`level`, `o.Teacher`.`minimum_hours`, `o.Teacher`.`mobile_phone`, `o.Teacher`.`otherfile_url`, `o.Teacher`.`photo`, `o.Teacher`.`user_id`, `o.Teacher`.`visa`, `o.Room`.`room_id`, `o.Room`.`created_at`, `o.Room`.`is_activate`, `o.Room`.`org_id`, `o.Room`.`room_name`, `o.Course`.`course_id`, `o.Course`.`course_category_id`, `o.Course`.`course_name`, `o.Course`.`course_type`, `o.Course`.`duration`, `o.Course`.`level`, `o.Course`.`price`, `o.Course`.`teacher_level`, `o.Org`.`org_id`, `o.Org`.`abbr`, `o.Org`.`address`, `o.Org`.`email`, `o.Org`.`is_activate`, `o.Org`.`is_headoffice`, `o.Org`.`localtion_x`, `o.Org`.`localtion_y`, `o.Org`.`org_name`, `o.Org`.`phone`
FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance`
LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher` ON `w.One2oneCourseInstance`.`teacher_id` = `o.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `o.Room` ON `w.One2oneCourseInstance`.`room_id` = `o.Room`.`room_id`
LEFT JOIN `ablemusic`.`course` AS `o.Course` ON `w.One2oneCourseInstance`.`course_id` = `o.Course`.`course_id`
LEFT JOIN `ablemusic`.`org` AS `o.Org` ON `w.One2oneCourseInstance`.`org_id` = `o.Org`.`org_id`
INNER JOIN (
    SELECT `w2`.`learner_id`
    FROM `ablemusic`.`learner` AS `w2`
    WHERE `w2`.`is_active` = 1
) AS `t1` ON `w.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`, `w.One2oneCourseInstance`.`course_instance_id`
2019-07-18 13:50:28.893 +12:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.Amendment`.`amendment_id`, `w.One2oneCourseInstance.Amendment`.`amend_type`, `w.One2oneCourseInstance.Amendment`.`begin_date`, `w.One2oneCourseInstance.Amendment`.`begin_time`, `w.One2oneCourseInstance.Amendment`.`course_instance_id`, `w.One2oneCourseInstance.Amendment`.`course_schedule_id`, `w.One2oneCourseInstance.Amendment`.`created_at`, `w.One2oneCourseInstance.Amendment`.`day_of_week`, `w.One2oneCourseInstance.Amendment`.`end_date`, `w.One2oneCourseInstance.Amendment`.`end_time`, `w.One2oneCourseInstance.Amendment`.`is_temporary`, `w.One2oneCourseInstance.Amendment`.`learner_id`, `w.One2oneCourseInstance.Amendment`.`org_id`, `w.One2oneCourseInstance.Amendment`.`reason`, `w.One2oneCourseInstance.Amendment`.`room_id`, `w.One2oneCourseInstance.Amendment`.`teacher_id`, `a.Teacher`.`teacher_id`, `a.Teacher`.`ability`, `a.Teacher`.`comment`, `a.Teacher`.`cv_url`, `a.Teacher`.`dob`, `a.Teacher`.`email`, `a.Teacher`.`expiry_date`, `a.Teacher`.`first_name`, `a.Teacher`.`form_url`, `a.Teacher`.`gender`, `a.Teacher`.`home_phone`, `a.Teacher`.`id_number`, `a.Teacher`.`id_photo`, `a.Teacher`.`id_type`, `a.Teacher`.`invoice_template`, `a.Teacher`.`ird_number`, `a.Teacher`.`is_activate`, `a.Teacher`.`is_contract`, `a.Teacher`.`is_left`, `a.Teacher`.`last_name`, `a.Teacher`.`level`, `a.Teacher`.`minimum_hours`, `a.Teacher`.`mobile_phone`, `a.Teacher`.`otherfile_url`, `a.Teacher`.`photo`, `a.Teacher`.`user_id`, `a.Teacher`.`visa`, `a.Room`.`room_id`, `a.Room`.`created_at`, `a.Room`.`is_activate`, `a.Room`.`org_id`, `a.Room`.`room_name`
FROM `ablemusic`.`amendment` AS `w.One2oneCourseInstance.Amendment`
LEFT JOIN `ablemusic`.`teacher` AS `a.Teacher` ON `w.One2oneCourseInstance.Amendment`.`teacher_id` = `a.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `a.Room` ON `w.One2oneCourseInstance.Amendment`.`room_id` = `a.Room`.`room_id`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance0`.`course_instance_id`, `t2`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance0`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher0` ON `w.One2oneCourseInstance0`.`teacher_id` = `o.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room0` ON `w.One2oneCourseInstance0`.`room_id` = `o.Room0`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course0` ON `w.One2oneCourseInstance0`.`course_id` = `o.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org0` ON `w.One2oneCourseInstance0`.`org_id` = `o.Org0`.`org_id`
    INNER JOIN (
        SELECT `w3`.`learner_id`
        FROM `ablemusic`.`learner` AS `w3`
        WHERE `w3`.`is_active` = 1
    ) AS `t2` ON `w.One2oneCourseInstance0`.`learner_id` = `t2`.`learner_id`
) AS `t3` ON `w.One2oneCourseInstance.Amendment`.`course_instance_id` = `t3`.`course_instance_id`
ORDER BY `t3`.`learner_id`, `t3`.`course_instance_id`
2019-07-18 13:50:28.961 +12:00 [INF] Executed DbCommand (66ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.CourseSchedule`.`course_schedule_id`, `w.One2oneCourseInstance.CourseSchedule`.`begin_time`, `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id`, `w.One2oneCourseInstance.CourseSchedule`.`day_of_week`, `w.One2oneCourseInstance.CourseSchedule`.`end_time`, `w.One2oneCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `w.One2oneCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance1`.`course_instance_id`, `t4`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance1`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher1` ON `w.One2oneCourseInstance1`.`teacher_id` = `o.Teacher1`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room1` ON `w.One2oneCourseInstance1`.`room_id` = `o.Room1`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course1` ON `w.One2oneCourseInstance1`.`course_id` = `o.Course1`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org1` ON `w.One2oneCourseInstance1`.`org_id` = `o.Org1`.`org_id`
    INNER JOIN (
        SELECT `w4`.`learner_id`
        FROM `ablemusic`.`learner` AS `w4`
        WHERE `w4`.`is_active` = 1
    ) AS `t4` ON `w.One2oneCourseInstance1`.`learner_id` = `t4`.`learner_id`
) AS `t5` ON `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id` = `t5`.`course_instance_id`
ORDER BY `t5`.`learner_id`, `t5`.`course_instance_id`
2019-07-18 13:50:29.056 +12:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerGroupCourse`.`learner_group_course_id`, `w.LearnerGroupCourse`.`begin_date`, `w.LearnerGroupCourse`.`comment`, `w.LearnerGroupCourse`.`created_at`, `w.LearnerGroupCourse`.`end_date`, `w.LearnerGroupCourse`.`group_course_instance_id`, `w.LearnerGroupCourse`.`invoice_date`, `w.LearnerGroupCourse`.`is_activate`, `w.LearnerGroupCourse`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`, `l.GroupCourseInstance`.`begin_date`, `l.GroupCourseInstance`.`course_id`, `l.GroupCourseInstance`.`end_date`, `l.GroupCourseInstance`.`invoice_date`, `l.GroupCourseInstance`.`is_activate`, `l.GroupCourseInstance`.`is_started`, `l.GroupCourseInstance`.`org_id`, `l.GroupCourseInstance`.`room_id`, `l.GroupCourseInstance`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`ability`, `l.GroupCourseInstance.Teacher`.`comment`, `l.GroupCourseInstance.Teacher`.`cv_url`, `l.GroupCourseInstance.Teacher`.`dob`, `l.GroupCourseInstance.Teacher`.`email`, `l.GroupCourseInstance.Teacher`.`expiry_date`, `l.GroupCourseInstance.Teacher`.`first_name`, `l.GroupCourseInstance.Teacher`.`form_url`, `l.GroupCourseInstance.Teacher`.`gender`, `l.GroupCourseInstance.Teacher`.`home_phone`, `l.GroupCourseInstance.Teacher`.`id_number`, `l.GroupCourseInstance.Teacher`.`id_photo`, `l.GroupCourseInstance.Teacher`.`id_type`, `l.GroupCourseInstance.Teacher`.`invoice_template`, `l.GroupCourseInstance.Teacher`.`ird_number`, `l.GroupCourseInstance.Teacher`.`is_activate`, `l.GroupCourseInstance.Teacher`.`is_contract`, `l.GroupCourseInstance.Teacher`.`is_left`, `l.GroupCourseInstance.Teacher`.`last_name`, `l.GroupCourseInstance.Teacher`.`level`, `l.GroupCourseInstance.Teacher`.`minimum_hours`, `l.GroupCourseInstance.Teacher`.`mobile_phone`, `l.GroupCourseInstance.Teacher`.`otherfile_url`, `l.GroupCourseInstance.Teacher`.`photo`, `l.GroupCourseInstance.Teacher`.`user_id`, `l.GroupCourseInstance.Teacher`.`visa`, `l.GroupCourseInstance.Course`.`course_id`, `l.GroupCourseInstance.Course`.`course_category_id`, `l.GroupCourseInstance.Course`.`course_name`, `l.GroupCourseInstance.Course`.`course_type`, `l.GroupCourseInstance.Course`.`duration`, `l.GroupCourseInstance.Course`.`level`, `l.GroupCourseInstance.Course`.`price`, `l.GroupCourseInstance.Course`.`teacher_level`, `l.GroupCourseInstance.Room`.`room_id`, `l.GroupCourseInstance.Room`.`created_at`, `l.GroupCourseInstance.Room`.`is_activate`, `l.GroupCourseInstance.Room`.`org_id`, `l.GroupCourseInstance.Room`.`room_name`
FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse`
LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance` ON `w.LearnerGroupCourse`.`group_course_instance_id` = `l.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher` ON `l.GroupCourseInstance`.`teacher_id` = `l.GroupCourseInstance.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course` ON `l.GroupCourseInstance`.`course_id` = `l.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room` ON `l.GroupCourseInstance`.`room_id` = `l.GroupCourseInstance.Room`.`room_id`
INNER JOIN (
    SELECT `w5`.`learner_id`
    FROM `ablemusic`.`learner` AS `w5`
    WHERE `w5`.`is_active` = 1
) AS `t6` ON `w.LearnerGroupCourse`.`learner_id` = `t6`.`learner_id`
ORDER BY `t6`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`
2019-07-18 13:50:29.132 +12:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l.GroupCourseInstance.CourseSchedule`.`course_schedule_id`, `l.GroupCourseInstance.CourseSchedule`.`begin_time`, `l.GroupCourseInstance.CourseSchedule`.`course_instance_id`, `l.GroupCourseInstance.CourseSchedule`.`day_of_week`, `l.GroupCourseInstance.CourseSchedule`.`end_time`, `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `l.GroupCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `l.GroupCourseInstance0`.`group_course_instance_id`, `t7`.`learner_id`
    FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse0`
    LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance0` ON `w.LearnerGroupCourse0`.`group_course_instance_id` = `l.GroupCourseInstance0`.`group_course_instance_id`
    LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher0` ON `l.GroupCourseInstance0`.`teacher_id` = `l.GroupCourseInstance.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course0` ON `l.GroupCourseInstance0`.`course_id` = `l.GroupCourseInstance.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room0` ON `l.GroupCourseInstance0`.`room_id` = `l.GroupCourseInstance.Room0`.`room_id`
    INNER JOIN (
        SELECT `w6`.`learner_id`
        FROM `ablemusic`.`learner` AS `w6`
        WHERE `w6`.`is_active` = 1
    ) AS `t7` ON `w.LearnerGroupCourse0`.`learner_id` = `t7`.`learner_id`
) AS `t8` ON `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id` = `t8`.`group_course_instance_id`
ORDER BY `t8`.`learner_id`, `t8`.`group_course_instance_id`
2019-07-18 13:50:29.187 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 836.1584ms.
2019-07-18 13:50:29.187 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:50:29.192 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) in 842.4895ms
2019-07-18 13:50:29.193 +12:00 [INF] Request finished in 843.4551ms 200 application/json; charset=utf-8
2019-07-18 13:50:56.836 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/invoice/10080  
2019-07-18 13:50:56.836 +12:00 [INF] Policy execution successful.
2019-07-18 13:50:56.836 +12:00 [INF] Route matched with {action = "GetInvoice", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Pegasus_backend.pegasusContext.Invoice]] GetInvoice(Int32) on controller Pegasus_backend.Controllers.InvoiceController (Pegasus_backend).
2019-07-18 13:50:56.836 +12:00 [INF] Executing action method Pegasus_backend.Controllers.InvoiceController.GetInvoice (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:50:56.837 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:50:57.031 +12:00 [INF] Executed DbCommand (71ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`invoice_id`, `s`.`begin_date`, `s`.`comment`, `s`.`concert_fee`, `s`.`concert_fee_name`, `s`.`course_instance_id`, `s`.`course_name`, `s`.`created_at`, `s`.`due_date`, `s`.`end_date`, `s`.`group_course_instance_id`, `s`.`invoice_num`, `s`.`is_active`, `s`.`is_paid`, `s`.`learner_id`, `s`.`learner_name`, `s`.`lesson_fee`, `s`.`lesson_note_fee_name`, `s`.`lesson_quantity`, `s`.`note_fee`, `s`.`other1_fee`, `s`.`other1_fee_name`, `s`.`other2_fee`, `s`.`other2_fee_name`, `s`.`other3_fee`, `s`.`other3_fee_name`, `s`.`owing_fee`, `s`.`paid_fee`, `s`.`term_id`, `s`.`total_fee`, `s.Term`.`term_id`, `s.Term`.`begin_date`, `s.Term`.`end_date`, `s.Term`.`term_name`, `s.Term`.`term_type`, `s.Term`.`week_quantity`
FROM `ablemusic`.`invoice` AS `s`
LEFT JOIN `ablemusic`.`term` AS `s.Term` ON `s`.`term_id` = `s.Term`.`term_id`
WHERE ((`s`.`learner_id` = @__id_0) AND (`s`.`is_active` = 1)) AND (`s`.`is_paid` = 0)
2019-07-18 13:50:57.032 +12:00 [INF] Executed action method Pegasus_backend.Controllers.InvoiceController.GetInvoice (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 195.3663ms.
2019-07-18 13:50:57.032 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Invoice, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:50:57.032 +12:00 [INF] Executed action Pegasus_backend.Controllers.InvoiceController.GetInvoice (Pegasus_backend) in 196.2699ms
2019-07-18 13:50:57.033 +12:00 [INF] Request finished in 197.1286ms 200 application/json; charset=utf-8
2019-07-18 13:50:59.279 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/10080  
2019-07-18 13:50:59.279 +12:00 [INF] Policy execution successful.
2019-07-18 13:50:59.279 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 13:50:59.280 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:50:59.280 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:50:59.470 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 13:50:59.526 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Parent`.`parent_id`, `w.Parent`.`contact_num`, `w.Parent`.`created_at`, `w.Parent`.`email`, `w.Parent`.`first_name`, `w.Parent`.`last_name`, `w.Parent`.`learner_id`, `w.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `w.Parent`
INNER JOIN (
    SELECT `w0`.`learner_id`
    FROM `ablemusic`.`learner` AS `w0`
    WHERE `w0`.`learner_id` = @__learnerId_0
    ORDER BY `w0`.`learner_id`
    LIMIT 1
) AS `t` ON `w.Parent`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-18 13:50:59.703 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerOthers`.`learner_others_id`, `w.LearnerOthers`.`learner_id`, `w.LearnerOthers`.`learner_level`, `w.LearnerOthers`.`others_type`, `w.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `w.LearnerOthers`
INNER JOIN (
    SELECT `w1`.`learner_id`
    FROM `ablemusic`.`learner` AS `w1`
    WHERE `w1`.`learner_id` = @__learnerId_0
    ORDER BY `w1`.`learner_id`
    LIMIT 1
) AS `t0` ON `w.LearnerOthers`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-18 13:50:59.902 +12:00 [INF] Executed DbCommand (77ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance`.`course_instance_id`, `w.One2oneCourseInstance`.`begin_date`, `w.One2oneCourseInstance`.`course_id`, `w.One2oneCourseInstance`.`end_date`, `w.One2oneCourseInstance`.`invoice_date`, `w.One2oneCourseInstance`.`learner_id`, `w.One2oneCourseInstance`.`org_id`, `w.One2oneCourseInstance`.`room_id`, `w.One2oneCourseInstance`.`teacher_id`, `o.Teacher`.`teacher_id`, `o.Teacher`.`ability`, `o.Teacher`.`comment`, `o.Teacher`.`cv_url`, `o.Teacher`.`dob`, `o.Teacher`.`email`, `o.Teacher`.`expiry_date`, `o.Teacher`.`first_name`, `o.Teacher`.`form_url`, `o.Teacher`.`gender`, `o.Teacher`.`home_phone`, `o.Teacher`.`id_number`, `o.Teacher`.`id_photo`, `o.Teacher`.`id_type`, `o.Teacher`.`invoice_template`, `o.Teacher`.`ird_number`, `o.Teacher`.`is_activate`, `o.Teacher`.`is_contract`, `o.Teacher`.`is_left`, `o.Teacher`.`last_name`, `o.Teacher`.`level`, `o.Teacher`.`minimum_hours`, `o.Teacher`.`mobile_phone`, `o.Teacher`.`otherfile_url`, `o.Teacher`.`photo`, `o.Teacher`.`user_id`, `o.Teacher`.`visa`, `o.Room`.`room_id`, `o.Room`.`created_at`, `o.Room`.`is_activate`, `o.Room`.`org_id`, `o.Room`.`room_name`, `o.Course`.`course_id`, `o.Course`.`course_category_id`, `o.Course`.`course_name`, `o.Course`.`course_type`, `o.Course`.`duration`, `o.Course`.`level`, `o.Course`.`price`, `o.Course`.`teacher_level`, `o.Org`.`org_id`, `o.Org`.`abbr`, `o.Org`.`address`, `o.Org`.`email`, `o.Org`.`is_activate`, `o.Org`.`is_headoffice`, `o.Org`.`localtion_x`, `o.Org`.`localtion_y`, `o.Org`.`org_name`, `o.Org`.`phone`
FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance`
LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher` ON `w.One2oneCourseInstance`.`teacher_id` = `o.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `o.Room` ON `w.One2oneCourseInstance`.`room_id` = `o.Room`.`room_id`
LEFT JOIN `ablemusic`.`course` AS `o.Course` ON `w.One2oneCourseInstance`.`course_id` = `o.Course`.`course_id`
LEFT JOIN `ablemusic`.`org` AS `o.Org` ON `w.One2oneCourseInstance`.`org_id` = `o.Org`.`org_id`
INNER JOIN (
    SELECT `w2`.`learner_id`
    FROM `ablemusic`.`learner` AS `w2`
    WHERE `w2`.`learner_id` = @__learnerId_0
    ORDER BY `w2`.`learner_id`
    LIMIT 1
) AS `t1` ON `w.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`, `w.One2oneCourseInstance`.`course_instance_id`
2019-07-18 13:50:59.989 +12:00 [INF] Executed DbCommand (85ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.Amendment`.`amendment_id`, `w.One2oneCourseInstance.Amendment`.`amend_type`, `w.One2oneCourseInstance.Amendment`.`begin_date`, `w.One2oneCourseInstance.Amendment`.`begin_time`, `w.One2oneCourseInstance.Amendment`.`course_instance_id`, `w.One2oneCourseInstance.Amendment`.`course_schedule_id`, `w.One2oneCourseInstance.Amendment`.`created_at`, `w.One2oneCourseInstance.Amendment`.`day_of_week`, `w.One2oneCourseInstance.Amendment`.`end_date`, `w.One2oneCourseInstance.Amendment`.`end_time`, `w.One2oneCourseInstance.Amendment`.`is_temporary`, `w.One2oneCourseInstance.Amendment`.`learner_id`, `w.One2oneCourseInstance.Amendment`.`org_id`, `w.One2oneCourseInstance.Amendment`.`reason`, `w.One2oneCourseInstance.Amendment`.`room_id`, `w.One2oneCourseInstance.Amendment`.`teacher_id`, `a.Teacher`.`teacher_id`, `a.Teacher`.`ability`, `a.Teacher`.`comment`, `a.Teacher`.`cv_url`, `a.Teacher`.`dob`, `a.Teacher`.`email`, `a.Teacher`.`expiry_date`, `a.Teacher`.`first_name`, `a.Teacher`.`form_url`, `a.Teacher`.`gender`, `a.Teacher`.`home_phone`, `a.Teacher`.`id_number`, `a.Teacher`.`id_photo`, `a.Teacher`.`id_type`, `a.Teacher`.`invoice_template`, `a.Teacher`.`ird_number`, `a.Teacher`.`is_activate`, `a.Teacher`.`is_contract`, `a.Teacher`.`is_left`, `a.Teacher`.`last_name`, `a.Teacher`.`level`, `a.Teacher`.`minimum_hours`, `a.Teacher`.`mobile_phone`, `a.Teacher`.`otherfile_url`, `a.Teacher`.`photo`, `a.Teacher`.`user_id`, `a.Teacher`.`visa`, `a.Room`.`room_id`, `a.Room`.`created_at`, `a.Room`.`is_activate`, `a.Room`.`org_id`, `a.Room`.`room_name`
FROM `ablemusic`.`amendment` AS `w.One2oneCourseInstance.Amendment`
LEFT JOIN `ablemusic`.`teacher` AS `a.Teacher` ON `w.One2oneCourseInstance.Amendment`.`teacher_id` = `a.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `a.Room` ON `w.One2oneCourseInstance.Amendment`.`room_id` = `a.Room`.`room_id`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance0`.`course_instance_id`, `t2`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance0`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher0` ON `w.One2oneCourseInstance0`.`teacher_id` = `o.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room0` ON `w.One2oneCourseInstance0`.`room_id` = `o.Room0`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course0` ON `w.One2oneCourseInstance0`.`course_id` = `o.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org0` ON `w.One2oneCourseInstance0`.`org_id` = `o.Org0`.`org_id`
    INNER JOIN (
        SELECT `w3`.`learner_id`
        FROM `ablemusic`.`learner` AS `w3`
        WHERE `w3`.`learner_id` = @__learnerId_0
        ORDER BY `w3`.`learner_id`
        LIMIT 1
    ) AS `t2` ON `w.One2oneCourseInstance0`.`learner_id` = `t2`.`learner_id`
) AS `t3` ON `w.One2oneCourseInstance.Amendment`.`course_instance_id` = `t3`.`course_instance_id`
ORDER BY `t3`.`learner_id`, `t3`.`course_instance_id`
2019-07-18 13:51:00.184 +12:00 [INF] Executed DbCommand (67ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.CourseSchedule`.`course_schedule_id`, `w.One2oneCourseInstance.CourseSchedule`.`begin_time`, `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id`, `w.One2oneCourseInstance.CourseSchedule`.`day_of_week`, `w.One2oneCourseInstance.CourseSchedule`.`end_time`, `w.One2oneCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `w.One2oneCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance1`.`course_instance_id`, `t4`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance1`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher1` ON `w.One2oneCourseInstance1`.`teacher_id` = `o.Teacher1`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room1` ON `w.One2oneCourseInstance1`.`room_id` = `o.Room1`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course1` ON `w.One2oneCourseInstance1`.`course_id` = `o.Course1`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org1` ON `w.One2oneCourseInstance1`.`org_id` = `o.Org1`.`org_id`
    INNER JOIN (
        SELECT `w4`.`learner_id`
        FROM `ablemusic`.`learner` AS `w4`
        WHERE `w4`.`learner_id` = @__learnerId_0
        ORDER BY `w4`.`learner_id`
        LIMIT 1
    ) AS `t4` ON `w.One2oneCourseInstance1`.`learner_id` = `t4`.`learner_id`
) AS `t5` ON `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id` = `t5`.`course_instance_id`
ORDER BY `t5`.`learner_id`, `t5`.`course_instance_id`
2019-07-18 13:51:00.400 +12:00 [INF] Executed DbCommand (92ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerGroupCourse`.`learner_group_course_id`, `w.LearnerGroupCourse`.`begin_date`, `w.LearnerGroupCourse`.`comment`, `w.LearnerGroupCourse`.`created_at`, `w.LearnerGroupCourse`.`end_date`, `w.LearnerGroupCourse`.`group_course_instance_id`, `w.LearnerGroupCourse`.`invoice_date`, `w.LearnerGroupCourse`.`is_activate`, `w.LearnerGroupCourse`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`, `l.GroupCourseInstance`.`begin_date`, `l.GroupCourseInstance`.`course_id`, `l.GroupCourseInstance`.`end_date`, `l.GroupCourseInstance`.`invoice_date`, `l.GroupCourseInstance`.`is_activate`, `l.GroupCourseInstance`.`is_started`, `l.GroupCourseInstance`.`org_id`, `l.GroupCourseInstance`.`room_id`, `l.GroupCourseInstance`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`ability`, `l.GroupCourseInstance.Teacher`.`comment`, `l.GroupCourseInstance.Teacher`.`cv_url`, `l.GroupCourseInstance.Teacher`.`dob`, `l.GroupCourseInstance.Teacher`.`email`, `l.GroupCourseInstance.Teacher`.`expiry_date`, `l.GroupCourseInstance.Teacher`.`first_name`, `l.GroupCourseInstance.Teacher`.`form_url`, `l.GroupCourseInstance.Teacher`.`gender`, `l.GroupCourseInstance.Teacher`.`home_phone`, `l.GroupCourseInstance.Teacher`.`id_number`, `l.GroupCourseInstance.Teacher`.`id_photo`, `l.GroupCourseInstance.Teacher`.`id_type`, `l.GroupCourseInstance.Teacher`.`invoice_template`, `l.GroupCourseInstance.Teacher`.`ird_number`, `l.GroupCourseInstance.Teacher`.`is_activate`, `l.GroupCourseInstance.Teacher`.`is_contract`, `l.GroupCourseInstance.Teacher`.`is_left`, `l.GroupCourseInstance.Teacher`.`last_name`, `l.GroupCourseInstance.Teacher`.`level`, `l.GroupCourseInstance.Teacher`.`minimum_hours`, `l.GroupCourseInstance.Teacher`.`mobile_phone`, `l.GroupCourseInstance.Teacher`.`otherfile_url`, `l.GroupCourseInstance.Teacher`.`photo`, `l.GroupCourseInstance.Teacher`.`user_id`, `l.GroupCourseInstance.Teacher`.`visa`, `l.GroupCourseInstance.Course`.`course_id`, `l.GroupCourseInstance.Course`.`course_category_id`, `l.GroupCourseInstance.Course`.`course_name`, `l.GroupCourseInstance.Course`.`course_type`, `l.GroupCourseInstance.Course`.`duration`, `l.GroupCourseInstance.Course`.`level`, `l.GroupCourseInstance.Course`.`price`, `l.GroupCourseInstance.Course`.`teacher_level`, `l.GroupCourseInstance.Room`.`room_id`, `l.GroupCourseInstance.Room`.`created_at`, `l.GroupCourseInstance.Room`.`is_activate`, `l.GroupCourseInstance.Room`.`org_id`, `l.GroupCourseInstance.Room`.`room_name`
FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse`
LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance` ON `w.LearnerGroupCourse`.`group_course_instance_id` = `l.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher` ON `l.GroupCourseInstance`.`teacher_id` = `l.GroupCourseInstance.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course` ON `l.GroupCourseInstance`.`course_id` = `l.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room` ON `l.GroupCourseInstance`.`room_id` = `l.GroupCourseInstance.Room`.`room_id`
INNER JOIN (
    SELECT `w5`.`learner_id`
    FROM `ablemusic`.`learner` AS `w5`
    WHERE `w5`.`learner_id` = @__learnerId_0
    ORDER BY `w5`.`learner_id`
    LIMIT 1
) AS `t6` ON `w.LearnerGroupCourse`.`learner_id` = `t6`.`learner_id`
ORDER BY `t6`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`
2019-07-18 13:51:00.402 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1121.6584ms.
2019-07-18 13:51:00.402 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:51:00.402 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 1123.0525ms
2019-07-18 13:51:00.403 +12:00 [INF] Request finished in 1123.8158ms 200 application/json; charset=utf-8
2019-07-18 13:51:20.813 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-30  
2019-07-18 13:51:20.813 +12:00 [INF] Policy execution successful.
2019-07-18 13:51:20.813 +12:00 [INF] Request finished in 0.3498ms 204 
2019-07-18 13:51:20.832 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-30  
2019-07-18 13:51:20.832 +12:00 [INF] Policy execution successful.
2019-07-18 13:51:20.832 +12:00 [INF] Successfully validated the token.
2019-07-18 13:51:20.833 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:51:20.833 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:51:20.834 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:51:21.011 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:51:21.187 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:51:21.226 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:51:21.227 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:51:21.227 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:51:21.227 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:51:21.227 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:51:21.227 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:51:21.227 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:51:21.227 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:51:21.261 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:51:21.534 +12:00 [INF] Executed DbCommand (104ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:51:24.091 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3258.0703000000003ms.
2019-07-18 13:51:24.092 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:51:24.093 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 3259.7808ms
2019-07-18 13:51:24.093 +12:00 [INF] Request finished in 3261.0705ms 200 application/json; charset=utf-8
2019-07-18 13:59:36.811 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-8-6  
2019-07-18 13:59:36.815 +12:00 [INF] Policy execution successful.
2019-07-18 13:59:36.815 +12:00 [INF] Request finished in 3.9423ms 204 
2019-07-18 13:59:36.853 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-8-6  
2019-07-18 13:59:36.854 +12:00 [INF] Policy execution successful.
2019-07-18 13:59:36.854 +12:00 [INF] Successfully validated the token.
2019-07-18 13:59:36.854 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 13:59:36.855 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 13:59:36.855 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 13:59:37.609 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 13:59:37.783 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 13:59:37.826 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:59:37.827 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:59:37.827 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:59:37.827 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:59:37.827 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:59:37.827 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:59:37.827 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:59:37.827 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 13:59:37.860 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 13:59:38.137 +12:00 [INF] Executed DbCommand (107ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 13:59:39.081 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2226.6712ms.
2019-07-18 13:59:39.082 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 13:59:39.082 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 2227.5872ms
2019-07-18 13:59:39.082 +12:00 [INF] Request finished in 2228.5503ms 200 application/json; charset=utf-8
2019-07-18 14:04:10.233 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/session/Confirm/40239/undefined  
2019-07-18 14:04:10.233 +12:00 [INF] Policy execution successful.
2019-07-18 14:04:10.234 +12:00 [INF] Request finished in 0.4832ms 204 
2019-07-18 14:04:10.247 +12:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/session/Confirm/40239/undefined  0
2019-07-18 14:04:10.247 +12:00 [INF] Policy execution successful.
2019-07-18 14:04:10.248 +12:00 [INF] Route matched with {action = "Confirm", controller = "Session"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Confirm(Int32, System.String) on controller Pegasus_backend.Controllers.SessionController (Pegasus_backend).
2019-07-18 14:04:10.248 +12:00 [INF] Executing action method Pegasus_backend.Controllers.SessionController.Confirm (Pegasus_backend) - Validation state: "Valid"
2019-07-18 14:04:10.248 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 14:04:11.034 +12:00 [INF] Executed DbCommand (73ms) [Parameters=[@__lessonId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`lesson_id`, `s`.`begin_time`, `s`.`course_instance_id`, `s`.`created_at`, `s`.`end_time`, `s`.`group_course_instance_id`, `s`.`invoice_id`, `s`.`is_canceled`, `s`.`is_changed`, `s`.`is_confirm`, `s`.`is_paid`, `s`.`is_trial`, `s`.`learner_id`, `s`.`new_lesson_id`, `s`.`org_id`, `s`.`reason`, `s`.`room_id`, `s`.`teacher_id`, `s`.`trial_course_id`, `s.TrialCourse`.`course_id`, `s.TrialCourse`.`course_category_id`, `s.TrialCourse`.`course_name`, `s.TrialCourse`.`course_type`, `s.TrialCourse`.`duration`, `s.TrialCourse`.`level`, `s.TrialCourse`.`price`, `s.TrialCourse`.`teacher_level`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s.GroupCourseInstance.Course`.`course_id`, `s.GroupCourseInstance.Course`.`course_category_id`, `s.GroupCourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_type`, `s.GroupCourseInstance.Course`.`duration`, `s.GroupCourseInstance.Course`.`level`, `s.GroupCourseInstance.Course`.`price`, `s.GroupCourseInstance.Course`.`teacher_level`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE `s`.`lesson_id` = @__lessonId_0
LIMIT 1
2019-07-18 14:04:11.092 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@p18='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16), @p8='?' (DbType = Byte), @p9='?' (DbType = Int16), @p10='?' (DbType = Byte), @p11='?' (DbType = Int32), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`lesson` SET `begin_time` = @p0, `course_instance_id` = @p1, `created_at` = @p2, `end_time` = @p3, `group_course_instance_id` = @p4, `invoice_id` = @p5, `is_canceled` = @p6, `is_changed` = @p7, `is_confirm` = @p8, `is_paid` = @p9, `is_trial` = @p10, `learner_id` = @p11, `new_lesson_id` = @p12, `org_id` = @p13, `reason` = @p14, `room_id` = @p15, `teacher_id` = @p16, `trial_course_id` = @p17
WHERE `lesson_id` = @p18;
SELECT ROW_COUNT();
2019-07-18 14:04:11.145 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__lesson_LearnerId_0='?' (DbType = Int32), @__lesson_CourseInstanceId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`lesson_remain_id`, `s`.`course_instance_id`, `s`.`expiry_date`, `s`.`group_course_instance_id`, `s`.`learner_id`, `s`.`quantity`, `s`.`term_id`
FROM `ablemusic`.`lesson_remain` AS `s`
WHERE (`s`.`learner_id` = @__lesson_LearnerId_0) AND (`s`.`course_instance_id` = @__lesson_CourseInstanceId_1)
LIMIT 1
2019-07-18 14:04:11.199 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = Int32), @p5='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`lesson_remain` SET `course_instance_id` = @p0, `expiry_date` = @p1, `group_course_instance_id` = @p2, `learner_id` = @p3, `quantity` = @p4, `term_id` = @p5
WHERE `lesson_remain_id` = @p6;
SELECT ROW_COUNT();
2019-07-18 14:04:11.253 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__lesson_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`course_instance_id`, `s`.`begin_date`, `s`.`course_id`, `s`.`end_date`, `s`.`invoice_date`, `s`.`learner_id`, `s`.`org_id`, `s`.`room_id`, `s`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `s`
WHERE `s`.`course_instance_id` = @__lesson_CourseInstanceId_0
LIMIT 1
2019-07-18 14:04:11.306 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__courseInstance_CourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`course_id`, `s`.`course_category_id`, `s`.`course_name`, `s`.`course_type`, `s`.`duration`, `s`.`level`, `s`.`price`, `s`.`teacher_level`
FROM `ablemusic`.`course` AS `s`
WHERE `s`.`course_id` = @__courseInstance_CourseId_0
LIMIT 1
2019-07-18 14:04:11.358 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__lesson_LearnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`learner_id`, `s`.`balance`, `s`.`updated_at`
FROM `ablemusic`.`fund` AS `s`
WHERE `s`.`learner_id` = @__lesson_LearnerId_0
LIMIT 1
2019-07-18 14:04:11.411 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Decimal), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`fund` SET `balance` = @p0, `updated_at` = @p1
WHERE `learner_id` = @p2;
SELECT ROW_COUNT();
2019-07-18 14:04:11.467 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@p0='?' (Size = -1), @p1='?' (Size = -1), @p2='?' (DbType = Int32), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`learner_transaction` (`amount`, `created_at`, `learner_id`, `lesson_id`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `tran_id`
FROM `ablemusic`.`learner_transaction`
WHERE ROW_COUNT() = 1
 AND `tran_id`=LAST_INSERT_ID();
2019-07-18 14:04:11.520 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__lesson_TeacherId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`rates_id`, `s`.`create_at`, `s`.`group_rates`, `s`.`is_activate`, `s`.`others_rates`, `s`.`piano_rates`, `s`.`teacher_id`, `s`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s`
WHERE (`s`.`teacher_id` = @__lesson_TeacherId_0) AND (`s`.`is_activate` = 1)
LIMIT 1
2019-07-18 14:04:11.579 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = Int16), @p3='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`teacher_transaction` (`created_at`, `lesson_id`, `teacher_id`, `wage_amount`)
VALUES (@p0, @p1, @p2, @p3);
SELECT `tran_id`
FROM `ablemusic`.`teacher_transaction`
WHERE ROW_COUNT() = 1
 AND `tran_id`=LAST_INSERT_ID();
2019-07-18 14:04:11.649 +12:00 [INF] Executed action method Pegasus_backend.Controllers.SessionController.Confirm (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1401.0185000000001ms.
2019-07-18 14:04:11.650 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 14:04:11.650 +12:00 [INF] Executed action Pegasus_backend.Controllers.SessionController.Confirm (Pegasus_backend) in 1402.2663ms
2019-07-18 14:04:11.650 +12:00 [INF] Request finished in 1403.0643ms 200 application/json; charset=utf-8
2019-07-18 14:04:13.516 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-08-06  
2019-07-18 14:04:13.516 +12:00 [INF] Policy execution successful.
2019-07-18 14:04:13.516 +12:00 [INF] Request finished in 0.3728ms 204 
2019-07-18 14:04:13.527 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-08-06  
2019-07-18 14:04:13.527 +12:00 [INF] Policy execution successful.
2019-07-18 14:04:13.527 +12:00 [INF] Successfully validated the token.
2019-07-18 14:04:13.527 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 14:04:13.528 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 14:04:13.528 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 14:04:13.702 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 14:04:13.887 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 14:04:13.918 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:04:13.919 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:04:13.919 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:04:13.919 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:04:13.919 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:04:13.919 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:04:13.919 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:04:13.919 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:04:13.963 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 14:04:14.242 +12:00 [INF] Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 14:04:15.917 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2388.5337ms.
2019-07-18 14:04:15.917 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 14:04:15.917 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 2389.8799ms
2019-07-18 14:04:15.918 +12:00 [INF] Request finished in 2390.964ms 200 application/json; charset=utf-8
2019-07-18 14:06:50.996 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/session/40229/undefined/3  
2019-07-18 14:06:50.996 +12:00 [INF] Policy execution successful.
2019-07-18 14:06:50.997 +12:00 [INF] Request finished in 0.3604ms 204 
2019-07-18 14:06:51.006 +12:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/session/40229/undefined/3  0
2019-07-18 14:06:51.006 +12:00 [INF] Policy execution successful.
2019-07-18 14:06:51.006 +12:00 [INF] Route matched with {action = "PutSesson", controller = "Session"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PutSesson(Int32, System.String, Int16) on controller Pegasus_backend.Controllers.SessionController (Pegasus_backend).
2019-07-18 14:06:51.007 +12:00 [INF] Executing action method Pegasus_backend.Controllers.SessionController.PutSesson (Pegasus_backend) - Validation state: "Valid"
2019-07-18 14:06:51.008 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 14:06:51.198 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__sessionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`lesson_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`created_at`, `x`.`end_time`, `x`.`group_course_instance_id`, `x`.`invoice_id`, `x`.`is_canceled`, `x`.`is_changed`, `x`.`is_confirm`, `x`.`is_paid`, `x`.`is_trial`, `x`.`learner_id`, `x`.`new_lesson_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`, `x`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `x`
WHERE `x`.`lesson_id` = @__sessionId_0
LIMIT 1
2019-07-18 14:06:51.374 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__userId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`user_id`, `u`.`created_at`, `u`.`is_activate`, `u`.`is_online`, `u`.`password`, `u`.`role_id`, `u`.`signature`, `u`.`unread_message_id`, `u`.`user_name`
FROM `ablemusic`.`user` AS `u`
WHERE `u`.`user_id` = @__userId_0
LIMIT 1
2019-07-18 14:06:51.559 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__lesson_TeacherId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`teacher_id`, `t`.`ability`, `t`.`comment`, `t`.`cv_url`, `t`.`dob`, `t`.`email`, `t`.`expiry_date`, `t`.`first_name`, `t`.`form_url`, `t`.`gender`, `t`.`home_phone`, `t`.`id_number`, `t`.`id_photo`, `t`.`id_type`, `t`.`invoice_template`, `t`.`ird_number`, `t`.`is_activate`, `t`.`is_contract`, `t`.`is_left`, `t`.`last_name`, `t`.`level`, `t`.`minimum_hours`, `t`.`mobile_phone`, `t`.`otherfile_url`, `t`.`photo`, `t`.`user_id`, `t`.`visa`
FROM `ablemusic`.`teacher` AS `t`
WHERE `t`.`teacher_id` = @__lesson_TeacherId_0
LIMIT 1
2019-07-18 14:06:51.746 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__lesson_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`course_id` AS `CourseId`, `c`.`course_name` AS `CourseName`
FROM `ablemusic`.`course` AS `c`
INNER JOIN `ablemusic`.`one2one_course_instance` AS `oto` ON `c`.`course_id` = `oto`.`course_id`
WHERE `oto`.`course_instance_id` = @__lesson_CourseInstanceId_0
LIMIT 1
2019-07-18 14:06:51.932 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `h`.`holiday_id`, `h`.`holiday_date`, `h`.`holiday_name`
FROM `ablemusic`.`holiday` AS `h`
2019-07-18 14:06:52.111 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__lesson_LearnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`comment`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`learner_id` = @__lesson_LearnerId_0
LIMIT 1
2019-07-18 14:06:53.407 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?' (DbType = AnsiString), @p4='?' (DbType = Int16), @p5='?' (DbType = Int32), @p6='?' (DbType = Int32), @p7='?' (DbType = AnsiString), @p8='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`await_make_up_lesson` (`course_instance_id`, `create_at`, `expired_date`, `group_course_instance_id`, `is_active`, `learner_id`, `missed_lesson_id`, `new_lesson_id`, `schduled_at`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8);
SELECT `await_id`
FROM `ablemusic`.`await_make_up_lesson`
WHERE ROW_COUNT() = 1
 AND `await_id`=LAST_INSERT_ID();
2019-07-18 14:06:53.462 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@p11='?' (DbType = Int32), @p9='?' (DbType = Int16), @p10='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`lesson` SET `is_canceled` = @p9, `reason` = @p10
WHERE `lesson_id` = @p11;
SELECT ROW_COUNT();
2019-07-18 14:06:53.528 +12:00 [INF] Executed action method Pegasus_backend.Controllers.SessionController.PutSesson (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2520.5931ms.
2019-07-18 14:06:53.528 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 14:06:53.529 +12:00 [INF] Executed action Pegasus_backend.Controllers.SessionController.PutSesson (Pegasus_backend) in 2522.0808ms
2019-07-18 14:06:53.529 +12:00 [INF] Request finished in 2522.9566ms 200 application/json; charset=utf-8
2019-07-18 14:06:55.372 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-08-06  
2019-07-18 14:06:55.372 +12:00 [INF] Policy execution successful.
2019-07-18 14:06:55.372 +12:00 [INF] Request finished in 0.3258ms 204 
2019-07-18 14:06:55.377 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-08-06  
2019-07-18 14:06:55.378 +12:00 [INF] Policy execution successful.
2019-07-18 14:06:55.378 +12:00 [INF] Successfully validated the token.
2019-07-18 14:06:55.378 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 14:06:55.379 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 14:06:55.379 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 14:06:55.552 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 14:06:55.744 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 14:06:55.781 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:06:55.781 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:06:55.781 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:06:55.781 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:06:55.781 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:06:55.782 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:06:55.782 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:06:55.782 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:06:55.816 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 14:06:56.105 +12:00 [INF] Executed DbCommand (101ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 14:06:58.133 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2753.9654ms.
2019-07-18 14:06:58.133 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 14:06:58.134 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 2755.3308ms
2019-07-18 14:06:58.134 +12:00 [INF] Request finished in 2756.5906ms 200 application/json; charset=utf-8
2019-07-18 14:17:30.530 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-08-07  
2019-07-18 14:17:30.531 +12:00 [INF] Policy execution successful.
2019-07-18 14:17:30.531 +12:00 [INF] Request finished in 0.6675ms 204 
2019-07-18 14:17:30.551 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-08-07  
2019-07-18 14:17:30.551 +12:00 [INF] Policy execution successful.
2019-07-18 14:17:30.552 +12:00 [INF] Successfully validated the token.
2019-07-18 14:17:30.552 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 14:17:30.552 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 14:17:30.553 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 14:17:31.362 +12:00 [INF] Executed DbCommand (65ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 14:17:31.719 +12:00 [INF] Executed DbCommand (103ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 14:17:31.768 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:17:31.768 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:17:31.768 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:17:31.768 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:17:31.768 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:17:31.768 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:17:31.768 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:17:31.768 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:17:31.799 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 14:17:32.122 +12:00 [INF] Executed DbCommand (117ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 14:17:34.656 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4103.5503ms.
2019-07-18 14:17:34.657 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 14:17:34.657 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 4104.9388ms
2019-07-18 14:17:34.657 +12:00 [INF] Request finished in 4106.2242ms 200 application/json; charset=utf-8
2019-07-18 14:17:45.969 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-8-13  
2019-07-18 14:17:45.969 +12:00 [INF] Policy execution successful.
2019-07-18 14:17:45.969 +12:00 [INF] Request finished in 0.3925ms 204 
2019-07-18 14:17:45.994 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-8-13  
2019-07-18 14:17:45.994 +12:00 [INF] Policy execution successful.
2019-07-18 14:17:45.994 +12:00 [INF] Successfully validated the token.
2019-07-18 14:17:45.994 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 14:17:45.995 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 14:17:45.995 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 14:17:46.225 +12:00 [INF] Executed DbCommand (72ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 14:17:46.446 +12:00 [INF] Executed DbCommand (66ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 14:17:46.485 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:17:46.485 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:17:46.485 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:17:46.485 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:17:46.485 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:17:46.485 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:17:46.485 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:17:46.485 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:17:46.518 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 14:17:46.820 +12:00 [INF] Executed DbCommand (106ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 14:17:48.936 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2940.6473ms.
2019-07-18 14:17:48.936 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 14:17:48.936 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 2941.7421ms
2019-07-18 14:17:48.936 +12:00 [INF] Request finished in 2942.7628ms 200 application/json; charset=utf-8
2019-07-18 14:18:38.104 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-7-16  
2019-07-18 14:18:38.104 +12:00 [INF] Policy execution successful.
2019-07-18 14:18:38.104 +12:00 [INF] Request finished in 0.3968ms 204 
2019-07-18 14:18:38.108 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-7-16  
2019-07-18 14:18:38.108 +12:00 [INF] Policy execution successful.
2019-07-18 14:18:38.108 +12:00 [INF] Successfully validated the token.
2019-07-18 14:18:38.108 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 14:18:38.109 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 14:18:38.109 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 14:18:38.340 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 14:18:38.520 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 14:18:38.556 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:18:38.556 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:18:38.556 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:18:38.556 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:18:38.556 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:18:38.556 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:18:38.556 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:18:38.556 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:18:38.588 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 14:18:38.891 +12:00 [INF] Executed DbCommand (126ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 14:18:40.854 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2744.6225ms.
2019-07-18 14:18:40.854 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 14:18:40.854 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 2745.6877ms
2019-07-18 14:18:40.854 +12:00 [INF] Request finished in 2746.5648ms 200 application/json; charset=utf-8
2019-07-18 14:27:49.898 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/RemindLog/2019-07-17/2019-07-18  
2019-07-18 14:27:49.898 +12:00 [INF] Policy execution successful.
2019-07-18 14:27:49.904 +12:00 [INF] Route matched with {action = "GetRemindLog", controller = "RemindLog"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRemindLog(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime]) on controller Pegasus_backend.Controllers.RemindLogController (Pegasus_backend).
2019-07-18 14:27:49.905 +12:00 [INF] Executing action method Pegasus_backend.Controllers.RemindLogController.GetRemindLog (Pegasus_backend) - Validation state: "Valid"
2019-07-18 14:27:49.914 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 14:27:49.929 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:27:49.929 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:27:49.929 +12:00 [WRN] The Include operation for navigation '[s].Lesson.CourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:27:49.929 +12:00 [WRN] The Include operation for navigation '[s].Lesson.GroupCourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:27:49.929 +12:00 [WRN] The Include operation for navigation '[s].Lesson.TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:27:49.992 +12:00 [WRN] The LINQ expression 'where ((__beginDate_Value_Date_0 <= Convert([s].CreatedAt, DateTime).Date) AndAlso (Convert([s].CreatedAt, DateTime).Date <= __endDate_Value_Date_1))' could not be translated and will be evaluated locally.
2019-07-18 14:27:50.792 +12:00 [INF] Executed DbCommand (102ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Teacher`.`teacher_id`, `s.Teacher`.`ability`, `s.Teacher`.`comment`, `s.Teacher`.`cv_url`, `s.Teacher`.`dob`, `s.Teacher`.`email`, `s.Teacher`.`expiry_date`, `s.Teacher`.`first_name` AS `FirstName0`, `s.Teacher`.`form_url`, `s.Teacher`.`gender`, `s.Teacher`.`home_phone`, `s.Teacher`.`id_number`, `s.Teacher`.`id_photo`, `s.Teacher`.`id_type`, `s.Teacher`.`invoice_template`, `s.Teacher`.`ird_number`, `s.Teacher`.`is_activate`, `s.Teacher`.`is_contract`, `s.Teacher`.`is_left`, `s.Teacher`.`last_name` AS `LastName0`, `s.Teacher`.`level`, `s.Teacher`.`minimum_hours`, `s.Teacher`.`mobile_phone`, `s.Teacher`.`otherfile_url`, `s.Teacher`.`photo`, `s.Teacher`.`user_id`, `s.Teacher`.`visa`, `s.Learner`.`learner_id`, `s.Learner`.`address`, `s.Learner`.`comment`, `s.Learner`.`contact_num`, `s.Learner`.`created_at`, `s.Learner`.`dob`, `s.Learner`.`email`, `s.Learner`.`enroll_date`, `s.Learner`.`first_name` AS `FirstName`, `s.Learner`.`form_url`, `s.Learner`.`g5_certification`, `s.Learner`.`gender`, `s.Learner`.`is_abrsm_g5`, `s.Learner`.`is_active`, `s.Learner`.`is_under_18`, `s.Learner`.`last_name` AS `LastName`, `s.Learner`.`learner_level`, `s.Learner`.`level_type`, `s.Learner`.`middle_name`, `s.Learner`.`note`, `s.Learner`.`org_id`, `s.Learner`.`otherfile_url`, `s.Learner`.`payment_period`, `s.Learner`.`photo`, `s.Learner`.`referrer`, `s.Learner`.`referrer_learner_id`, `s.Learner`.`user_id`, `s`.`created_at` AS `CreatedAt`, `s`.`remind_id` AS `RemindId`, `s`.`email` AS `Email0`, `s`.`remind_type` AS `RemindType`, `s`.`remind_content` AS `RemindContent`, `s`.`is_learner` AS `IsLearner`, `s`.`process_flag` AS `ProcessFlag`, `s`.`email_at` AS `EmailAt`, `s`.`remind_title` AS `RemindTitle`, `s`.`received_flag` AS `ReceivedFlag`, `s.Lesson.GroupCourseInstance.Course`.`course_name`, `s.Lesson.CourseInstance.Course`.`course_name`, `s.Lesson.TrialCourse`.`course_name`, `s`.`learner_id` AS `LearnerId`, `s`.`teacher_id` AS `TeacherId`
FROM `ablemusic`.`remind_log` AS `s`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`lesson` AS `s.Lesson` ON `s`.`lesson_id` = `s.Lesson`.`lesson_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.Lesson.GroupCourseInstance` ON `s.Lesson`.`group_course_instance_id` = `s.Lesson.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.Lesson.GroupCourseInstance.Course` ON `s.Lesson.GroupCourseInstance`.`course_id` = `s.Lesson.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.Lesson.CourseInstance` ON `s.Lesson`.`course_instance_id` = `s.Lesson.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.Lesson.CourseInstance.Course` ON `s.Lesson.CourseInstance`.`course_id` = `s.Lesson.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`course` AS `s.Lesson.TrialCourse` ON `s.Lesson`.`trial_course_id` = `s.Lesson.TrialCourse`.`course_id`
2019-07-18 14:27:51.159 +12:00 [INF] Executed action method Pegasus_backend.Controllers.RemindLogController.GetRemindLog (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1253.8119000000002ms.
2019-07-18 14:27:51.159 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 14:27:51.175 +12:00 [INF] Executed action Pegasus_backend.Controllers.RemindLogController.GetRemindLog (Pegasus_backend) in 1270.9848ms
2019-07-18 14:27:51.175 +12:00 [INF] Request finished in 1277.2595ms 200 application/json; charset=utf-8
2019-07-18 14:34:46.463 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/room/forCalendar  
2019-07-18 14:34:46.463 +12:00 [INF] Policy execution successful.
2019-07-18 14:34:46.467 +12:00 [INF] Request finished in 1.6801ms 204 
2019-07-18 14:34:46.494 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/room/forCalendar  
2019-07-18 14:34:46.495 +12:00 [INF] Policy execution successful.
2019-07-18 14:34:46.500 +12:00 [INF] Successfully validated the token.
2019-07-18 14:34:46.505 +12:00 [INF] Route matched with {action = "GetRoom", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoom() on controller Pegasus_backend.Controllers.RoomController (Pegasus_backend).
2019-07-18 14:34:46.505 +12:00 [INF] Authorization was successful.
2019-07-18 14:34:46.509 +12:00 [INF] Executing action method Pegasus_backend.Controllers.RoomController.GetRoom (Pegasus_backend) - Validation state: "Valid"
2019-07-18 14:34:46.509 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 14:34:47.455 +12:00 [INF] Executed DbCommand (77ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__userId_0
LIMIT 1
2019-07-18 14:34:47.671 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 14:34:47.848 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__orgId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`room_id` AS `id`, `s`.`room_name` AS `title`
FROM `ablemusic`.`room` AS `s`
WHERE `s`.`org_id` = @__orgId_0
2019-07-18 14:34:47.849 +12:00 [INF] Executed action method Pegasus_backend.Controllers.RoomController.GetRoom (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1340.5326ms.
2019-07-18 14:34:47.850 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.IEnumerable`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 14:34:47.850 +12:00 [INF] Executed action Pegasus_backend.Controllers.RoomController.GetRoom (Pegasus_backend) in 1345.3397ms
2019-07-18 14:34:47.851 +12:00 [INF] Request finished in 1356.5086ms 200 application/json; charset=utf-8
2019-07-18 14:34:47.868 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-18  
2019-07-18 14:34:47.868 +12:00 [INF] Policy execution successful.
2019-07-18 14:34:47.869 +12:00 [INF] Request finished in 0.9407ms 204 
2019-07-18 14:34:47.988 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-18  
2019-07-18 14:34:47.988 +12:00 [INF] Policy execution successful.
2019-07-18 14:34:47.988 +12:00 [INF] Successfully validated the token.
2019-07-18 14:34:47.989 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 14:34:47.989 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 14:34:47.990 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 14:34:48.177 +12:00 [INF] Executed DbCommand (62ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 14:34:48.360 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 14:34:48.396 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:34:48.396 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:34:48.396 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:34:48.396 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:34:48.396 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:34:48.396 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:34:48.396 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:34:48.396 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:34:48.429 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 14:34:48.715 +12:00 [INF] Executed DbCommand (116ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 14:34:50.404 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-19  
2019-07-18 14:34:50.404 +12:00 [INF] Policy execution successful.
2019-07-18 14:34:50.404 +12:00 [INF] Request finished in 0.3438ms 204 
2019-07-18 14:34:50.412 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-19  
2019-07-18 14:34:50.413 +12:00 [INF] Policy execution successful.
2019-07-18 14:34:50.413 +12:00 [INF] Successfully validated the token.
2019-07-18 14:34:50.413 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 14:34:50.413 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 14:34:50.414 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 14:34:50.876 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2887.0947ms.
2019-07-18 14:34:50.877 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 14:34:50.877 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 2888.2241000000004ms
2019-07-18 14:34:50.877 +12:00 [INF] Request finished in 2889.3325ms 200 application/json; charset=utf-8
2019-07-18 14:34:51.274 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 14:34:51.464 +12:00 [INF] Executed DbCommand (63ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 14:34:51.495 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:34:51.496 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:34:51.496 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:34:51.496 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:34:51.496 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:34:51.496 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:34:51.496 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:34:51.497 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:34:51.534 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 14:34:51.849 +12:00 [INF] Executed DbCommand (123ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 14:34:54.004 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3591.018ms.
2019-07-18 14:34:54.005 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 14:34:54.005 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 3592.0978ms
2019-07-18 14:34:54.005 +12:00 [INF] Request finished in 3592.9851ms 200 application/json; charset=utf-8
2019-07-18 14:35:32.512 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/LessonRearrange/3  
2019-07-18 14:35:32.512 +12:00 [INF] Policy execution successful.
2019-07-18 14:35:32.512 +12:00 [INF] Request finished in 0.4524ms 204 
2019-07-18 14:35:32.527 +12:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/LessonRearrange/3 application/json 130
2019-07-18 14:35:32.527 +12:00 [INF] Policy execution successful.
2019-07-18 14:35:32.532 +12:00 [INF] Route matched with {action = "PutLesson", controller = "LessonRearrange"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PutLesson(Int16, Pegasus_backend.Models.LessonViewModel) on controller Pegasus_backend.Controllers.LessonRearrangeController (Pegasus_backend).
2019-07-18 14:35:32.542 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonRearrangeController.PutLesson (Pegasus_backend) - Validation state: "Valid"
2019-07-18 14:35:35.185 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 14:35:35.406 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__newLesson_LessonId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_paid`, `l`.`is_trial`, `l`.`learner_id`, `l`.`new_lesson_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE `l`.`lesson_id` = @__newLesson_LessonId_0
LIMIT 1
2019-07-18 14:35:41.756 +12:00 [INF] Executed DbCommand (64ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`comment`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`group_course_instance` AS `gc`
INNER JOIN `ablemusic`.`learner_group_course` AS `lgc` ON `gc`.`group_course_instance_id` = `lgc`.`group_course_instance_id`
INNER JOIN `ablemusic`.`learner` AS `l` ON `lgc`.`learner_id` = `l`.`learner_id`
WHERE `gc`.`group_course_instance_id` IS NULL
2019-07-18 14:35:41.960 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__newLesson_LessonId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`course_id` AS `CourseId`, `c`.`course_name` AS `CourseName`
FROM `ablemusic`.`course` AS `c`
INNER JOIN `ablemusic`.`group_course_instance` AS `gc` ON `c`.`course_id` = `gc`.`course_id`
INNER JOIN `ablemusic`.`lesson` AS `l` ON `gc`.`group_course_instance_id` = `l`.`group_course_instance_id`
WHERE `l`.`lesson_id` = @__newLesson_LessonId_0
LIMIT 1
2019-07-18 14:35:42.152 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__newLesson_TeacherId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`teacher_id`, `t`.`ability`, `t`.`comment`, `t`.`cv_url`, `t`.`dob`, `t`.`email`, `t`.`expiry_date`, `t`.`first_name`, `t`.`form_url`, `t`.`gender`, `t`.`home_phone`, `t`.`id_number`, `t`.`id_photo`, `t`.`id_type`, `t`.`invoice_template`, `t`.`ird_number`, `t`.`is_activate`, `t`.`is_contract`, `t`.`is_left`, `t`.`last_name`, `t`.`level`, `t`.`minimum_hours`, `t`.`mobile_phone`, `t`.`otherfile_url`, `t`.`photo`, `t`.`user_id`, `t`.`visa`
FROM `ablemusic`.`teacher` AS `t`
WHERE `t`.`teacher_id` = @__newLesson_TeacherId_0
LIMIT 1
2019-07-18 14:35:42.340 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__oldLesson_TrialCourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`course_id`, `c`.`course_category_id`, `c`.`course_name`, `c`.`course_type`, `c`.`duration`, `c`.`level`, `c`.`price`, `c`.`teacher_level`
FROM `ablemusic`.`course` AS `c`
WHERE `c`.`course_id` = @__oldLesson_TrialCourseId_0
LIMIT 1
2019-07-18 14:35:42.529 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `h`.`holiday_id`, `h`.`holiday_date`, `h`.`holiday_name`
FROM `ablemusic`.`holiday` AS `h`
2019-07-18 14:35:42.733 +12:00 [INF] Executed DbCommand (68ms) [Parameters=[@__oldLesson_OrgId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`org_id`, `o`.`abbr`, `o`.`address`, `o`.`email`, `o`.`is_activate`, `o`.`is_headoffice`, `o`.`localtion_x`, `o`.`localtion_y`, `o`.`org_name`, `o`.`phone`
FROM `ablemusic`.`org` AS `o`
WHERE `o`.`org_id` = @__oldLesson_OrgId_0
LIMIT 1
2019-07-18 14:35:42.915 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__oldLesson_RoomId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `r`.`room_id`, `r`.`created_at`, `r`.`is_activate`, `r`.`org_id`, `r`.`room_name`
FROM `ablemusic`.`room` AS `r`
WHERE `r`.`room_id` = @__oldLesson_RoomId_0
LIMIT 1
2019-07-18 14:35:43.114 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__newLesson_RoomId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `r`.`room_id`, `r`.`created_at`, `r`.`is_activate`, `r`.`org_id`, `r`.`room_name`
FROM `ablemusic`.`room` AS `r`
WHERE `r`.`room_id` = @__newLesson_RoomId_0
LIMIT 1
2019-07-18 14:35:47.198 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int16), @p1='?' (DbType = Int32), @p2='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`lesson` SET `is_canceled` = @p0, `new_lesson_id` = @p1, `reason` = @p2
WHERE `lesson_id` = @p3;
SELECT ROW_COUNT();
2019-07-18 14:35:47.259 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[@p4='?' (DbType = DateTime), @p5='?' (DbType = AnsiString), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = AnsiString), @p9='?' (DbType = AnsiString), @p10='?' (DbType = Int16), @p11='?' (DbType = Int16), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int16), @p14='?' (DbType = Byte), @p15='?' (DbType = Int32), @p16='?' (DbType = AnsiString), @p17='?' (DbType = Int16), @p18='?' (Size = -1), @p19='?' (DbType = Int16), @p20='?' (DbType = Int16), @p21='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_paid`, `is_trial`, `learner_id`, `new_lesson_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-18 14:35:48.230 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonRearrangeController.PutLesson (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 15688.0717ms.
2019-07-18 14:35:48.231 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[Pegasus_backend.pegasusContext.Lesson, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-18 14:35:48.268 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonRearrangeController.PutLesson (Pegasus_backend) in 15735.2662ms
2019-07-18 14:35:48.268 +12:00 [INF] Request finished in 15741.1334ms 200 application/json; charset=utf-8
2019-07-18 14:35:50.968 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-19  
2019-07-18 14:35:50.968 +12:00 [INF] Policy execution successful.
2019-07-18 14:35:50.968 +12:00 [INF] Request finished in 0.3519ms 204 
2019-07-18 14:35:50.983 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-19  
2019-07-18 14:35:50.984 +12:00 [INF] Policy execution successful.
2019-07-18 14:35:50.984 +12:00 [INF] Successfully validated the token.
2019-07-18 14:35:50.984 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 14:35:50.984 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 14:35:50.985 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 14:35:51.161 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 14:35:51.338 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 14:35:51.359 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:35:51.359 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:35:51.359 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:35:51.359 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:35:51.359 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:35:51.359 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:35:51.359 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:35:51.360 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 14:35:51.399 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 14:35:51.676 +12:00 [INF] Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 14:35:53.784 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2799.6709ms.
2019-07-18 14:35:53.784 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 14:35:53.785 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 2800.693ms
2019-07-18 14:35:53.785 +12:00 [INF] Request finished in 2801.5696ms 200 application/json; charset=utf-8
2019-07-18 15:02:37.708 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/GroupCourseInstance  
2019-07-18 15:02:37.712 +12:00 [INF] Policy execution successful.
2019-07-18 15:02:37.719 +12:00 [INF] Route matched with {action = "GetGroupCourseInstance", controller = "GroupCourseInstance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGroupCourseInstance() on controller Pegasus_backend.Controllers.GroupCourseInstanceController (Pegasus_backend).
2019-07-18 15:02:37.719 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/1  
2019-07-18 15:02:37.719 +12:00 [INF] Policy execution successful.
2019-07-18 15:02:37.720 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/2  
2019-07-18 15:02:37.720 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 15:02:37.721 +12:00 [INF] Executing action method Pegasus_backend.Controllers.GroupCourseInstanceController.GetGroupCourseInstance (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:02:37.721 +12:00 [INF] Policy execution successful.
2019-07-18 15:02:37.722 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:02:37.728 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/3  
2019-07-18 15:02:37.728 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 15:02:37.728 +12:00 [INF] Policy execution successful.
2019-07-18 15:02:37.729 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:02:37.729 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:02:37.729 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 15:02:37.731 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:02:37.731 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:02:37.731 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:02:37.738 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:02:37.738 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/5  
2019-07-18 15:02:37.739 +12:00 [INF] Policy execution successful.
2019-07-18 15:02:37.738 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/4  
2019-07-18 15:02:37.739 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 15:02:37.739 +12:00 [INF] Policy execution successful.
2019-07-18 15:02:37.739 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 15:02:37.739 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:02:37.740 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:02:37.740 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:02:37.740 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:02:38.481 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 15:02:38.482 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 742.2931ms.
2019-07-18 15:02:38.482 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:02:38.482 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 743.071ms
2019-07-18 15:02:38.483 +12:00 [INF] Request finished in 744.6892ms 200 application/json; charset=utf-8
2019-07-18 15:02:38.487 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 15:02:38.487 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 15:02:38.495 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 768.0529ms.
2019-07-18 15:02:38.495 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/orgs  
2019-07-18 15:02:38.495 +12:00 [INF] Executed DbCommand (65ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 15:02:38.495 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:02:38.495 +12:00 [INF] Executed DbCommand (65ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 15:02:38.495 +12:00 [INF] Policy execution successful.
2019-07-18 15:02:38.496 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 774.32210000000009ms
2019-07-18 15:02:38.496 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 766.3232ms.
2019-07-18 15:02:38.496 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 756.32810000000006ms.
2019-07-18 15:02:38.496 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:02:38.496 +12:00 [INF] Request finished in 777.1526ms 200 application/json; charset=utf-8
2019-07-18 15:02:38.496 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:02:38.496 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 768.4622ms
2019-07-18 15:02:38.496 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 757.2223ms
2019-07-18 15:02:38.496 +12:00 [INF] Route matched with {action = "GetOrg", controller = "Orgs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrg() on controller Pegasus_backend.Controllers.OrgsController (Pegasus_backend).
2019-07-18 15:02:38.496 +12:00 [INF] Request finished in 776.5411ms 200 application/json; charset=utf-8
2019-07-18 15:02:38.496 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 765.1309ms.
2019-07-18 15:02:38.497 +12:00 [INF] Request finished in 758.6129ms 200 application/json; charset=utf-8
2019-07-18 15:02:38.497 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:02:38.497 +12:00 [INF] Executing action method Pegasus_backend.Controllers.OrgsController.GetOrg (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:02:38.498 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 766.9364ms
2019-07-18 15:02:38.498 +12:00 [INF] Request finished in 770.4451ms 200 application/json; charset=utf-8
2019-07-18 15:02:38.498 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:02:38.504 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner  
2019-07-18 15:02:38.504 +12:00 [INF] Policy execution successful.
2019-07-18 15:02:38.504 +12:00 [INF] Route matched with {action = "GetLearner", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearner() on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 15:02:38.505 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:02:38.506 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:02:38.507 +12:00 [INF] Executed DbCommand (77ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c.Course.CourseCategory`.`course_category_id`, `c.Course.CourseCategory`.`course_category_name`, `c`.`course_id` AS `CourseId`, `c`.`group_course_instance_id` AS `GroupCourseInstanceId`, `c`.`begin_date` AS `BeginDate`, `c`.`end_date` AS `EndDate`, `c.Course`.`course_name` AS `CourseName`, `c.Course`.`course_type` AS `CourseType`, `c.Course`.`level`, `c.Course`.`duration`, `c.Course`.`price`, `c`.`org_id` AS `OrgId`, `c.Org`.`org_name` AS `OrgName`, `c`.`room_id` AS `RoomId`, `c.Room`.`room_name` AS `RoomName`, `c`.`teacher_id` AS `TeacherId`, `c.Teacher`.`first_name` AS `FirstName`, `c.Teacher`.`last_name` AS `LastName`
FROM `ablemusic`.`group_course_instance` AS `c`
LEFT JOIN `ablemusic`.`teacher` AS `c.Teacher` ON `c`.`teacher_id` = `c.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `c.Room` ON `c`.`room_id` = `c.Room`.`room_id`
LEFT JOIN `ablemusic`.`org` AS `c.Org` ON `c`.`org_id` = `c.Org`.`org_id`
INNER JOIN `ablemusic`.`course` AS `c.Course` ON `c`.`course_id` = `c.Course`.`course_id`
LEFT JOIN `ablemusic`.`course_category` AS `c.Course.CourseCategory` ON `c.Course`.`course_category_id` = `c.Course.CourseCategory`.`course_category_id`
WHERE `c`.`is_activate` = 1
ORDER BY `c`.`group_course_instance_id`
2019-07-18 15:02:38.575 +12:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c.CourseSchedule`.`course_schedule_id`, `c.CourseSchedule`.`begin_time`, `c.CourseSchedule`.`course_instance_id`, `c.CourseSchedule`.`day_of_week`, `c.CourseSchedule`.`end_time`, `c.CourseSchedule`.`group_course_instance_id`, `t`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `c.CourseSchedule`
INNER JOIN (
    SELECT `c0`.`group_course_instance_id`
    FROM `ablemusic`.`group_course_instance` AS `c0`
    LEFT JOIN `ablemusic`.`teacher` AS `c.Teacher0` ON `c0`.`teacher_id` = `c.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `c.Room0` ON `c0`.`room_id` = `c.Room0`.`room_id`
    LEFT JOIN `ablemusic`.`org` AS `c.Org0` ON `c0`.`org_id` = `c.Org0`.`org_id`
    INNER JOIN `ablemusic`.`course` AS `c.Course0` ON `c0`.`course_id` = `c.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`course_category` AS `c.Course.CourseCategory0` ON `c.Course0`.`course_category_id` = `c.Course.CourseCategory0`.`course_category_id`
    WHERE `c0`.`is_activate` = 1
) AS `t` ON `c.CourseSchedule`.`group_course_instance_id` = `t`.`group_course_instance_id`
ORDER BY `t`.`group_course_instance_id`
2019-07-18 15:02:38.577 +12:00 [INF] Executed action method Pegasus_backend.Controllers.GroupCourseInstanceController.GetGroupCourseInstance (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 855.9899ms.
2019-07-18 15:02:38.578 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:02:38.579 +12:00 [INF] Executed action Pegasus_backend.Controllers.GroupCourseInstanceController.GetGroupCourseInstance (Pegasus_backend) in 859.9075ms
2019-07-18 15:02:38.579 +12:00 [INF] Request finished in 871.8077ms 200 application/json; charset=utf-8
2019-07-18 15:02:38.671 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`org_id`, `o`.`abbr`, `o`.`address`, `o`.`email`, `o`.`is_activate`, `o`.`is_headoffice`, `o`.`localtion_x`, `o`.`localtion_y`, `o`.`org_name`, `o`.`phone`
FROM `ablemusic`.`org` AS `o`
2019-07-18 15:02:38.671 +12:00 [INF] Executed action method Pegasus_backend.Controllers.OrgsController.GetOrg (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 173.9559ms.
2019-07-18 15:02:38.672 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Org, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:02:38.672 +12:00 [INF] Executed action Pegasus_backend.Controllers.OrgsController.GetOrg (Pegasus_backend) in 174.8621ms
2019-07-18 15:02:38.672 +12:00 [INF] Request finished in 176.7971ms 200 application/json; charset=utf-8
2019-07-18 15:02:38.691 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`is_active` = 1
ORDER BY `w`.`learner_id`
2019-07-18 15:02:38.762 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Parent`.`parent_id`, `w.Parent`.`contact_num`, `w.Parent`.`created_at`, `w.Parent`.`email`, `w.Parent`.`first_name`, `w.Parent`.`last_name`, `w.Parent`.`learner_id`, `w.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `w.Parent`
INNER JOIN (
    SELECT `w0`.`learner_id`
    FROM `ablemusic`.`learner` AS `w0`
    WHERE `w0`.`is_active` = 1
) AS `t` ON `w.Parent`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-18 15:02:38.818 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerOthers`.`learner_others_id`, `w.LearnerOthers`.`learner_id`, `w.LearnerOthers`.`learner_level`, `w.LearnerOthers`.`others_type`, `w.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `w.LearnerOthers`
INNER JOIN (
    SELECT `w1`.`learner_id`
    FROM `ablemusic`.`learner` AS `w1`
    WHERE `w1`.`is_active` = 1
) AS `t0` ON `w.LearnerOthers`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-18 15:02:38.898 +12:00 [INF] Executed DbCommand (78ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance`.`course_instance_id`, `w.One2oneCourseInstance`.`begin_date`, `w.One2oneCourseInstance`.`course_id`, `w.One2oneCourseInstance`.`end_date`, `w.One2oneCourseInstance`.`invoice_date`, `w.One2oneCourseInstance`.`learner_id`, `w.One2oneCourseInstance`.`org_id`, `w.One2oneCourseInstance`.`room_id`, `w.One2oneCourseInstance`.`teacher_id`, `o.Teacher`.`teacher_id`, `o.Teacher`.`ability`, `o.Teacher`.`comment`, `o.Teacher`.`cv_url`, `o.Teacher`.`dob`, `o.Teacher`.`email`, `o.Teacher`.`expiry_date`, `o.Teacher`.`first_name`, `o.Teacher`.`form_url`, `o.Teacher`.`gender`, `o.Teacher`.`home_phone`, `o.Teacher`.`id_number`, `o.Teacher`.`id_photo`, `o.Teacher`.`id_type`, `o.Teacher`.`invoice_template`, `o.Teacher`.`ird_number`, `o.Teacher`.`is_activate`, `o.Teacher`.`is_contract`, `o.Teacher`.`is_left`, `o.Teacher`.`last_name`, `o.Teacher`.`level`, `o.Teacher`.`minimum_hours`, `o.Teacher`.`mobile_phone`, `o.Teacher`.`otherfile_url`, `o.Teacher`.`photo`, `o.Teacher`.`user_id`, `o.Teacher`.`visa`, `o.Room`.`room_id`, `o.Room`.`created_at`, `o.Room`.`is_activate`, `o.Room`.`org_id`, `o.Room`.`room_name`, `o.Course`.`course_id`, `o.Course`.`course_category_id`, `o.Course`.`course_name`, `o.Course`.`course_type`, `o.Course`.`duration`, `o.Course`.`level`, `o.Course`.`price`, `o.Course`.`teacher_level`, `o.Org`.`org_id`, `o.Org`.`abbr`, `o.Org`.`address`, `o.Org`.`email`, `o.Org`.`is_activate`, `o.Org`.`is_headoffice`, `o.Org`.`localtion_x`, `o.Org`.`localtion_y`, `o.Org`.`org_name`, `o.Org`.`phone`
FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance`
LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher` ON `w.One2oneCourseInstance`.`teacher_id` = `o.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `o.Room` ON `w.One2oneCourseInstance`.`room_id` = `o.Room`.`room_id`
LEFT JOIN `ablemusic`.`course` AS `o.Course` ON `w.One2oneCourseInstance`.`course_id` = `o.Course`.`course_id`
LEFT JOIN `ablemusic`.`org` AS `o.Org` ON `w.One2oneCourseInstance`.`org_id` = `o.Org`.`org_id`
INNER JOIN (
    SELECT `w2`.`learner_id`
    FROM `ablemusic`.`learner` AS `w2`
    WHERE `w2`.`is_active` = 1
) AS `t1` ON `w.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`, `w.One2oneCourseInstance`.`course_instance_id`
2019-07-18 15:02:39.075 +12:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.Amendment`.`amendment_id`, `w.One2oneCourseInstance.Amendment`.`amend_type`, `w.One2oneCourseInstance.Amendment`.`begin_date`, `w.One2oneCourseInstance.Amendment`.`begin_time`, `w.One2oneCourseInstance.Amendment`.`course_instance_id`, `w.One2oneCourseInstance.Amendment`.`course_schedule_id`, `w.One2oneCourseInstance.Amendment`.`created_at`, `w.One2oneCourseInstance.Amendment`.`day_of_week`, `w.One2oneCourseInstance.Amendment`.`end_date`, `w.One2oneCourseInstance.Amendment`.`end_time`, `w.One2oneCourseInstance.Amendment`.`is_temporary`, `w.One2oneCourseInstance.Amendment`.`learner_id`, `w.One2oneCourseInstance.Amendment`.`org_id`, `w.One2oneCourseInstance.Amendment`.`reason`, `w.One2oneCourseInstance.Amendment`.`room_id`, `w.One2oneCourseInstance.Amendment`.`teacher_id`, `a.Teacher`.`teacher_id`, `a.Teacher`.`ability`, `a.Teacher`.`comment`, `a.Teacher`.`cv_url`, `a.Teacher`.`dob`, `a.Teacher`.`email`, `a.Teacher`.`expiry_date`, `a.Teacher`.`first_name`, `a.Teacher`.`form_url`, `a.Teacher`.`gender`, `a.Teacher`.`home_phone`, `a.Teacher`.`id_number`, `a.Teacher`.`id_photo`, `a.Teacher`.`id_type`, `a.Teacher`.`invoice_template`, `a.Teacher`.`ird_number`, `a.Teacher`.`is_activate`, `a.Teacher`.`is_contract`, `a.Teacher`.`is_left`, `a.Teacher`.`last_name`, `a.Teacher`.`level`, `a.Teacher`.`minimum_hours`, `a.Teacher`.`mobile_phone`, `a.Teacher`.`otherfile_url`, `a.Teacher`.`photo`, `a.Teacher`.`user_id`, `a.Teacher`.`visa`, `a.Room`.`room_id`, `a.Room`.`created_at`, `a.Room`.`is_activate`, `a.Room`.`org_id`, `a.Room`.`room_name`
FROM `ablemusic`.`amendment` AS `w.One2oneCourseInstance.Amendment`
LEFT JOIN `ablemusic`.`teacher` AS `a.Teacher` ON `w.One2oneCourseInstance.Amendment`.`teacher_id` = `a.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `a.Room` ON `w.One2oneCourseInstance.Amendment`.`room_id` = `a.Room`.`room_id`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance0`.`course_instance_id`, `t2`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance0`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher0` ON `w.One2oneCourseInstance0`.`teacher_id` = `o.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room0` ON `w.One2oneCourseInstance0`.`room_id` = `o.Room0`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course0` ON `w.One2oneCourseInstance0`.`course_id` = `o.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org0` ON `w.One2oneCourseInstance0`.`org_id` = `o.Org0`.`org_id`
    INNER JOIN (
        SELECT `w3`.`learner_id`
        FROM `ablemusic`.`learner` AS `w3`
        WHERE `w3`.`is_active` = 1
    ) AS `t2` ON `w.One2oneCourseInstance0`.`learner_id` = `t2`.`learner_id`
) AS `t3` ON `w.One2oneCourseInstance.Amendment`.`course_instance_id` = `t3`.`course_instance_id`
ORDER BY `t3`.`learner_id`, `t3`.`course_instance_id`
2019-07-18 15:02:39.145 +12:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.CourseSchedule`.`course_schedule_id`, `w.One2oneCourseInstance.CourseSchedule`.`begin_time`, `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id`, `w.One2oneCourseInstance.CourseSchedule`.`day_of_week`, `w.One2oneCourseInstance.CourseSchedule`.`end_time`, `w.One2oneCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `w.One2oneCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance1`.`course_instance_id`, `t4`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance1`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher1` ON `w.One2oneCourseInstance1`.`teacher_id` = `o.Teacher1`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room1` ON `w.One2oneCourseInstance1`.`room_id` = `o.Room1`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course1` ON `w.One2oneCourseInstance1`.`course_id` = `o.Course1`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org1` ON `w.One2oneCourseInstance1`.`org_id` = `o.Org1`.`org_id`
    INNER JOIN (
        SELECT `w4`.`learner_id`
        FROM `ablemusic`.`learner` AS `w4`
        WHERE `w4`.`is_active` = 1
    ) AS `t4` ON `w.One2oneCourseInstance1`.`learner_id` = `t4`.`learner_id`
) AS `t5` ON `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id` = `t5`.`course_instance_id`
ORDER BY `t5`.`learner_id`, `t5`.`course_instance_id`
2019-07-18 15:02:39.240 +12:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerGroupCourse`.`learner_group_course_id`, `w.LearnerGroupCourse`.`begin_date`, `w.LearnerGroupCourse`.`comment`, `w.LearnerGroupCourse`.`created_at`, `w.LearnerGroupCourse`.`end_date`, `w.LearnerGroupCourse`.`group_course_instance_id`, `w.LearnerGroupCourse`.`invoice_date`, `w.LearnerGroupCourse`.`is_activate`, `w.LearnerGroupCourse`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`, `l.GroupCourseInstance`.`begin_date`, `l.GroupCourseInstance`.`course_id`, `l.GroupCourseInstance`.`end_date`, `l.GroupCourseInstance`.`invoice_date`, `l.GroupCourseInstance`.`is_activate`, `l.GroupCourseInstance`.`is_started`, `l.GroupCourseInstance`.`org_id`, `l.GroupCourseInstance`.`room_id`, `l.GroupCourseInstance`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`ability`, `l.GroupCourseInstance.Teacher`.`comment`, `l.GroupCourseInstance.Teacher`.`cv_url`, `l.GroupCourseInstance.Teacher`.`dob`, `l.GroupCourseInstance.Teacher`.`email`, `l.GroupCourseInstance.Teacher`.`expiry_date`, `l.GroupCourseInstance.Teacher`.`first_name`, `l.GroupCourseInstance.Teacher`.`form_url`, `l.GroupCourseInstance.Teacher`.`gender`, `l.GroupCourseInstance.Teacher`.`home_phone`, `l.GroupCourseInstance.Teacher`.`id_number`, `l.GroupCourseInstance.Teacher`.`id_photo`, `l.GroupCourseInstance.Teacher`.`id_type`, `l.GroupCourseInstance.Teacher`.`invoice_template`, `l.GroupCourseInstance.Teacher`.`ird_number`, `l.GroupCourseInstance.Teacher`.`is_activate`, `l.GroupCourseInstance.Teacher`.`is_contract`, `l.GroupCourseInstance.Teacher`.`is_left`, `l.GroupCourseInstance.Teacher`.`last_name`, `l.GroupCourseInstance.Teacher`.`level`, `l.GroupCourseInstance.Teacher`.`minimum_hours`, `l.GroupCourseInstance.Teacher`.`mobile_phone`, `l.GroupCourseInstance.Teacher`.`otherfile_url`, `l.GroupCourseInstance.Teacher`.`photo`, `l.GroupCourseInstance.Teacher`.`user_id`, `l.GroupCourseInstance.Teacher`.`visa`, `l.GroupCourseInstance.Course`.`course_id`, `l.GroupCourseInstance.Course`.`course_category_id`, `l.GroupCourseInstance.Course`.`course_name`, `l.GroupCourseInstance.Course`.`course_type`, `l.GroupCourseInstance.Course`.`duration`, `l.GroupCourseInstance.Course`.`level`, `l.GroupCourseInstance.Course`.`price`, `l.GroupCourseInstance.Course`.`teacher_level`, `l.GroupCourseInstance.Room`.`room_id`, `l.GroupCourseInstance.Room`.`created_at`, `l.GroupCourseInstance.Room`.`is_activate`, `l.GroupCourseInstance.Room`.`org_id`, `l.GroupCourseInstance.Room`.`room_name`
FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse`
LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance` ON `w.LearnerGroupCourse`.`group_course_instance_id` = `l.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher` ON `l.GroupCourseInstance`.`teacher_id` = `l.GroupCourseInstance.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course` ON `l.GroupCourseInstance`.`course_id` = `l.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room` ON `l.GroupCourseInstance`.`room_id` = `l.GroupCourseInstance.Room`.`room_id`
INNER JOIN (
    SELECT `w5`.`learner_id`
    FROM `ablemusic`.`learner` AS `w5`
    WHERE `w5`.`is_active` = 1
) AS `t6` ON `w.LearnerGroupCourse`.`learner_id` = `t6`.`learner_id`
ORDER BY `t6`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`
2019-07-18 15:02:39.319 +12:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l.GroupCourseInstance.CourseSchedule`.`course_schedule_id`, `l.GroupCourseInstance.CourseSchedule`.`begin_time`, `l.GroupCourseInstance.CourseSchedule`.`course_instance_id`, `l.GroupCourseInstance.CourseSchedule`.`day_of_week`, `l.GroupCourseInstance.CourseSchedule`.`end_time`, `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `l.GroupCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `l.GroupCourseInstance0`.`group_course_instance_id`, `t7`.`learner_id`
    FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse0`
    LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance0` ON `w.LearnerGroupCourse0`.`group_course_instance_id` = `l.GroupCourseInstance0`.`group_course_instance_id`
    LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher0` ON `l.GroupCourseInstance0`.`teacher_id` = `l.GroupCourseInstance.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course0` ON `l.GroupCourseInstance0`.`course_id` = `l.GroupCourseInstance.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room0` ON `l.GroupCourseInstance0`.`room_id` = `l.GroupCourseInstance.Room0`.`room_id`
    INNER JOIN (
        SELECT `w6`.`learner_id`
        FROM `ablemusic`.`learner` AS `w6`
        WHERE `w6`.`is_active` = 1
    ) AS `t7` ON `w.LearnerGroupCourse0`.`learner_id` = `t7`.`learner_id`
) AS `t8` ON `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id` = `t8`.`group_course_instance_id`
ORDER BY `t8`.`learner_id`, `t8`.`group_course_instance_id`
2019-07-18 15:02:39.385 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 879.5517000000001ms.
2019-07-18 15:02:39.385 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:02:39.394 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) in 889.7127ms
2019-07-18 15:02:39.395 +12:00 [INF] Request finished in 890.7792ms 200 application/json; charset=utf-8
2019-07-18 15:02:41.317 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/1  
2019-07-18 15:02:41.317 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/GroupCourseInstance  
2019-07-18 15:02:41.318 +12:00 [INF] Policy execution successful.
2019-07-18 15:02:41.318 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/3  
2019-07-18 15:02:41.318 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/2  
2019-07-18 15:02:41.318 +12:00 [INF] Policy execution successful.
2019-07-18 15:02:41.319 +12:00 [INF] Policy execution successful.
2019-07-18 15:02:41.319 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 15:02:41.319 +12:00 [INF] Route matched with {action = "GetGroupCourseInstance", controller = "GroupCourseInstance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGroupCourseInstance() on controller Pegasus_backend.Controllers.GroupCourseInstanceController (Pegasus_backend).
2019-07-18 15:02:41.319 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 15:02:41.319 +12:00 [INF] Executing action method Pegasus_backend.Controllers.GroupCourseInstanceController.GetGroupCourseInstance (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:02:41.319 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:02:41.319 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:02:41.319 +12:00 [INF] Policy execution successful.
2019-07-18 15:02:41.324 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/5  
2019-07-18 15:02:41.325 +12:00 [INF] Policy execution successful.
2019-07-18 15:02:41.325 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/4  
2019-07-18 15:02:41.325 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 15:02:41.325 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:02:41.325 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:02:41.325 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 15:02:41.325 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:02:41.325 +12:00 [INF] Policy execution successful.
2019-07-18 15:02:41.325 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:02:41.325 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 15:02:41.325 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:02:41.326 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:02:41.326 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:02:41.326 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:02:41.326 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:02:41.511 +12:00 [INF] Executed DbCommand (64ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c.Course.CourseCategory`.`course_category_id`, `c.Course.CourseCategory`.`course_category_name`, `c`.`course_id` AS `CourseId`, `c`.`group_course_instance_id` AS `GroupCourseInstanceId`, `c`.`begin_date` AS `BeginDate`, `c`.`end_date` AS `EndDate`, `c.Course`.`course_name` AS `CourseName`, `c.Course`.`course_type` AS `CourseType`, `c.Course`.`level`, `c.Course`.`duration`, `c.Course`.`price`, `c`.`org_id` AS `OrgId`, `c.Org`.`org_name` AS `OrgName`, `c`.`room_id` AS `RoomId`, `c.Room`.`room_name` AS `RoomName`, `c`.`teacher_id` AS `TeacherId`, `c.Teacher`.`first_name` AS `FirstName`, `c.Teacher`.`last_name` AS `LastName`
FROM `ablemusic`.`group_course_instance` AS `c`
LEFT JOIN `ablemusic`.`teacher` AS `c.Teacher` ON `c`.`teacher_id` = `c.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `c.Room` ON `c`.`room_id` = `c.Room`.`room_id`
LEFT JOIN `ablemusic`.`org` AS `c.Org` ON `c`.`org_id` = `c.Org`.`org_id`
INNER JOIN `ablemusic`.`course` AS `c.Course` ON `c`.`course_id` = `c.Course`.`course_id`
LEFT JOIN `ablemusic`.`course_category` AS `c.Course.CourseCategory` ON `c.Course`.`course_category_id` = `c.Course.CourseCategory`.`course_category_id`
WHERE `c`.`is_activate` = 1
ORDER BY `c`.`group_course_instance_id`
2019-07-18 15:02:41.512 +12:00 [INF] Executed DbCommand (65ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 15:02:41.513 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 186.90470000000002ms.
2019-07-18 15:02:41.513 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:02:41.513 +12:00 [INF] Executed DbCommand (66ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 15:02:41.513 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 187.63080000000002ms
2019-07-18 15:02:41.513 +12:00 [INF] Request finished in 188.6447ms 200 application/json; charset=utf-8
2019-07-18 15:02:41.514 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 188.57070000000002ms.
2019-07-18 15:02:41.514 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:02:41.514 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 189.41230000000002ms
2019-07-18 15:02:41.514 +12:00 [INF] Request finished in 196.0642ms 200 application/json; charset=utf-8
2019-07-18 15:02:41.515 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/orgs  
2019-07-18 15:02:41.515 +12:00 [INF] Policy execution successful.
2019-07-18 15:02:41.516 +12:00 [INF] Route matched with {action = "GetOrg", controller = "Orgs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrg() on controller Pegasus_backend.Controllers.OrgsController (Pegasus_backend).
2019-07-18 15:02:41.516 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/courses  
2019-07-18 15:02:41.517 +12:00 [INF] Executing action method Pegasus_backend.Controllers.OrgsController.GetOrg (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:02:41.517 +12:00 [INF] Policy execution successful.
2019-07-18 15:02:41.517 +12:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Pegasus_backend.pegasusContext.Course]]] GetCourses() on controller Pegasus_backend.Controllers.CoursesController (Pegasus_backend).
2019-07-18 15:02:41.517 +12:00 [INF] Executing action method Pegasus_backend.Controllers.CoursesController.GetCourses (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:02:41.517 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:02:41.517 +12:00 [INF] Executed DbCommand (71ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 15:02:41.518 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 193.5497ms.
2019-07-18 15:02:41.518 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:02:41.518 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 199.4468ms
2019-07-18 15:02:41.519 +12:00 [INF] Request finished in 201.7235ms 200 application/json; charset=utf-8
2019-07-18 15:02:41.519 +12:00 [INF] Executed DbCommand (72ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 15:02:41.519 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 199.86110000000002ms.
2019-07-18 15:02:41.520 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:02:41.520 +12:00 [INF] Executed DbCommand (73ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 15:02:41.520 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 200.6544ms
2019-07-18 15:02:41.520 +12:00 [INF] Request finished in 201.4986ms 200 application/json; charset=utf-8
2019-07-18 15:02:41.520 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 194.4926ms.
2019-07-18 15:02:41.520 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:02:41.520 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:02:41.520 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 195.4805ms
2019-07-18 15:02:41.521 +12:00 [INF] Request finished in 196.1724ms 200 application/json; charset=utf-8
2019-07-18 15:02:41.575 +12:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c.CourseSchedule`.`course_schedule_id`, `c.CourseSchedule`.`begin_time`, `c.CourseSchedule`.`course_instance_id`, `c.CourseSchedule`.`day_of_week`, `c.CourseSchedule`.`end_time`, `c.CourseSchedule`.`group_course_instance_id`, `t`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `c.CourseSchedule`
INNER JOIN (
    SELECT `c0`.`group_course_instance_id`
    FROM `ablemusic`.`group_course_instance` AS `c0`
    LEFT JOIN `ablemusic`.`teacher` AS `c.Teacher0` ON `c0`.`teacher_id` = `c.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `c.Room0` ON `c0`.`room_id` = `c.Room0`.`room_id`
    LEFT JOIN `ablemusic`.`org` AS `c.Org0` ON `c0`.`org_id` = `c.Org0`.`org_id`
    INNER JOIN `ablemusic`.`course` AS `c.Course0` ON `c0`.`course_id` = `c.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`course_category` AS `c.Course.CourseCategory0` ON `c.Course0`.`course_category_id` = `c.Course.CourseCategory0`.`course_category_id`
    WHERE `c0`.`is_activate` = 1
) AS `t` ON `c.CourseSchedule`.`group_course_instance_id` = `t`.`group_course_instance_id`
ORDER BY `t`.`group_course_instance_id`
2019-07-18 15:02:41.576 +12:00 [INF] Executed action method Pegasus_backend.Controllers.GroupCourseInstanceController.GetGroupCourseInstance (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 256.7933ms.
2019-07-18 15:02:41.576 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:02:41.577 +12:00 [INF] Executed action Pegasus_backend.Controllers.GroupCourseInstanceController.GetGroupCourseInstance (Pegasus_backend) in 257.8573ms
2019-07-18 15:02:41.577 +12:00 [INF] Request finished in 260.3602ms 200 application/json; charset=utf-8
2019-07-18 15:02:41.702 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`org_id`, `o`.`abbr`, `o`.`address`, `o`.`email`, `o`.`is_activate`, `o`.`is_headoffice`, `o`.`localtion_x`, `o`.`localtion_y`, `o`.`org_name`, `o`.`phone`
FROM `ablemusic`.`org` AS `o`
2019-07-18 15:02:41.703 +12:00 [INF] Executed action method Pegasus_backend.Controllers.OrgsController.GetOrg (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 185.9639ms.
2019-07-18 15:02:41.703 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Org, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:02:41.703 +12:00 [INF] Executed action Pegasus_backend.Controllers.OrgsController.GetOrg (Pegasus_backend) in 186.9496ms
2019-07-18 15:02:41.703 +12:00 [INF] Request finished in 188.0738ms 200 application/json; charset=utf-8
2019-07-18 15:02:41.709 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`course_id` AS `CourseId`, `c`.`course_name` AS `CourseName`, `c`.`course_type` AS `CourseType`, `c`.`level`, `c`.`duration`, `c`.`price`, `c`.`course_category_id` AS `CourseCategoryId0`, `c`.`teacher_level` AS `TeacherLevel`, `cc`.`course_category_id` AS `CourseCategoryId`, `cc`.`course_category_name` AS `CourseCategoryName`
FROM `ablemusic`.`course` AS `c`
INNER JOIN `ablemusic`.`course_category` AS `cc` ON `c`.`course_category_id` = `cc`.`course_category_id`
2019-07-18 15:02:41.914 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`prop_name` AS `PropName`, `l`.`prop_value` AS `PropValue`, `l`.`lookup_type` AS `LookupType`
FROM `ablemusic`.`lookup` AS `l`
WHERE (((`l`.`lookup_type` = 1) OR (`l`.`lookup_type` = 4)) OR (`l`.`lookup_type` = 6)) OR (`l`.`lookup_type` = 8)
2019-07-18 15:02:41.915 +12:00 [INF] Executed action method Pegasus_backend.Controllers.CoursesController.GetCourses (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 397.3532ms.
2019-07-18 15:02:41.915 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:02:41.917 +12:00 [INF] Executed action Pegasus_backend.Controllers.CoursesController.GetCourses (Pegasus_backend) in 400.0957ms
2019-07-18 15:02:41.917 +12:00 [INF] Request finished in 401.0861ms 200 application/json; charset=utf-8
2019-07-18 15:02:46.425 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/TeacherFilter/16  
2019-07-18 15:02:46.425 +12:00 [INF] Policy execution successful.
2019-07-18 15:02:46.425 +12:00 [INF] Route matched with {action = "Get", controller = "TeacherFilter"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Pegasus_backend.Controllers.TeacherFilterController (Pegasus_backend).
2019-07-18 15:02:46.426 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TeacherFilterController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:02:46.427 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:02:46.601 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`org_id` AS `OrgId`, `o`.`org_name` AS `OrgName`
FROM `ablemusic`.`org` AS `o`
2019-07-18 15:02:46.775 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `r`.`room_id` AS `RoomId`, `r`.`room_name` AS `RoomName`, `r`.`org_id` AS `OrgId`
FROM `ablemusic`.`room` AS `r`
2019-07-18 15:02:46.952 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`prop_value` AS `PropValue`, `l`.`prop_name` AS `PropName`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = 1
2019-07-18 15:02:47.141 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`teacher_id` AS `TeacherId`, `t`.`first_name` AS `TeacherFirstName`, `t`.`last_name` AS `TeacherLastName`, `ta`.`org_id` AS `TeacherAvailableOrgId`, `t`.`level` AS `TeacherLevelId`
FROM `ablemusic`.`teacher` AS `t`
INNER JOIN `ablemusic`.`available_days` AS `ta` ON `t`.`teacher_id` = `ta`.`teacher_id`
INNER JOIN `ablemusic`.`teacher_course` AS `tc` ON `t`.`teacher_id` = `tc`.`teacher_id`
WHERE (`tc`.`course_id` = @__courseId_0) AND (`t`.`is_activate` = 1)
ORDER BY `t`.`teacher_id`, `ta`.`org_id`
2019-07-18 15:02:47.142 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TeacherFilterController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 715.9723ms.
2019-07-18 15:02:47.142 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:02:47.143 +12:00 [INF] Executed action Pegasus_backend.Controllers.TeacherFilterController.Get (Pegasus_backend) in 717.253ms
2019-07-18 15:02:47.143 +12:00 [INF] Request finished in 718.0955ms 200 application/json; charset=utf-8
2019-07-18 15:23:13.847 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner  
2019-07-18 15:23:13.847 +12:00 [INF] Policy execution successful.
2019-07-18 15:23:13.860 +12:00 [INF] Route matched with {action = "GetLearner", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearner() on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 15:23:13.867 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:23:13.880 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:23:14.621 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`is_active` = 1
ORDER BY `w`.`learner_id`
2019-07-18 15:23:14.703 +12:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Parent`.`parent_id`, `w.Parent`.`contact_num`, `w.Parent`.`created_at`, `w.Parent`.`email`, `w.Parent`.`first_name`, `w.Parent`.`last_name`, `w.Parent`.`learner_id`, `w.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `w.Parent`
INNER JOIN (
    SELECT `w0`.`learner_id`
    FROM `ablemusic`.`learner` AS `w0`
    WHERE `w0`.`is_active` = 1
) AS `t` ON `w.Parent`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-18 15:23:14.762 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerOthers`.`learner_others_id`, `w.LearnerOthers`.`learner_id`, `w.LearnerOthers`.`learner_level`, `w.LearnerOthers`.`others_type`, `w.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `w.LearnerOthers`
INNER JOIN (
    SELECT `w1`.`learner_id`
    FROM `ablemusic`.`learner` AS `w1`
    WHERE `w1`.`is_active` = 1
) AS `t0` ON `w.LearnerOthers`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-18 15:23:14.847 +12:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance`.`course_instance_id`, `w.One2oneCourseInstance`.`begin_date`, `w.One2oneCourseInstance`.`course_id`, `w.One2oneCourseInstance`.`end_date`, `w.One2oneCourseInstance`.`invoice_date`, `w.One2oneCourseInstance`.`learner_id`, `w.One2oneCourseInstance`.`org_id`, `w.One2oneCourseInstance`.`room_id`, `w.One2oneCourseInstance`.`teacher_id`, `o.Teacher`.`teacher_id`, `o.Teacher`.`ability`, `o.Teacher`.`comment`, `o.Teacher`.`cv_url`, `o.Teacher`.`dob`, `o.Teacher`.`email`, `o.Teacher`.`expiry_date`, `o.Teacher`.`first_name`, `o.Teacher`.`form_url`, `o.Teacher`.`gender`, `o.Teacher`.`home_phone`, `o.Teacher`.`id_number`, `o.Teacher`.`id_photo`, `o.Teacher`.`id_type`, `o.Teacher`.`invoice_template`, `o.Teacher`.`ird_number`, `o.Teacher`.`is_activate`, `o.Teacher`.`is_contract`, `o.Teacher`.`is_left`, `o.Teacher`.`last_name`, `o.Teacher`.`level`, `o.Teacher`.`minimum_hours`, `o.Teacher`.`mobile_phone`, `o.Teacher`.`otherfile_url`, `o.Teacher`.`photo`, `o.Teacher`.`user_id`, `o.Teacher`.`visa`, `o.Room`.`room_id`, `o.Room`.`created_at`, `o.Room`.`is_activate`, `o.Room`.`org_id`, `o.Room`.`room_name`, `o.Course`.`course_id`, `o.Course`.`course_category_id`, `o.Course`.`course_name`, `o.Course`.`course_type`, `o.Course`.`duration`, `o.Course`.`level`, `o.Course`.`price`, `o.Course`.`teacher_level`, `o.Org`.`org_id`, `o.Org`.`abbr`, `o.Org`.`address`, `o.Org`.`email`, `o.Org`.`is_activate`, `o.Org`.`is_headoffice`, `o.Org`.`localtion_x`, `o.Org`.`localtion_y`, `o.Org`.`org_name`, `o.Org`.`phone`
FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance`
LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher` ON `w.One2oneCourseInstance`.`teacher_id` = `o.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `o.Room` ON `w.One2oneCourseInstance`.`room_id` = `o.Room`.`room_id`
LEFT JOIN `ablemusic`.`course` AS `o.Course` ON `w.One2oneCourseInstance`.`course_id` = `o.Course`.`course_id`
LEFT JOIN `ablemusic`.`org` AS `o.Org` ON `w.One2oneCourseInstance`.`org_id` = `o.Org`.`org_id`
INNER JOIN (
    SELECT `w2`.`learner_id`
    FROM `ablemusic`.`learner` AS `w2`
    WHERE `w2`.`is_active` = 1
) AS `t1` ON `w.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`, `w.One2oneCourseInstance`.`course_instance_id`
2019-07-18 15:23:15.020 +12:00 [INF] Executed DbCommand (99ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.Amendment`.`amendment_id`, `w.One2oneCourseInstance.Amendment`.`amend_type`, `w.One2oneCourseInstance.Amendment`.`begin_date`, `w.One2oneCourseInstance.Amendment`.`begin_time`, `w.One2oneCourseInstance.Amendment`.`course_instance_id`, `w.One2oneCourseInstance.Amendment`.`course_schedule_id`, `w.One2oneCourseInstance.Amendment`.`created_at`, `w.One2oneCourseInstance.Amendment`.`day_of_week`, `w.One2oneCourseInstance.Amendment`.`end_date`, `w.One2oneCourseInstance.Amendment`.`end_time`, `w.One2oneCourseInstance.Amendment`.`is_temporary`, `w.One2oneCourseInstance.Amendment`.`learner_id`, `w.One2oneCourseInstance.Amendment`.`org_id`, `w.One2oneCourseInstance.Amendment`.`reason`, `w.One2oneCourseInstance.Amendment`.`room_id`, `w.One2oneCourseInstance.Amendment`.`teacher_id`, `a.Teacher`.`teacher_id`, `a.Teacher`.`ability`, `a.Teacher`.`comment`, `a.Teacher`.`cv_url`, `a.Teacher`.`dob`, `a.Teacher`.`email`, `a.Teacher`.`expiry_date`, `a.Teacher`.`first_name`, `a.Teacher`.`form_url`, `a.Teacher`.`gender`, `a.Teacher`.`home_phone`, `a.Teacher`.`id_number`, `a.Teacher`.`id_photo`, `a.Teacher`.`id_type`, `a.Teacher`.`invoice_template`, `a.Teacher`.`ird_number`, `a.Teacher`.`is_activate`, `a.Teacher`.`is_contract`, `a.Teacher`.`is_left`, `a.Teacher`.`last_name`, `a.Teacher`.`level`, `a.Teacher`.`minimum_hours`, `a.Teacher`.`mobile_phone`, `a.Teacher`.`otherfile_url`, `a.Teacher`.`photo`, `a.Teacher`.`user_id`, `a.Teacher`.`visa`, `a.Room`.`room_id`, `a.Room`.`created_at`, `a.Room`.`is_activate`, `a.Room`.`org_id`, `a.Room`.`room_name`
FROM `ablemusic`.`amendment` AS `w.One2oneCourseInstance.Amendment`
LEFT JOIN `ablemusic`.`teacher` AS `a.Teacher` ON `w.One2oneCourseInstance.Amendment`.`teacher_id` = `a.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `a.Room` ON `w.One2oneCourseInstance.Amendment`.`room_id` = `a.Room`.`room_id`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance0`.`course_instance_id`, `t2`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance0`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher0` ON `w.One2oneCourseInstance0`.`teacher_id` = `o.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room0` ON `w.One2oneCourseInstance0`.`room_id` = `o.Room0`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course0` ON `w.One2oneCourseInstance0`.`course_id` = `o.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org0` ON `w.One2oneCourseInstance0`.`org_id` = `o.Org0`.`org_id`
    INNER JOIN (
        SELECT `w3`.`learner_id`
        FROM `ablemusic`.`learner` AS `w3`
        WHERE `w3`.`is_active` = 1
    ) AS `t2` ON `w.One2oneCourseInstance0`.`learner_id` = `t2`.`learner_id`
) AS `t3` ON `w.One2oneCourseInstance.Amendment`.`course_instance_id` = `t3`.`course_instance_id`
ORDER BY `t3`.`learner_id`, `t3`.`course_instance_id`
2019-07-18 15:23:15.095 +12:00 [INF] Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.CourseSchedule`.`course_schedule_id`, `w.One2oneCourseInstance.CourseSchedule`.`begin_time`, `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id`, `w.One2oneCourseInstance.CourseSchedule`.`day_of_week`, `w.One2oneCourseInstance.CourseSchedule`.`end_time`, `w.One2oneCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `w.One2oneCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance1`.`course_instance_id`, `t4`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance1`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher1` ON `w.One2oneCourseInstance1`.`teacher_id` = `o.Teacher1`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room1` ON `w.One2oneCourseInstance1`.`room_id` = `o.Room1`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course1` ON `w.One2oneCourseInstance1`.`course_id` = `o.Course1`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org1` ON `w.One2oneCourseInstance1`.`org_id` = `o.Org1`.`org_id`
    INNER JOIN (
        SELECT `w4`.`learner_id`
        FROM `ablemusic`.`learner` AS `w4`
        WHERE `w4`.`is_active` = 1
    ) AS `t4` ON `w.One2oneCourseInstance1`.`learner_id` = `t4`.`learner_id`
) AS `t5` ON `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id` = `t5`.`course_instance_id`
ORDER BY `t5`.`learner_id`, `t5`.`course_instance_id`
2019-07-18 15:23:15.200 +12:00 [INF] Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerGroupCourse`.`learner_group_course_id`, `w.LearnerGroupCourse`.`begin_date`, `w.LearnerGroupCourse`.`comment`, `w.LearnerGroupCourse`.`created_at`, `w.LearnerGroupCourse`.`end_date`, `w.LearnerGroupCourse`.`group_course_instance_id`, `w.LearnerGroupCourse`.`invoice_date`, `w.LearnerGroupCourse`.`is_activate`, `w.LearnerGroupCourse`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`, `l.GroupCourseInstance`.`begin_date`, `l.GroupCourseInstance`.`course_id`, `l.GroupCourseInstance`.`end_date`, `l.GroupCourseInstance`.`invoice_date`, `l.GroupCourseInstance`.`is_activate`, `l.GroupCourseInstance`.`is_started`, `l.GroupCourseInstance`.`org_id`, `l.GroupCourseInstance`.`room_id`, `l.GroupCourseInstance`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`ability`, `l.GroupCourseInstance.Teacher`.`comment`, `l.GroupCourseInstance.Teacher`.`cv_url`, `l.GroupCourseInstance.Teacher`.`dob`, `l.GroupCourseInstance.Teacher`.`email`, `l.GroupCourseInstance.Teacher`.`expiry_date`, `l.GroupCourseInstance.Teacher`.`first_name`, `l.GroupCourseInstance.Teacher`.`form_url`, `l.GroupCourseInstance.Teacher`.`gender`, `l.GroupCourseInstance.Teacher`.`home_phone`, `l.GroupCourseInstance.Teacher`.`id_number`, `l.GroupCourseInstance.Teacher`.`id_photo`, `l.GroupCourseInstance.Teacher`.`id_type`, `l.GroupCourseInstance.Teacher`.`invoice_template`, `l.GroupCourseInstance.Teacher`.`ird_number`, `l.GroupCourseInstance.Teacher`.`is_activate`, `l.GroupCourseInstance.Teacher`.`is_contract`, `l.GroupCourseInstance.Teacher`.`is_left`, `l.GroupCourseInstance.Teacher`.`last_name`, `l.GroupCourseInstance.Teacher`.`level`, `l.GroupCourseInstance.Teacher`.`minimum_hours`, `l.GroupCourseInstance.Teacher`.`mobile_phone`, `l.GroupCourseInstance.Teacher`.`otherfile_url`, `l.GroupCourseInstance.Teacher`.`photo`, `l.GroupCourseInstance.Teacher`.`user_id`, `l.GroupCourseInstance.Teacher`.`visa`, `l.GroupCourseInstance.Course`.`course_id`, `l.GroupCourseInstance.Course`.`course_category_id`, `l.GroupCourseInstance.Course`.`course_name`, `l.GroupCourseInstance.Course`.`course_type`, `l.GroupCourseInstance.Course`.`duration`, `l.GroupCourseInstance.Course`.`level`, `l.GroupCourseInstance.Course`.`price`, `l.GroupCourseInstance.Course`.`teacher_level`, `l.GroupCourseInstance.Room`.`room_id`, `l.GroupCourseInstance.Room`.`created_at`, `l.GroupCourseInstance.Room`.`is_activate`, `l.GroupCourseInstance.Room`.`org_id`, `l.GroupCourseInstance.Room`.`room_name`
FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse`
LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance` ON `w.LearnerGroupCourse`.`group_course_instance_id` = `l.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher` ON `l.GroupCourseInstance`.`teacher_id` = `l.GroupCourseInstance.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course` ON `l.GroupCourseInstance`.`course_id` = `l.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room` ON `l.GroupCourseInstance`.`room_id` = `l.GroupCourseInstance.Room`.`room_id`
INNER JOIN (
    SELECT `w5`.`learner_id`
    FROM `ablemusic`.`learner` AS `w5`
    WHERE `w5`.`is_active` = 1
) AS `t6` ON `w.LearnerGroupCourse`.`learner_id` = `t6`.`learner_id`
ORDER BY `t6`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`
2019-07-18 15:23:15.280 +12:00 [INF] Executed DbCommand (70ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l.GroupCourseInstance.CourseSchedule`.`course_schedule_id`, `l.GroupCourseInstance.CourseSchedule`.`begin_time`, `l.GroupCourseInstance.CourseSchedule`.`course_instance_id`, `l.GroupCourseInstance.CourseSchedule`.`day_of_week`, `l.GroupCourseInstance.CourseSchedule`.`end_time`, `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `l.GroupCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `l.GroupCourseInstance0`.`group_course_instance_id`, `t7`.`learner_id`
    FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse0`
    LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance0` ON `w.LearnerGroupCourse0`.`group_course_instance_id` = `l.GroupCourseInstance0`.`group_course_instance_id`
    LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher0` ON `l.GroupCourseInstance0`.`teacher_id` = `l.GroupCourseInstance.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course0` ON `l.GroupCourseInstance0`.`course_id` = `l.GroupCourseInstance.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room0` ON `l.GroupCourseInstance0`.`room_id` = `l.GroupCourseInstance.Room0`.`room_id`
    INNER JOIN (
        SELECT `w6`.`learner_id`
        FROM `ablemusic`.`learner` AS `w6`
        WHERE `w6`.`is_active` = 1
    ) AS `t7` ON `w.LearnerGroupCourse0`.`learner_id` = `t7`.`learner_id`
) AS `t8` ON `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id` = `t8`.`group_course_instance_id`
ORDER BY `t8`.`learner_id`, `t8`.`group_course_instance_id`
2019-07-18 15:23:15.326 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1457.9344ms.
2019-07-18 15:23:15.326 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:23:15.334 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) in 1474.3483ms
2019-07-18 15:23:15.334 +12:00 [INF] Request finished in 1492.013ms 200 application/json; charset=utf-8
2019-07-18 15:23:15.841 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/payment  
2019-07-18 15:23:15.841 +12:00 [INF] Policy execution successful.
2019-07-18 15:23:15.841 +12:00 [INF] Route matched with {action = "GetTerms", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetTerms() on controller Pegasus_backend.Controllers.PaymentController (Pegasus_backend).
2019-07-18 15:23:15.842 +12:00 [INF] Executing action method Pegasus_backend.Controllers.PaymentController.GetTerms (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:23:15.842 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:23:16.052 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`term_id`, `t`.`begin_date`, `t`.`end_date`, `t`.`term_name`, `t`.`term_type`, `t`.`week_quantity`
FROM `ablemusic`.`term` AS `t`
2019-07-18 15:23:16.052 +12:00 [INF] Executed action method Pegasus_backend.Controllers.PaymentController.GetTerms (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 210.18470000000002ms.
2019-07-18 15:23:16.052 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:23:16.052 +12:00 [INF] Executed action Pegasus_backend.Controllers.PaymentController.GetTerms (Pegasus_backend) in 210.91330000000002ms
2019-07-18 15:23:16.053 +12:00 [INF] Request finished in 211.7237ms 200 application/json; charset=utf-8
2019-07-18 15:23:16.056 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/InvoiceWaitingConfirms/3/2  
2019-07-18 15:23:16.056 +12:00 [INF] Policy execution successful.
2019-07-18 15:23:16.057 +12:00 [INF] Route matched with {action = "GetInvoiceWaitingConfirm", controller = "InvoiceWaitingConfirms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetInvoiceWaitingConfirm(Int32, Int32) on controller Pegasus_backend.Controllers.InvoiceWaitingConfirmsController (Pegasus_backend).
2019-07-18 15:23:16.057 +12:00 [INF] Executing action method Pegasus_backend.Controllers.InvoiceWaitingConfirmsController.GetInvoiceWaitingConfirm (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:23:16.059 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:23:16.335 +12:00 [INF] Executed DbCommand (152ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__termId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `iw`.`invoice_num` AS `InvoiceNum`, `iw.Learner`.`email`, `iw.Learner`.`first_name` AS `FirstName`, `iw.Learner`.`middle_name` AS `MiddleName`, `iw.Learner`.`last_name` AS `LastName`, `iw.Learner`.`enroll_date` AS `EnrollDate`, `iw.Learner`.`contact_num` AS `ContactNum`, `iw.Learner`.`address`, `iw.Learner`.`is_under_18` AS `IsUnder18`, `iw.Learner`.`dob`, `iw.Learner`.`gender`, `iw.Learner`.`is_abrsm_g5` AS `IsAbrsmG5`, `iw.Learner`.`g5_certification` AS `G5Certification`, `iw.Learner`.`created_at` AS `CreatedAt`, `iw.Learner`.`referrer_learner_id` AS `ReferrerLearnerId`, `iw.Learner`.`photo`, `iw.Learner`.`note`, `iw.Learner`.`level_type` AS `LevelType`, `iw.Learner`.`user_id` AS `UserId`, `iw.Learner`.`org_id` AS `OrgId`, `iw`.`waiting_id` AS `WaitingId`, `iw`.`lesson_fee` AS `LessonFee`, `iw`.`concert_fee` AS `ConcertFee`, `iw`.`note_fee` AS `NoteFee`, `iw`.`other1_fee` AS `Other1Fee`, `iw`.`other2_fee` AS `Other2Fee`, `iw`.`other3_fee` AS `Other3Fee`, `iw`.`learner_id` AS `LearnerId`, `iw`.`learner_name` AS `LearnerName`, `iw`.`begin_date` AS `BeginDate`, `iw`.`end_date` AS `EndDate`, `iw`.`total_fee` AS `TotalFee`, `iw`.`due_date` AS `DueDate`, `iw`.`paid_fee` AS `PaidFee`, `iw`.`owing_fee` AS `OwingFee`, `iw`.`created_at` AS `CreatedAt0`, `iw`.`is_paid` AS `IsPaid`, `iw`.`term_id` AS `TermId`, `iw`.`course_instance_id` AS `CourseInstanceId`, `iw`.`group_course_instance_id` AS `GroupCourseInstanceId`, `iw`.`lesson_quantity` AS `LessonQuantity`, `iw`.`course_name` AS `CourseName`, `iw`.`concert_fee_name` AS `ConcertFeeName`, `iw`.`lesson_note_fee_name` AS `LessonNoteFeeName`, `iw`.`other1_fee_name` AS `Other1FeeName`, `iw`.`other2_fee_name` AS `Other2FeeName`, `iw`.`other3_fee_name` AS `Other3FeeName`, `iw`.`is_activate` AS `IsActivate`, `iw`.`is_email_sent` AS `IsEmailSent`, `iw`.`is_confirmed` AS `IsConfirmed`, `iw`.`comment`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`invoice_id`
END AS `InvoiceId`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN '' ELSE `iv`.`invoice_num`
END AS `InvoiceNum0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`lesson_fee`
END AS `LessonFee0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`concert_fee`
END AS `ConcertFee0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`note_fee`
END AS `NoteFee0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`other1_fee`
END AS `Other1Fee0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`other2_fee`
END AS `Other2Fee0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`other3_fee`
END AS `Other3Fee0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`learner_id`
END AS `LearnerId0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN '' ELSE `iv`.`learner_name`
END AS `LearnerName0`, `iv`.`begin_date` AS `BeginDate0`, `iv`.`end_date` AS `EndDate0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`total_fee`
END AS `TotalFee0`, `iv`.`due_date` AS `DueDate0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`paid_fee`
END AS `PaidFee0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`owing_fee`
END AS `OwingFee0`, `iv`.`created_at` AS `CreatedAt1`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`is_paid`
END AS `IsPaid0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`term_id`
END AS `TermId0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`course_instance_id`
END AS `CourseInstanceId0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`group_course_instance_id`
END AS `GroupCourseInstanceId0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`lesson_quantity`
END AS `LessonQuantity0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN '' ELSE `iv`.`course_name`
END AS `CourseName0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN '' ELSE `iv`.`concert_fee_name`
END AS `ConcertFeeName0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN '' ELSE `iv`.`lesson_note_fee_name`
END AS `LessonNoteFeeName0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN '' ELSE `iv`.`other1_fee_name`
END AS `Other1FeeName0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN '' ELSE `iv`.`other2_fee_name`
END AS `Other2FeeName0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN '' ELSE `iv`.`other3_fee_name`
END AS `Other3FeeName0`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN 0 ELSE `iv`.`is_active`
END AS `IsActive`, CASE
    WHEN `iv`.`invoice_id` IS NULL
    THEN '' ELSE `iv`.`comment`
END AS `Comment0`, `iw.Learner`.`learner_id`
FROM `ablemusic`.`staff` AS `s`
INNER JOIN `ablemusic`.`staff_org` AS `so` ON `s`.`staff_id` = `so`.`staff_id`
INNER JOIN `ablemusic`.`learner` AS `l` ON `so`.`org_id` = `l`.`org_id`
INNER JOIN `ablemusic`.`invoice_waiting_confirm` AS `iw` ON `l`.`learner_id` = `iw`.`learner_id`
LEFT JOIN `ablemusic`.`learner` AS `iw.Learner` ON `iw`.`learner_id` = `iw.Learner`.`learner_id`
INNER JOIN `ablemusic`.`term` AS `t` ON `iw`.`term_id` = `t`.`term_id`
LEFT JOIN `ablemusic`.`invoice` AS `iv` ON `iw`.`invoice_num` = `iv`.`invoice_num`
WHERE (`s`.`user_id` = @__userId_0) AND (`t`.`term_id` = @__termId_1)
ORDER BY `InvoiceNum`, `iw`.`waiting_id`, `iw.Learner`.`learner_id`
2019-07-18 15:23:16.721 +12:00 [INF] Executed DbCommand (118ms) [Parameters=[@__userId_0='?' (DbType = Int32), @__termId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `iw.Learner.Parent`.`parent_id`, `iw.Learner.Parent`.`contact_num`, `iw.Learner.Parent`.`created_at`, `iw.Learner.Parent`.`email`, `iw.Learner.Parent`.`first_name`, `iw.Learner.Parent`.`last_name`, `iw.Learner.Parent`.`learner_id`, `iw.Learner.Parent`.`relationship`, `t1`.`invoice_num`, `t1`.`waiting_id`, `t1`.`learner_id`
FROM `ablemusic`.`parent` AS `iw.Learner.Parent`
INNER JOIN (
    SELECT `iw0`.`invoice_num`, `iw0`.`waiting_id`, `iw.Learner0`.`learner_id`
    FROM `ablemusic`.`staff` AS `s0`
    INNER JOIN `ablemusic`.`staff_org` AS `so0` ON `s0`.`staff_id` = `so0`.`staff_id`
    INNER JOIN `ablemusic`.`learner` AS `l0` ON `so0`.`org_id` = `l0`.`org_id`
    INNER JOIN `ablemusic`.`invoice_waiting_confirm` AS `iw0` ON `l0`.`learner_id` = `iw0`.`learner_id`
    LEFT JOIN `ablemusic`.`learner` AS `iw.Learner0` ON `iw0`.`learner_id` = `iw.Learner0`.`learner_id`
    INNER JOIN `ablemusic`.`term` AS `t0` ON `iw0`.`term_id` = `t0`.`term_id`
    LEFT JOIN `ablemusic`.`invoice` AS `iv0` ON `iw0`.`invoice_num` = `iv0`.`invoice_num`
    WHERE (`s0`.`user_id` = @__userId_0) AND (`t0`.`term_id` = @__termId_1)
) AS `t1` ON `iw.Learner.Parent`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`invoice_num`, `t1`.`waiting_id`, `t1`.`learner_id`
2019-07-18 15:23:16.953 +12:00 [INF] Executed action method Pegasus_backend.Controllers.InvoiceWaitingConfirmsController.GetInvoiceWaitingConfirm (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 895.3404ms.
2019-07-18 15:23:16.953 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:23:16.995 +12:00 [INF] Executed action Pegasus_backend.Controllers.InvoiceWaitingConfirmsController.GetInvoiceWaitingConfirm (Pegasus_backend) in 938.08710000000008ms
2019-07-18 15:23:16.995 +12:00 [INF] Request finished in 939.2049ms 200 application/json; charset=utf-8
2019-07-18 15:23:17.043 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 15:23:17.043 +12:00 [INF] Policy execution successful.
2019-07-18 15:23:17.043 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 15:23:17.044 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 15:23:17.044 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:23:17.227 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 15:23:17.227 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 183.056ms.
2019-07-18 15:23:17.227 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:23:17.227 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 184.3513ms
2019-07-18 15:23:17.228 +12:00 [INF] Request finished in 185.0543ms 200 application/json; charset=utf-8
2019-07-18 15:23:17.229 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 15:23:17.230 +12:00 [INF] Policy execution successful.
2019-07-18 15:23:17.230 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 15:23:17.231 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 15:23:17.231 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:23:17.400 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 15:23:17.400 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 168.6823ms.
2019-07-18 15:23:17.400 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:23:17.400 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 169.9725ms
2019-07-18 15:23:17.400 +12:00 [INF] Request finished in 171.2054ms 200 application/json; charset=utf-8
2019-07-18 15:23:17.401 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 15:23:17.402 +12:00 [INF] Policy execution successful.
2019-07-18 15:23:17.402 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 15:23:17.403 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 15:23:17.404 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:23:17.582 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 15:23:17.582 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 178.7621ms.
2019-07-18 15:23:17.582 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:23:17.582 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 180.34140000000002ms
2019-07-18 15:23:17.583 +12:00 [INF] Request finished in 181.1688ms 200 application/json; charset=utf-8
2019-07-18 15:23:17.584 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 15:23:17.584 +12:00 [INF] Policy execution successful.
2019-07-18 15:23:17.584 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 15:23:17.585 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 15:23:17.585 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:23:17.843 +12:00 [INF] Executed DbCommand (91ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 15:23:17.843 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 257.91200000000003ms.
2019-07-18 15:23:17.843 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:23:17.843 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 259.0436ms
2019-07-18 15:23:17.844 +12:00 [INF] Request finished in 259.8351ms 200 application/json; charset=utf-8
2019-07-18 15:23:17.845 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 15:23:17.845 +12:00 [INF] Policy execution successful.
2019-07-18 15:23:17.846 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 15:23:17.847 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 15:23:17.847 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:23:18.066 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 15:23:18.066 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 219.00330000000002ms.
2019-07-18 15:23:18.066 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:23:18.066 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 220.19ms
2019-07-18 15:23:18.066 +12:00 [INF] Request finished in 221.1612ms 200 application/json; charset=utf-8
2019-07-18 15:23:18.068 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 15:23:18.068 +12:00 [INF] Policy execution successful.
2019-07-18 15:23:18.068 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 15:23:18.070 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 15:23:18.070 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:23:18.244 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 15:23:18.244 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 174.0487ms.
2019-07-18 15:23:18.244 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:23:18.244 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 175.5946ms
2019-07-18 15:23:18.244 +12:00 [INF] Request finished in 176.6552ms 200 application/json; charset=utf-8
2019-07-18 15:23:18.253 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 15:23:18.253 +12:00 [INF] Policy execution successful.
2019-07-18 15:23:18.253 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 15:23:18.254 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 15:23:18.255 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:23:18.426 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 15:23:18.426 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 171.71040000000002ms.
2019-07-18 15:23:18.426 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:23:18.427 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 172.989ms
2019-07-18 15:23:18.427 +12:00 [INF] Request finished in 173.8362ms 200 application/json; charset=utf-8
2019-07-18 15:23:18.428 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 15:23:18.429 +12:00 [INF] Policy execution successful.
2019-07-18 15:23:18.429 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 15:23:18.430 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 15:23:18.431 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:23:18.612 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 15:23:18.613 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 182.44230000000002ms.
2019-07-18 15:23:18.613 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:23:18.613 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 184.06560000000002ms
2019-07-18 15:23:18.613 +12:00 [INF] Request finished in 184.9538ms 200 application/json; charset=utf-8
2019-07-18 15:23:18.615 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 15:23:18.616 +12:00 [INF] Policy execution successful.
2019-07-18 15:23:18.616 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 15:23:18.618 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 15:23:18.619 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:23:18.800 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 15:23:18.800 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 181.7697ms.
2019-07-18 15:23:18.800 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:23:18.800 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 183.5559ms
2019-07-18 15:23:18.800 +12:00 [INF] Request finished in 185.1681ms 200 application/json; charset=utf-8
2019-07-18 15:23:18.802 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/GetLearnerById/undefined  
2019-07-18 15:23:18.802 +12:00 [INF] Policy execution successful.
2019-07-18 15:23:18.803 +12:00 [INF] Route matched with {action = "GetLearnerById", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearnerById(Int32) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 15:23:18.803 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) - Validation state: "Invalid"
2019-07-18 15:23:18.804 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:23:18.981 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`learner_id` = @__learnerId_0
ORDER BY `w`.`learner_id`
LIMIT 1
2019-07-18 15:23:18.982 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 177.9599ms.
2019-07-18 15:23:18.982 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:23:18.982 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearnerById (Pegasus_backend) in 179.1525ms
2019-07-18 15:23:18.982 +12:00 [INF] Request finished in 179.9847ms 200 application/json; charset=utf-8
2019-07-18 15:23:22.080 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/courseinstance/27/0  
2019-07-18 15:23:22.080 +12:00 [INF] Policy execution successful.
2019-07-18 15:23:22.081 +12:00 [INF] Route matched with {action = "GetCourseInstance", controller = "CourseInstance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourseInstance(Int32, Int32) on controller Pegasus_backend.Controllers.CourseInstanceController (Pegasus_backend).
2019-07-18 15:23:22.082 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Lookups/15  
2019-07-18 15:23:22.082 +12:00 [INF] Executing action method Pegasus_backend.Controllers.CourseInstanceController.GetCourseInstance (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:23:22.082 +12:00 [INF] Policy execution successful.
2019-07-18 15:23:22.083 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Lookups/16  
2019-07-18 15:23:22.083 +12:00 [INF] Policy execution successful.
2019-07-18 15:23:22.083 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 15:23:22.083 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 15:23:22.083 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:23:22.083 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:23:22.084 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:23:22.084 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:23:22.084 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:23:22.247 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 15:23:22.248 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 164.2884ms.
2019-07-18 15:23:22.248 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:23:22.248 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 164.91150000000002ms
2019-07-18 15:23:22.248 +12:00 [INF] Request finished in 165.8535ms 200 application/json; charset=utf-8
2019-07-18 15:23:22.717 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 15:23:22.718 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 634.3763ms.
2019-07-18 15:23:22.718 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:23:22.719 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 635.4684ms
2019-07-18 15:23:22.719 +12:00 [INF] Request finished in 637.3ms 200 application/json; charset=utf-8
2019-07-18 15:23:22.726 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`course_instance_id`, `o`.`begin_date`, `o`.`course_id`, `o`.`end_date`, `o`.`invoice_date`, `o`.`learner_id`, `o`.`org_id`, `o`.`room_id`, `o`.`teacher_id`, `o.Course`.`course_id`, `o.Course`.`course_category_id`, `o.Course`.`course_name`, `o.Course`.`course_type`, `o.Course`.`duration`, `o.Course`.`level`, `o.Course`.`price`, `o.Course`.`teacher_level`
FROM `ablemusic`.`one2one_course_instance` AS `o`
LEFT JOIN `ablemusic`.`course` AS `o.Course` ON `o`.`course_id` = `o.Course`.`course_id`
WHERE `o`.`course_instance_id` = @__id_0
LIMIT 1
2019-07-18 15:23:22.727 +12:00 [INF] Executed action method Pegasus_backend.Controllers.CourseInstanceController.GetCourseInstance (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 644.2439ms.
2019-07-18 15:23:22.727 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[Pegasus_backend.pegasusContext.One2oneCourseInstance, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-18 15:23:22.728 +12:00 [INF] Executed action Pegasus_backend.Controllers.CourseInstanceController.GetCourseInstance (Pegasus_backend) in 646.97350000000006ms
2019-07-18 15:23:22.728 +12:00 [INF] Request finished in 648.1097ms 200 application/json; charset=utf-8
2019-07-18 15:25:24.765 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner  
2019-07-18 15:25:24.765 +12:00 [INF] Policy execution successful.
2019-07-18 15:25:24.766 +12:00 [INF] Route matched with {action = "GetLearner", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearner() on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 15:25:24.766 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:25:24.766 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:25:24.959 +12:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`is_active` = 1
ORDER BY `w`.`learner_id`
2019-07-18 15:25:25.025 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Parent`.`parent_id`, `w.Parent`.`contact_num`, `w.Parent`.`created_at`, `w.Parent`.`email`, `w.Parent`.`first_name`, `w.Parent`.`last_name`, `w.Parent`.`learner_id`, `w.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `w.Parent`
INNER JOIN (
    SELECT `w0`.`learner_id`
    FROM `ablemusic`.`learner` AS `w0`
    WHERE `w0`.`is_active` = 1
) AS `t` ON `w.Parent`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-18 15:25:25.081 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerOthers`.`learner_others_id`, `w.LearnerOthers`.`learner_id`, `w.LearnerOthers`.`learner_level`, `w.LearnerOthers`.`others_type`, `w.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `w.LearnerOthers`
INNER JOIN (
    SELECT `w1`.`learner_id`
    FROM `ablemusic`.`learner` AS `w1`
    WHERE `w1`.`is_active` = 1
) AS `t0` ON `w.LearnerOthers`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-18 15:25:25.172 +12:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance`.`course_instance_id`, `w.One2oneCourseInstance`.`begin_date`, `w.One2oneCourseInstance`.`course_id`, `w.One2oneCourseInstance`.`end_date`, `w.One2oneCourseInstance`.`invoice_date`, `w.One2oneCourseInstance`.`learner_id`, `w.One2oneCourseInstance`.`org_id`, `w.One2oneCourseInstance`.`room_id`, `w.One2oneCourseInstance`.`teacher_id`, `o.Teacher`.`teacher_id`, `o.Teacher`.`ability`, `o.Teacher`.`comment`, `o.Teacher`.`cv_url`, `o.Teacher`.`dob`, `o.Teacher`.`email`, `o.Teacher`.`expiry_date`, `o.Teacher`.`first_name`, `o.Teacher`.`form_url`, `o.Teacher`.`gender`, `o.Teacher`.`home_phone`, `o.Teacher`.`id_number`, `o.Teacher`.`id_photo`, `o.Teacher`.`id_type`, `o.Teacher`.`invoice_template`, `o.Teacher`.`ird_number`, `o.Teacher`.`is_activate`, `o.Teacher`.`is_contract`, `o.Teacher`.`is_left`, `o.Teacher`.`last_name`, `o.Teacher`.`level`, `o.Teacher`.`minimum_hours`, `o.Teacher`.`mobile_phone`, `o.Teacher`.`otherfile_url`, `o.Teacher`.`photo`, `o.Teacher`.`user_id`, `o.Teacher`.`visa`, `o.Room`.`room_id`, `o.Room`.`created_at`, `o.Room`.`is_activate`, `o.Room`.`org_id`, `o.Room`.`room_name`, `o.Course`.`course_id`, `o.Course`.`course_category_id`, `o.Course`.`course_name`, `o.Course`.`course_type`, `o.Course`.`duration`, `o.Course`.`level`, `o.Course`.`price`, `o.Course`.`teacher_level`, `o.Org`.`org_id`, `o.Org`.`abbr`, `o.Org`.`address`, `o.Org`.`email`, `o.Org`.`is_activate`, `o.Org`.`is_headoffice`, `o.Org`.`localtion_x`, `o.Org`.`localtion_y`, `o.Org`.`org_name`, `o.Org`.`phone`
FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance`
LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher` ON `w.One2oneCourseInstance`.`teacher_id` = `o.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `o.Room` ON `w.One2oneCourseInstance`.`room_id` = `o.Room`.`room_id`
LEFT JOIN `ablemusic`.`course` AS `o.Course` ON `w.One2oneCourseInstance`.`course_id` = `o.Course`.`course_id`
LEFT JOIN `ablemusic`.`org` AS `o.Org` ON `w.One2oneCourseInstance`.`org_id` = `o.Org`.`org_id`
INNER JOIN (
    SELECT `w2`.`learner_id`
    FROM `ablemusic`.`learner` AS `w2`
    WHERE `w2`.`is_active` = 1
) AS `t1` ON `w.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`, `w.One2oneCourseInstance`.`course_instance_id`
2019-07-18 15:25:25.265 +12:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.Amendment`.`amendment_id`, `w.One2oneCourseInstance.Amendment`.`amend_type`, `w.One2oneCourseInstance.Amendment`.`begin_date`, `w.One2oneCourseInstance.Amendment`.`begin_time`, `w.One2oneCourseInstance.Amendment`.`course_instance_id`, `w.One2oneCourseInstance.Amendment`.`course_schedule_id`, `w.One2oneCourseInstance.Amendment`.`created_at`, `w.One2oneCourseInstance.Amendment`.`day_of_week`, `w.One2oneCourseInstance.Amendment`.`end_date`, `w.One2oneCourseInstance.Amendment`.`end_time`, `w.One2oneCourseInstance.Amendment`.`is_temporary`, `w.One2oneCourseInstance.Amendment`.`learner_id`, `w.One2oneCourseInstance.Amendment`.`org_id`, `w.One2oneCourseInstance.Amendment`.`reason`, `w.One2oneCourseInstance.Amendment`.`room_id`, `w.One2oneCourseInstance.Amendment`.`teacher_id`, `a.Teacher`.`teacher_id`, `a.Teacher`.`ability`, `a.Teacher`.`comment`, `a.Teacher`.`cv_url`, `a.Teacher`.`dob`, `a.Teacher`.`email`, `a.Teacher`.`expiry_date`, `a.Teacher`.`first_name`, `a.Teacher`.`form_url`, `a.Teacher`.`gender`, `a.Teacher`.`home_phone`, `a.Teacher`.`id_number`, `a.Teacher`.`id_photo`, `a.Teacher`.`id_type`, `a.Teacher`.`invoice_template`, `a.Teacher`.`ird_number`, `a.Teacher`.`is_activate`, `a.Teacher`.`is_contract`, `a.Teacher`.`is_left`, `a.Teacher`.`last_name`, `a.Teacher`.`level`, `a.Teacher`.`minimum_hours`, `a.Teacher`.`mobile_phone`, `a.Teacher`.`otherfile_url`, `a.Teacher`.`photo`, `a.Teacher`.`user_id`, `a.Teacher`.`visa`, `a.Room`.`room_id`, `a.Room`.`created_at`, `a.Room`.`is_activate`, `a.Room`.`org_id`, `a.Room`.`room_name`
FROM `ablemusic`.`amendment` AS `w.One2oneCourseInstance.Amendment`
LEFT JOIN `ablemusic`.`teacher` AS `a.Teacher` ON `w.One2oneCourseInstance.Amendment`.`teacher_id` = `a.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `a.Room` ON `w.One2oneCourseInstance.Amendment`.`room_id` = `a.Room`.`room_id`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance0`.`course_instance_id`, `t2`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance0`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher0` ON `w.One2oneCourseInstance0`.`teacher_id` = `o.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room0` ON `w.One2oneCourseInstance0`.`room_id` = `o.Room0`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course0` ON `w.One2oneCourseInstance0`.`course_id` = `o.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org0` ON `w.One2oneCourseInstance0`.`org_id` = `o.Org0`.`org_id`
    INNER JOIN (
        SELECT `w3`.`learner_id`
        FROM `ablemusic`.`learner` AS `w3`
        WHERE `w3`.`is_active` = 1
    ) AS `t2` ON `w.One2oneCourseInstance0`.`learner_id` = `t2`.`learner_id`
) AS `t3` ON `w.One2oneCourseInstance.Amendment`.`course_instance_id` = `t3`.`course_instance_id`
ORDER BY `t3`.`learner_id`, `t3`.`course_instance_id`
2019-07-18 15:25:25.345 +12:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.CourseSchedule`.`course_schedule_id`, `w.One2oneCourseInstance.CourseSchedule`.`begin_time`, `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id`, `w.One2oneCourseInstance.CourseSchedule`.`day_of_week`, `w.One2oneCourseInstance.CourseSchedule`.`end_time`, `w.One2oneCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `w.One2oneCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance1`.`course_instance_id`, `t4`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance1`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher1` ON `w.One2oneCourseInstance1`.`teacher_id` = `o.Teacher1`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room1` ON `w.One2oneCourseInstance1`.`room_id` = `o.Room1`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course1` ON `w.One2oneCourseInstance1`.`course_id` = `o.Course1`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org1` ON `w.One2oneCourseInstance1`.`org_id` = `o.Org1`.`org_id`
    INNER JOIN (
        SELECT `w4`.`learner_id`
        FROM `ablemusic`.`learner` AS `w4`
        WHERE `w4`.`is_active` = 1
    ) AS `t4` ON `w.One2oneCourseInstance1`.`learner_id` = `t4`.`learner_id`
) AS `t5` ON `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id` = `t5`.`course_instance_id`
ORDER BY `t5`.`learner_id`, `t5`.`course_instance_id`
2019-07-18 15:25:25.443 +12:00 [INF] Executed DbCommand (95ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerGroupCourse`.`learner_group_course_id`, `w.LearnerGroupCourse`.`begin_date`, `w.LearnerGroupCourse`.`comment`, `w.LearnerGroupCourse`.`created_at`, `w.LearnerGroupCourse`.`end_date`, `w.LearnerGroupCourse`.`group_course_instance_id`, `w.LearnerGroupCourse`.`invoice_date`, `w.LearnerGroupCourse`.`is_activate`, `w.LearnerGroupCourse`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`, `l.GroupCourseInstance`.`begin_date`, `l.GroupCourseInstance`.`course_id`, `l.GroupCourseInstance`.`end_date`, `l.GroupCourseInstance`.`invoice_date`, `l.GroupCourseInstance`.`is_activate`, `l.GroupCourseInstance`.`is_started`, `l.GroupCourseInstance`.`org_id`, `l.GroupCourseInstance`.`room_id`, `l.GroupCourseInstance`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`ability`, `l.GroupCourseInstance.Teacher`.`comment`, `l.GroupCourseInstance.Teacher`.`cv_url`, `l.GroupCourseInstance.Teacher`.`dob`, `l.GroupCourseInstance.Teacher`.`email`, `l.GroupCourseInstance.Teacher`.`expiry_date`, `l.GroupCourseInstance.Teacher`.`first_name`, `l.GroupCourseInstance.Teacher`.`form_url`, `l.GroupCourseInstance.Teacher`.`gender`, `l.GroupCourseInstance.Teacher`.`home_phone`, `l.GroupCourseInstance.Teacher`.`id_number`, `l.GroupCourseInstance.Teacher`.`id_photo`, `l.GroupCourseInstance.Teacher`.`id_type`, `l.GroupCourseInstance.Teacher`.`invoice_template`, `l.GroupCourseInstance.Teacher`.`ird_number`, `l.GroupCourseInstance.Teacher`.`is_activate`, `l.GroupCourseInstance.Teacher`.`is_contract`, `l.GroupCourseInstance.Teacher`.`is_left`, `l.GroupCourseInstance.Teacher`.`last_name`, `l.GroupCourseInstance.Teacher`.`level`, `l.GroupCourseInstance.Teacher`.`minimum_hours`, `l.GroupCourseInstance.Teacher`.`mobile_phone`, `l.GroupCourseInstance.Teacher`.`otherfile_url`, `l.GroupCourseInstance.Teacher`.`photo`, `l.GroupCourseInstance.Teacher`.`user_id`, `l.GroupCourseInstance.Teacher`.`visa`, `l.GroupCourseInstance.Course`.`course_id`, `l.GroupCourseInstance.Course`.`course_category_id`, `l.GroupCourseInstance.Course`.`course_name`, `l.GroupCourseInstance.Course`.`course_type`, `l.GroupCourseInstance.Course`.`duration`, `l.GroupCourseInstance.Course`.`level`, `l.GroupCourseInstance.Course`.`price`, `l.GroupCourseInstance.Course`.`teacher_level`, `l.GroupCourseInstance.Room`.`room_id`, `l.GroupCourseInstance.Room`.`created_at`, `l.GroupCourseInstance.Room`.`is_activate`, `l.GroupCourseInstance.Room`.`org_id`, `l.GroupCourseInstance.Room`.`room_name`
FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse`
LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance` ON `w.LearnerGroupCourse`.`group_course_instance_id` = `l.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher` ON `l.GroupCourseInstance`.`teacher_id` = `l.GroupCourseInstance.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course` ON `l.GroupCourseInstance`.`course_id` = `l.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room` ON `l.GroupCourseInstance`.`room_id` = `l.GroupCourseInstance.Room`.`room_id`
INNER JOIN (
    SELECT `w5`.`learner_id`
    FROM `ablemusic`.`learner` AS `w5`
    WHERE `w5`.`is_active` = 1
) AS `t6` ON `w.LearnerGroupCourse`.`learner_id` = `t6`.`learner_id`
ORDER BY `t6`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`
2019-07-18 15:25:25.531 +12:00 [INF] Executed DbCommand (79ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l.GroupCourseInstance.CourseSchedule`.`course_schedule_id`, `l.GroupCourseInstance.CourseSchedule`.`begin_time`, `l.GroupCourseInstance.CourseSchedule`.`course_instance_id`, `l.GroupCourseInstance.CourseSchedule`.`day_of_week`, `l.GroupCourseInstance.CourseSchedule`.`end_time`, `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `l.GroupCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `l.GroupCourseInstance0`.`group_course_instance_id`, `t7`.`learner_id`
    FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse0`
    LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance0` ON `w.LearnerGroupCourse0`.`group_course_instance_id` = `l.GroupCourseInstance0`.`group_course_instance_id`
    LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher0` ON `l.GroupCourseInstance0`.`teacher_id` = `l.GroupCourseInstance.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course0` ON `l.GroupCourseInstance0`.`course_id` = `l.GroupCourseInstance.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room0` ON `l.GroupCourseInstance0`.`room_id` = `l.GroupCourseInstance.Room0`.`room_id`
    INNER JOIN (
        SELECT `w6`.`learner_id`
        FROM `ablemusic`.`learner` AS `w6`
        WHERE `w6`.`is_active` = 1
    ) AS `t7` ON `w.LearnerGroupCourse0`.`learner_id` = `t7`.`learner_id`
) AS `t8` ON `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id` = `t8`.`group_course_instance_id`
ORDER BY `t8`.`learner_id`, `t8`.`group_course_instance_id`
2019-07-18 15:25:25.576 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 809.6164ms.
2019-07-18 15:25:25.576 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:25:25.581 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) in 815.8184ms
2019-07-18 15:25:25.582 +12:00 [INF] Request finished in 816.772ms 200 application/json; charset=utf-8
2019-07-18 15:25:33.011 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/1  
2019-07-18 15:25:33.011 +12:00 [INF] Policy execution successful.
2019-07-18 15:25:33.015 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/GroupCourseInstance  
2019-07-18 15:25:33.015 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/2  
2019-07-18 15:25:33.015 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 15:25:33.018 +12:00 [INF] Policy execution successful.
2019-07-18 15:25:33.018 +12:00 [INF] Policy execution successful.
2019-07-18 15:25:33.019 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 15:25:33.019 +12:00 [INF] Route matched with {action = "GetGroupCourseInstance", controller = "GroupCourseInstance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGroupCourseInstance() on controller Pegasus_backend.Controllers.GroupCourseInstanceController (Pegasus_backend).
2019-07-18 15:25:33.019 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:25:33.023 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:25:33.024 +12:00 [INF] Executing action method Pegasus_backend.Controllers.GroupCourseInstanceController.GetGroupCourseInstance (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:25:33.024 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/3  
2019-07-18 15:25:33.024 +12:00 [INF] Policy execution successful.
2019-07-18 15:25:33.025 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:25:33.025 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:25:33.025 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:25:33.026 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 15:25:33.032 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:25:33.034 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:25:33.040 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/4  
2019-07-18 15:25:33.041 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/5  
2019-07-18 15:25:33.042 +12:00 [INF] Policy execution successful.
2019-07-18 15:25:33.042 +12:00 [INF] Policy execution successful.
2019-07-18 15:25:33.042 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 15:25:33.042 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 15:25:33.048 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:25:33.048 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:25:33.048 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:25:33.048 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:25:33.204 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 15:25:33.205 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 172.14870000000002ms.
2019-07-18 15:25:33.205 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:25:33.205 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 179.5755ms
2019-07-18 15:25:33.206 +12:00 [INF] Request finished in 181.7124ms 200 application/json; charset=utf-8
2019-07-18 15:25:33.207 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 15:25:33.207 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/orgs  
2019-07-18 15:25:33.208 +12:00 [INF] Policy execution successful.
2019-07-18 15:25:33.208 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 15:25:33.208 +12:00 [INF] Route matched with {action = "GetOrg", controller = "Orgs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrg() on controller Pegasus_backend.Controllers.OrgsController (Pegasus_backend).
2019-07-18 15:25:33.208 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 185.124ms.
2019-07-18 15:25:33.208 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 185.1587ms.
2019-07-18 15:25:33.208 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:25:33.208 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:25:33.208 +12:00 [INF] Executing action method Pegasus_backend.Controllers.OrgsController.GetOrg (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:25:33.208 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 190.19920000000002ms
2019-07-18 15:25:33.208 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 189.866ms
2019-07-18 15:25:33.209 +12:00 [INF] Request finished in 197.8803ms 200 application/json; charset=utf-8
2019-07-18 15:25:33.209 +12:00 [INF] Request finished in 194.1095ms 200 application/json; charset=utf-8
2019-07-18 15:25:33.209 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:25:33.215 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/courses  
2019-07-18 15:25:33.215 +12:00 [INF] Policy execution successful.
2019-07-18 15:25:33.215 +12:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Pegasus_backend.pegasusContext.Course]]] GetCourses() on controller Pegasus_backend.Controllers.CoursesController (Pegasus_backend).
2019-07-18 15:25:33.216 +12:00 [INF] Executing action method Pegasus_backend.Controllers.CoursesController.GetCourses (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:25:33.217 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:25:33.371 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`org_id`, `o`.`abbr`, `o`.`address`, `o`.`email`, `o`.`is_activate`, `o`.`is_headoffice`, `o`.`localtion_x`, `o`.`localtion_y`, `o`.`org_name`, `o`.`phone`
FROM `ablemusic`.`org` AS `o`
2019-07-18 15:25:33.372 +12:00 [INF] Executed action method Pegasus_backend.Controllers.OrgsController.GetOrg (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 163.0748ms.
2019-07-18 15:25:33.372 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Org, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:25:33.372 +12:00 [INF] Executed action Pegasus_backend.Controllers.OrgsController.GetOrg (Pegasus_backend) in 163.9596ms
2019-07-18 15:25:33.372 +12:00 [INF] Request finished in 164.9153ms 200 application/json; charset=utf-8
2019-07-18 15:25:33.388 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`course_id` AS `CourseId`, `c`.`course_name` AS `CourseName`, `c`.`course_type` AS `CourseType`, `c`.`level`, `c`.`duration`, `c`.`price`, `c`.`course_category_id` AS `CourseCategoryId0`, `c`.`teacher_level` AS `TeacherLevel`, `cc`.`course_category_id` AS `CourseCategoryId`, `cc`.`course_category_name` AS `CourseCategoryName`
FROM `ablemusic`.`course` AS `c`
INNER JOIN `ablemusic`.`course_category` AS `cc` ON `c`.`course_category_id` = `cc`.`course_category_id`
2019-07-18 15:25:33.626 +12:00 [INF] Executed DbCommand (77ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`prop_name` AS `PropName`, `l`.`prop_value` AS `PropValue`, `l`.`lookup_type` AS `LookupType`
FROM `ablemusic`.`lookup` AS `l`
WHERE (((`l`.`lookup_type` = 1) OR (`l`.`lookup_type` = 4)) OR (`l`.`lookup_type` = 6)) OR (`l`.`lookup_type` = 8)
2019-07-18 15:25:33.627 +12:00 [INF] Executed action method Pegasus_backend.Controllers.CoursesController.GetCourses (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 411.5665ms.
2019-07-18 15:25:33.628 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:25:33.630 +12:00 [INF] Executed action Pegasus_backend.Controllers.CoursesController.GetCourses (Pegasus_backend) in 414.05710000000005ms
2019-07-18 15:25:33.630 +12:00 [INF] Request finished in 415.1146ms 200 application/json; charset=utf-8
2019-07-18 15:25:33.823 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 15:25:33.824 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 775.8962ms.
2019-07-18 15:25:33.824 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:25:33.824 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 782.2902ms
2019-07-18 15:25:33.825 +12:00 [INF] Request finished in 784.2864ms 200 application/json; charset=utf-8
2019-07-18 15:25:33.827 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 15:25:33.828 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 779.8676ms.
2019-07-18 15:25:33.828 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:25:33.829 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 786.5075ms
2019-07-18 15:25:33.829 +12:00 [INF] Request finished in 788.62ms 200 application/json; charset=utf-8
2019-07-18 15:25:33.842 +12:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c.Course.CourseCategory`.`course_category_id`, `c.Course.CourseCategory`.`course_category_name`, `c`.`course_id` AS `CourseId`, `c`.`group_course_instance_id` AS `GroupCourseInstanceId`, `c`.`begin_date` AS `BeginDate`, `c`.`end_date` AS `EndDate`, `c.Course`.`course_name` AS `CourseName`, `c.Course`.`course_type` AS `CourseType`, `c.Course`.`level`, `c.Course`.`duration`, `c.Course`.`price`, `c`.`org_id` AS `OrgId`, `c.Org`.`org_name` AS `OrgName`, `c`.`room_id` AS `RoomId`, `c.Room`.`room_name` AS `RoomName`, `c`.`teacher_id` AS `TeacherId`, `c.Teacher`.`first_name` AS `FirstName`, `c.Teacher`.`last_name` AS `LastName`
FROM `ablemusic`.`group_course_instance` AS `c`
LEFT JOIN `ablemusic`.`teacher` AS `c.Teacher` ON `c`.`teacher_id` = `c.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `c.Room` ON `c`.`room_id` = `c.Room`.`room_id`
LEFT JOIN `ablemusic`.`org` AS `c.Org` ON `c`.`org_id` = `c.Org`.`org_id`
INNER JOIN `ablemusic`.`course` AS `c.Course` ON `c`.`course_id` = `c.Course`.`course_id`
LEFT JOIN `ablemusic`.`course_category` AS `c.Course.CourseCategory` ON `c.Course`.`course_category_id` = `c.Course.CourseCategory`.`course_category_id`
WHERE `c`.`is_activate` = 1
ORDER BY `c`.`group_course_instance_id`
2019-07-18 15:25:33.906 +12:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c.CourseSchedule`.`course_schedule_id`, `c.CourseSchedule`.`begin_time`, `c.CourseSchedule`.`course_instance_id`, `c.CourseSchedule`.`day_of_week`, `c.CourseSchedule`.`end_time`, `c.CourseSchedule`.`group_course_instance_id`, `t`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `c.CourseSchedule`
INNER JOIN (
    SELECT `c0`.`group_course_instance_id`
    FROM `ablemusic`.`group_course_instance` AS `c0`
    LEFT JOIN `ablemusic`.`teacher` AS `c.Teacher0` ON `c0`.`teacher_id` = `c.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `c.Room0` ON `c0`.`room_id` = `c.Room0`.`room_id`
    LEFT JOIN `ablemusic`.`org` AS `c.Org0` ON `c0`.`org_id` = `c.Org0`.`org_id`
    INNER JOIN `ablemusic`.`course` AS `c.Course0` ON `c0`.`course_id` = `c.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`course_category` AS `c.Course.CourseCategory0` ON `c.Course0`.`course_category_id` = `c.Course.CourseCategory0`.`course_category_id`
    WHERE `c0`.`is_activate` = 1
) AS `t` ON `c.CourseSchedule`.`group_course_instance_id` = `t`.`group_course_instance_id`
ORDER BY `t`.`group_course_instance_id`
2019-07-18 15:25:33.908 +12:00 [INF] Executed action method Pegasus_backend.Controllers.GroupCourseInstanceController.GetGroupCourseInstance (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 883.5967ms.
2019-07-18 15:25:33.908 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:25:33.908 +12:00 [INF] Executed action Pegasus_backend.Controllers.GroupCourseInstanceController.GetGroupCourseInstance (Pegasus_backend) in 885.4505ms
2019-07-18 15:25:33.908 +12:00 [INF] Request finished in 893.9702ms 200 application/json; charset=utf-8
2019-07-18 15:25:48.244 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/TeacherFilter/1  
2019-07-18 15:25:48.245 +12:00 [INF] Policy execution successful.
2019-07-18 15:25:48.245 +12:00 [INF] Route matched with {action = "Get", controller = "TeacherFilter"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Pegasus_backend.Controllers.TeacherFilterController (Pegasus_backend).
2019-07-18 15:25:48.245 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TeacherFilterController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:25:48.246 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:25:48.430 +12:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`org_id` AS `OrgId`, `o`.`org_name` AS `OrgName`
FROM `ablemusic`.`org` AS `o`
2019-07-18 15:25:48.603 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `r`.`room_id` AS `RoomId`, `r`.`room_name` AS `RoomName`, `r`.`org_id` AS `OrgId`
FROM `ablemusic`.`room` AS `r`
2019-07-18 15:25:48.779 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`prop_value` AS `PropValue`, `l`.`prop_name` AS `PropName`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = 1
2019-07-18 15:25:48.965 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`teacher_id` AS `TeacherId`, `t`.`first_name` AS `TeacherFirstName`, `t`.`last_name` AS `TeacherLastName`, `ta`.`org_id` AS `TeacherAvailableOrgId`, `t`.`level` AS `TeacherLevelId`
FROM `ablemusic`.`teacher` AS `t`
INNER JOIN `ablemusic`.`available_days` AS `ta` ON `t`.`teacher_id` = `ta`.`teacher_id`
INNER JOIN `ablemusic`.`teacher_course` AS `tc` ON `t`.`teacher_id` = `tc`.`teacher_id`
WHERE (`tc`.`course_id` = @__courseId_0) AND (`t`.`is_activate` = 1)
ORDER BY `t`.`teacher_id`, `ta`.`org_id`
2019-07-18 15:25:48.966 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TeacherFilterController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 720.51330000000007ms.
2019-07-18 15:25:48.966 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:25:48.967 +12:00 [INF] Executed action Pegasus_backend.Controllers.TeacherFilterController.Get (Pegasus_backend) in 721.76460000000009ms
2019-07-18 15:25:48.967 +12:00 [INF] Request finished in 722.5724ms 200 application/json; charset=utf-8
2019-07-18 15:35:02.241 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner  
2019-07-18 15:35:02.244 +12:00 [INF] Policy execution successful.
2019-07-18 15:35:02.249 +12:00 [INF] Route matched with {action = "GetLearner", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearner() on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 15:35:02.255 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:35:02.262 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:35:03.024 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`is_active` = 1
ORDER BY `w`.`learner_id`
2019-07-18 15:35:03.089 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Parent`.`parent_id`, `w.Parent`.`contact_num`, `w.Parent`.`created_at`, `w.Parent`.`email`, `w.Parent`.`first_name`, `w.Parent`.`last_name`, `w.Parent`.`learner_id`, `w.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `w.Parent`
INNER JOIN (
    SELECT `w0`.`learner_id`
    FROM `ablemusic`.`learner` AS `w0`
    WHERE `w0`.`is_active` = 1
) AS `t` ON `w.Parent`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-18 15:35:03.145 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerOthers`.`learner_others_id`, `w.LearnerOthers`.`learner_id`, `w.LearnerOthers`.`learner_level`, `w.LearnerOthers`.`others_type`, `w.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `w.LearnerOthers`
INNER JOIN (
    SELECT `w1`.`learner_id`
    FROM `ablemusic`.`learner` AS `w1`
    WHERE `w1`.`is_active` = 1
) AS `t0` ON `w.LearnerOthers`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-18 15:35:03.227 +12:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance`.`course_instance_id`, `w.One2oneCourseInstance`.`begin_date`, `w.One2oneCourseInstance`.`course_id`, `w.One2oneCourseInstance`.`end_date`, `w.One2oneCourseInstance`.`invoice_date`, `w.One2oneCourseInstance`.`learner_id`, `w.One2oneCourseInstance`.`org_id`, `w.One2oneCourseInstance`.`room_id`, `w.One2oneCourseInstance`.`teacher_id`, `o.Teacher`.`teacher_id`, `o.Teacher`.`ability`, `o.Teacher`.`comment`, `o.Teacher`.`cv_url`, `o.Teacher`.`dob`, `o.Teacher`.`email`, `o.Teacher`.`expiry_date`, `o.Teacher`.`first_name`, `o.Teacher`.`form_url`, `o.Teacher`.`gender`, `o.Teacher`.`home_phone`, `o.Teacher`.`id_number`, `o.Teacher`.`id_photo`, `o.Teacher`.`id_type`, `o.Teacher`.`invoice_template`, `o.Teacher`.`ird_number`, `o.Teacher`.`is_activate`, `o.Teacher`.`is_contract`, `o.Teacher`.`is_left`, `o.Teacher`.`last_name`, `o.Teacher`.`level`, `o.Teacher`.`minimum_hours`, `o.Teacher`.`mobile_phone`, `o.Teacher`.`otherfile_url`, `o.Teacher`.`photo`, `o.Teacher`.`user_id`, `o.Teacher`.`visa`, `o.Room`.`room_id`, `o.Room`.`created_at`, `o.Room`.`is_activate`, `o.Room`.`org_id`, `o.Room`.`room_name`, `o.Course`.`course_id`, `o.Course`.`course_category_id`, `o.Course`.`course_name`, `o.Course`.`course_type`, `o.Course`.`duration`, `o.Course`.`level`, `o.Course`.`price`, `o.Course`.`teacher_level`, `o.Org`.`org_id`, `o.Org`.`abbr`, `o.Org`.`address`, `o.Org`.`email`, `o.Org`.`is_activate`, `o.Org`.`is_headoffice`, `o.Org`.`localtion_x`, `o.Org`.`localtion_y`, `o.Org`.`org_name`, `o.Org`.`phone`
FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance`
LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher` ON `w.One2oneCourseInstance`.`teacher_id` = `o.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `o.Room` ON `w.One2oneCourseInstance`.`room_id` = `o.Room`.`room_id`
LEFT JOIN `ablemusic`.`course` AS `o.Course` ON `w.One2oneCourseInstance`.`course_id` = `o.Course`.`course_id`
LEFT JOIN `ablemusic`.`org` AS `o.Org` ON `w.One2oneCourseInstance`.`org_id` = `o.Org`.`org_id`
INNER JOIN (
    SELECT `w2`.`learner_id`
    FROM `ablemusic`.`learner` AS `w2`
    WHERE `w2`.`is_active` = 1
) AS `t1` ON `w.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`, `w.One2oneCourseInstance`.`course_instance_id`
2019-07-18 15:35:03.394 +12:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.Amendment`.`amendment_id`, `w.One2oneCourseInstance.Amendment`.`amend_type`, `w.One2oneCourseInstance.Amendment`.`begin_date`, `w.One2oneCourseInstance.Amendment`.`begin_time`, `w.One2oneCourseInstance.Amendment`.`course_instance_id`, `w.One2oneCourseInstance.Amendment`.`course_schedule_id`, `w.One2oneCourseInstance.Amendment`.`created_at`, `w.One2oneCourseInstance.Amendment`.`day_of_week`, `w.One2oneCourseInstance.Amendment`.`end_date`, `w.One2oneCourseInstance.Amendment`.`end_time`, `w.One2oneCourseInstance.Amendment`.`is_temporary`, `w.One2oneCourseInstance.Amendment`.`learner_id`, `w.One2oneCourseInstance.Amendment`.`org_id`, `w.One2oneCourseInstance.Amendment`.`reason`, `w.One2oneCourseInstance.Amendment`.`room_id`, `w.One2oneCourseInstance.Amendment`.`teacher_id`, `a.Teacher`.`teacher_id`, `a.Teacher`.`ability`, `a.Teacher`.`comment`, `a.Teacher`.`cv_url`, `a.Teacher`.`dob`, `a.Teacher`.`email`, `a.Teacher`.`expiry_date`, `a.Teacher`.`first_name`, `a.Teacher`.`form_url`, `a.Teacher`.`gender`, `a.Teacher`.`home_phone`, `a.Teacher`.`id_number`, `a.Teacher`.`id_photo`, `a.Teacher`.`id_type`, `a.Teacher`.`invoice_template`, `a.Teacher`.`ird_number`, `a.Teacher`.`is_activate`, `a.Teacher`.`is_contract`, `a.Teacher`.`is_left`, `a.Teacher`.`last_name`, `a.Teacher`.`level`, `a.Teacher`.`minimum_hours`, `a.Teacher`.`mobile_phone`, `a.Teacher`.`otherfile_url`, `a.Teacher`.`photo`, `a.Teacher`.`user_id`, `a.Teacher`.`visa`, `a.Room`.`room_id`, `a.Room`.`created_at`, `a.Room`.`is_activate`, `a.Room`.`org_id`, `a.Room`.`room_name`
FROM `ablemusic`.`amendment` AS `w.One2oneCourseInstance.Amendment`
LEFT JOIN `ablemusic`.`teacher` AS `a.Teacher` ON `w.One2oneCourseInstance.Amendment`.`teacher_id` = `a.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `a.Room` ON `w.One2oneCourseInstance.Amendment`.`room_id` = `a.Room`.`room_id`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance0`.`course_instance_id`, `t2`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance0`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher0` ON `w.One2oneCourseInstance0`.`teacher_id` = `o.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room0` ON `w.One2oneCourseInstance0`.`room_id` = `o.Room0`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course0` ON `w.One2oneCourseInstance0`.`course_id` = `o.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org0` ON `w.One2oneCourseInstance0`.`org_id` = `o.Org0`.`org_id`
    INNER JOIN (
        SELECT `w3`.`learner_id`
        FROM `ablemusic`.`learner` AS `w3`
        WHERE `w3`.`is_active` = 1
    ) AS `t2` ON `w.One2oneCourseInstance0`.`learner_id` = `t2`.`learner_id`
) AS `t3` ON `w.One2oneCourseInstance.Amendment`.`course_instance_id` = `t3`.`course_instance_id`
ORDER BY `t3`.`learner_id`, `t3`.`course_instance_id`
2019-07-18 15:35:03.466 +12:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.CourseSchedule`.`course_schedule_id`, `w.One2oneCourseInstance.CourseSchedule`.`begin_time`, `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id`, `w.One2oneCourseInstance.CourseSchedule`.`day_of_week`, `w.One2oneCourseInstance.CourseSchedule`.`end_time`, `w.One2oneCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `w.One2oneCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance1`.`course_instance_id`, `t4`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance1`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher1` ON `w.One2oneCourseInstance1`.`teacher_id` = `o.Teacher1`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room1` ON `w.One2oneCourseInstance1`.`room_id` = `o.Room1`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course1` ON `w.One2oneCourseInstance1`.`course_id` = `o.Course1`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org1` ON `w.One2oneCourseInstance1`.`org_id` = `o.Org1`.`org_id`
    INNER JOIN (
        SELECT `w4`.`learner_id`
        FROM `ablemusic`.`learner` AS `w4`
        WHERE `w4`.`is_active` = 1
    ) AS `t4` ON `w.One2oneCourseInstance1`.`learner_id` = `t4`.`learner_id`
) AS `t5` ON `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id` = `t5`.`course_instance_id`
ORDER BY `t5`.`learner_id`, `t5`.`course_instance_id`
2019-07-18 15:35:03.572 +12:00 [INF] Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerGroupCourse`.`learner_group_course_id`, `w.LearnerGroupCourse`.`begin_date`, `w.LearnerGroupCourse`.`comment`, `w.LearnerGroupCourse`.`created_at`, `w.LearnerGroupCourse`.`end_date`, `w.LearnerGroupCourse`.`group_course_instance_id`, `w.LearnerGroupCourse`.`invoice_date`, `w.LearnerGroupCourse`.`is_activate`, `w.LearnerGroupCourse`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`, `l.GroupCourseInstance`.`begin_date`, `l.GroupCourseInstance`.`course_id`, `l.GroupCourseInstance`.`end_date`, `l.GroupCourseInstance`.`invoice_date`, `l.GroupCourseInstance`.`is_activate`, `l.GroupCourseInstance`.`is_started`, `l.GroupCourseInstance`.`org_id`, `l.GroupCourseInstance`.`room_id`, `l.GroupCourseInstance`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`ability`, `l.GroupCourseInstance.Teacher`.`comment`, `l.GroupCourseInstance.Teacher`.`cv_url`, `l.GroupCourseInstance.Teacher`.`dob`, `l.GroupCourseInstance.Teacher`.`email`, `l.GroupCourseInstance.Teacher`.`expiry_date`, `l.GroupCourseInstance.Teacher`.`first_name`, `l.GroupCourseInstance.Teacher`.`form_url`, `l.GroupCourseInstance.Teacher`.`gender`, `l.GroupCourseInstance.Teacher`.`home_phone`, `l.GroupCourseInstance.Teacher`.`id_number`, `l.GroupCourseInstance.Teacher`.`id_photo`, `l.GroupCourseInstance.Teacher`.`id_type`, `l.GroupCourseInstance.Teacher`.`invoice_template`, `l.GroupCourseInstance.Teacher`.`ird_number`, `l.GroupCourseInstance.Teacher`.`is_activate`, `l.GroupCourseInstance.Teacher`.`is_contract`, `l.GroupCourseInstance.Teacher`.`is_left`, `l.GroupCourseInstance.Teacher`.`last_name`, `l.GroupCourseInstance.Teacher`.`level`, `l.GroupCourseInstance.Teacher`.`minimum_hours`, `l.GroupCourseInstance.Teacher`.`mobile_phone`, `l.GroupCourseInstance.Teacher`.`otherfile_url`, `l.GroupCourseInstance.Teacher`.`photo`, `l.GroupCourseInstance.Teacher`.`user_id`, `l.GroupCourseInstance.Teacher`.`visa`, `l.GroupCourseInstance.Course`.`course_id`, `l.GroupCourseInstance.Course`.`course_category_id`, `l.GroupCourseInstance.Course`.`course_name`, `l.GroupCourseInstance.Course`.`course_type`, `l.GroupCourseInstance.Course`.`duration`, `l.GroupCourseInstance.Course`.`level`, `l.GroupCourseInstance.Course`.`price`, `l.GroupCourseInstance.Course`.`teacher_level`, `l.GroupCourseInstance.Room`.`room_id`, `l.GroupCourseInstance.Room`.`created_at`, `l.GroupCourseInstance.Room`.`is_activate`, `l.GroupCourseInstance.Room`.`org_id`, `l.GroupCourseInstance.Room`.`room_name`
FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse`
LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance` ON `w.LearnerGroupCourse`.`group_course_instance_id` = `l.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher` ON `l.GroupCourseInstance`.`teacher_id` = `l.GroupCourseInstance.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course` ON `l.GroupCourseInstance`.`course_id` = `l.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room` ON `l.GroupCourseInstance`.`room_id` = `l.GroupCourseInstance.Room`.`room_id`
INNER JOIN (
    SELECT `w5`.`learner_id`
    FROM `ablemusic`.`learner` AS `w5`
    WHERE `w5`.`is_active` = 1
) AS `t6` ON `w.LearnerGroupCourse`.`learner_id` = `t6`.`learner_id`
ORDER BY `t6`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`
2019-07-18 15:35:03.659 +12:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l.GroupCourseInstance.CourseSchedule`.`course_schedule_id`, `l.GroupCourseInstance.CourseSchedule`.`begin_time`, `l.GroupCourseInstance.CourseSchedule`.`course_instance_id`, `l.GroupCourseInstance.CourseSchedule`.`day_of_week`, `l.GroupCourseInstance.CourseSchedule`.`end_time`, `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `l.GroupCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `l.GroupCourseInstance0`.`group_course_instance_id`, `t7`.`learner_id`
    FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse0`
    LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance0` ON `w.LearnerGroupCourse0`.`group_course_instance_id` = `l.GroupCourseInstance0`.`group_course_instance_id`
    LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher0` ON `l.GroupCourseInstance0`.`teacher_id` = `l.GroupCourseInstance.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course0` ON `l.GroupCourseInstance0`.`course_id` = `l.GroupCourseInstance.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room0` ON `l.GroupCourseInstance0`.`room_id` = `l.GroupCourseInstance.Room0`.`room_id`
    INNER JOIN (
        SELECT `w6`.`learner_id`
        FROM `ablemusic`.`learner` AS `w6`
        WHERE `w6`.`is_active` = 1
    ) AS `t7` ON `w.LearnerGroupCourse0`.`learner_id` = `t7`.`learner_id`
) AS `t8` ON `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id` = `t8`.`group_course_instance_id`
ORDER BY `t8`.`learner_id`, `t8`.`group_course_instance_id`
2019-07-18 15:35:03.705 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1449.218ms.
2019-07-18 15:35:03.705 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:35:03.713 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) in 1464.2476000000001ms
2019-07-18 15:35:03.713 +12:00 [INF] Request finished in 1473.3541ms 200 application/json; charset=utf-8
2019-07-18 15:35:08.997 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/room/forCalendar  
2019-07-18 15:35:08.999 +12:00 [INF] Policy execution successful.
2019-07-18 15:35:08.999 +12:00 [INF] Request finished in 1.4582ms 204 
2019-07-18 15:35:09.019 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/room/forCalendar  
2019-07-18 15:35:09.019 +12:00 [INF] Policy execution successful.
2019-07-18 15:35:09.019 +12:00 [INF] Successfully validated the token.
2019-07-18 15:35:09.019 +12:00 [INF] Route matched with {action = "GetRoom", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoom() on controller Pegasus_backend.Controllers.RoomController (Pegasus_backend).
2019-07-18 15:35:09.020 +12:00 [INF] Authorization was successful.
2019-07-18 15:35:09.020 +12:00 [INF] Executing action method Pegasus_backend.Controllers.RoomController.GetRoom (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:35:09.021 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:35:09.235 +12:00 [INF] Executed DbCommand (71ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__userId_0
LIMIT 1
2019-07-18 15:35:09.406 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 15:35:09.567 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__orgId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`room_id` AS `id`, `s`.`room_name` AS `title`
FROM `ablemusic`.`room` AS `s`
WHERE `s`.`org_id` = @__orgId_0
2019-07-18 15:35:09.568 +12:00 [INF] Executed action method Pegasus_backend.Controllers.RoomController.GetRoom (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 547.3343ms.
2019-07-18 15:35:09.568 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.IEnumerable`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:35:09.568 +12:00 [INF] Executed action Pegasus_backend.Controllers.RoomController.GetRoom (Pegasus_backend) in 548.7879ms
2019-07-18 15:35:09.569 +12:00 [INF] Request finished in 549.9574ms 200 application/json; charset=utf-8
2019-07-18 15:35:09.585 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-18  
2019-07-18 15:35:09.585 +12:00 [INF] Policy execution successful.
2019-07-18 15:35:09.585 +12:00 [INF] Request finished in 0.7637ms 204 
2019-07-18 15:35:09.684 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-18  
2019-07-18 15:35:09.684 +12:00 [INF] Policy execution successful.
2019-07-18 15:35:09.685 +12:00 [INF] Successfully validated the token.
2019-07-18 15:35:09.685 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 15:35:09.685 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:35:09.686 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:35:09.866 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 15:35:10.041 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 15:35:10.062 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 15:35:10.063 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 15:35:10.063 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 15:35:10.063 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 15:35:10.063 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 15:35:10.063 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 15:35:10.063 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 15:35:10.063 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 15:35:10.104 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 15:35:10.413 +12:00 [INF] Executed DbCommand (128ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 15:35:12.031 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2346.0842000000002ms.
2019-07-18 15:35:12.032 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:35:12.032 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 2347.0173ms
2019-07-18 15:35:12.032 +12:00 [INF] Request finished in 2348.0885ms 200 application/json; charset=utf-8
2019-07-18 15:35:23.897 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-19  
2019-07-18 15:35:23.897 +12:00 [INF] Policy execution successful.
2019-07-18 15:35:23.897 +12:00 [INF] Request finished in 0.3746ms 204 
2019-07-18 15:35:23.916 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-19  
2019-07-18 15:35:23.916 +12:00 [INF] Policy execution successful.
2019-07-18 15:35:23.916 +12:00 [INF] Successfully validated the token.
2019-07-18 15:35:23.917 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 15:35:23.917 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:35:23.917 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:35:24.096 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 15:35:24.290 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 15:35:24.310 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 15:35:24.310 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 15:35:24.310 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 15:35:24.310 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 15:35:24.310 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 15:35:24.311 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 15:35:24.311 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 15:35:24.311 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 15:35:24.342 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 15:35:24.656 +12:00 [INF] Executed DbCommand (144ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 15:35:26.892 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2974.5104ms.
2019-07-18 15:35:26.892 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:35:26.892 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 2975.414ms
2019-07-18 15:35:26.892 +12:00 [INF] Request finished in 2976.4531ms 200 application/json; charset=utf-8
2019-07-18 15:37:27.164 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner  
2019-07-18 15:37:27.165 +12:00 [INF] Policy execution successful.
2019-07-18 15:37:27.165 +12:00 [INF] Route matched with {action = "GetLearner", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearner() on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 15:37:27.165 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:37:27.166 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:37:27.357 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`is_active` = 1
ORDER BY `w`.`learner_id`
2019-07-18 15:37:27.419 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Parent`.`parent_id`, `w.Parent`.`contact_num`, `w.Parent`.`created_at`, `w.Parent`.`email`, `w.Parent`.`first_name`, `w.Parent`.`last_name`, `w.Parent`.`learner_id`, `w.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `w.Parent`
INNER JOIN (
    SELECT `w0`.`learner_id`
    FROM `ablemusic`.`learner` AS `w0`
    WHERE `w0`.`is_active` = 1
) AS `t` ON `w.Parent`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-18 15:37:27.475 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerOthers`.`learner_others_id`, `w.LearnerOthers`.`learner_id`, `w.LearnerOthers`.`learner_level`, `w.LearnerOthers`.`others_type`, `w.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `w.LearnerOthers`
INNER JOIN (
    SELECT `w1`.`learner_id`
    FROM `ablemusic`.`learner` AS `w1`
    WHERE `w1`.`is_active` = 1
) AS `t0` ON `w.LearnerOthers`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-18 15:37:27.553 +12:00 [INF] Executed DbCommand (76ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance`.`course_instance_id`, `w.One2oneCourseInstance`.`begin_date`, `w.One2oneCourseInstance`.`course_id`, `w.One2oneCourseInstance`.`end_date`, `w.One2oneCourseInstance`.`invoice_date`, `w.One2oneCourseInstance`.`learner_id`, `w.One2oneCourseInstance`.`org_id`, `w.One2oneCourseInstance`.`room_id`, `w.One2oneCourseInstance`.`teacher_id`, `o.Teacher`.`teacher_id`, `o.Teacher`.`ability`, `o.Teacher`.`comment`, `o.Teacher`.`cv_url`, `o.Teacher`.`dob`, `o.Teacher`.`email`, `o.Teacher`.`expiry_date`, `o.Teacher`.`first_name`, `o.Teacher`.`form_url`, `o.Teacher`.`gender`, `o.Teacher`.`home_phone`, `o.Teacher`.`id_number`, `o.Teacher`.`id_photo`, `o.Teacher`.`id_type`, `o.Teacher`.`invoice_template`, `o.Teacher`.`ird_number`, `o.Teacher`.`is_activate`, `o.Teacher`.`is_contract`, `o.Teacher`.`is_left`, `o.Teacher`.`last_name`, `o.Teacher`.`level`, `o.Teacher`.`minimum_hours`, `o.Teacher`.`mobile_phone`, `o.Teacher`.`otherfile_url`, `o.Teacher`.`photo`, `o.Teacher`.`user_id`, `o.Teacher`.`visa`, `o.Room`.`room_id`, `o.Room`.`created_at`, `o.Room`.`is_activate`, `o.Room`.`org_id`, `o.Room`.`room_name`, `o.Course`.`course_id`, `o.Course`.`course_category_id`, `o.Course`.`course_name`, `o.Course`.`course_type`, `o.Course`.`duration`, `o.Course`.`level`, `o.Course`.`price`, `o.Course`.`teacher_level`, `o.Org`.`org_id`, `o.Org`.`abbr`, `o.Org`.`address`, `o.Org`.`email`, `o.Org`.`is_activate`, `o.Org`.`is_headoffice`, `o.Org`.`localtion_x`, `o.Org`.`localtion_y`, `o.Org`.`org_name`, `o.Org`.`phone`
FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance`
LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher` ON `w.One2oneCourseInstance`.`teacher_id` = `o.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `o.Room` ON `w.One2oneCourseInstance`.`room_id` = `o.Room`.`room_id`
LEFT JOIN `ablemusic`.`course` AS `o.Course` ON `w.One2oneCourseInstance`.`course_id` = `o.Course`.`course_id`
LEFT JOIN `ablemusic`.`org` AS `o.Org` ON `w.One2oneCourseInstance`.`org_id` = `o.Org`.`org_id`
INNER JOIN (
    SELECT `w2`.`learner_id`
    FROM `ablemusic`.`learner` AS `w2`
    WHERE `w2`.`is_active` = 1
) AS `t1` ON `w.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`, `w.One2oneCourseInstance`.`course_instance_id`
2019-07-18 15:37:27.654 +12:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.Amendment`.`amendment_id`, `w.One2oneCourseInstance.Amendment`.`amend_type`, `w.One2oneCourseInstance.Amendment`.`begin_date`, `w.One2oneCourseInstance.Amendment`.`begin_time`, `w.One2oneCourseInstance.Amendment`.`course_instance_id`, `w.One2oneCourseInstance.Amendment`.`course_schedule_id`, `w.One2oneCourseInstance.Amendment`.`created_at`, `w.One2oneCourseInstance.Amendment`.`day_of_week`, `w.One2oneCourseInstance.Amendment`.`end_date`, `w.One2oneCourseInstance.Amendment`.`end_time`, `w.One2oneCourseInstance.Amendment`.`is_temporary`, `w.One2oneCourseInstance.Amendment`.`learner_id`, `w.One2oneCourseInstance.Amendment`.`org_id`, `w.One2oneCourseInstance.Amendment`.`reason`, `w.One2oneCourseInstance.Amendment`.`room_id`, `w.One2oneCourseInstance.Amendment`.`teacher_id`, `a.Teacher`.`teacher_id`, `a.Teacher`.`ability`, `a.Teacher`.`comment`, `a.Teacher`.`cv_url`, `a.Teacher`.`dob`, `a.Teacher`.`email`, `a.Teacher`.`expiry_date`, `a.Teacher`.`first_name`, `a.Teacher`.`form_url`, `a.Teacher`.`gender`, `a.Teacher`.`home_phone`, `a.Teacher`.`id_number`, `a.Teacher`.`id_photo`, `a.Teacher`.`id_type`, `a.Teacher`.`invoice_template`, `a.Teacher`.`ird_number`, `a.Teacher`.`is_activate`, `a.Teacher`.`is_contract`, `a.Teacher`.`is_left`, `a.Teacher`.`last_name`, `a.Teacher`.`level`, `a.Teacher`.`minimum_hours`, `a.Teacher`.`mobile_phone`, `a.Teacher`.`otherfile_url`, `a.Teacher`.`photo`, `a.Teacher`.`user_id`, `a.Teacher`.`visa`, `a.Room`.`room_id`, `a.Room`.`created_at`, `a.Room`.`is_activate`, `a.Room`.`org_id`, `a.Room`.`room_name`
FROM `ablemusic`.`amendment` AS `w.One2oneCourseInstance.Amendment`
LEFT JOIN `ablemusic`.`teacher` AS `a.Teacher` ON `w.One2oneCourseInstance.Amendment`.`teacher_id` = `a.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `a.Room` ON `w.One2oneCourseInstance.Amendment`.`room_id` = `a.Room`.`room_id`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance0`.`course_instance_id`, `t2`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance0`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher0` ON `w.One2oneCourseInstance0`.`teacher_id` = `o.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room0` ON `w.One2oneCourseInstance0`.`room_id` = `o.Room0`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course0` ON `w.One2oneCourseInstance0`.`course_id` = `o.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org0` ON `w.One2oneCourseInstance0`.`org_id` = `o.Org0`.`org_id`
    INNER JOIN (
        SELECT `w3`.`learner_id`
        FROM `ablemusic`.`learner` AS `w3`
        WHERE `w3`.`is_active` = 1
    ) AS `t2` ON `w.One2oneCourseInstance0`.`learner_id` = `t2`.`learner_id`
) AS `t3` ON `w.One2oneCourseInstance.Amendment`.`course_instance_id` = `t3`.`course_instance_id`
ORDER BY `t3`.`learner_id`, `t3`.`course_instance_id`
2019-07-18 15:37:27.728 +12:00 [INF] Executed DbCommand (66ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.CourseSchedule`.`course_schedule_id`, `w.One2oneCourseInstance.CourseSchedule`.`begin_time`, `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id`, `w.One2oneCourseInstance.CourseSchedule`.`day_of_week`, `w.One2oneCourseInstance.CourseSchedule`.`end_time`, `w.One2oneCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `w.One2oneCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance1`.`course_instance_id`, `t4`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance1`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher1` ON `w.One2oneCourseInstance1`.`teacher_id` = `o.Teacher1`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room1` ON `w.One2oneCourseInstance1`.`room_id` = `o.Room1`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course1` ON `w.One2oneCourseInstance1`.`course_id` = `o.Course1`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org1` ON `w.One2oneCourseInstance1`.`org_id` = `o.Org1`.`org_id`
    INNER JOIN (
        SELECT `w4`.`learner_id`
        FROM `ablemusic`.`learner` AS `w4`
        WHERE `w4`.`is_active` = 1
    ) AS `t4` ON `w.One2oneCourseInstance1`.`learner_id` = `t4`.`learner_id`
) AS `t5` ON `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id` = `t5`.`course_instance_id`
ORDER BY `t5`.`learner_id`, `t5`.`course_instance_id`
2019-07-18 15:37:27.822 +12:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerGroupCourse`.`learner_group_course_id`, `w.LearnerGroupCourse`.`begin_date`, `w.LearnerGroupCourse`.`comment`, `w.LearnerGroupCourse`.`created_at`, `w.LearnerGroupCourse`.`end_date`, `w.LearnerGroupCourse`.`group_course_instance_id`, `w.LearnerGroupCourse`.`invoice_date`, `w.LearnerGroupCourse`.`is_activate`, `w.LearnerGroupCourse`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`, `l.GroupCourseInstance`.`begin_date`, `l.GroupCourseInstance`.`course_id`, `l.GroupCourseInstance`.`end_date`, `l.GroupCourseInstance`.`invoice_date`, `l.GroupCourseInstance`.`is_activate`, `l.GroupCourseInstance`.`is_started`, `l.GroupCourseInstance`.`org_id`, `l.GroupCourseInstance`.`room_id`, `l.GroupCourseInstance`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`ability`, `l.GroupCourseInstance.Teacher`.`comment`, `l.GroupCourseInstance.Teacher`.`cv_url`, `l.GroupCourseInstance.Teacher`.`dob`, `l.GroupCourseInstance.Teacher`.`email`, `l.GroupCourseInstance.Teacher`.`expiry_date`, `l.GroupCourseInstance.Teacher`.`first_name`, `l.GroupCourseInstance.Teacher`.`form_url`, `l.GroupCourseInstance.Teacher`.`gender`, `l.GroupCourseInstance.Teacher`.`home_phone`, `l.GroupCourseInstance.Teacher`.`id_number`, `l.GroupCourseInstance.Teacher`.`id_photo`, `l.GroupCourseInstance.Teacher`.`id_type`, `l.GroupCourseInstance.Teacher`.`invoice_template`, `l.GroupCourseInstance.Teacher`.`ird_number`, `l.GroupCourseInstance.Teacher`.`is_activate`, `l.GroupCourseInstance.Teacher`.`is_contract`, `l.GroupCourseInstance.Teacher`.`is_left`, `l.GroupCourseInstance.Teacher`.`last_name`, `l.GroupCourseInstance.Teacher`.`level`, `l.GroupCourseInstance.Teacher`.`minimum_hours`, `l.GroupCourseInstance.Teacher`.`mobile_phone`, `l.GroupCourseInstance.Teacher`.`otherfile_url`, `l.GroupCourseInstance.Teacher`.`photo`, `l.GroupCourseInstance.Teacher`.`user_id`, `l.GroupCourseInstance.Teacher`.`visa`, `l.GroupCourseInstance.Course`.`course_id`, `l.GroupCourseInstance.Course`.`course_category_id`, `l.GroupCourseInstance.Course`.`course_name`, `l.GroupCourseInstance.Course`.`course_type`, `l.GroupCourseInstance.Course`.`duration`, `l.GroupCourseInstance.Course`.`level`, `l.GroupCourseInstance.Course`.`price`, `l.GroupCourseInstance.Course`.`teacher_level`, `l.GroupCourseInstance.Room`.`room_id`, `l.GroupCourseInstance.Room`.`created_at`, `l.GroupCourseInstance.Room`.`is_activate`, `l.GroupCourseInstance.Room`.`org_id`, `l.GroupCourseInstance.Room`.`room_name`
FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse`
LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance` ON `w.LearnerGroupCourse`.`group_course_instance_id` = `l.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher` ON `l.GroupCourseInstance`.`teacher_id` = `l.GroupCourseInstance.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course` ON `l.GroupCourseInstance`.`course_id` = `l.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room` ON `l.GroupCourseInstance`.`room_id` = `l.GroupCourseInstance.Room`.`room_id`
INNER JOIN (
    SELECT `w5`.`learner_id`
    FROM `ablemusic`.`learner` AS `w5`
    WHERE `w5`.`is_active` = 1
) AS `t6` ON `w.LearnerGroupCourse`.`learner_id` = `t6`.`learner_id`
ORDER BY `t6`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`
2019-07-18 15:37:27.900 +12:00 [INF] Executed DbCommand (70ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l.GroupCourseInstance.CourseSchedule`.`course_schedule_id`, `l.GroupCourseInstance.CourseSchedule`.`begin_time`, `l.GroupCourseInstance.CourseSchedule`.`course_instance_id`, `l.GroupCourseInstance.CourseSchedule`.`day_of_week`, `l.GroupCourseInstance.CourseSchedule`.`end_time`, `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `l.GroupCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `l.GroupCourseInstance0`.`group_course_instance_id`, `t7`.`learner_id`
    FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse0`
    LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance0` ON `w.LearnerGroupCourse0`.`group_course_instance_id` = `l.GroupCourseInstance0`.`group_course_instance_id`
    LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher0` ON `l.GroupCourseInstance0`.`teacher_id` = `l.GroupCourseInstance.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course0` ON `l.GroupCourseInstance0`.`course_id` = `l.GroupCourseInstance.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room0` ON `l.GroupCourseInstance0`.`room_id` = `l.GroupCourseInstance.Room0`.`room_id`
    INNER JOIN (
        SELECT `w6`.`learner_id`
        FROM `ablemusic`.`learner` AS `w6`
        WHERE `w6`.`is_active` = 1
    ) AS `t7` ON `w.LearnerGroupCourse0`.`learner_id` = `t7`.`learner_id`
) AS `t8` ON `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id` = `t8`.`group_course_instance_id`
ORDER BY `t8`.`learner_id`, `t8`.`group_course_instance_id`
2019-07-18 15:37:27.951 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 785.3084ms.
2019-07-18 15:37:27.951 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:37:27.962 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) in 796.97980000000007ms
2019-07-18 15:37:27.962 +12:00 [INF] Request finished in 797.8141ms 200 application/json; charset=utf-8
2019-07-18 15:37:31.000 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/GroupCourseInstance  
2019-07-18 15:37:31.000 +12:00 [INF] Policy execution successful.
2019-07-18 15:37:31.006 +12:00 [INF] Route matched with {action = "GetGroupCourseInstance", controller = "GroupCourseInstance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGroupCourseInstance() on controller Pegasus_backend.Controllers.GroupCourseInstanceController (Pegasus_backend).
2019-07-18 15:37:31.006 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/1  
2019-07-18 15:37:31.008 +12:00 [INF] Policy execution successful.
2019-07-18 15:37:31.008 +12:00 [INF] Executing action method Pegasus_backend.Controllers.GroupCourseInstanceController.GetGroupCourseInstance (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:37:31.008 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 15:37:31.014 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:37:31.015 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/2  
2019-07-18 15:37:31.015 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/3  
2019-07-18 15:37:31.015 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:37:31.015 +12:00 [INF] Policy execution successful.
2019-07-18 15:37:31.015 +12:00 [INF] Policy execution successful.
2019-07-18 15:37:31.017 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 15:37:31.017 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 15:37:31.017 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:37:31.017 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:37:31.023 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:37:31.023 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:37:31.023 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:37:31.025 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/4  
2019-07-18 15:37:31.025 +12:00 [INF] Policy execution successful.
2019-07-18 15:37:31.026 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 15:37:31.032 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:37:31.033 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/5  
2019-07-18 15:37:31.033 +12:00 [INF] Policy execution successful.
2019-07-18 15:37:31.035 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:37:31.035 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-18 15:37:31.042 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:37:31.055 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:37:31.905 +12:00 [INF] Executed DbCommand (703ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 15:37:31.906 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 890.7745ms.
2019-07-18 15:37:31.906 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:37:31.906 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 897.8664ms
2019-07-18 15:37:31.907 +12:00 [INF] Request finished in 900.7589ms 200 application/json; charset=utf-8
2019-07-18 15:37:31.908 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/orgs  
2019-07-18 15:37:31.908 +12:00 [INF] Policy execution successful.
2019-07-18 15:37:31.909 +12:00 [INF] Route matched with {action = "GetOrg", controller = "Orgs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrg() on controller Pegasus_backend.Controllers.OrgsController (Pegasus_backend).
2019-07-18 15:37:31.909 +12:00 [INF] Executing action method Pegasus_backend.Controllers.OrgsController.GetOrg (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:37:31.909 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:37:32.088 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`org_id`, `o`.`abbr`, `o`.`address`, `o`.`email`, `o`.`is_activate`, `o`.`is_headoffice`, `o`.`localtion_x`, `o`.`localtion_y`, `o`.`org_name`, `o`.`phone`
FROM `ablemusic`.`org` AS `o`
2019-07-18 15:37:32.089 +12:00 [INF] Executed action method Pegasus_backend.Controllers.OrgsController.GetOrg (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 179.977ms.
2019-07-18 15:37:32.089 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Org, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:37:32.089 +12:00 [INF] Executed action Pegasus_backend.Controllers.OrgsController.GetOrg (Pegasus_backend) in 180.8374ms
2019-07-18 15:37:32.090 +12:00 [INF] Request finished in 181.6653ms 200 application/json; charset=utf-8
2019-07-18 15:37:32.091 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 15:37:32.091 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/courses  
2019-07-18 15:37:32.092 +12:00 [INF] Policy execution successful.
2019-07-18 15:37:32.092 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1069.3387ms.
2019-07-18 15:37:32.092 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:37:32.092 +12:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Pegasus_backend.pegasusContext.Course]]] GetCourses() on controller Pegasus_backend.Controllers.CoursesController (Pegasus_backend).
2019-07-18 15:37:32.092 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 1075.3957ms
2019-07-18 15:37:32.093 +12:00 [INF] Request finished in 1077.9059ms 200 application/json; charset=utf-8
2019-07-18 15:37:32.093 +12:00 [INF] Executing action method Pegasus_backend.Controllers.CoursesController.GetCourses (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:37:32.095 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:37:32.197 +12:00 [INF] Executed DbCommand (79ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 15:37:32.198 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1175.3021ms.
2019-07-18 15:37:32.198 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:37:32.198 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 1181.3386ms
2019-07-18 15:37:32.199 +12:00 [INF] Request finished in 1184.1473ms 200 application/json; charset=utf-8
2019-07-18 15:37:32.212 +12:00 [INF] Executed DbCommand (93ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c.Course.CourseCategory`.`course_category_id`, `c.Course.CourseCategory`.`course_category_name`, `c`.`course_id` AS `CourseId`, `c`.`group_course_instance_id` AS `GroupCourseInstanceId`, `c`.`begin_date` AS `BeginDate`, `c`.`end_date` AS `EndDate`, `c.Course`.`course_name` AS `CourseName`, `c.Course`.`course_type` AS `CourseType`, `c.Course`.`level`, `c.Course`.`duration`, `c.Course`.`price`, `c`.`org_id` AS `OrgId`, `c.Org`.`org_name` AS `OrgName`, `c`.`room_id` AS `RoomId`, `c.Room`.`room_name` AS `RoomName`, `c`.`teacher_id` AS `TeacherId`, `c.Teacher`.`first_name` AS `FirstName`, `c.Teacher`.`last_name` AS `LastName`
FROM `ablemusic`.`group_course_instance` AS `c`
LEFT JOIN `ablemusic`.`teacher` AS `c.Teacher` ON `c`.`teacher_id` = `c.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `c.Room` ON `c`.`room_id` = `c.Room`.`room_id`
LEFT JOIN `ablemusic`.`org` AS `c.Org` ON `c`.`org_id` = `c.Org`.`org_id`
INNER JOIN `ablemusic`.`course` AS `c.Course` ON `c`.`course_id` = `c.Course`.`course_id`
LEFT JOIN `ablemusic`.`course_category` AS `c.Course.CourseCategory` ON `c.Course`.`course_category_id` = `c.Course.CourseCategory`.`course_category_id`
WHERE `c`.`is_activate` = 1
ORDER BY `c`.`group_course_instance_id`
2019-07-18 15:37:32.282 +12:00 [INF] Executed DbCommand (72ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 15:37:32.282 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1238.7335ms.
2019-07-18 15:37:32.282 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:37:32.283 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 1242.7392ms
2019-07-18 15:37:32.283 +12:00 [INF] Request finished in 1250.1825ms 200 application/json; charset=utf-8
2019-07-18 15:37:32.295 +12:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c.CourseSchedule`.`course_schedule_id`, `c.CourseSchedule`.`begin_time`, `c.CourseSchedule`.`course_instance_id`, `c.CourseSchedule`.`day_of_week`, `c.CourseSchedule`.`end_time`, `c.CourseSchedule`.`group_course_instance_id`, `t`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `c.CourseSchedule`
INNER JOIN (
    SELECT `c0`.`group_course_instance_id`
    FROM `ablemusic`.`group_course_instance` AS `c0`
    LEFT JOIN `ablemusic`.`teacher` AS `c.Teacher0` ON `c0`.`teacher_id` = `c.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `c.Room0` ON `c0`.`room_id` = `c.Room0`.`room_id`
    LEFT JOIN `ablemusic`.`org` AS `c.Org0` ON `c0`.`org_id` = `c.Org0`.`org_id`
    INNER JOIN `ablemusic`.`course` AS `c.Course0` ON `c0`.`course_id` = `c.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`course_category` AS `c.Course.CourseCategory0` ON `c.Course0`.`course_category_id` = `c.Course.CourseCategory0`.`course_category_id`
    WHERE `c0`.`is_activate` = 1
) AS `t` ON `c.CourseSchedule`.`group_course_instance_id` = `t`.`group_course_instance_id`
ORDER BY `t`.`group_course_instance_id`
2019-07-18 15:37:32.296 +12:00 [INF] Executed action method Pegasus_backend.Controllers.GroupCourseInstanceController.GetGroupCourseInstance (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1288.3326ms.
2019-07-18 15:37:32.297 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:37:32.298 +12:00 [INF] Executed action Pegasus_backend.Controllers.GroupCourseInstanceController.GetGroupCourseInstance (Pegasus_backend) in 1291.6361000000002ms
2019-07-18 15:37:32.298 +12:00 [INF] Request finished in 1297.9292ms 200 application/json; charset=utf-8
2019-07-18 15:37:32.601 +12:00 [INF] Executed DbCommand (66ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-18 15:37:32.601 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1568.8815000000002ms.
2019-07-18 15:37:32.602 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:37:32.602 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 1570.5762ms
2019-07-18 15:37:32.602 +12:00 [INF] Request finished in 1578.13ms 200 application/json; charset=utf-8
2019-07-18 15:37:32.700 +12:00 [INF] Executed DbCommand (66ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`course_id` AS `CourseId`, `c`.`course_name` AS `CourseName`, `c`.`course_type` AS `CourseType`, `c`.`level`, `c`.`duration`, `c`.`price`, `c`.`course_category_id` AS `CourseCategoryId0`, `c`.`teacher_level` AS `TeacherLevel`, `cc`.`course_category_id` AS `CourseCategoryId`, `cc`.`course_category_name` AS `CourseCategoryName`
FROM `ablemusic`.`course` AS `c`
INNER JOIN `ablemusic`.`course_category` AS `cc` ON `c`.`course_category_id` = `cc`.`course_category_id`
2019-07-18 15:37:32.884 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`prop_name` AS `PropName`, `l`.`prop_value` AS `PropValue`, `l`.`lookup_type` AS `LookupType`
FROM `ablemusic`.`lookup` AS `l`
WHERE (((`l`.`lookup_type` = 1) OR (`l`.`lookup_type` = 4)) OR (`l`.`lookup_type` = 6)) OR (`l`.`lookup_type` = 8)
2019-07-18 15:37:32.885 +12:00 [INF] Executed action method Pegasus_backend.Controllers.CoursesController.GetCourses (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 792.37930000000006ms.
2019-07-18 15:37:32.885 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:37:32.887 +12:00 [INF] Executed action Pegasus_backend.Controllers.CoursesController.GetCourses (Pegasus_backend) in 794.7138ms
2019-07-18 15:37:32.887 +12:00 [INF] Request finished in 795.7718ms 200 application/json; charset=utf-8
2019-07-18 15:37:36.101 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner  
2019-07-18 15:37:36.101 +12:00 [INF] Policy execution successful.
2019-07-18 15:37:36.101 +12:00 [INF] Route matched with {action = "GetLearner", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearner() on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-18 15:37:36.102 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:37:36.102 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:37:37.261 +12:00 [INF] Executed DbCommand (585ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`is_active` = 1
ORDER BY `w`.`learner_id`
2019-07-18 15:37:37.684 +12:00 [INF] Executed DbCommand (117ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Parent`.`parent_id`, `w.Parent`.`contact_num`, `w.Parent`.`created_at`, `w.Parent`.`email`, `w.Parent`.`first_name`, `w.Parent`.`last_name`, `w.Parent`.`learner_id`, `w.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `w.Parent`
INNER JOIN (
    SELECT `w0`.`learner_id`
    FROM `ablemusic`.`learner` AS `w0`
    WHERE `w0`.`is_active` = 1
) AS `t` ON `w.Parent`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-18 15:37:37.817 +12:00 [INF] Executed DbCommand (131ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerOthers`.`learner_others_id`, `w.LearnerOthers`.`learner_id`, `w.LearnerOthers`.`learner_level`, `w.LearnerOthers`.`others_type`, `w.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `w.LearnerOthers`
INNER JOIN (
    SELECT `w1`.`learner_id`
    FROM `ablemusic`.`learner` AS `w1`
    WHERE `w1`.`is_active` = 1
) AS `t0` ON `w.LearnerOthers`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-18 15:37:37.905 +12:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance`.`course_instance_id`, `w.One2oneCourseInstance`.`begin_date`, `w.One2oneCourseInstance`.`course_id`, `w.One2oneCourseInstance`.`end_date`, `w.One2oneCourseInstance`.`invoice_date`, `w.One2oneCourseInstance`.`learner_id`, `w.One2oneCourseInstance`.`org_id`, `w.One2oneCourseInstance`.`room_id`, `w.One2oneCourseInstance`.`teacher_id`, `o.Teacher`.`teacher_id`, `o.Teacher`.`ability`, `o.Teacher`.`comment`, `o.Teacher`.`cv_url`, `o.Teacher`.`dob`, `o.Teacher`.`email`, `o.Teacher`.`expiry_date`, `o.Teacher`.`first_name`, `o.Teacher`.`form_url`, `o.Teacher`.`gender`, `o.Teacher`.`home_phone`, `o.Teacher`.`id_number`, `o.Teacher`.`id_photo`, `o.Teacher`.`id_type`, `o.Teacher`.`invoice_template`, `o.Teacher`.`ird_number`, `o.Teacher`.`is_activate`, `o.Teacher`.`is_contract`, `o.Teacher`.`is_left`, `o.Teacher`.`last_name`, `o.Teacher`.`level`, `o.Teacher`.`minimum_hours`, `o.Teacher`.`mobile_phone`, `o.Teacher`.`otherfile_url`, `o.Teacher`.`photo`, `o.Teacher`.`user_id`, `o.Teacher`.`visa`, `o.Room`.`room_id`, `o.Room`.`created_at`, `o.Room`.`is_activate`, `o.Room`.`org_id`, `o.Room`.`room_name`, `o.Course`.`course_id`, `o.Course`.`course_category_id`, `o.Course`.`course_name`, `o.Course`.`course_type`, `o.Course`.`duration`, `o.Course`.`level`, `o.Course`.`price`, `o.Course`.`teacher_level`, `o.Org`.`org_id`, `o.Org`.`abbr`, `o.Org`.`address`, `o.Org`.`email`, `o.Org`.`is_activate`, `o.Org`.`is_headoffice`, `o.Org`.`localtion_x`, `o.Org`.`localtion_y`, `o.Org`.`org_name`, `o.Org`.`phone`
FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance`
LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher` ON `w.One2oneCourseInstance`.`teacher_id` = `o.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `o.Room` ON `w.One2oneCourseInstance`.`room_id` = `o.Room`.`room_id`
LEFT JOIN `ablemusic`.`course` AS `o.Course` ON `w.One2oneCourseInstance`.`course_id` = `o.Course`.`course_id`
LEFT JOIN `ablemusic`.`org` AS `o.Org` ON `w.One2oneCourseInstance`.`org_id` = `o.Org`.`org_id`
INNER JOIN (
    SELECT `w2`.`learner_id`
    FROM `ablemusic`.`learner` AS `w2`
    WHERE `w2`.`is_active` = 1
) AS `t1` ON `w.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`, `w.One2oneCourseInstance`.`course_instance_id`
2019-07-18 15:37:38.092 +12:00 [INF] Executed DbCommand (94ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.Amendment`.`amendment_id`, `w.One2oneCourseInstance.Amendment`.`amend_type`, `w.One2oneCourseInstance.Amendment`.`begin_date`, `w.One2oneCourseInstance.Amendment`.`begin_time`, `w.One2oneCourseInstance.Amendment`.`course_instance_id`, `w.One2oneCourseInstance.Amendment`.`course_schedule_id`, `w.One2oneCourseInstance.Amendment`.`created_at`, `w.One2oneCourseInstance.Amendment`.`day_of_week`, `w.One2oneCourseInstance.Amendment`.`end_date`, `w.One2oneCourseInstance.Amendment`.`end_time`, `w.One2oneCourseInstance.Amendment`.`is_temporary`, `w.One2oneCourseInstance.Amendment`.`learner_id`, `w.One2oneCourseInstance.Amendment`.`org_id`, `w.One2oneCourseInstance.Amendment`.`reason`, `w.One2oneCourseInstance.Amendment`.`room_id`, `w.One2oneCourseInstance.Amendment`.`teacher_id`, `a.Teacher`.`teacher_id`, `a.Teacher`.`ability`, `a.Teacher`.`comment`, `a.Teacher`.`cv_url`, `a.Teacher`.`dob`, `a.Teacher`.`email`, `a.Teacher`.`expiry_date`, `a.Teacher`.`first_name`, `a.Teacher`.`form_url`, `a.Teacher`.`gender`, `a.Teacher`.`home_phone`, `a.Teacher`.`id_number`, `a.Teacher`.`id_photo`, `a.Teacher`.`id_type`, `a.Teacher`.`invoice_template`, `a.Teacher`.`ird_number`, `a.Teacher`.`is_activate`, `a.Teacher`.`is_contract`, `a.Teacher`.`is_left`, `a.Teacher`.`last_name`, `a.Teacher`.`level`, `a.Teacher`.`minimum_hours`, `a.Teacher`.`mobile_phone`, `a.Teacher`.`otherfile_url`, `a.Teacher`.`photo`, `a.Teacher`.`user_id`, `a.Teacher`.`visa`, `a.Room`.`room_id`, `a.Room`.`created_at`, `a.Room`.`is_activate`, `a.Room`.`org_id`, `a.Room`.`room_name`
FROM `ablemusic`.`amendment` AS `w.One2oneCourseInstance.Amendment`
LEFT JOIN `ablemusic`.`teacher` AS `a.Teacher` ON `w.One2oneCourseInstance.Amendment`.`teacher_id` = `a.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `a.Room` ON `w.One2oneCourseInstance.Amendment`.`room_id` = `a.Room`.`room_id`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance0`.`course_instance_id`, `t2`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance0`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher0` ON `w.One2oneCourseInstance0`.`teacher_id` = `o.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room0` ON `w.One2oneCourseInstance0`.`room_id` = `o.Room0`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course0` ON `w.One2oneCourseInstance0`.`course_id` = `o.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org0` ON `w.One2oneCourseInstance0`.`org_id` = `o.Org0`.`org_id`
    INNER JOIN (
        SELECT `w3`.`learner_id`
        FROM `ablemusic`.`learner` AS `w3`
        WHERE `w3`.`is_active` = 1
    ) AS `t2` ON `w.One2oneCourseInstance0`.`learner_id` = `t2`.`learner_id`
) AS `t3` ON `w.One2oneCourseInstance.Amendment`.`course_instance_id` = `t3`.`course_instance_id`
ORDER BY `t3`.`learner_id`, `t3`.`course_instance_id`
2019-07-18 15:37:38.164 +12:00 [INF] Executed DbCommand (66ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.CourseSchedule`.`course_schedule_id`, `w.One2oneCourseInstance.CourseSchedule`.`begin_time`, `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id`, `w.One2oneCourseInstance.CourseSchedule`.`day_of_week`, `w.One2oneCourseInstance.CourseSchedule`.`end_time`, `w.One2oneCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `w.One2oneCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance1`.`course_instance_id`, `t4`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance1`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher1` ON `w.One2oneCourseInstance1`.`teacher_id` = `o.Teacher1`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room1` ON `w.One2oneCourseInstance1`.`room_id` = `o.Room1`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course1` ON `w.One2oneCourseInstance1`.`course_id` = `o.Course1`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org1` ON `w.One2oneCourseInstance1`.`org_id` = `o.Org1`.`org_id`
    INNER JOIN (
        SELECT `w4`.`learner_id`
        FROM `ablemusic`.`learner` AS `w4`
        WHERE `w4`.`is_active` = 1
    ) AS `t4` ON `w.One2oneCourseInstance1`.`learner_id` = `t4`.`learner_id`
) AS `t5` ON `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id` = `t5`.`course_instance_id`
ORDER BY `t5`.`learner_id`, `t5`.`course_instance_id`
2019-07-18 15:37:38.304 +12:00 [INF] Executed DbCommand (138ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerGroupCourse`.`learner_group_course_id`, `w.LearnerGroupCourse`.`begin_date`, `w.LearnerGroupCourse`.`comment`, `w.LearnerGroupCourse`.`created_at`, `w.LearnerGroupCourse`.`end_date`, `w.LearnerGroupCourse`.`group_course_instance_id`, `w.LearnerGroupCourse`.`invoice_date`, `w.LearnerGroupCourse`.`is_activate`, `w.LearnerGroupCourse`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`, `l.GroupCourseInstance`.`begin_date`, `l.GroupCourseInstance`.`course_id`, `l.GroupCourseInstance`.`end_date`, `l.GroupCourseInstance`.`invoice_date`, `l.GroupCourseInstance`.`is_activate`, `l.GroupCourseInstance`.`is_started`, `l.GroupCourseInstance`.`org_id`, `l.GroupCourseInstance`.`room_id`, `l.GroupCourseInstance`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`ability`, `l.GroupCourseInstance.Teacher`.`comment`, `l.GroupCourseInstance.Teacher`.`cv_url`, `l.GroupCourseInstance.Teacher`.`dob`, `l.GroupCourseInstance.Teacher`.`email`, `l.GroupCourseInstance.Teacher`.`expiry_date`, `l.GroupCourseInstance.Teacher`.`first_name`, `l.GroupCourseInstance.Teacher`.`form_url`, `l.GroupCourseInstance.Teacher`.`gender`, `l.GroupCourseInstance.Teacher`.`home_phone`, `l.GroupCourseInstance.Teacher`.`id_number`, `l.GroupCourseInstance.Teacher`.`id_photo`, `l.GroupCourseInstance.Teacher`.`id_type`, `l.GroupCourseInstance.Teacher`.`invoice_template`, `l.GroupCourseInstance.Teacher`.`ird_number`, `l.GroupCourseInstance.Teacher`.`is_activate`, `l.GroupCourseInstance.Teacher`.`is_contract`, `l.GroupCourseInstance.Teacher`.`is_left`, `l.GroupCourseInstance.Teacher`.`last_name`, `l.GroupCourseInstance.Teacher`.`level`, `l.GroupCourseInstance.Teacher`.`minimum_hours`, `l.GroupCourseInstance.Teacher`.`mobile_phone`, `l.GroupCourseInstance.Teacher`.`otherfile_url`, `l.GroupCourseInstance.Teacher`.`photo`, `l.GroupCourseInstance.Teacher`.`user_id`, `l.GroupCourseInstance.Teacher`.`visa`, `l.GroupCourseInstance.Course`.`course_id`, `l.GroupCourseInstance.Course`.`course_category_id`, `l.GroupCourseInstance.Course`.`course_name`, `l.GroupCourseInstance.Course`.`course_type`, `l.GroupCourseInstance.Course`.`duration`, `l.GroupCourseInstance.Course`.`level`, `l.GroupCourseInstance.Course`.`price`, `l.GroupCourseInstance.Course`.`teacher_level`, `l.GroupCourseInstance.Room`.`room_id`, `l.GroupCourseInstance.Room`.`created_at`, `l.GroupCourseInstance.Room`.`is_activate`, `l.GroupCourseInstance.Room`.`org_id`, `l.GroupCourseInstance.Room`.`room_name`
FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse`
LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance` ON `w.LearnerGroupCourse`.`group_course_instance_id` = `l.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher` ON `l.GroupCourseInstance`.`teacher_id` = `l.GroupCourseInstance.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course` ON `l.GroupCourseInstance`.`course_id` = `l.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room` ON `l.GroupCourseInstance`.`room_id` = `l.GroupCourseInstance.Room`.`room_id`
INNER JOIN (
    SELECT `w5`.`learner_id`
    FROM `ablemusic`.`learner` AS `w5`
    WHERE `w5`.`is_active` = 1
) AS `t6` ON `w.LearnerGroupCourse`.`learner_id` = `t6`.`learner_id`
ORDER BY `t6`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`
2019-07-18 15:37:38.385 +12:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l.GroupCourseInstance.CourseSchedule`.`course_schedule_id`, `l.GroupCourseInstance.CourseSchedule`.`begin_time`, `l.GroupCourseInstance.CourseSchedule`.`course_instance_id`, `l.GroupCourseInstance.CourseSchedule`.`day_of_week`, `l.GroupCourseInstance.CourseSchedule`.`end_time`, `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `l.GroupCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `l.GroupCourseInstance0`.`group_course_instance_id`, `t7`.`learner_id`
    FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse0`
    LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance0` ON `w.LearnerGroupCourse0`.`group_course_instance_id` = `l.GroupCourseInstance0`.`group_course_instance_id`
    LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher0` ON `l.GroupCourseInstance0`.`teacher_id` = `l.GroupCourseInstance.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course0` ON `l.GroupCourseInstance0`.`course_id` = `l.GroupCourseInstance.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room0` ON `l.GroupCourseInstance0`.`room_id` = `l.GroupCourseInstance.Room0`.`room_id`
    INNER JOIN (
        SELECT `w6`.`learner_id`
        FROM `ablemusic`.`learner` AS `w6`
        WHERE `w6`.`is_active` = 1
    ) AS `t7` ON `w.LearnerGroupCourse0`.`learner_id` = `t7`.`learner_id`
) AS `t8` ON `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id` = `t8`.`group_course_instance_id`
ORDER BY `t8`.`learner_id`, `t8`.`group_course_instance_id`
2019-07-18 15:37:38.417 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2315.1684ms.
2019-07-18 15:37:38.417 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:37:38.424 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) in 2322.927ms
2019-07-18 15:37:38.425 +12:00 [INF] Request finished in 2323.7228ms 200 application/json; charset=utf-8
2019-07-18 15:37:41.783 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/room/forCalendar  
2019-07-18 15:37:41.783 +12:00 [INF] Policy execution successful.
2019-07-18 15:37:41.783 +12:00 [INF] Request finished in 0.4366ms 204 
2019-07-18 15:37:41.794 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/room/forCalendar  
2019-07-18 15:37:41.794 +12:00 [INF] Policy execution successful.
2019-07-18 15:37:41.794 +12:00 [INF] Successfully validated the token.
2019-07-18 15:37:41.794 +12:00 [INF] Route matched with {action = "GetRoom", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoom() on controller Pegasus_backend.Controllers.RoomController (Pegasus_backend).
2019-07-18 15:37:41.794 +12:00 [INF] Authorization was successful.
2019-07-18 15:37:41.795 +12:00 [INF] Executing action method Pegasus_backend.Controllers.RoomController.GetRoom (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:37:41.796 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:37:42.012 +12:00 [INF] Executed DbCommand (65ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__userId_0
LIMIT 1
2019-07-18 15:37:42.188 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 15:37:42.364 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__orgId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`room_id` AS `id`, `s`.`room_name` AS `title`
FROM `ablemusic`.`room` AS `s`
WHERE `s`.`org_id` = @__orgId_0
2019-07-18 15:37:42.364 +12:00 [INF] Executed action method Pegasus_backend.Controllers.RoomController.GetRoom (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 569.1227ms.
2019-07-18 15:37:42.364 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.IEnumerable`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:37:42.364 +12:00 [INF] Executed action Pegasus_backend.Controllers.RoomController.GetRoom (Pegasus_backend) in 569.94810000000007ms
2019-07-18 15:37:42.365 +12:00 [INF] Request finished in 570.9107ms 200 application/json; charset=utf-8
2019-07-18 15:37:42.368 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-18  
2019-07-18 15:37:42.368 +12:00 [INF] Policy execution successful.
2019-07-18 15:37:42.369 +12:00 [INF] Request finished in 0.378ms 204 
2019-07-18 15:37:42.399 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-18  
2019-07-18 15:37:42.399 +12:00 [INF] Policy execution successful.
2019-07-18 15:37:42.399 +12:00 [INF] Successfully validated the token.
2019-07-18 15:37:42.399 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 15:37:42.400 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:37:42.400 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:37:42.688 +12:00 [INF] Executed DbCommand (134ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 15:37:42.902 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 15:37:42.925 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 15:37:42.925 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 15:37:42.925 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 15:37:42.925 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 15:37:42.925 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 15:37:42.925 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 15:37:42.926 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 15:37:42.926 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 15:37:42.965 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 15:37:44.028 +12:00 [INF] Executed DbCommand (824ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 15:37:45.405 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3004.9195ms.
2019-07-18 15:37:45.405 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:37:45.405 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 3005.8205000000003ms
2019-07-18 15:37:45.405 +12:00 [INF] Request finished in 3006.9028ms 200 application/json; charset=utf-8
2019-07-18 15:37:47.144 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-19  
2019-07-18 15:37:47.145 +12:00 [INF] Policy execution successful.
2019-07-18 15:37:47.145 +12:00 [INF] Request finished in 0.3374ms 204 
2019-07-18 15:37:47.162 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-19  
2019-07-18 15:37:47.163 +12:00 [INF] Policy execution successful.
2019-07-18 15:37:47.163 +12:00 [INF] Successfully validated the token.
2019-07-18 15:37:47.163 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 15:37:47.164 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:37:47.164 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:37:47.343 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 15:37:47.532 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 15:37:47.557 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 15:37:47.557 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 15:37:47.557 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 15:37:47.557 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 15:37:47.557 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 15:37:47.557 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 15:37:47.557 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 15:37:47.557 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 15:37:47.592 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 15:37:47.871 +12:00 [INF] Executed DbCommand (105ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 15:37:50.208 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3044.3024ms.
2019-07-18 15:37:50.208 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:37:50.209 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 3045.7589000000003ms
2019-07-18 15:37:50.209 +12:00 [INF] Request finished in 3046.9798ms 200 application/json; charset=utf-8
2019-07-18 15:37:53.467 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/teacherfilter/sessionEditFilter/25  
2019-07-18 15:37:53.467 +12:00 [INF] Policy execution successful.
2019-07-18 15:37:53.467 +12:00 [INF] Route matched with {action = "sessionEditFilterGet", controller = "TeacherFilter"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] sessionEditFilterGet(Int32) on controller Pegasus_backend.Controllers.TeacherFilterController (Pegasus_backend).
2019-07-18 15:37:53.468 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TeacherFilterController.sessionEditFilterGet (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:37:53.469 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:37:53.721 +12:00 [INF] Executed DbCommand (71ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`org_id` AS `OrgId`, `o`.`org_name` AS `OrgName`
FROM `ablemusic`.`org` AS `o`
2019-07-18 15:37:53.920 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `r`.`room_id` AS `RoomId`, `r`.`room_name` AS `RoomName`, `r`.`org_id` AS `OrgId`
FROM `ablemusic`.`room` AS `r`
2019-07-18 15:37:54.104 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`teacher_id` AS `TeacherId`, `t`.`first_name` AS `TeacherFirstName`, `t`.`last_name` AS `TeacherLastName`, `ta`.`org_id` AS `TeacherAvailableOrgId`, `t`.`level` AS `TeacherLevelId`
FROM `ablemusic`.`teacher` AS `t`
INNER JOIN `ablemusic`.`available_days` AS `ta` ON `t`.`teacher_id` = `ta`.`teacher_id`
INNER JOIN `ablemusic`.`teacher_course` AS `tc` ON `t`.`teacher_id` = `tc`.`teacher_id`
WHERE `tc`.`course_id` = @__courseId_0
ORDER BY `t`.`teacher_id`, `ta`.`org_id`
2019-07-18 15:37:54.105 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TeacherFilterController.sessionEditFilterGet (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 637.4561ms.
2019-07-18 15:37:54.105 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:37:54.106 +12:00 [INF] Executed action Pegasus_backend.Controllers.TeacherFilterController.sessionEditFilterGet (Pegasus_backend) in 638.4225ms
2019-07-18 15:37:54.106 +12:00 [INF] Request finished in 639.2316ms 200 application/json; charset=utf-8
2019-07-18 15:40:19.277 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-19  
2019-07-18 15:40:19.278 +12:00 [INF] Policy execution successful.
2019-07-18 15:40:19.278 +12:00 [INF] Request finished in 0.4383ms 204 
2019-07-18 15:40:19.305 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-19  
2019-07-18 15:40:19.306 +12:00 [INF] Policy execution successful.
2019-07-18 15:40:19.306 +12:00 [INF] Successfully validated the token.
2019-07-18 15:40:19.306 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 15:40:19.307 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 15:40:19.307 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 15:40:19.497 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 15:40:19.693 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 15:40:19.715 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 15:40:19.715 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 15:40:19.715 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 15:40:19.715 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 15:40:19.715 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 15:40:19.715 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 15:40:19.715 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 15:40:19.715 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 15:40:19.779 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 15:40:20.180 +12:00 [INF] Executed DbCommand (188ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 15:40:21.774 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2466.6945ms.
2019-07-18 15:40:21.774 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 15:40:21.774 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 2467.9133ms
2019-07-18 15:40:21.775 +12:00 [INF] Request finished in 2469.3223ms 200 application/json; charset=utf-8
2019-07-18 16:34:42.824 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-19  
2019-07-18 16:34:42.825 +12:00 [INF] Policy execution successful.
2019-07-18 16:34:42.825 +12:00 [INF] Request finished in 0.5653ms 204 
2019-07-18 16:34:42.836 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-19  
2019-07-18 16:34:42.836 +12:00 [INF] Policy execution successful.
2019-07-18 16:34:42.836 +12:00 [INF] Successfully validated the token.
2019-07-18 16:34:42.836 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 16:34:42.837 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 16:34:42.838 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 16:34:43.554 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 16:34:43.730 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 16:34:43.751 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 16:34:43.751 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 16:34:43.752 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 16:34:43.752 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 16:34:43.752 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 16:34:43.752 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 16:34:43.752 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 16:34:43.752 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 16:34:43.787 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 16:34:44.071 +12:00 [INF] Executed DbCommand (112ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 16:34:45.771 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2933.9951ms.
2019-07-18 16:34:45.772 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 16:34:45.772 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 2935.1629000000003ms
2019-07-18 16:34:45.772 +12:00 [INF] Request finished in 2936.4946ms 200 application/json; charset=utf-8
2019-07-18 16:35:56.274 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-19  
2019-07-18 16:35:56.275 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 16:35:56.276 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 16:35:56.277 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 16:35:56.453 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 16:35:56.632 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 16:35:56.652 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 16:35:56.653 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 16:35:56.653 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 16:35:56.653 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 16:35:56.653 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 16:35:56.653 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 16:35:56.653 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 16:35:56.653 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 16:35:56.683 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 16:35:56.947 +12:00 [INF] Executed DbCommand (101ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 16:35:58.677 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2401.4538000000002ms.
2019-07-18 16:35:58.678 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 16:35:58.679 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 2403.2473ms
2019-07-18 16:35:58.679 +12:00 [INF] Request finished in 2404.4451ms 200 application/json; charset=utf-8
2019-07-18 16:35:58.782 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2019-07-18 16:35:58.783 +12:00 [INF] Request finished in 0.7654ms 404 
2019-07-18 16:36:29.908 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-19  
2019-07-18 16:36:29.908 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 16:36:29.909 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 16:36:29.909 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 16:36:30.092 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 16:36:30.261 +12:00 [INF] Executed DbCommand (48ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 16:36:30.281 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 16:36:30.281 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 16:36:30.281 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 16:36:30.281 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 16:36:30.281 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 16:36:30.281 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 16:36:30.281 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 16:36:30.281 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 16:36:30.312 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 16:36:30.587 +12:00 [INF] Executed DbCommand (102ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 16:36:32.247 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2337.7470000000003ms.
2019-07-18 16:36:32.247 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 16:36:32.247 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 2338.6425ms
2019-07-18 16:36:32.247 +12:00 [INF] Request finished in 2339.405ms 200 application/json; charset=utf-8
2019-07-18 16:42:29.424 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-19  
2019-07-18 16:42:29.424 +12:00 [INF] Policy execution successful.
2019-07-18 16:42:29.424 +12:00 [INF] Request finished in 1.8811ms 204 
2019-07-18 16:42:29.444 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-19  
2019-07-18 16:42:29.444 +12:00 [INF] Policy execution successful.
2019-07-18 16:42:29.444 +12:00 [INF] Successfully validated the token.
2019-07-18 16:42:29.444 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-18 16:42:29.445 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-18 16:42:29.445 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-18 16:42:30.433 +12:00 [INF] Executed DbCommand (62ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-18 16:42:30.625 +12:00 [INF] Executed DbCommand (63ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-18 16:42:30.646 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 16:42:30.646 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 16:42:30.646 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 16:42:30.646 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 16:42:30.646 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 16:42:30.646 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 16:42:30.646 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 16:42:30.646 +12:00 [WRN] The Include operation for navigation '[s].AwaitMakeUpLessonNewLesson' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-18 16:42:30.681 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-18 16:42:30.997 +12:00 [INF] Executed DbCommand (125ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherFirstName0`, `s`.`is_canceled` AS `IsCanceled`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_changed` AS `IsChanged`, (
    SELECT `z`.`first_name`
    FROM `ablemusic`.`teacher` AS `z`
    WHERE `z`.`teacher_id` = (
        SELECT `r`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r`
        WHERE `r`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherFirstName`, (
    SELECT `z0`.`last_name`
    FROM `ablemusic`.`teacher` AS `z0`
    WHERE `z0`.`teacher_id` = (
        SELECT `r0`.`teacher_id`
        FROM `ablemusic`.`lesson` AS `r0`
        WHERE `r0`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `TeacherLastName`, (
    SELECT `z1`.`room_name`
    FROM `ablemusic`.`room` AS `z1`
    WHERE `z1`.`room_id` = (
        SELECT `r1`.`room_id`
        FROM `ablemusic`.`lesson` AS `r1`
        WHERE `r1`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `RoomName`, (
    SELECT `z2`.`org_name`
    FROM `ablemusic`.`org` AS `z2`
    WHERE `z2`.`org_id` = (
        SELECT `r2`.`org_id`
        FROM `ablemusic`.`lesson` AS `r2`
        WHERE `r2`.`lesson_id` = `s`.`new_lesson_id`
        LIMIT 1
    )
    LIMIT 1
) AS `OrgName`, (
    SELECT `r3`.`begin_time`
    FROM `ablemusic`.`lesson` AS `r3`
    WHERE `r3`.`lesson_id` = `s`.`new_lesson_id`
    LIMIT 1
) AS `BeginTime`, `s`.`reason`, CASE
    WHEN `s`.`is_paid` = 1
    THEN 0 ELSE 1
END, CASE
    WHEN (
        SELECT `q1`.`quantity`
        FROM `ablemusic`.`lesson_remain` AS `q1`
        WHERE ((`q1`.`learner_id` = `s`.`learner_id`) OR (`q1`.`learner_id` IS NULL AND `s`.`learner_id` IS NULL)) AND ((`q1`.`course_instance_id` = `s`.`course_instance_id`) OR (`q1`.`course_instance_id` IS NULL AND `s`.`course_instance_id` IS NULL))
        LIMIT 1
    ) <= 3
    THEN 1 ELSE 0
END, `s.Learner`.`first_name` AS `FirstName`, `s`.`learner_id` AS `LearnerId`, `s.Room`.`room_name` AS `RoomName0`, `s.Org`.`org_name` AS `OrgName0`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId0`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
2019-07-18 16:42:32.246 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2801.148ms.
2019-07-18 16:42:32.246 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-18 16:42:32.247 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 2802.2359ms
2019-07-18 16:42:32.247 +12:00 [INF] Request finished in 2803.2716ms 200 application/json; charset=utf-8
