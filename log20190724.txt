2019-07-24 01:17:16.768 +12:00 [INF] User profile is available. Using '/Users/oliver/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2019-07-24 01:17:24.704 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/room/1/1/2019-07-24  
2019-07-24 01:17:24.752 +12:00 [WRN] Failed to determine the https port for redirect.
2019-07-24 01:17:24.808 +12:00 [INF] 
2019-07-24 01:17:24.942 +12:00 [INF] Route matched with {action = "getRoomsbyTeacherId", controller = "Room"}. Executing action Pegasus_backend.Controllers.RoomController.getRoomsbyTeacherId (Pegasus_backend)
2019-07-24 01:17:25.085 +12:00 [INF] Executing action method Pegasus_backend.Controllers.RoomController.getRoomsbyTeacherId (Pegasus_backend) with arguments (["1","1","07/24/2019 00:00:00"]) - Validation state: "Valid"
2019-07-24 01:17:26.076 +12:00 [INF] Entity Framework Core 2.1.8-servicing-32085 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-24 01:17:26.971 +12:00 [INF] Executed DbCommand (43ms) [Parameters=[@__8__locals1_TeacherId_0='?' (DbType = Int32), @__8__locals1_OrgId_1='?' (DbType = Int16), @__day_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`available_days_id`, `s`.`created_at`, `s`.`day_of_week`, `s`.`org_id`, `s`.`room_id`, `s`.`teacher_id`, `s.Room`.`room_id`, `s.Room`.`created_at`, `s.Room`.`is_activate`, `s.Room`.`org_id`, `s.Room`.`room_name`
FROM `ablemusic`.`available_days` AS `s`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
WHERE ((`s`.`teacher_id` = @__8__locals1_TeacherId_0) AND (`s`.`org_id` = @__8__locals1_OrgId_1)) AND (`s`.`day_of_week` = @__day_2)
2019-07-24 01:17:27.088 +12:00 [INF] Executed action method Pegasus_backend.Controllers.RoomController.getRoomsbyTeacherId (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1992.3481000000002ms.
2019-07-24 01:17:27.095 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-24 01:17:27.147 +12:00 [INF] Executed action Pegasus_backend.Controllers.RoomController.getRoomsbyTeacherId (Pegasus_backend) in 2201.7921ms
2019-07-24 01:17:27.148 +12:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Pegasus_backend.Controllers.RoomController.<>c.<getRoomsbyTeacherId>b__1_2(AvailableDays s) in /Users/oliver/Desktop/pegasusBackend/Controllers/RoomController.cs:line 45
   at System.Linq.Enumerable.SelectListIterator`2.MoveNext()
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeList(JsonWriter writer, IEnumerable values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter.WriteObject(TextWriter writer, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Pegasus_backend.MiddleWare.SerilogRequestLogger.Invoke(HttpContext httpContext) in /Users/oliver/Desktop/pegasusBackend/MiddleWare/SerilogRequestLogger.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.Invoke(HttpContext context)
2019-07-24 01:17:27.191 +12:00 [ERR] An exception was thrown attempting to execute the error handler.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(Byte[] buffer, Int32 offset, Int32 count, CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at Pegasus_backend.Startup.<>c.<<Configure>b__5_4>d.MoveNext() in /Users/oliver/Desktop/pegasusBackend/Startup.cs:line 134
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.Invoke(HttpContext context)
2019-07-24 01:17:27.193 +12:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Pegasus_backend.Controllers.RoomController.<>c.<getRoomsbyTeacherId>b__1_2(AvailableDays s) in /Users/oliver/Desktop/pegasusBackend/Controllers/RoomController.cs:line 45
   at System.Linq.Enumerable.SelectListIterator`2.MoveNext()
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeList(JsonWriter writer, IEnumerable values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter.WriteObject(TextWriter writer, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Pegasus_backend.MiddleWare.SerilogRequestLogger.Invoke(HttpContext httpContext) in /Users/oliver/Desktop/pegasusBackend/MiddleWare/SerilogRequestLogger.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-07-24 01:17:27.199 +12:00 [ERR] An exception was thrown attempting to display the error page.
System.ArgumentException: Stream was not writable.
   at System.IO.StreamWriter..ctor(Stream stream, Encoding encoding, Int32 bufferSize, Boolean leaveOpen)
   at Microsoft.Extensions.RazorViews.BaseView.ExecuteAsync(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-07-24 01:17:27.201 +12:00 [ERR] Connection id "0HLOFE0D2S7BA", Request id "0HLOFE0D2S7BA:00000001": An unhandled exception was thrown by the application.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Pegasus_backend.Controllers.RoomController.<>c.<getRoomsbyTeacherId>b__1_2(AvailableDays s) in /Users/oliver/Desktop/pegasusBackend/Controllers/RoomController.cs:line 45
   at System.Linq.Enumerable.SelectListIterator`2.MoveNext()
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeList(JsonWriter writer, IEnumerable values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter.WriteObject(TextWriter writer, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Pegasus_backend.MiddleWare.SerilogRequestLogger.Invoke(HttpContext httpContext) in /Users/oliver/Desktop/pegasusBackend/MiddleWare/SerilogRequestLogger.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2019-07-24 01:17:27.210 +12:00 [INF] Request finished in 2507.7261ms 500 
2019-07-24 01:18:06.169 +12:00 [INF] User profile is available. Using '/Users/oliver/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2019-07-24 01:18:11.373 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/room/1/1/2019-07-24  
2019-07-24 01:18:11.405 +12:00 [WRN] Failed to determine the https port for redirect.
2019-07-24 01:18:11.504 +12:00 [INF] 
2019-07-24 01:18:11.671 +12:00 [INF] Route matched with {action = "getRoomsbyTeacherId", controller = "Room"}. Executing action Pegasus_backend.Controllers.RoomController.getRoomsbyTeacherId (Pegasus_backend)
2019-07-24 01:18:11.915 +12:00 [INF] Executing action method Pegasus_backend.Controllers.RoomController.getRoomsbyTeacherId (Pegasus_backend) with arguments (["1","1","07/24/2019 00:00:00"]) - Validation state: "Valid"
2019-07-24 01:18:24.708 +12:00 [INF] Entity Framework Core 2.1.8-servicing-32085 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-24 01:18:25.629 +12:00 [INF] Executed DbCommand (44ms) [Parameters=[@__8__locals1_TeacherId_0='?' (DbType = Int32), @__8__locals1_OrgId_1='?' (DbType = Int16), @__day_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`available_days_id`, `s`.`created_at`, `s`.`day_of_week`, `s`.`org_id`, `s`.`room_id`, `s`.`teacher_id`, `s.Room`.`room_id`, `s.Room`.`created_at`, `s.Room`.`is_activate`, `s.Room`.`org_id`, `s.Room`.`room_name`
FROM `ablemusic`.`available_days` AS `s`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
WHERE ((`s`.`teacher_id` = @__8__locals1_TeacherId_0) AND (`s`.`org_id` = @__8__locals1_OrgId_1)) AND (`s`.`day_of_week` = @__day_2)
2019-07-24 01:18:43.335 +12:00 [INF] Executed action method Pegasus_backend.Controllers.RoomController.getRoomsbyTeacherId (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 31411.531600000002ms.
2019-07-24 01:18:43.343 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-24 01:18:43.741 +12:00 [INF] Executed action Pegasus_backend.Controllers.RoomController.getRoomsbyTeacherId (Pegasus_backend) in 32068.809400000002ms
2019-07-24 01:18:43.897 +12:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Pegasus_backend.Controllers.RoomController.<>c.<getRoomsbyTeacherId>b__1_2(AvailableDays s) in /Users/oliver/Desktop/pegasusBackend/Controllers/RoomController.cs:line 45
   at System.Linq.Enumerable.SelectListIterator`2.MoveNext()
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeList(JsonWriter writer, IEnumerable values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter.WriteObject(TextWriter writer, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Pegasus_backend.MiddleWare.SerilogRequestLogger.Invoke(HttpContext httpContext) in /Users/oliver/Desktop/pegasusBackend/MiddleWare/SerilogRequestLogger.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.Invoke(HttpContext context)
2019-07-24 01:18:44.083 +12:00 [ERR] An exception was thrown attempting to execute the error handler.
System.ObjectDisposedException: Cannot access a closed Stream.
   at System.IO.MemoryStream.EnsureNotClosed()
   at System.IO.MemoryStream.Write(Byte[] buffer, Int32 offset, Int32 count)
   at System.IO.MemoryStream.WriteAsync(Byte[] buffer, Int32 offset, Int32 count, CancellationToken cancellationToken)
--- End of stack trace from previous location where exception was thrown ---
   at Pegasus_backend.Startup.<>c.<<Configure>b__5_4>d.MoveNext() in /Users/oliver/Desktop/pegasusBackend/Startup.cs:line 134
--- End of stack trace from previous location where exception was thrown ---
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.Invoke(HttpContext context)
2019-07-24 01:18:44.085 +12:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Pegasus_backend.Controllers.RoomController.<>c.<getRoomsbyTeacherId>b__1_2(AvailableDays s) in /Users/oliver/Desktop/pegasusBackend/Controllers/RoomController.cs:line 45
   at System.Linq.Enumerable.SelectListIterator`2.MoveNext()
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeList(JsonWriter writer, IEnumerable values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter.WriteObject(TextWriter writer, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Pegasus_backend.MiddleWare.SerilogRequestLogger.Invoke(HttpContext httpContext) in /Users/oliver/Desktop/pegasusBackend/MiddleWare/SerilogRequestLogger.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-07-24 01:18:44.091 +12:00 [ERR] An exception was thrown attempting to display the error page.
System.ArgumentException: Stream was not writable.
   at System.IO.StreamWriter..ctor(Stream stream, Encoding encoding, Int32 bufferSize, Boolean leaveOpen)
   at Microsoft.Extensions.RazorViews.BaseView.ExecuteAsync(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-07-24 01:18:44.092 +12:00 [ERR] Connection id "0HLOFE0QVGQ2S", Request id "0HLOFE0QVGQ2S:00000001": An unhandled exception was thrown by the application.
System.NullReferenceException: Object reference not set to an instance of an object.
   at Pegasus_backend.Controllers.RoomController.<>c.<getRoomsbyTeacherId>b__1_2(AvailableDays s) in /Users/oliver/Desktop/pegasusBackend/Controllers/RoomController.cs:line 45
   at System.Linq.Enumerable.SelectListIterator`2.MoveNext()
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeList(JsonWriter writer, IEnumerable values, JsonArrayContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeObject(JsonWriter writer, Object value, JsonObjectContract contract, JsonProperty member, JsonContainerContract collectionContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.SerializeValue(JsonWriter writer, Object value, JsonContract valueContract, JsonProperty member, JsonContainerContract containerContract, JsonProperty containerProperty)
   at Newtonsoft.Json.Serialization.JsonSerializerInternalWriter.Serialize(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.SerializeInternal(JsonWriter jsonWriter, Object value, Type objectType)
   at Newtonsoft.Json.JsonSerializer.Serialize(JsonWriter jsonWriter, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter.WriteObject(TextWriter writer, Object value)
   at Microsoft.AspNetCore.Mvc.Formatters.JsonOutputFormatter.WriteResponseBodyAsync(OutputFormatterWriteContext context, Encoding selectedEncoding)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultAsync(IActionResult result)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResultFilterAsync[TFilter,TFilterAsync]()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResultExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeResultFilters()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Pegasus_backend.MiddleWare.SerilogRequestLogger.Invoke(HttpContext httpContext) in /Users/oliver/Desktop/pegasusBackend/MiddleWare/SerilogRequestLogger.cs:line 60
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)
2019-07-24 01:18:44.102 +12:00 [INF] Request finished in 32730.6435ms 500 
2019-07-24 01:21:39.601 +12:00 [INF] User profile is available. Using '/Users/oliver/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2019-07-24 01:21:43.327 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/room/1/1/2019-07-24  
2019-07-24 01:21:43.362 +12:00 [WRN] Failed to determine the https port for redirect.
2019-07-24 01:21:43.403 +12:00 [INF] 
2019-07-24 01:21:43.535 +12:00 [INF] Route matched with {action = "getRoomsbyTeacherId", controller = "Room"}. Executing action Pegasus_backend.Controllers.RoomController.getRoomsbyTeacherId (Pegasus_backend)
2019-07-24 01:21:43.658 +12:00 [INF] Executing action method Pegasus_backend.Controllers.RoomController.getRoomsbyTeacherId (Pegasus_backend) with arguments (["1","1","07/24/2019 00:00:00"]) - Validation state: "Valid"
2019-07-24 01:21:44.604 +12:00 [INF] Entity Framework Core 2.1.8-servicing-32085 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-24 01:21:45.497 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[@__8__locals1_TeacherId_0='?' (DbType = Int32), @__8__locals1_OrgId_1='?' (DbType = Int16), @__day_2='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`available_days_id`, `s`.`created_at`, `s`.`day_of_week`, `s`.`org_id`, `s`.`room_id`, `s`.`teacher_id`, `s.Room`.`room_id`, `s.Room`.`created_at`, `s.Room`.`is_activate`, `s.Room`.`org_id`, `s.Room`.`room_name`
FROM `ablemusic`.`available_days` AS `s`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
WHERE (((`s`.`teacher_id` = @__8__locals1_TeacherId_0) AND (`s`.`org_id` = @__8__locals1_OrgId_1)) AND (`s`.`day_of_week` = @__day_2)) AND `s`.`room_id` IS NOT NULL
2019-07-24 01:21:45.597 +12:00 [INF] Executed action method Pegasus_backend.Controllers.RoomController.getRoomsbyTeacherId (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1927.3517000000002ms.
2019-07-24 01:21:45.603 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-24 01:21:45.639 +12:00 [INF] Executed action Pegasus_backend.Controllers.RoomController.getRoomsbyTeacherId (Pegasus_backend) in 2102.4213ms
2019-07-24 01:21:45.641 +12:00 [INF] Response {"IsSuccess":true,"ErrorCode":null,"IsFound":true,"ErrorMessage":null,"Note":null,"Data":[{"RoomId":1,"RoomName":"Room 1"}]}
2019-07-24 01:21:45.646 +12:00 [INF] Request finished in 2320.4592ms 200 application/json; charset=utf-8
2019-07-24 23:36:51.260 +12:00 [INF] User profile is available. Using '/Users/oliver/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2019-07-24 23:36:57.618 +12:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/teacher multipart/form-data; boundary=--------------------------547886040151434288492342 551
2019-07-24 23:36:57.647 +12:00 [WRN] Failed to determine the https port for redirect.
2019-07-24 23:36:57.694 +12:00 [INF] ----------------------------547886040151434288492342
Content-Disposition: form-data; name="details"

{
	"FirstName":"BABA123",
	"LastName":"asd",
	"Gender":1,
	"Dob":"1996-10-11",
	"IRDNumber":"1123",
	"IDType":1,
	"IDNumber":"23asfffdda12322",
	"ExpiryDate":"2019-10-20",
	"Qualificatiion":[1,2,3],
	"MobilePhone":"021092323",
	"Email":"3123@qq.com",
	"Language":[1,2],
    "Level": 1,
    "IsLeft": 0,
     "IsContract" :1,
	"DayOfWeek":[[{'OrgId': 1,'RoomId': null}],[],[],[],[],[],[]]
}
----------------------------547886040151434288492342--

2019-07-24 23:36:57.816 +12:00 [INF] Route matched with {action = "TeacherRegister", controller = "Teacher"}. Executing action Pegasus_backend.Controllers.TeacherController.TeacherRegister (Pegasus_backend)
2019-07-24 23:36:58.294 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TeacherController.TeacherRegister (Pegasus_backend) with arguments (["{\n\t\"FirstName\":\"BABA123\",\n\t\"LastName\":\"asd\",\n\t\"Gender\":1,\n\t\"Dob\":\"1996-10-11\",\n\t\"IRDNumber\":\"1123\",\n\t\"IDType\":1,\n\t\"IDNumber\":\"23asfffdda12322\",\n\t\"ExpiryDate\":\"2019-10-20\",\n\t\"Qualificatiion\":[1,2,3],\n\t\"MobilePhone\":\"021092323\",\n\t\"Email\":\"3123@qq.com\",\n\t\"Language\":[1,2],\n    \"Level\": 1,\n    \"IsLeft\": 0,\n     \"IsContract\" :1,\n\t\"DayOfWeek\":[[{'OrgId': 1,'RoomId': null}],[],[],[],[],[],[]]\n}","","","","",""]) - Validation state: "Valid"
2019-07-24 23:36:59.195 +12:00 [INF] Entity Framework Core 2.1.8-servicing-32085 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-24 23:37:00.941 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TeacherController.TeacherRegister (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 2635.6646ms.
2019-07-24 23:37:00.950 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-24 23:37:00.960 +12:00 [INF] Executed action Pegasus_backend.Controllers.TeacherController.TeacherRegister (Pegasus_backend) in 3141.2707ms
2019-07-24 23:37:00.962 +12:00 [INF] Response {"IsSuccess":false,"ErrorCode":null,"IsFound":true,"ErrorMessage":"Error converting value {null} to type 'System.Int16'. Path 'DayOfWeek[0][0].RoomId', line 17, position 41.","Note":null,"Data":null}
2019-07-24 23:37:00.967 +12:00 [INF] Request finished in 3349.7442ms 400 application/json; charset=utf-8
2019-07-24 23:37:41.976 +12:00 [INF] User profile is available. Using '/Users/oliver/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2019-07-24 23:37:44.918 +12:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/teacher multipart/form-data; boundary=--------------------------104638046213478781048722 551
2019-07-24 23:37:44.953 +12:00 [WRN] Failed to determine the https port for redirect.
2019-07-24 23:37:45.000 +12:00 [INF] ----------------------------104638046213478781048722
Content-Disposition: form-data; name="details"

{
	"FirstName":"BABA123",
	"LastName":"asd",
	"Gender":1,
	"Dob":"1996-10-11",
	"IRDNumber":"1123",
	"IDType":1,
	"IDNumber":"23asfffdda12322",
	"ExpiryDate":"2019-10-20",
	"Qualificatiion":[1,2,3],
	"MobilePhone":"021092323",
	"Email":"3123@qq.com",
	"Language":[1,2],
    "Level": 1,
    "IsLeft": 0,
     "IsContract" :1,
	"DayOfWeek":[[{'OrgId': 1,'RoomId': null}],[],[],[],[],[],[]]
}
----------------------------104638046213478781048722--

2019-07-24 23:37:45.139 +12:00 [INF] Route matched with {action = "TeacherRegister", controller = "Teacher"}. Executing action Pegasus_backend.Controllers.TeacherController.TeacherRegister (Pegasus_backend)
2019-07-24 23:37:45.618 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TeacherController.TeacherRegister (Pegasus_backend) with arguments (["{\n\t\"FirstName\":\"BABA123\",\n\t\"LastName\":\"asd\",\n\t\"Gender\":1,\n\t\"Dob\":\"1996-10-11\",\n\t\"IRDNumber\":\"1123\",\n\t\"IDType\":1,\n\t\"IDNumber\":\"23asfffdda12322\",\n\t\"ExpiryDate\":\"2019-10-20\",\n\t\"Qualificatiion\":[1,2,3],\n\t\"MobilePhone\":\"021092323\",\n\t\"Email\":\"3123@qq.com\",\n\t\"Language\":[1,2],\n    \"Level\": 1,\n    \"IsLeft\": 0,\n     \"IsContract\" :1,\n\t\"DayOfWeek\":[[{'OrgId': 1,'RoomId': null}],[],[],[],[],[],[]]\n}","","","","",""]) - Validation state: "Valid"
2019-07-24 23:37:46.496 +12:00 [INF] Entity Framework Core 2.1.8-servicing-32085 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-24 23:37:47.541 +12:00 [INF] Executed DbCommand (69ms) [Parameters=[@__detailsJson_IDNumber_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`teacher_id`, `s`.`ability`, `s`.`comment`, `s`.`cv_url`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`form_url`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`invoice_template`, `s`.`ird_number`, `s`.`is_activate`, `s`.`is_contract`, `s`.`is_left`, `s`.`last_name`, `s`.`level`, `s`.`minimum_hours`, `s`.`mobile_phone`, `s`.`otherfile_url`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`teacher` AS `s`
WHERE `s`.`id_number` = @__detailsJson_IDNumber_0
LIMIT 1
2019-07-24 23:37:47.692 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TeacherController.TeacherRegister (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 2061.3543ms.
2019-07-24 23:37:47.702 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-24 23:37:47.712 +12:00 [INF] Executed action Pegasus_backend.Controllers.TeacherController.TeacherRegister (Pegasus_backend) in 2570.1647000000003ms
2019-07-24 23:37:47.713 +12:00 [INF] Response {"IsSuccess":false,"ErrorCode":null,"IsFound":true,"ErrorMessage":"Teacher has exist.","Note":null,"Data":null}
2019-07-24 23:37:47.719 +12:00 [INF] Request finished in 2802.937ms 400 application/json; charset=utf-8
2019-07-24 23:37:52.078 +12:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/teacher multipart/form-data; boundary=--------------------------221502769305808612038821 552
2019-07-24 23:37:52.079 +12:00 [INF] ----------------------------221502769305808612038821
Content-Disposition: form-data; name="details"

{
	"FirstName":"BABA123",
	"LastName":"asd",
	"Gender":1,
	"Dob":"1996-10-11",
	"IRDNumber":"1123",
	"IDType":1,
	"IDNumber":"23as2fffdda12322",
	"ExpiryDate":"2019-10-20",
	"Qualificatiion":[1,2,3],
	"MobilePhone":"021092323",
	"Email":"3123@qq.com",
	"Language":[1,2],
    "Level": 1,
    "IsLeft": 0,
     "IsContract" :1,
	"DayOfWeek":[[{'OrgId': 1,'RoomId': null}],[],[],[],[],[],[]]
}
----------------------------221502769305808612038821--

2019-07-24 23:37:52.079 +12:00 [INF] Route matched with {action = "TeacherRegister", controller = "Teacher"}. Executing action Pegasus_backend.Controllers.TeacherController.TeacherRegister (Pegasus_backend)
2019-07-24 23:37:52.081 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TeacherController.TeacherRegister (Pegasus_backend) with arguments (["{\n\t\"FirstName\":\"BABA123\",\n\t\"LastName\":\"asd\",\n\t\"Gender\":1,\n\t\"Dob\":\"1996-10-11\",\n\t\"IRDNumber\":\"1123\",\n\t\"IDType\":1,\n\t\"IDNumber\":\"23as2fffdda12322\",\n\t\"ExpiryDate\":\"2019-10-20\",\n\t\"Qualificatiion\":[1,2,3],\n\t\"MobilePhone\":\"021092323\",\n\t\"Email\":\"3123@qq.com\",\n\t\"Language\":[1,2],\n    \"Level\": 1,\n    \"IsLeft\": 0,\n     \"IsContract\" :1,\n\t\"DayOfWeek\":[[{'OrgId': 1,'RoomId': null}],[],[],[],[],[],[]]\n}","","","","",""]) - Validation state: "Valid"
2019-07-24 23:37:52.082 +12:00 [INF] Entity Framework Core 2.1.8-servicing-32085 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-24 23:37:52.385 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__detailsJson_IDNumber_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`teacher_id`, `s`.`ability`, `s`.`comment`, `s`.`cv_url`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`form_url`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`invoice_template`, `s`.`ird_number`, `s`.`is_activate`, `s`.`is_contract`, `s`.`is_left`, `s`.`last_name`, `s`.`level`, `s`.`minimum_hours`, `s`.`mobile_phone`, `s`.`otherfile_url`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`teacher` AS `s`
WHERE `s`.`id_number` = @__detailsJson_IDNumber_0
LIMIT 1
2019-07-24 23:37:52.556 +12:00 [INF] Executed DbCommand (67ms) [Parameters=[@p0='?' (Size = -1), @p1='?' (Size = -1), @p2='?' (Size = -1), @p3='?' (DbType = DateTime), @p4='?' (Size = -1), @p5='?' (DbType = DateTime), @p6='?' (Size = -1), @p7='?' (Size = -1), @p8='?' (DbType = Int16), @p9='?' (Size = -1), @p10='?' (Size = -1), @p11='?' (Size = -1), @p12='?' (DbType = Int16), @p13='?' (DbType = Byte), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = Int16), @p18='?' (Size = -1), @p19='?' (DbType = Byte), @p20='?' (DbType = AnsiString), @p21='?' (Size = -1), @p22='?' (Size = -1), @p23='?' (Size = -1), @p24='?' (DbType = AnsiString), @p25='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`teacher` (`ability`, `comment`, `cv_url`, `dob`, `email`, `expiry_date`, `first_name`, `form_url`, `gender`, `home_phone`, `id_number`, `id_photo`, `id_type`, `invoice_template`, `ird_number`, `is_activate`, `is_contract`, `is_left`, `last_name`, `level`, `minimum_hours`, `mobile_phone`, `otherfile_url`, `photo`, `user_id`, `visa`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25);
SELECT `teacher_id`
FROM `ablemusic`.`teacher`
WHERE ROW_COUNT() = 1
 AND `teacher_id`=LAST_INSERT_ID();
2019-07-24 23:37:52.664 +12:00 [INF] Executed DbCommand (63ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int16), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = Int16), @p5='?' (Size = -1), @p6='?' (DbType = AnsiString), @p7='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`user` (`created_at`, `is_activate`, `is_online`, `password`, `role_id`, `signature`, `unread_message_id`, `user_name`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `user_id`
FROM `ablemusic`.`user`
WHERE ROW_COUNT() = 1
 AND `user_id`=LAST_INSERT_ID();
2019-07-24 23:37:52.754 +12:00 [INF] Executed DbCommand (64ms) [Parameters=[@p26='?' (DbType = Int16), @p0='?' (Size = -1), @p1='?' (Size = -1), @p2='?' (Size = -1), @p3='?' (DbType = DateTime), @p4='?' (Size = -1), @p5='?' (DbType = DateTime), @p6='?' (Size = -1), @p7='?' (Size = -1), @p8='?' (DbType = Int16), @p9='?' (Size = -1), @p10='?' (Size = -1), @p11='?' (Size = -1), @p12='?' (DbType = Int16), @p13='?' (DbType = Byte), @p14='?' (Size = -1), @p15='?' (DbType = Int16), @p16='?' (DbType = Int16), @p17='?' (DbType = Int16), @p18='?' (Size = -1), @p19='?' (DbType = Byte), @p20='?' (DbType = AnsiString), @p21='?' (Size = -1), @p22='?' (Size = -1), @p23='?' (Size = -1), @p24='?' (DbType = Int16), @p25='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`teacher` SET `ability` = @p0, `comment` = @p1, `cv_url` = @p2, `dob` = @p3, `email` = @p4, `expiry_date` = @p5, `first_name` = @p6, `form_url` = @p7, `gender` = @p8, `home_phone` = @p9, `id_number` = @p10, `id_photo` = @p11, `id_type` = @p12, `invoice_template` = @p13, `ird_number` = @p14, `is_activate` = @p15, `is_contract` = @p16, `is_left` = @p17, `last_name` = @p18, `level` = @p19, `minimum_hours` = @p20, `mobile_phone` = @p21, `otherfile_url` = @p22, `photo` = @p23, `user_id` = @p24, `visa` = @p25
WHERE `teacher_id` = @p26;
SELECT ROW_COUNT();
2019-07-24 23:37:52.846 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@p0='?' (DbType = Byte), @p1='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`teacher_language` (`lang_id`, `teacher_id`)
VALUES (@p0, @p1);
SELECT `teacher_lang_id`
FROM `ablemusic`.`teacher_language`
WHERE ROW_COUNT() = 1
 AND `teacher_lang_id`=LAST_INSERT_ID();
2019-07-24 23:37:52.902 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[@p2='?' (DbType = Byte), @p3='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`teacher_language` (`lang_id`, `teacher_id`)
VALUES (@p2, @p3);
SELECT `teacher_lang_id`
FROM `ablemusic`.`teacher_language`
WHERE ROW_COUNT() = 1
 AND `teacher_lang_id`=LAST_INSERT_ID();
2019-07-24 23:37:52.975 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@p0='?' (Size = -1), @p1='?' (DbType = Byte), @p2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`teacher_qualificatiion` (`description`, `quali_id`, `teacher_id`)
VALUES (@p0, @p1, @p2);
SELECT `teacher_quali_id`
FROM `ablemusic`.`teacher_qualificatiion`
WHERE ROW_COUNT() = 1
 AND `teacher_quali_id`=LAST_INSERT_ID();
2019-07-24 23:37:53.032 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@p3='?' (Size = -1), @p4='?' (DbType = Byte), @p5='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`teacher_qualificatiion` (`description`, `quali_id`, `teacher_id`)
VALUES (@p3, @p4, @p5);
SELECT `teacher_quali_id`
FROM `ablemusic`.`teacher_qualificatiion`
WHERE ROW_COUNT() = 1
 AND `teacher_quali_id`=LAST_INSERT_ID();
2019-07-24 23:37:53.092 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@p6='?' (Size = -1), @p7='?' (DbType = Byte), @p8='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`teacher_qualificatiion` (`description`, `quali_id`, `teacher_id`)
VALUES (@p6, @p7, @p8);
SELECT `teacher_quali_id`
FROM `ablemusic`.`teacher_qualificatiion`
WHERE ROW_COUNT() = 1
 AND `teacher_quali_id`=LAST_INSERT_ID();
2019-07-24 23:37:53.223 +12:00 [INF] Executed DbCommand (67ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Byte), @p2='?' (DbType = Int16), @p3='?' (DbType = AnsiString), @p4='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`available_days` (`created_at`, `day_of_week`, `org_id`, `room_id`, `teacher_id`)
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT `available_days_id`
FROM `ablemusic`.`available_days`
WHERE ROW_COUNT() = 1
 AND `available_days_id`=LAST_INSERT_ID();
2019-07-24 23:37:53.277 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TeacherController.TeacherRegister (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1195.738ms.
2019-07-24 23:37:53.278 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-24 23:37:53.278 +12:00 [INF] Executed action Pegasus_backend.Controllers.TeacherController.TeacherRegister (Pegasus_backend) in 1199.1171000000002ms
2019-07-24 23:37:53.279 +12:00 [INF] Response {"IsSuccess":true,"ErrorCode":null,"IsFound":true,"ErrorMessage":null,"Note":null,"Data":"Success!"}
2019-07-24 23:37:53.279 +12:00 [INF] Request finished in 1201.4002ms 200 application/json; charset=utf-8
