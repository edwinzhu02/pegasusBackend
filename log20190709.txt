2019-07-09 11:51:53.863 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/teacher  
2019-07-09 11:51:53.872 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/courses  
2019-07-09 11:51:53.890 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/teachercourse  
2019-07-09 11:51:53.928 +12:00 [INF] Policy execution successful.
2019-07-09 11:51:53.928 +12:00 [INF] Policy execution successful.
2019-07-09 11:51:53.928 +12:00 [INF] Policy execution successful.
2019-07-09 11:51:53.929 +12:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Pegasus_backend.pegasusContext.Course]]] GetCourses() on controller Pegasus_backend.Controllers.CoursesController (Pegasus_backend).
2019-07-09 11:51:53.929 +12:00 [INF] Route matched with {action = "GetTeacherCourse", controller = "TeacherCourse"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetTeacherCourse() on controller Pegasus_backend.Controllers.TeacherCourseController (Pegasus_backend).
2019-07-09 11:51:53.929 +12:00 [INF] Route matched with {action = "GetTeacher", controller = "Teacher"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetTeacher() on controller Pegasus_backend.Controllers.TeacherController (Pegasus_backend).
2019-07-09 11:51:53.929 +12:00 [INF] Executing action method Pegasus_backend.Controllers.CoursesController.GetCourses (Pegasus_backend) - Validation state: "Valid"
2019-07-09 11:51:53.929 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TeacherCourseController.GetTeacherCourse (Pegasus_backend) - Validation state: "Valid"
2019-07-09 11:51:53.929 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TeacherController.GetTeacher (Pegasus_backend) - Validation state: "Valid"
2019-07-09 11:51:53.930 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 11:51:53.930 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 11:51:53.931 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 11:51:53.958 +12:00 [WRN] The Include operation for navigation '[s].TeacherLanguage.Lang' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 11:51:53.958 +12:00 [WRN] The Include operation for navigation '[s].TeacherQualificatiion.Quali' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 11:51:53.958 +12:00 [WRN] The Include operation for navigation '[s].TeacherCourse.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 11:51:53.958 +12:00 [WRN] The Include operation for navigation '[s].AvailableDays.Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 11:51:53.958 +12:00 [WRN] The Include operation for navigation '[s].TeacherCourse.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 11:51:54.588 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`course_id` AS `CourseId`, `c`.`course_name` AS `CourseName`, `c`.`course_type` AS `CourseType`, `c`.`level`, `c`.`duration`, `c`.`price`, `c`.`course_category_id` AS `CourseCategoryId0`, `c`.`teacher_level` AS `TeacherLevel`, `cc`.`course_category_id` AS `CourseCategoryId`, `cc`.`course_category_name` AS `CourseCategoryName`
FROM `ablemusic`.`course` AS `c`
INNER JOIN `ablemusic`.`course_category` AS `cc` ON `c`.`course_category_id` = `cc`.`course_category_id`
2019-07-09 11:51:54.600 +12:00 [INF] Executed DbCommand (66ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Course.CourseCategory`.`course_category_id`, `s.Course.CourseCategory`.`course_category_name`, `s`.`teacher_course_id` AS `TeacherCourseId`, `s`.`course_id` AS `CourseId0`, `s`.`teacher_id` AS `TeacherId0`, `s`.`hourly_wage` AS `HourlyWage`, `s`.`course_id` AS `CourseId`, `s.Course`.`course_name` AS `CourseName`, `s.Course`.`level`, `s.Course`.`duration`, `s.Course`.`price`, `s.Course`.`course_type` AS `CourseType`, `s`.`teacher_id` AS `TeacherId`, `s.Teacher`.`first_name` AS `FirstName`, `s.Teacher`.`last_name` AS `LastName`, `s.Teacher`.`level` AS `Level0`
FROM `ablemusic`.`teacher_course` AS `s`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `s.Course` ON `s`.`course_id` = `s.Course`.`course_id`
LEFT JOIN `ablemusic`.`course_category` AS `s.Course.CourseCategory` ON `s.Course`.`course_category_id` = `s.Course.CourseCategory`.`course_category_id`
2019-07-09 11:51:54.620 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`teacher_id` AS `TeacherId`, `s`.`first_name` AS `FirstName`, `s`.`last_name` AS `LastName`, `s`.`dob`, `s`.`gender`, `s`.`ird_number` AS `IrdNumber`, `s`.`id_type` AS `IdType`, `s`.`id_photo`, `s`.`id_number` AS `IdNumber`, `s`.`home_phone` AS `HomePhone`, `s`.`mobile_phone` AS `MobilePhone`, `s`.`email`, `s`.`photo`, `s`.`expiry_date` AS `ExpiryDate`, `s`.`cv_url`, `s`.`otherfile_url`, `s`.`form_url`, `s`.`is_left` AS `IsLeft`, `s`.`is_contract` AS `IsContract`, `s`.`invoice_template` AS `InvoiceTemplate`, `s`.`ability`, `s`.`comment`, `s`.`level`
FROM `ablemusic`.`teacher` AS `s`
WHERE `s`.`is_activate` = 1
ORDER BY `s`.`teacher_id`
2019-07-09 11:51:54.684 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TeacherCourseController.GetTeacherCourse (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 754.418ms.
2019-07-09 11:51:54.684 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 11:51:54.689 +12:00 [INF] Executed action Pegasus_backend.Controllers.TeacherCourseController.GetTeacherCourse (Pegasus_backend) in 759.9601ms
2019-07-09 11:51:54.689 +12:00 [INF] Request finished in 799.341ms 200 application/json; charset=utf-8
2019-07-09 11:51:54.692 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.AvailableDays`.`available_days_id`, `s.AvailableDays`.`created_at`, `s.AvailableDays`.`day_of_week`, `s.AvailableDays`.`org_id`, `s.AvailableDays`.`teacher_id`, `t`.`teacher_id`
FROM `ablemusic`.`available_days` AS `s.AvailableDays`
INNER JOIN (
    SELECT `s1`.`teacher_id`
    FROM `ablemusic`.`teacher` AS `s1`
    WHERE `s1`.`is_activate` = 1
) AS `t` ON `s.AvailableDays`.`teacher_id` = `t`.`teacher_id`
ORDER BY `t`.`teacher_id`
2019-07-09 11:51:54.749 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.TeacherLanguage`.`teacher_lang_id`, `s.TeacherLanguage`.`lang_id`, `s.TeacherLanguage`.`teacher_id`, `t0`.`teacher_id`
FROM `ablemusic`.`teacher_language` AS `s.TeacherLanguage`
INNER JOIN (
    SELECT `s2`.`teacher_id`
    FROM `ablemusic`.`teacher` AS `s2`
    WHERE `s2`.`is_activate` = 1
) AS `t0` ON `s.TeacherLanguage`.`teacher_id` = `t0`.`teacher_id`
ORDER BY `t0`.`teacher_id`
2019-07-09 11:51:54.789 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`prop_name` AS `PropName`, `l`.`prop_value` AS `PropValue`, `l`.`lookup_type` AS `LookupType`
FROM `ablemusic`.`lookup` AS `l`
WHERE (((`l`.`lookup_type` = 1) OR (`l`.`lookup_type` = 4)) OR (`l`.`lookup_type` = 6)) OR (`l`.`lookup_type` = 8)
2019-07-09 11:51:54.790 +12:00 [INF] Executed action method Pegasus_backend.Controllers.CoursesController.GetCourses (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 860.8188ms.
2019-07-09 11:51:54.790 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 11:51:54.792 +12:00 [INF] Executed action Pegasus_backend.Controllers.CoursesController.GetCourses (Pegasus_backend) in 862.9497ms
2019-07-09 11:51:54.792 +12:00 [INF] Request finished in 920.0394ms 200 application/json; charset=utf-8
2019-07-09 11:51:54.809 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.TeacherQualificatiion`.`teacher_quali_id`, `s.TeacherQualificatiion`.`description`, `s.TeacherQualificatiion`.`quali_id`, `s.TeacherQualificatiion`.`teacher_id`, `t1`.`teacher_id`
FROM `ablemusic`.`teacher_qualificatiion` AS `s.TeacherQualificatiion`
INNER JOIN (
    SELECT `s3`.`teacher_id`
    FROM `ablemusic`.`teacher` AS `s3`
    WHERE `s3`.`is_activate` = 1
) AS `t1` ON `s.TeacherQualificatiion`.`teacher_id` = `t1`.`teacher_id`
ORDER BY `t1`.`teacher_id`
2019-07-09 11:51:54.860 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_TeacherId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s0`.`rates_id`, `s0`.`create_at`, `s0`.`group_rates`, `s0`.`is_activate`, `s0`.`others_rates`, `s0`.`piano_rates`, `s0`.`teacher_id`, `s0`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s0`
WHERE (`s0`.`is_activate` = 1) AND (@_outer_TeacherId = `s0`.`teacher_id`)
LIMIT 1
2019-07-09 11:51:55.040 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@_outer_TeacherId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s0`.`rates_id`, `s0`.`create_at`, `s0`.`group_rates`, `s0`.`is_activate`, `s0`.`others_rates`, `s0`.`piano_rates`, `s0`.`teacher_id`, `s0`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s0`
WHERE (`s0`.`is_activate` = 1) AND (@_outer_TeacherId = `s0`.`teacher_id`)
LIMIT 1
2019-07-09 11:51:55.223 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@_outer_TeacherId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s0`.`rates_id`, `s0`.`create_at`, `s0`.`group_rates`, `s0`.`is_activate`, `s0`.`others_rates`, `s0`.`piano_rates`, `s0`.`teacher_id`, `s0`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s0`
WHERE (`s0`.`is_activate` = 1) AND (@_outer_TeacherId = `s0`.`teacher_id`)
LIMIT 1
2019-07-09 11:51:55.629 +12:00 [INF] Executed DbCommand (261ms) [Parameters=[@_outer_TeacherId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s0`.`rates_id`, `s0`.`create_at`, `s0`.`group_rates`, `s0`.`is_activate`, `s0`.`others_rates`, `s0`.`piano_rates`, `s0`.`teacher_id`, `s0`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s0`
WHERE (`s0`.`is_activate` = 1) AND (@_outer_TeacherId = `s0`.`teacher_id`)
LIMIT 1
2019-07-09 11:51:57.412 +12:00 [INF] Executed DbCommand (195ms) [Parameters=[@_outer_TeacherId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s0`.`rates_id`, `s0`.`create_at`, `s0`.`group_rates`, `s0`.`is_activate`, `s0`.`others_rates`, `s0`.`piano_rates`, `s0`.`teacher_id`, `s0`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s0`
WHERE (`s0`.`is_activate` = 1) AND (@_outer_TeacherId = `s0`.`teacher_id`)
LIMIT 1
2019-07-09 11:51:57.642 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_TeacherId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s0`.`rates_id`, `s0`.`create_at`, `s0`.`group_rates`, `s0`.`is_activate`, `s0`.`others_rates`, `s0`.`piano_rates`, `s0`.`teacher_id`, `s0`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s0`
WHERE (`s0`.`is_activate` = 1) AND (@_outer_TeacherId = `s0`.`teacher_id`)
LIMIT 1
2019-07-09 11:51:57.829 +12:00 [INF] Executed DbCommand (62ms) [Parameters=[@_outer_TeacherId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s0`.`rates_id`, `s0`.`create_at`, `s0`.`group_rates`, `s0`.`is_activate`, `s0`.`others_rates`, `s0`.`piano_rates`, `s0`.`teacher_id`, `s0`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s0`
WHERE (`s0`.`is_activate` = 1) AND (@_outer_TeacherId = `s0`.`teacher_id`)
LIMIT 1
2019-07-09 11:51:58.003 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_TeacherId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s0`.`rates_id`, `s0`.`create_at`, `s0`.`group_rates`, `s0`.`is_activate`, `s0`.`others_rates`, `s0`.`piano_rates`, `s0`.`teacher_id`, `s0`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s0`
WHERE (`s0`.`is_activate` = 1) AND (@_outer_TeacherId = `s0`.`teacher_id`)
LIMIT 1
2019-07-09 11:51:58.184 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@_outer_TeacherId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s0`.`rates_id`, `s0`.`create_at`, `s0`.`group_rates`, `s0`.`is_activate`, `s0`.`others_rates`, `s0`.`piano_rates`, `s0`.`teacher_id`, `s0`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s0`
WHERE (`s0`.`is_activate` = 1) AND (@_outer_TeacherId = `s0`.`teacher_id`)
LIMIT 1
2019-07-09 11:51:58.367 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@_outer_TeacherId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s0`.`rates_id`, `s0`.`create_at`, `s0`.`group_rates`, `s0`.`is_activate`, `s0`.`others_rates`, `s0`.`piano_rates`, `s0`.`teacher_id`, `s0`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s0`
WHERE (`s0`.`is_activate` = 1) AND (@_outer_TeacherId = `s0`.`teacher_id`)
LIMIT 1
2019-07-09 11:51:58.546 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_TeacherId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s0`.`rates_id`, `s0`.`create_at`, `s0`.`group_rates`, `s0`.`is_activate`, `s0`.`others_rates`, `s0`.`piano_rates`, `s0`.`teacher_id`, `s0`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s0`
WHERE (`s0`.`is_activate` = 1) AND (@_outer_TeacherId = `s0`.`teacher_id`)
LIMIT 1
2019-07-09 11:51:58.722 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_TeacherId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s0`.`rates_id`, `s0`.`create_at`, `s0`.`group_rates`, `s0`.`is_activate`, `s0`.`others_rates`, `s0`.`piano_rates`, `s0`.`teacher_id`, `s0`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s0`
WHERE (`s0`.`is_activate` = 1) AND (@_outer_TeacherId = `s0`.`teacher_id`)
LIMIT 1
2019-07-09 11:51:58.895 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_TeacherId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s0`.`rates_id`, `s0`.`create_at`, `s0`.`group_rates`, `s0`.`is_activate`, `s0`.`others_rates`, `s0`.`piano_rates`, `s0`.`teacher_id`, `s0`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s0`
WHERE (`s0`.`is_activate` = 1) AND (@_outer_TeacherId = `s0`.`teacher_id`)
LIMIT 1
2019-07-09 11:51:59.067 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@_outer_TeacherId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s0`.`rates_id`, `s0`.`create_at`, `s0`.`group_rates`, `s0`.`is_activate`, `s0`.`others_rates`, `s0`.`piano_rates`, `s0`.`teacher_id`, `s0`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s0`
WHERE (`s0`.`is_activate` = 1) AND (@_outer_TeacherId = `s0`.`teacher_id`)
LIMIT 1
2019-07-09 11:51:59.243 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@_outer_TeacherId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s0`.`rates_id`, `s0`.`create_at`, `s0`.`group_rates`, `s0`.`is_activate`, `s0`.`others_rates`, `s0`.`piano_rates`, `s0`.`teacher_id`, `s0`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s0`
WHERE (`s0`.`is_activate` = 1) AND (@_outer_TeacherId = `s0`.`teacher_id`)
LIMIT 1
2019-07-09 11:51:59.416 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@_outer_TeacherId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s0`.`rates_id`, `s0`.`create_at`, `s0`.`group_rates`, `s0`.`is_activate`, `s0`.`others_rates`, `s0`.`piano_rates`, `s0`.`teacher_id`, `s0`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s0`
WHERE (`s0`.`is_activate` = 1) AND (@_outer_TeacherId = `s0`.`teacher_id`)
LIMIT 1
2019-07-09 11:51:59.596 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@_outer_TeacherId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s0`.`rates_id`, `s0`.`create_at`, `s0`.`group_rates`, `s0`.`is_activate`, `s0`.`others_rates`, `s0`.`piano_rates`, `s0`.`teacher_id`, `s0`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s0`
WHERE (`s0`.`is_activate` = 1) AND (@_outer_TeacherId = `s0`.`teacher_id`)
LIMIT 1
2019-07-09 11:51:59.771 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_TeacherId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s0`.`rates_id`, `s0`.`create_at`, `s0`.`group_rates`, `s0`.`is_activate`, `s0`.`others_rates`, `s0`.`piano_rates`, `s0`.`teacher_id`, `s0`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s0`
WHERE (`s0`.`is_activate` = 1) AND (@_outer_TeacherId = `s0`.`teacher_id`)
LIMIT 1
2019-07-09 11:51:59.945 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@_outer_TeacherId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s0`.`rates_id`, `s0`.`create_at`, `s0`.`group_rates`, `s0`.`is_activate`, `s0`.`others_rates`, `s0`.`piano_rates`, `s0`.`teacher_id`, `s0`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s0`
WHERE (`s0`.`is_activate` = 1) AND (@_outer_TeacherId = `s0`.`teacher_id`)
LIMIT 1
2019-07-09 11:52:00.122 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@_outer_TeacherId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s0`.`rates_id`, `s0`.`create_at`, `s0`.`group_rates`, `s0`.`is_activate`, `s0`.`others_rates`, `s0`.`piano_rates`, `s0`.`teacher_id`, `s0`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s0`
WHERE (`s0`.`is_activate` = 1) AND (@_outer_TeacherId = `s0`.`teacher_id`)
LIMIT 1
2019-07-09 11:52:00.295 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_TeacherId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s0`.`rates_id`, `s0`.`create_at`, `s0`.`group_rates`, `s0`.`is_activate`, `s0`.`others_rates`, `s0`.`piano_rates`, `s0`.`teacher_id`, `s0`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s0`
WHERE (`s0`.`is_activate` = 1) AND (@_outer_TeacherId = `s0`.`teacher_id`)
LIMIT 1
2019-07-09 11:52:00.521 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@_outer_TeacherId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s0`.`rates_id`, `s0`.`create_at`, `s0`.`group_rates`, `s0`.`is_activate`, `s0`.`others_rates`, `s0`.`piano_rates`, `s0`.`teacher_id`, `s0`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s0`
WHERE (`s0`.`is_activate` = 1) AND (@_outer_TeacherId = `s0`.`teacher_id`)
LIMIT 1
2019-07-09 11:52:00.695 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@_outer_TeacherId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s0`.`rates_id`, `s0`.`create_at`, `s0`.`group_rates`, `s0`.`is_activate`, `s0`.`others_rates`, `s0`.`piano_rates`, `s0`.`teacher_id`, `s0`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s0`
WHERE (`s0`.`is_activate` = 1) AND (@_outer_TeacherId = `s0`.`teacher_id`)
LIMIT 1
2019-07-09 11:52:00.871 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@_outer_TeacherId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s0`.`rates_id`, `s0`.`create_at`, `s0`.`group_rates`, `s0`.`is_activate`, `s0`.`others_rates`, `s0`.`piano_rates`, `s0`.`teacher_id`, `s0`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s0`
WHERE (`s0`.`is_activate` = 1) AND (@_outer_TeacherId = `s0`.`teacher_id`)
LIMIT 1
2019-07-09 11:52:01.051 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_TeacherId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s0`.`rates_id`, `s0`.`create_at`, `s0`.`group_rates`, `s0`.`is_activate`, `s0`.`others_rates`, `s0`.`piano_rates`, `s0`.`teacher_id`, `s0`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s0`
WHERE (`s0`.`is_activate` = 1) AND (@_outer_TeacherId = `s0`.`teacher_id`)
LIMIT 1
2019-07-09 11:52:01.225 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_TeacherId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s0`.`rates_id`, `s0`.`create_at`, `s0`.`group_rates`, `s0`.`is_activate`, `s0`.`others_rates`, `s0`.`piano_rates`, `s0`.`teacher_id`, `s0`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s0`
WHERE (`s0`.`is_activate` = 1) AND (@_outer_TeacherId = `s0`.`teacher_id`)
LIMIT 1
2019-07-09 11:52:01.398 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_TeacherId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s0`.`rates_id`, `s0`.`create_at`, `s0`.`group_rates`, `s0`.`is_activate`, `s0`.`others_rates`, `s0`.`piano_rates`, `s0`.`teacher_id`, `s0`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s0`
WHERE (`s0`.`is_activate` = 1) AND (@_outer_TeacherId = `s0`.`teacher_id`)
LIMIT 1
2019-07-09 11:52:01.571 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@_outer_TeacherId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s0`.`rates_id`, `s0`.`create_at`, `s0`.`group_rates`, `s0`.`is_activate`, `s0`.`others_rates`, `s0`.`piano_rates`, `s0`.`teacher_id`, `s0`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s0`
WHERE (`s0`.`is_activate` = 1) AND (@_outer_TeacherId = `s0`.`teacher_id`)
LIMIT 1
2019-07-09 11:52:01.753 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@_outer_TeacherId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s0`.`rates_id`, `s0`.`create_at`, `s0`.`group_rates`, `s0`.`is_activate`, `s0`.`others_rates`, `s0`.`piano_rates`, `s0`.`teacher_id`, `s0`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s0`
WHERE (`s0`.`is_activate` = 1) AND (@_outer_TeacherId = `s0`.`teacher_id`)
LIMIT 1
2019-07-09 11:52:01.928 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@_outer_TeacherId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s0`.`rates_id`, `s0`.`create_at`, `s0`.`group_rates`, `s0`.`is_activate`, `s0`.`others_rates`, `s0`.`piano_rates`, `s0`.`teacher_id`, `s0`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s0`
WHERE (`s0`.`is_activate` = 1) AND (@_outer_TeacherId = `s0`.`teacher_id`)
LIMIT 1
2019-07-09 11:52:02.103 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_TeacherId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s0`.`rates_id`, `s0`.`create_at`, `s0`.`group_rates`, `s0`.`is_activate`, `s0`.`others_rates`, `s0`.`piano_rates`, `s0`.`teacher_id`, `s0`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s0`
WHERE (`s0`.`is_activate` = 1) AND (@_outer_TeacherId = `s0`.`teacher_id`)
LIMIT 1
2019-07-09 11:52:02.281 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@_outer_TeacherId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s0`.`rates_id`, `s0`.`create_at`, `s0`.`group_rates`, `s0`.`is_activate`, `s0`.`others_rates`, `s0`.`piano_rates`, `s0`.`teacher_id`, `s0`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s0`
WHERE (`s0`.`is_activate` = 1) AND (@_outer_TeacherId = `s0`.`teacher_id`)
LIMIT 1
2019-07-09 11:52:02.454 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@_outer_TeacherId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s0`.`rates_id`, `s0`.`create_at`, `s0`.`group_rates`, `s0`.`is_activate`, `s0`.`others_rates`, `s0`.`piano_rates`, `s0`.`teacher_id`, `s0`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s0`
WHERE (`s0`.`is_activate` = 1) AND (@_outer_TeacherId = `s0`.`teacher_id`)
LIMIT 1
2019-07-09 11:52:02.626 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_TeacherId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s0`.`rates_id`, `s0`.`create_at`, `s0`.`group_rates`, `s0`.`is_activate`, `s0`.`others_rates`, `s0`.`piano_rates`, `s0`.`teacher_id`, `s0`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s0`
WHERE (`s0`.`is_activate` = 1) AND (@_outer_TeacherId = `s0`.`teacher_id`)
LIMIT 1
2019-07-09 11:52:02.799 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@_outer_TeacherId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s0`.`rates_id`, `s0`.`create_at`, `s0`.`group_rates`, `s0`.`is_activate`, `s0`.`others_rates`, `s0`.`piano_rates`, `s0`.`teacher_id`, `s0`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s0`
WHERE (`s0`.`is_activate` = 1) AND (@_outer_TeacherId = `s0`.`teacher_id`)
LIMIT 1
2019-07-09 11:52:02.979 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@_outer_TeacherId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s0`.`rates_id`, `s0`.`create_at`, `s0`.`group_rates`, `s0`.`is_activate`, `s0`.`others_rates`, `s0`.`piano_rates`, `s0`.`teacher_id`, `s0`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s0`
WHERE (`s0`.`is_activate` = 1) AND (@_outer_TeacherId = `s0`.`teacher_id`)
LIMIT 1
2019-07-09 11:52:03.152 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@_outer_TeacherId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s0`.`rates_id`, `s0`.`create_at`, `s0`.`group_rates`, `s0`.`is_activate`, `s0`.`others_rates`, `s0`.`piano_rates`, `s0`.`teacher_id`, `s0`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s0`
WHERE (`s0`.`is_activate` = 1) AND (@_outer_TeacherId = `s0`.`teacher_id`)
LIMIT 1
2019-07-09 11:52:03.328 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@_outer_TeacherId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s0`.`rates_id`, `s0`.`create_at`, `s0`.`group_rates`, `s0`.`is_activate`, `s0`.`others_rates`, `s0`.`piano_rates`, `s0`.`teacher_id`, `s0`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s0`
WHERE (`s0`.`is_activate` = 1) AND (@_outer_TeacherId = `s0`.`teacher_id`)
LIMIT 1
2019-07-09 11:52:03.503 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_TeacherId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s0`.`rates_id`, `s0`.`create_at`, `s0`.`group_rates`, `s0`.`is_activate`, `s0`.`others_rates`, `s0`.`piano_rates`, `s0`.`teacher_id`, `s0`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s0`
WHERE (`s0`.`is_activate` = 1) AND (@_outer_TeacherId = `s0`.`teacher_id`)
LIMIT 1
2019-07-09 11:52:03.680 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@_outer_TeacherId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s0`.`rates_id`, `s0`.`create_at`, `s0`.`group_rates`, `s0`.`is_activate`, `s0`.`others_rates`, `s0`.`piano_rates`, `s0`.`teacher_id`, `s0`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s0`
WHERE (`s0`.`is_activate` = 1) AND (@_outer_TeacherId = `s0`.`teacher_id`)
LIMIT 1
2019-07-09 11:52:03.862 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@_outer_TeacherId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s0`.`rates_id`, `s0`.`create_at`, `s0`.`group_rates`, `s0`.`is_activate`, `s0`.`others_rates`, `s0`.`piano_rates`, `s0`.`teacher_id`, `s0`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s0`
WHERE (`s0`.`is_activate` = 1) AND (@_outer_TeacherId = `s0`.`teacher_id`)
LIMIT 1
2019-07-09 11:52:04.034 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_TeacherId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s0`.`rates_id`, `s0`.`create_at`, `s0`.`group_rates`, `s0`.`is_activate`, `s0`.`others_rates`, `s0`.`piano_rates`, `s0`.`teacher_id`, `s0`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s0`
WHERE (`s0`.`is_activate` = 1) AND (@_outer_TeacherId = `s0`.`teacher_id`)
LIMIT 1
2019-07-09 11:52:04.206 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_TeacherId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s0`.`rates_id`, `s0`.`create_at`, `s0`.`group_rates`, `s0`.`is_activate`, `s0`.`others_rates`, `s0`.`piano_rates`, `s0`.`teacher_id`, `s0`.`theory_rates`
FROM `ablemusic`.`teacher_wage_rates` AS `s0`
WHERE (`s0`.`is_activate` = 1) AND (@_outer_TeacherId = `s0`.`teacher_id`)
LIMIT 1
2019-07-09 11:52:04.206 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TeacherController.GetTeacher (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 10276.9768ms.
2019-07-09 11:52:04.207 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 11:52:04.209 +12:00 [INF] Executed action Pegasus_backend.Controllers.TeacherController.GetTeacher (Pegasus_backend) in 10279.4699ms
2019-07-09 11:52:04.209 +12:00 [INF] Request finished in 10346.3555ms 200 application/json; charset=utf-8
2019-07-09 11:52:59.640 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsBetweenDate/3/2019-07-03/2019-07-09  
2019-07-09 11:52:59.642 +12:00 [INF] Policy execution successful.
2019-07-09 11:52:59.663 +12:00 [INF] Route matched with {action = "GetLessonsBetweenDate", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsBetweenDate(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32]) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-09 11:52:59.667 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend) - Validation state: "Valid"
2019-07-09 11:52:59.678 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 11:52:59.869 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-09 11:53:00.056 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-09 11:53:00.088 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 11:53:00.088 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 11:53:00.088 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 11:53:00.089 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 11:53:00.089 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 11:53:00.089 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 11:53:00.144 +12:00 [WRN] The LINQ expression 'where ((__8__locals1_beginDate_Value_Date_0 <= Convert([s].EndTime, DateTime).Date) AndAlso (Convert([s].EndTime, DateTime).Date <= __8__locals1_endDate_Value_Date_1))' could not be translated and will be evaluated locally.
2019-07-09 11:53:00.442 +12:00 [INF] Executed DbCommand (83ms) [Parameters=[@__orgId_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`end_time` AS `EndTime`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.Teacher`.`first_name` AS `TeacherFirstName`, `s`.`begin_time` AS `BeginTime`, `s`.`lesson_id` AS `LessonId`, `s.Room`.`room_name` AS `Room`, `s.Org`.`org_name` AS `Branch`, `s`.`is_canceled` AS `IsCanceled`, `s`.`reason` AS `CancelReson`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_trial` AS `IsTrial`, `s.Learner`.`first_name` AS `Learner`, `s`.`learner_id` AS `LearnerId`, `s`.`room_id` AS `RoomId`, `s`.`teacher_id` AS `TeacherId`, `s`.`org_id` AS `OrgId`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE `s`.`org_id` = @__orgId_2
2019-07-09 11:53:00.722 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1054.5333ms.
2019-07-09 11:53:00.722 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 11:53:00.741 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend) in 1078.0832ms
2019-07-09 11:53:00.742 +12:00 [INF] Request finished in 1101.3277ms 200 application/json; charset=utf-8
2019-07-09 11:53:23.171 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/teacherfilter/sessionEditFilter/1  
2019-07-09 11:53:23.171 +12:00 [INF] Policy execution successful.
2019-07-09 11:53:23.178 +12:00 [INF] Route matched with {action = "sessionEditFilterGet", controller = "TeacherFilter"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] sessionEditFilterGet(Int32) on controller Pegasus_backend.Controllers.TeacherFilterController (Pegasus_backend).
2019-07-09 11:53:23.178 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TeacherFilterController.sessionEditFilterGet (Pegasus_backend) - Validation state: "Valid"
2019-07-09 11:53:23.191 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 11:53:23.364 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`org_id` AS `OrgId`, `o`.`org_name` AS `OrgName`
FROM `ablemusic`.`org` AS `o`
2019-07-09 11:53:23.536 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `r`.`room_id` AS `RoomId`, `r`.`room_name` AS `RoomName`, `r`.`org_id` AS `OrgId`
FROM `ablemusic`.`room` AS `r`
2019-07-09 11:53:23.543 +12:00 [WRN] Query: '(from <>f__AnonymousType103<short, string, string, Nullable<short>, Nullable<byte>> <generated>_1 in...' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-07-09 11:53:23.555 +12:00 [WRN] The LINQ expression 'GroupBy(new <>f__AnonymousType104`2(TeacherId = [t].TeacherId, TeacherAvailableOrgId = [ta].OrgId), new <>f__AnonymousType103`5(TeacherId = [t].TeacherId, TeacherFirstName = [t].FirstName, TeacherLastName = [t].LastName, TeacherAvailableOrgId = [ta].OrgId, TeacherLevelId = [t].Level))' could not be translated and will be evaluated locally.
2019-07-09 11:53:23.556 +12:00 [WRN] The LINQ expression 'FirstOrDefault()' could not be translated and will be evaluated locally.
2019-07-09 11:53:23.753 +12:00 [INF] Executed DbCommand (62ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`teacher_id` AS `TeacherId`, `t`.`first_name` AS `TeacherFirstName`, `t`.`last_name` AS `TeacherLastName`, `ta`.`org_id` AS `TeacherAvailableOrgId`, `t`.`level` AS `TeacherLevelId`
FROM `ablemusic`.`teacher` AS `t`
INNER JOIN `ablemusic`.`available_days` AS `ta` ON `t`.`teacher_id` = `ta`.`teacher_id`
INNER JOIN `ablemusic`.`teacher_course` AS `tc` ON `t`.`teacher_id` = `tc`.`teacher_id`
WHERE `tc`.`course_id` = @__courseId_0
ORDER BY `t`.`teacher_id`, `ta`.`org_id`
2019-07-09 11:53:23.772 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TeacherFilterController.sessionEditFilterGet (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 593.95040000000006ms.
2019-07-09 11:53:23.772 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 11:53:23.776 +12:00 [INF] Executed action Pegasus_backend.Controllers.TeacherFilterController.sessionEditFilterGet (Pegasus_backend) in 598.3644ms
2019-07-09 11:53:23.777 +12:00 [INF] Request finished in 605.9331ms 200 application/json; charset=utf-8
2019-07-09 11:53:25.998 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsBetweenDate/3/2019-07-03/2019-07-09  
2019-07-09 11:53:25.999 +12:00 [INF] Policy execution successful.
2019-07-09 11:53:26.007 +12:00 [INF] Route matched with {action = "GetLessonsBetweenDate", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsBetweenDate(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32]) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-09 11:53:26.007 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend) - Validation state: "Valid"
2019-07-09 11:53:26.008 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 11:53:26.183 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-09 11:53:26.362 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-09 11:53:26.378 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 11:53:26.378 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 11:53:26.378 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 11:53:26.378 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 11:53:26.378 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 11:53:26.379 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 11:53:26.407 +12:00 [WRN] The LINQ expression 'where ((__8__locals1_beginDate_Value_Date_0 <= Convert([s].EndTime, DateTime).Date) AndAlso (Convert([s].EndTime, DateTime).Date <= __8__locals1_endDate_Value_Date_1))' could not be translated and will be evaluated locally.
2019-07-09 11:53:26.625 +12:00 [INF] Executed DbCommand (78ms) [Parameters=[@__orgId_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`end_time` AS `EndTime`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.Teacher`.`first_name` AS `TeacherFirstName`, `s`.`begin_time` AS `BeginTime`, `s`.`lesson_id` AS `LessonId`, `s.Room`.`room_name` AS `Room`, `s.Org`.`org_name` AS `Branch`, `s`.`is_canceled` AS `IsCanceled`, `s`.`reason` AS `CancelReson`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_trial` AS `IsTrial`, `s.Learner`.`first_name` AS `Learner`, `s`.`learner_id` AS `LearnerId`, `s`.`room_id` AS `RoomId`, `s`.`teacher_id` AS `TeacherId`, `s`.`org_id` AS `OrgId`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE `s`.`org_id` = @__orgId_2
2019-07-09 11:53:26.804 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 797.2328ms.
2019-07-09 11:53:26.805 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 11:53:26.805 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend) in 798.4824ms
2019-07-09 11:53:26.805 +12:00 [INF] Request finished in 807.7689ms 200 application/json; charset=utf-8
2019-07-09 11:53:34.985 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/session/11411/ccc/3  
2019-07-09 11:53:34.985 +12:00 [INF] Policy execution successful.
2019-07-09 11:53:34.986 +12:00 [INF] Request finished in 0.6388ms 204 
2019-07-09 11:53:34.999 +12:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/session/11411/ccc/3  0
2019-07-09 11:53:34.999 +12:00 [INF] Policy execution successful.
2019-07-09 11:53:35.006 +12:00 [INF] Route matched with {action = "PutSesson", controller = "Session"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PutSesson(Int32, System.String, Int16) on controller Pegasus_backend.Controllers.SessionController (Pegasus_backend).
2019-07-09 11:53:35.006 +12:00 [INF] Executing action method Pegasus_backend.Controllers.SessionController.PutSesson (Pegasus_backend) - Validation state: "Valid"
2019-07-09 11:53:35.034 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 11:53:35.224 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__sessionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`lesson_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`created_at`, `x`.`end_time`, `x`.`group_course_instance_id`, `x`.`invoice_id`, `x`.`is_canceled`, `x`.`is_changed`, `x`.`is_confirm`, `x`.`is_trial`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`, `x`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `x`
WHERE `x`.`lesson_id` = @__sessionId_0
LIMIT 1
2019-07-09 11:53:35.414 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__userId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`user_id`, `u`.`created_at`, `u`.`is_activate`, `u`.`is_online`, `u`.`password`, `u`.`role_id`, `u`.`signature`, `u`.`unread_message_id`, `u`.`user_name`
FROM `ablemusic`.`user` AS `u`
WHERE `u`.`user_id` = @__userId_0
LIMIT 1
2019-07-09 11:53:41.535 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__lesson_TeacherId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`teacher_id`, `t`.`ability`, `t`.`comment`, `t`.`cv_url`, `t`.`dob`, `t`.`email`, `t`.`expiry_date`, `t`.`first_name`, `t`.`form_url`, `t`.`gender`, `t`.`home_phone`, `t`.`id_number`, `t`.`id_photo`, `t`.`id_type`, `t`.`invoice_template`, `t`.`ird_number`, `t`.`is_activate`, `t`.`is_contract`, `t`.`is_left`, `t`.`last_name`, `t`.`level`, `t`.`minimum_hours`, `t`.`mobile_phone`, `t`.`otherfile_url`, `t`.`photo`, `t`.`user_id`, `t`.`visa`
FROM `ablemusic`.`teacher` AS `t`
WHERE `t`.`teacher_id` = @__lesson_TeacherId_0
LIMIT 1
2019-07-09 11:53:41.753 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__lesson_GroupCourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`course_id` AS `CourseId`, `c`.`course_name` AS `CourseName`
FROM `ablemusic`.`course` AS `c`
INNER JOIN `ablemusic`.`group_course_instance` AS `gc` ON `c`.`course_id` = `gc`.`course_id`
WHERE `gc`.`group_course_instance_id` = @__lesson_GroupCourseInstanceId_0
LIMIT 1
2019-07-09 11:53:41.935 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `h`.`holiday_id`, `h`.`holiday_date`, `h`.`holiday_name`
FROM `ablemusic`.`holiday` AS `h`
2019-07-09 11:53:53.411 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__lesson_GroupCourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id` AS `LearnerId`, `l`.`first_name` AS `FirstName`, `l`.`last_name` AS `LastName`, `l`.`email`
FROM `ablemusic`.`learner_group_course` AS `lgc`
INNER JOIN `ablemusic`.`learner` AS `l` ON `lgc`.`learner_id` = `l`.`learner_id`
WHERE `lgc`.`group_course_instance_id` = @__lesson_GroupCourseInstanceId_0
2019-07-09 11:53:53.534 +12:00 [INF] Executed action Pegasus_backend.Controllers.SessionController.PutSesson (Pegasus_backend) in 18527.3842ms
2019-07-09 11:53:53.536 +12:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: An item with the same key has already been added. Key: 1
   at System.Collections.Generic.Dictionary`2.TryInsert(TKey key, TValue value, InsertionBehavior behavior)
   at System.Collections.Generic.Dictionary`2.Add(TKey key, TValue value)
   at Pegasus_backend.Controllers.SessionController.PutSesson(Int32 sessionId, String reason, Int16 userId) in c:\Users\Learnspace\source\pegasusBackend\Controllers\SessionController.cs:line 727
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-07-09 11:53:53.576 +12:00 [INF] Request finished in 18577.3042ms 500 text/html; charset=utf-8
2019-07-09 11:54:48.036 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsBetweenDate/3/2019-07-03/2019-07-09  
2019-07-09 11:54:48.036 +12:00 [INF] Policy execution successful.
2019-07-09 11:54:48.037 +12:00 [INF] Route matched with {action = "GetLessonsBetweenDate", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsBetweenDate(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32]) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-09 11:54:48.037 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend) - Validation state: "Valid"
2019-07-09 11:54:48.038 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 11:54:48.214 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-09 11:54:48.389 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-09 11:54:48.397 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 11:54:48.397 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 11:54:48.397 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 11:54:48.397 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 11:54:48.397 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 11:54:48.398 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 11:54:48.422 +12:00 [WRN] The LINQ expression 'where ((__8__locals1_beginDate_Value_Date_0 <= Convert([s].EndTime, DateTime).Date) AndAlso (Convert([s].EndTime, DateTime).Date <= __8__locals1_endDate_Value_Date_1))' could not be translated and will be evaluated locally.
2019-07-09 11:54:48.662 +12:00 [INF] Executed DbCommand (93ms) [Parameters=[@__orgId_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`end_time` AS `EndTime`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.Teacher`.`first_name` AS `TeacherFirstName`, `s`.`begin_time` AS `BeginTime`, `s`.`lesson_id` AS `LessonId`, `s.Room`.`room_name` AS `Room`, `s.Org`.`org_name` AS `Branch`, `s`.`is_canceled` AS `IsCanceled`, `s`.`reason` AS `CancelReson`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_trial` AS `IsTrial`, `s.Learner`.`first_name` AS `Learner`, `s`.`learner_id` AS `LearnerId`, `s`.`room_id` AS `RoomId`, `s`.`teacher_id` AS `TeacherId`, `s`.`org_id` AS `OrgId`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE `s`.`org_id` = @__orgId_2
2019-07-09 11:54:49.513 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1475.1751000000002ms.
2019-07-09 11:54:49.513 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 11:54:49.514 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend) in 1477.111ms
2019-07-09 11:54:49.514 +12:00 [INF] Request finished in 1478.3396ms 200 application/json; charset=utf-8
2019-07-09 11:54:58.467 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/session/11411/ccc/3  
2019-07-09 11:54:58.467 +12:00 [INF] Policy execution successful.
2019-07-09 11:54:58.467 +12:00 [INF] Request finished in 0.4644ms 204 
2019-07-09 11:54:58.472 +12:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/session/11411/ccc/3  0
2019-07-09 11:54:58.472 +12:00 [INF] Policy execution successful.
2019-07-09 11:54:58.473 +12:00 [INF] Route matched with {action = "PutSesson", controller = "Session"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PutSesson(Int32, System.String, Int16) on controller Pegasus_backend.Controllers.SessionController (Pegasus_backend).
2019-07-09 11:54:58.473 +12:00 [INF] Executing action method Pegasus_backend.Controllers.SessionController.PutSesson (Pegasus_backend) - Validation state: "Valid"
2019-07-09 11:54:58.475 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 11:54:58.656 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__sessionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`lesson_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`created_at`, `x`.`end_time`, `x`.`group_course_instance_id`, `x`.`invoice_id`, `x`.`is_canceled`, `x`.`is_changed`, `x`.`is_confirm`, `x`.`is_trial`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`, `x`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `x`
WHERE `x`.`lesson_id` = @__sessionId_0
LIMIT 1
2019-07-09 11:54:58.817 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__userId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`user_id`, `u`.`created_at`, `u`.`is_activate`, `u`.`is_online`, `u`.`password`, `u`.`role_id`, `u`.`signature`, `u`.`unread_message_id`, `u`.`user_name`
FROM `ablemusic`.`user` AS `u`
WHERE `u`.`user_id` = @__userId_0
LIMIT 1
2019-07-09 11:55:30.528 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__lesson_TeacherId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`teacher_id`, `t`.`ability`, `t`.`comment`, `t`.`cv_url`, `t`.`dob`, `t`.`email`, `t`.`expiry_date`, `t`.`first_name`, `t`.`form_url`, `t`.`gender`, `t`.`home_phone`, `t`.`id_number`, `t`.`id_photo`, `t`.`id_type`, `t`.`invoice_template`, `t`.`ird_number`, `t`.`is_activate`, `t`.`is_contract`, `t`.`is_left`, `t`.`last_name`, `t`.`level`, `t`.`minimum_hours`, `t`.`mobile_phone`, `t`.`otherfile_url`, `t`.`photo`, `t`.`user_id`, `t`.`visa`
FROM `ablemusic`.`teacher` AS `t`
WHERE `t`.`teacher_id` = @__lesson_TeacherId_0
LIMIT 1
2019-07-09 12:04:28.892 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsBetweenDate/3/2019-07-03/2019-07-09  
2019-07-09 12:04:28.898 +12:00 [INF] Policy execution successful.
2019-07-09 12:04:28.906 +12:00 [INF] Route matched with {action = "GetLessonsBetweenDate", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsBetweenDate(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32]) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-09 12:04:28.916 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/mike  
2019-07-09 12:04:28.917 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:04:28.917 +12:00 [INF] Policy execution successful.
2019-07-09 12:04:28.918 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/mike  
2019-07-09 12:04:28.919 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/mike  
2019-07-09 12:04:28.919 +12:00 [INF] Policy execution successful.
2019-07-09 12:04:28.919 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:04:28.919 +12:00 [INF] Policy execution successful.
2019-07-09 12:04:28.920 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/mike  
2019-07-09 12:04:28.920 +12:00 [INF] Route matched with {action = "GetLearner", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearner(System.String) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-09 12:04:28.920 +12:00 [INF] Route matched with {action = "GetLearner", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearner(System.String) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-09 12:04:28.920 +12:00 [INF] Policy execution successful.
2019-07-09 12:04:28.920 +12:00 [INF] Route matched with {action = "GetLearner", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearner(System.String) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-09 12:04:28.920 +12:00 [INF] Route matched with {action = "GetLearner", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearner(System.String) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-09 12:04:28.921 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:04:28.921 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:04:28.921 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:04:28.921 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:04:28.923 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:04:28.923 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:04:28.928 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:04:28.928 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:04:29.579 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__lesson_GroupCourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`course_id` AS `CourseId`, `c`.`course_name` AS `CourseName`
FROM `ablemusic`.`course` AS `c`
INNER JOIN `ablemusic`.`group_course_instance` AS `gc` ON `c`.`course_id` = `gc`.`course_id`
WHERE `gc`.`group_course_instance_id` = @__lesson_GroupCourseInstanceId_0
LIMIT 1
2019-07-09 12:04:29.584 +12:00 [INF] Executed DbCommand (61ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`learner_id`, `s`.`address`, `s`.`comment`, `s`.`contact_num`, `s`.`created_at`, `s`.`dob`, `s`.`email`, `s`.`enroll_date`, `s`.`first_name`, `s`.`form_url`, `s`.`g5_certification`, `s`.`gender`, `s`.`is_abrsm_g5`, `s`.`is_active`, `s`.`is_under_18`, `s`.`last_name`, `s`.`learner_level`, `s`.`level_type`, `s`.`middle_name`, `s`.`note`, `s`.`org_id`, `s`.`otherfile_url`, `s`.`payment_period`, `s`.`photo`, `s`.`referrer`, `s`.`referrer_learner_id`, `s`.`user_id`
FROM `ablemusic`.`learner` AS `s`
WHERE (`s`.`is_active` = 1) AND `s`.`first_name` LIKE concat('%', @__name_0, '%')
ORDER BY `s`.`learner_id`
2019-07-09 12:04:29.591 +12:00 [INF] Executed DbCommand (68ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`learner_id`, `s`.`address`, `s`.`comment`, `s`.`contact_num`, `s`.`created_at`, `s`.`dob`, `s`.`email`, `s`.`enroll_date`, `s`.`first_name`, `s`.`form_url`, `s`.`g5_certification`, `s`.`gender`, `s`.`is_abrsm_g5`, `s`.`is_active`, `s`.`is_under_18`, `s`.`last_name`, `s`.`learner_level`, `s`.`level_type`, `s`.`middle_name`, `s`.`note`, `s`.`org_id`, `s`.`otherfile_url`, `s`.`payment_period`, `s`.`photo`, `s`.`referrer`, `s`.`referrer_learner_id`, `s`.`user_id`
FROM `ablemusic`.`learner` AS `s`
WHERE (`s`.`is_active` = 1) AND `s`.`first_name` LIKE concat('%', @__name_0, '%')
ORDER BY `s`.`learner_id`
2019-07-09 12:04:29.594 +12:00 [INF] Executed DbCommand (71ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-09 12:04:29.605 +12:00 [INF] Executed DbCommand (67ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`learner_id`, `s`.`address`, `s`.`comment`, `s`.`contact_num`, `s`.`created_at`, `s`.`dob`, `s`.`email`, `s`.`enroll_date`, `s`.`first_name`, `s`.`form_url`, `s`.`g5_certification`, `s`.`gender`, `s`.`is_abrsm_g5`, `s`.`is_active`, `s`.`is_under_18`, `s`.`last_name`, `s`.`learner_level`, `s`.`level_type`, `s`.`middle_name`, `s`.`note`, `s`.`org_id`, `s`.`otherfile_url`, `s`.`payment_period`, `s`.`photo`, `s`.`referrer`, `s`.`referrer_learner_id`, `s`.`user_id`
FROM `ablemusic`.`learner` AS `s`
WHERE (`s`.`is_active` = 1) AND `s`.`first_name` LIKE concat('%', @__name_0, '%')
ORDER BY `s`.`learner_id`
2019-07-09 12:04:29.609 +12:00 [INF] Executed DbCommand (71ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`learner_id`, `s`.`address`, `s`.`comment`, `s`.`contact_num`, `s`.`created_at`, `s`.`dob`, `s`.`email`, `s`.`enroll_date`, `s`.`first_name`, `s`.`form_url`, `s`.`g5_certification`, `s`.`gender`, `s`.`is_abrsm_g5`, `s`.`is_active`, `s`.`is_under_18`, `s`.`last_name`, `s`.`learner_level`, `s`.`level_type`, `s`.`middle_name`, `s`.`note`, `s`.`org_id`, `s`.`otherfile_url`, `s`.`payment_period`, `s`.`photo`, `s`.`referrer`, `s`.`referrer_learner_id`, `s`.`user_id`
FROM `ablemusic`.`learner` AS `s`
WHERE (`s`.`is_active` = 1) AND `s`.`first_name` LIKE concat('%', @__name_0, '%')
ORDER BY `s`.`learner_id`
2019-07-09 12:04:29.640 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.LearnerOthers`.`learner_others_id`, `s.LearnerOthers`.`learner_id`, `s.LearnerOthers`.`learner_level`, `s.LearnerOthers`.`others_type`, `s.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `s.LearnerOthers`
INNER JOIN (
    SELECT `s0`.`learner_id`
    FROM `ablemusic`.`learner` AS `s0`
    WHERE (`s0`.`is_active` = 1) AND `s0`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t` ON `s.LearnerOthers`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-09 12:04:29.646 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.LearnerOthers`.`learner_others_id`, `s.LearnerOthers`.`learner_id`, `s.LearnerOthers`.`learner_level`, `s.LearnerOthers`.`others_type`, `s.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `s.LearnerOthers`
INNER JOIN (
    SELECT `s0`.`learner_id`
    FROM `ablemusic`.`learner` AS `s0`
    WHERE (`s0`.`is_active` = 1) AND `s0`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t` ON `s.LearnerOthers`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-09 12:04:29.665 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.LearnerOthers`.`learner_others_id`, `s.LearnerOthers`.`learner_id`, `s.LearnerOthers`.`learner_level`, `s.LearnerOthers`.`others_type`, `s.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `s.LearnerOthers`
INNER JOIN (
    SELECT `s0`.`learner_id`
    FROM `ablemusic`.`learner` AS `s0`
    WHERE (`s0`.`is_active` = 1) AND `s0`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t` ON `s.LearnerOthers`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-09 12:04:29.667 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.LearnerOthers`.`learner_others_id`, `s.LearnerOthers`.`learner_id`, `s.LearnerOthers`.`learner_level`, `s.LearnerOthers`.`others_type`, `s.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `s.LearnerOthers`
INNER JOIN (
    SELECT `s0`.`learner_id`
    FROM `ablemusic`.`learner` AS `s0`
    WHERE (`s0`.`is_active` = 1) AND `s0`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t` ON `s.LearnerOthers`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-09 12:04:29.694 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Parent`.`parent_id`, `s.Parent`.`contact_num`, `s.Parent`.`created_at`, `s.Parent`.`email`, `s.Parent`.`first_name`, `s.Parent`.`last_name`, `s.Parent`.`learner_id`, `s.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `s.Parent`
INNER JOIN (
    SELECT `s1`.`learner_id`
    FROM `ablemusic`.`learner` AS `s1`
    WHERE (`s1`.`is_active` = 1) AND `s1`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t0` ON `s.Parent`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-09 12:04:29.704 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Parent`.`parent_id`, `s.Parent`.`contact_num`, `s.Parent`.`created_at`, `s.Parent`.`email`, `s.Parent`.`first_name`, `s.Parent`.`last_name`, `s.Parent`.`learner_id`, `s.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `s.Parent`
INNER JOIN (
    SELECT `s1`.`learner_id`
    FROM `ablemusic`.`learner` AS `s1`
    WHERE (`s1`.`is_active` = 1) AND `s1`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t0` ON `s.Parent`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-09 12:04:29.720 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Parent`.`parent_id`, `s.Parent`.`contact_num`, `s.Parent`.`created_at`, `s.Parent`.`email`, `s.Parent`.`first_name`, `s.Parent`.`last_name`, `s.Parent`.`learner_id`, `s.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `s.Parent`
INNER JOIN (
    SELECT `s1`.`learner_id`
    FROM `ablemusic`.`learner` AS `s1`
    WHERE (`s1`.`is_active` = 1) AND `s1`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t0` ON `s.Parent`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-09 12:04:29.726 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Parent`.`parent_id`, `s.Parent`.`contact_num`, `s.Parent`.`created_at`, `s.Parent`.`email`, `s.Parent`.`first_name`, `s.Parent`.`last_name`, `s.Parent`.`learner_id`, `s.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `s.Parent`
INNER JOIN (
    SELECT `s1`.`learner_id`
    FROM `ablemusic`.`learner` AS `s1`
    WHERE (`s1`.`is_active` = 1) AND `s1`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t0` ON `s.Parent`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-09 12:04:29.741 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `h`.`holiday_id`, `h`.`holiday_date`, `h`.`holiday_name`
FROM `ablemusic`.`holiday` AS `h`
2019-07-09 12:04:33.396 +12:00 [INF] Executed DbCommand (3,677ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-09 12:04:33.396 +12:00 [INF] Executed DbCommand (3,701ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.One2oneCourseInstance`.`course_instance_id`, `s.One2oneCourseInstance`.`begin_date`, `s.One2oneCourseInstance`.`course_id`, `s.One2oneCourseInstance`.`end_date`, `s.One2oneCourseInstance`.`invoice_date`, `s.One2oneCourseInstance`.`learner_id`, `s.One2oneCourseInstance`.`org_id`, `s.One2oneCourseInstance`.`room_id`, `s.One2oneCourseInstance`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `s.One2oneCourseInstance`
INNER JOIN (
    SELECT `s2`.`learner_id`
    FROM `ablemusic`.`learner` AS `s2`
    WHERE (`s2`.`is_active` = 1) AND `s2`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t1` ON `s.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`
2019-07-09 12:04:33.396 +12:00 [INF] Executed DbCommand (3,670ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.One2oneCourseInstance`.`course_instance_id`, `s.One2oneCourseInstance`.`begin_date`, `s.One2oneCourseInstance`.`course_id`, `s.One2oneCourseInstance`.`end_date`, `s.One2oneCourseInstance`.`invoice_date`, `s.One2oneCourseInstance`.`learner_id`, `s.One2oneCourseInstance`.`org_id`, `s.One2oneCourseInstance`.`room_id`, `s.One2oneCourseInstance`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `s.One2oneCourseInstance`
INNER JOIN (
    SELECT `s2`.`learner_id`
    FROM `ablemusic`.`learner` AS `s2`
    WHERE (`s2`.`is_active` = 1) AND `s2`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t1` ON `s.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`
2019-07-09 12:04:33.396 +12:00 [INF] Executed DbCommand (3,676ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.One2oneCourseInstance`.`course_instance_id`, `s.One2oneCourseInstance`.`begin_date`, `s.One2oneCourseInstance`.`course_id`, `s.One2oneCourseInstance`.`end_date`, `s.One2oneCourseInstance`.`invoice_date`, `s.One2oneCourseInstance`.`learner_id`, `s.One2oneCourseInstance`.`org_id`, `s.One2oneCourseInstance`.`room_id`, `s.One2oneCourseInstance`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `s.One2oneCourseInstance`
INNER JOIN (
    SELECT `s2`.`learner_id`
    FROM `ablemusic`.`learner` AS `s2`
    WHERE (`s2`.`is_active` = 1) AND `s2`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t1` ON `s.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`
2019-07-09 12:04:33.397 +12:00 [INF] Executed DbCommand (3,693ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.One2oneCourseInstance`.`course_instance_id`, `s.One2oneCourseInstance`.`begin_date`, `s.One2oneCourseInstance`.`course_id`, `s.One2oneCourseInstance`.`end_date`, `s.One2oneCourseInstance`.`invoice_date`, `s.One2oneCourseInstance`.`learner_id`, `s.One2oneCourseInstance`.`org_id`, `s.One2oneCourseInstance`.`room_id`, `s.One2oneCourseInstance`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `s.One2oneCourseInstance`
INNER JOIN (
    SELECT `s2`.`learner_id`
    FROM `ablemusic`.`learner` AS `s2`
    WHERE (`s2`.`is_active` = 1) AND `s2`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t1` ON `s.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`
2019-07-09 12:04:33.409 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:04:33.409 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:04:33.409 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:04:33.409 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:04:33.409 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:04:33.409 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:04:33.444 +12:00 [WRN] The LINQ expression 'where ((__8__locals1_beginDate_Value_Date_0 <= Convert([s].EndTime, DateTime).Date) AndAlso (Convert([s].EndTime, DateTime).Date <= __8__locals1_endDate_Value_Date_1))' could not be translated and will be evaluated locally.
2019-07-09 12:04:33.459 +12:00 [INF] Executed DbCommand (62ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.LearnerGroupCourse`.`learner_group_course_id`, `s.LearnerGroupCourse`.`begin_date`, `s.LearnerGroupCourse`.`comment`, `s.LearnerGroupCourse`.`created_at`, `s.LearnerGroupCourse`.`end_date`, `s.LearnerGroupCourse`.`group_course_instance_id`, `s.LearnerGroupCourse`.`invoice_date`, `s.LearnerGroupCourse`.`is_activate`, `s.LearnerGroupCourse`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `s.LearnerGroupCourse`
INNER JOIN (
    SELECT `s3`.`learner_id`
    FROM `ablemusic`.`learner` AS `s3`
    WHERE (`s3`.`is_active` = 1) AND `s3`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t2` ON `s.LearnerGroupCourse`.`learner_id` = `t2`.`learner_id`
ORDER BY `t2`.`learner_id`
2019-07-09 12:04:33.461 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4540.3172ms.
2019-07-09 12:04:33.462 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.IEnumerable`1[[Pegasus_backend.pegasusContext.Learner, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:04:33.463 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) in 4542.5007000000005ms
2019-07-09 12:04:33.463 +12:00 [INF] Request finished in 4544.4794ms 200 application/json; charset=utf-8
2019-07-09 12:04:33.466 +12:00 [INF] Executed DbCommand (70ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.LearnerGroupCourse`.`learner_group_course_id`, `s.LearnerGroupCourse`.`begin_date`, `s.LearnerGroupCourse`.`comment`, `s.LearnerGroupCourse`.`created_at`, `s.LearnerGroupCourse`.`end_date`, `s.LearnerGroupCourse`.`group_course_instance_id`, `s.LearnerGroupCourse`.`invoice_date`, `s.LearnerGroupCourse`.`is_activate`, `s.LearnerGroupCourse`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `s.LearnerGroupCourse`
INNER JOIN (
    SELECT `s3`.`learner_id`
    FROM `ablemusic`.`learner` AS `s3`
    WHERE (`s3`.`is_active` = 1) AND `s3`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t2` ON `s.LearnerGroupCourse`.`learner_id` = `t2`.`learner_id`
ORDER BY `t2`.`learner_id`
2019-07-09 12:04:33.469 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4547.8987000000006ms.
2019-07-09 12:04:33.469 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.IEnumerable`1[[Pegasus_backend.pegasusContext.Learner, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:04:33.470 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) in 4549.0315ms
2019-07-09 12:04:33.470 +12:00 [INF] Request finished in 4552.3654ms 200 application/json; charset=utf-8
2019-07-09 12:04:33.477 +12:00 [INF] Executed DbCommand (80ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.LearnerGroupCourse`.`learner_group_course_id`, `s.LearnerGroupCourse`.`begin_date`, `s.LearnerGroupCourse`.`comment`, `s.LearnerGroupCourse`.`created_at`, `s.LearnerGroupCourse`.`end_date`, `s.LearnerGroupCourse`.`group_course_instance_id`, `s.LearnerGroupCourse`.`invoice_date`, `s.LearnerGroupCourse`.`is_activate`, `s.LearnerGroupCourse`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `s.LearnerGroupCourse`
INNER JOIN (
    SELECT `s3`.`learner_id`
    FROM `ablemusic`.`learner` AS `s3`
    WHERE (`s3`.`is_active` = 1) AND `s3`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t2` ON `s.LearnerGroupCourse`.`learner_id` = `t2`.`learner_id`
ORDER BY `t2`.`learner_id`
2019-07-09 12:04:33.479 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4556.3069000000005ms.
2019-07-09 12:04:33.479 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.IEnumerable`1[[Pegasus_backend.pegasusContext.Learner, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:04:33.480 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) in 4559.6502ms
2019-07-09 12:04:33.480 +12:00 [INF] Request finished in 4563.5412ms 200 application/json; charset=utf-8
2019-07-09 12:04:33.482 +12:00 [INF] Executed DbCommand (84ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.LearnerGroupCourse`.`learner_group_course_id`, `s.LearnerGroupCourse`.`begin_date`, `s.LearnerGroupCourse`.`comment`, `s.LearnerGroupCourse`.`created_at`, `s.LearnerGroupCourse`.`end_date`, `s.LearnerGroupCourse`.`group_course_instance_id`, `s.LearnerGroupCourse`.`invoice_date`, `s.LearnerGroupCourse`.`is_activate`, `s.LearnerGroupCourse`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `s.LearnerGroupCourse`
INNER JOIN (
    SELECT `s3`.`learner_id`
    FROM `ablemusic`.`learner` AS `s3`
    WHERE (`s3`.`is_active` = 1) AND `s3`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t2` ON `s.LearnerGroupCourse`.`learner_id` = `t2`.`learner_id`
ORDER BY `t2`.`learner_id`
2019-07-09 12:04:33.484 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4562.6231ms.
2019-07-09 12:04:33.484 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.IEnumerable`1[[Pegasus_backend.pegasusContext.Learner, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:04:33.484 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) in 4563.7597000000005ms
2019-07-09 12:04:33.485 +12:00 [INF] Request finished in 4564.9353ms 200 application/json; charset=utf-8
2019-07-09 12:04:33.591 +12:00 [INF] Executed DbCommand (68ms) [Parameters=[@__lesson_GroupCourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id` AS `LearnerId`, `l`.`first_name` AS `FirstName`, `l`.`last_name` AS `LastName`, `l`.`email`
FROM `ablemusic`.`learner_group_course` AS `lgc`
INNER JOIN `ablemusic`.`learner` AS `l` ON `lgc`.`learner_id` = `l`.`learner_id`
WHERE `lgc`.`group_course_instance_id` = @__lesson_GroupCourseInstanceId_0
2019-07-09 12:04:33.661 +12:00 [INF] Executed action Pegasus_backend.Controllers.SessionController.PutSesson (Pegasus_backend) in 575188.0466ms
2019-07-09 12:04:33.663 +12:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: An item with the same key has already been added. Key: 1
   at System.Collections.Generic.Dictionary`2.TryInsert(TKey key, TValue value, InsertionBehavior behavior)
   at System.Collections.Generic.Dictionary`2.Add(TKey key, TValue value)
   at Pegasus_backend.Controllers.SessionController.PutSesson(Int32 sessionId, String reason, Int16 userId) in c:\Users\Learnspace\source\pegasusBackend\Controllers\SessionController.cs:line 727
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-07-09 12:04:33.675 +12:00 [INF] Executed DbCommand (90ms) [Parameters=[@__orgId_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`end_time` AS `EndTime`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.Teacher`.`first_name` AS `TeacherFirstName`, `s`.`begin_time` AS `BeginTime`, `s`.`lesson_id` AS `LessonId`, `s.Room`.`room_name` AS `Room`, `s.Org`.`org_name` AS `Branch`, `s`.`is_canceled` AS `IsCanceled`, `s`.`reason` AS `CancelReson`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_trial` AS `IsTrial`, `s.Learner`.`first_name` AS `Learner`, `s`.`learner_id` AS `LearnerId`, `s`.`room_id` AS `RoomId`, `s`.`teacher_id` AS `TeacherId`, `s`.`org_id` AS `OrgId`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE `s`.`org_id` = @__orgId_2
2019-07-09 12:04:33.681 +12:00 [INF] Request finished in 575209.531ms 500 text/html; charset=utf-8
2019-07-09 12:04:33.841 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4923.6183ms.
2019-07-09 12:04:33.841 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:04:33.842 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend) in 4931.4231ms
2019-07-09 12:04:33.842 +12:00 [INF] Request finished in 4951.6806ms 200 application/json; charset=utf-8
2019-07-09 12:04:38.416 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/product/getCat  
2019-07-09 12:04:38.416 +12:00 [INF] Policy execution successful.
2019-07-09 12:04:38.424 +12:00 [INF] Route matched with {action = "GetCat", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetCat() on controller Pegasus_backend.Controllers.ProductController (Pegasus_backend).
2019-07-09 12:04:38.425 +12:00 [INF] Executing action method Pegasus_backend.Controllers.ProductController.GetCat (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:04:38.430 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:04:38.615 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`prod_cat_id` AS `ProdCatId`, `x`.`prod_cat_name` AS `ProdCatName`
FROM `ablemusic`.`prod_cat` AS `x`
2019-07-09 12:04:38.617 +12:00 [INF] Executed action method Pegasus_backend.Controllers.ProductController.GetCat (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 191.86200000000002ms.
2019-07-09 12:04:38.617 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:04:38.622 +12:00 [INF] Executed action Pegasus_backend.Controllers.ProductController.GetCat (Pegasus_backend) in 197.74280000000002ms
2019-07-09 12:04:38.622 +12:00 [INF] Request finished in 206.2113ms 200 application/json; charset=utf-8
2019-07-09 12:04:46.474 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/product/gettypebycat/1  
2019-07-09 12:04:46.474 +12:00 [INF] Policy execution successful.
2019-07-09 12:04:46.481 +12:00 [INF] Route matched with {action = "GetTypeByCat", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetTypeByCat(Int32) on controller Pegasus_backend.Controllers.ProductController (Pegasus_backend).
2019-07-09 12:04:46.481 +12:00 [INF] Executing action method Pegasus_backend.Controllers.ProductController.GetTypeByCat (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:04:46.488 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:04:46.496 +12:00 [WRN] The Include operation for navigation '[x].ProdType' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:04:46.686 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__cateid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`prod_cat_id` AS `ProdCatId`, `x`.`prod_cat_name` AS `ProdCatName`
FROM `ablemusic`.`prod_cat` AS `x`
WHERE `x`.`prod_cat_id` = @__cateid_0
2019-07-09 12:04:46.687 +12:00 [INF] Executed action method Pegasus_backend.Controllers.ProductController.GetTypeByCat (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 205.8632ms.
2019-07-09 12:04:46.687 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:04:46.874 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_ProdCatId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`prod_type_id` AS `ProdTypeId`, `s`.`prod_type_name` AS `ProdTypeName`
FROM `ablemusic`.`prod_type` AS `s`
WHERE @_outer_ProdCatId = `s`.`prod_cat_id`
2019-07-09 12:04:46.877 +12:00 [INF] Executed action Pegasus_backend.Controllers.ProductController.GetTypeByCat (Pegasus_backend) in 396.1378ms
2019-07-09 12:04:46.877 +12:00 [INF] Request finished in 403.3208ms 200 application/json; charset=utf-8
2019-07-09 12:04:47.666 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/product/getProdByType/1  
2019-07-09 12:04:47.666 +12:00 [INF] Policy execution successful.
2019-07-09 12:04:47.673 +12:00 [INF] Route matched with {action = "GetProdByType", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetProdByType(Int32) on controller Pegasus_backend.Controllers.ProductController (Pegasus_backend).
2019-07-09 12:04:47.675 +12:00 [INF] Executing action method Pegasus_backend.Controllers.ProductController.GetProdByType (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:04:47.682 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:04:47.690 +12:00 [WRN] The Include operation for navigation '[x].ProdType.ProdCat' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:04:47.888 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__typeid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`product_id` AS `ProductId`, `x`.`product_name` AS `ProductName`, `x`.`model`, `x`.`brand`, `x`.`sell_price` AS `SellPrice`, `x`.`wholesale_price` AS `WholesalePrice`, `x`.`prod_type_id` AS `ProdTypeId`, `x.ProdType`.`prod_type_name` AS `ProdTypeName`, `x.ProdType`.`prod_cat_id` AS `ProdCatId0`, `x.ProdType.ProdCat`.`prod_cat_id` AS `ProdCatId`, `x.ProdType.ProdCat`.`prod_cat_name` AS `ProdCatName`
FROM `ablemusic`.`product` AS `x`
LEFT JOIN `ablemusic`.`prod_type` AS `x.ProdType` ON `x`.`prod_type_id` = `x.ProdType`.`prod_type_id`
LEFT JOIN `ablemusic`.`prod_cat` AS `x.ProdType.ProdCat` ON `x.ProdType`.`prod_cat_id` = `x.ProdType.ProdCat`.`prod_cat_id`
WHERE `x`.`prod_type_id` = @__typeid_0
2019-07-09 12:04:47.895 +12:00 [INF] Executed action method Pegasus_backend.Controllers.ProductController.GetProdByType (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 219.6249ms.
2019-07-09 12:04:47.895 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:04:47.910 +12:00 [INF] Executed action Pegasus_backend.Controllers.ProductController.GetProdByType (Pegasus_backend) in 236.55630000000002ms
2019-07-09 12:04:47.910 +12:00 [INF] Request finished in 244.6219ms 200 application/json; charset=utf-8
2019-07-09 12:04:48.947 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/product/1  
2019-07-09 12:04:48.947 +12:00 [INF] Policy execution successful.
2019-07-09 12:04:48.953 +12:00 [INF] Route matched with {action = "GetProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetProduct(Int32) on controller Pegasus_backend.Controllers.ProductController (Pegasus_backend).
2019-07-09 12:04:48.955 +12:00 [INF] Executing action method Pegasus_backend.Controllers.ProductController.GetProduct (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:04:48.962 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:04:48.966 +12:00 [WRN] The Include operation for navigation '[x].ProdType.ProdCat' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:04:49.162 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`product_id` AS `ProductId`, `x`.`product_name` AS `ProductName`, `x`.`model`, `x`.`brand`, `x`.`sell_price` AS `SellPrice`, `x`.`wholesale_price` AS `WholesalePrice`, `x`.`prod_type_id` AS `ProdTypeId`, `x.ProdType`.`prod_type_name` AS `ProdTypeName`, `x.ProdType`.`prod_cat_id` AS `ProdCatId0`, `x.ProdType.ProdCat`.`prod_cat_id` AS `ProdCatId`, `x.ProdType.ProdCat`.`prod_cat_name` AS `ProdCatName`
FROM `ablemusic`.`product` AS `x`
LEFT JOIN `ablemusic`.`prod_type` AS `x.ProdType` ON `x`.`prod_type_id` = `x.ProdType`.`prod_type_id`
LEFT JOIN `ablemusic`.`prod_cat` AS `x.ProdType.ProdCat` ON `x.ProdType`.`prod_cat_id` = `x.ProdType.ProdCat`.`prod_cat_id`
WHERE `x`.`product_id` = @__id_0
2019-07-09 12:04:49.162 +12:00 [INF] Executed action method Pegasus_backend.Controllers.ProductController.GetProduct (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 207.3099ms.
2019-07-09 12:04:49.163 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:04:49.163 +12:00 [INF] Executed action Pegasus_backend.Controllers.ProductController.GetProduct (Pegasus_backend) in 209.4369ms
2019-07-09 12:04:49.163 +12:00 [INF] Request finished in 216.4848ms 200 application/json; charset=utf-8
2019-07-09 12:04:52.916 +12:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/payment/SaveProdPayment multipart/form-data; boundary=----WebKitFormBoundaryGygTOHfU9MTqjn89 309
2019-07-09 12:04:52.916 +12:00 [INF] Policy execution successful.
2019-07-09 12:04:52.921 +12:00 [INF] Route matched with {action = "SaveProdPayment", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveProdPayment(System.String) on controller Pegasus_backend.Controllers.PaymentController (Pegasus_backend).
2019-07-09 12:04:52.958 +12:00 [INF] Executing action method Pegasus_backend.Controllers.PaymentController.SaveProdPayment (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:04:53.077 +12:00 [INF] Executed action method Pegasus_backend.Controllers.PaymentController.SaveProdPayment (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 118.5905ms.
2019-07-09 12:04:53.081 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:04:53.081 +12:00 [INF] Executed action Pegasus_backend.Controllers.PaymentController.SaveProdPayment (Pegasus_backend) in 160.2807ms
2019-07-09 12:04:53.082 +12:00 [INF] Request finished in 165.7818ms 400 application/json; charset=utf-8
2019-07-09 12:05:11.234 +12:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/payment/SaveProdPayment multipart/form-data; boundary=----WebKitFormBoundary74NBHJu7cjrmQ7cn 643
2019-07-09 12:05:11.234 +12:00 [INF] Policy execution successful.
2019-07-09 12:05:11.235 +12:00 [INF] Route matched with {action = "SaveProdPayment", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveProdPayment(System.String) on controller Pegasus_backend.Controllers.PaymentController (Pegasus_backend).
2019-07-09 12:05:11.236 +12:00 [INF] Executing action method Pegasus_backend.Controllers.PaymentController.SaveProdPayment (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:05:11.301 +12:00 [INF] Executed action method Pegasus_backend.Controllers.PaymentController.SaveProdPayment (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 65.278900000000007ms.
2019-07-09 12:05:11.302 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:05:11.302 +12:00 [INF] Executed action Pegasus_backend.Controllers.PaymentController.SaveProdPayment (Pegasus_backend) in 67.2285ms
2019-07-09 12:05:11.302 +12:00 [INF] Request finished in 68.1676ms 400 application/json; charset=utf-8
2019-07-09 12:06:35.173 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lookups  
2019-07-09 12:06:35.177 +12:00 [INF] Policy execution successful.
2019-07-09 12:06:35.177 +12:00 [INF] Request finished in 4.3755ms 204 
2019-07-09 12:06:35.185 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/navitems  
2019-07-09 12:06:35.185 +12:00 [INF] Policy execution successful.
2019-07-09 12:06:35.186 +12:00 [INF] Request finished in 0.7445ms 204 
2019-07-09 12:06:35.277 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner  
2019-07-09 12:06:35.278 +12:00 [INF] Policy execution successful.
2019-07-09 12:06:35.278 +12:00 [INF] Route matched with {action = "GetLearner", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearner() on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-09 12:06:35.278 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:06:35.280 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:06:35.289 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/product/getCat  
2019-07-09 12:06:35.290 +12:00 [INF] Policy execution successful.
2019-07-09 12:06:35.290 +12:00 [INF] Route matched with {action = "GetCat", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetCat() on controller Pegasus_backend.Controllers.ProductController (Pegasus_backend).
2019-07-09 12:06:35.291 +12:00 [INF] Executing action method Pegasus_backend.Controllers.ProductController.GetCat (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:06:35.291 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:06:35.328 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/staff/Photos/2190613092457108.jpg  
2019-07-09 12:06:35.330 +12:00 [INF] Request finished in 1.1571ms 404 
2019-07-09 12:06:35.466 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`prod_cat_id` AS `ProdCatId`, `x`.`prod_cat_name` AS `ProdCatName`
FROM `ablemusic`.`prod_cat` AS `x`
2019-07-09 12:06:35.466 +12:00 [INF] Executed action method Pegasus_backend.Controllers.ProductController.GetCat (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 175.23510000000002ms.
2019-07-09 12:06:35.466 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:06:35.466 +12:00 [INF] Executed action Pegasus_backend.Controllers.ProductController.GetCat (Pegasus_backend) in 176.00910000000002ms
2019-07-09 12:06:35.467 +12:00 [INF] Request finished in 177.9134ms 200 application/json; charset=utf-8
2019-07-09 12:06:35.477 +12:00 [INF] Executed DbCommand (64ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`is_active` = 1
ORDER BY `w`.`learner_id`
2019-07-09 12:06:35.538 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Parent`.`parent_id`, `w.Parent`.`contact_num`, `w.Parent`.`created_at`, `w.Parent`.`email`, `w.Parent`.`first_name`, `w.Parent`.`last_name`, `w.Parent`.`learner_id`, `w.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `w.Parent`
INNER JOIN (
    SELECT `w0`.`learner_id`
    FROM `ablemusic`.`learner` AS `w0`
    WHERE `w0`.`is_active` = 1
) AS `t` ON `w.Parent`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-09 12:06:35.594 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerOthers`.`learner_others_id`, `w.LearnerOthers`.`learner_id`, `w.LearnerOthers`.`learner_level`, `w.LearnerOthers`.`others_type`, `w.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `w.LearnerOthers`
INNER JOIN (
    SELECT `w1`.`learner_id`
    FROM `ablemusic`.`learner` AS `w1`
    WHERE `w1`.`is_active` = 1
) AS `t0` ON `w.LearnerOthers`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-09 12:06:35.686 +12:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance`.`course_instance_id`, `w.One2oneCourseInstance`.`begin_date`, `w.One2oneCourseInstance`.`course_id`, `w.One2oneCourseInstance`.`end_date`, `w.One2oneCourseInstance`.`invoice_date`, `w.One2oneCourseInstance`.`learner_id`, `w.One2oneCourseInstance`.`org_id`, `w.One2oneCourseInstance`.`room_id`, `w.One2oneCourseInstance`.`teacher_id`, `o.Teacher`.`teacher_id`, `o.Teacher`.`ability`, `o.Teacher`.`comment`, `o.Teacher`.`cv_url`, `o.Teacher`.`dob`, `o.Teacher`.`email`, `o.Teacher`.`expiry_date`, `o.Teacher`.`first_name`, `o.Teacher`.`form_url`, `o.Teacher`.`gender`, `o.Teacher`.`home_phone`, `o.Teacher`.`id_number`, `o.Teacher`.`id_photo`, `o.Teacher`.`id_type`, `o.Teacher`.`invoice_template`, `o.Teacher`.`ird_number`, `o.Teacher`.`is_activate`, `o.Teacher`.`is_contract`, `o.Teacher`.`is_left`, `o.Teacher`.`last_name`, `o.Teacher`.`level`, `o.Teacher`.`minimum_hours`, `o.Teacher`.`mobile_phone`, `o.Teacher`.`otherfile_url`, `o.Teacher`.`photo`, `o.Teacher`.`user_id`, `o.Teacher`.`visa`, `o.Room`.`room_id`, `o.Room`.`created_at`, `o.Room`.`is_activate`, `o.Room`.`org_id`, `o.Room`.`room_name`, `o.Course`.`course_id`, `o.Course`.`course_category_id`, `o.Course`.`course_name`, `o.Course`.`course_type`, `o.Course`.`duration`, `o.Course`.`level`, `o.Course`.`price`, `o.Course`.`teacher_level`, `o.Org`.`org_id`, `o.Org`.`abbr`, `o.Org`.`address`, `o.Org`.`email`, `o.Org`.`is_activate`, `o.Org`.`is_headoffice`, `o.Org`.`localtion_x`, `o.Org`.`localtion_y`, `o.Org`.`org_name`, `o.Org`.`phone`
FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance`
LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher` ON `w.One2oneCourseInstance`.`teacher_id` = `o.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `o.Room` ON `w.One2oneCourseInstance`.`room_id` = `o.Room`.`room_id`
LEFT JOIN `ablemusic`.`course` AS `o.Course` ON `w.One2oneCourseInstance`.`course_id` = `o.Course`.`course_id`
LEFT JOIN `ablemusic`.`org` AS `o.Org` ON `w.One2oneCourseInstance`.`org_id` = `o.Org`.`org_id`
INNER JOIN (
    SELECT `w2`.`learner_id`
    FROM `ablemusic`.`learner` AS `w2`
    WHERE `w2`.`is_active` = 1
) AS `t1` ON `w.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`, `w.One2oneCourseInstance`.`course_instance_id`
2019-07-09 12:06:35.836 +12:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.Amendment`.`amendment_id`, `w.One2oneCourseInstance.Amendment`.`amend_type`, `w.One2oneCourseInstance.Amendment`.`begin_date`, `w.One2oneCourseInstance.Amendment`.`begin_time`, `w.One2oneCourseInstance.Amendment`.`course_instance_id`, `w.One2oneCourseInstance.Amendment`.`course_schedule_id`, `w.One2oneCourseInstance.Amendment`.`created_at`, `w.One2oneCourseInstance.Amendment`.`day_of_week`, `w.One2oneCourseInstance.Amendment`.`end_date`, `w.One2oneCourseInstance.Amendment`.`end_time`, `w.One2oneCourseInstance.Amendment`.`is_temporary`, `w.One2oneCourseInstance.Amendment`.`learner_id`, `w.One2oneCourseInstance.Amendment`.`org_id`, `w.One2oneCourseInstance.Amendment`.`reason`, `w.One2oneCourseInstance.Amendment`.`room_id`, `w.One2oneCourseInstance.Amendment`.`teacher_id`, `a.Teacher`.`teacher_id`, `a.Teacher`.`ability`, `a.Teacher`.`comment`, `a.Teacher`.`cv_url`, `a.Teacher`.`dob`, `a.Teacher`.`email`, `a.Teacher`.`expiry_date`, `a.Teacher`.`first_name`, `a.Teacher`.`form_url`, `a.Teacher`.`gender`, `a.Teacher`.`home_phone`, `a.Teacher`.`id_number`, `a.Teacher`.`id_photo`, `a.Teacher`.`id_type`, `a.Teacher`.`invoice_template`, `a.Teacher`.`ird_number`, `a.Teacher`.`is_activate`, `a.Teacher`.`is_contract`, `a.Teacher`.`is_left`, `a.Teacher`.`last_name`, `a.Teacher`.`level`, `a.Teacher`.`minimum_hours`, `a.Teacher`.`mobile_phone`, `a.Teacher`.`otherfile_url`, `a.Teacher`.`photo`, `a.Teacher`.`user_id`, `a.Teacher`.`visa`, `a.Room`.`room_id`, `a.Room`.`created_at`, `a.Room`.`is_activate`, `a.Room`.`org_id`, `a.Room`.`room_name`
FROM `ablemusic`.`amendment` AS `w.One2oneCourseInstance.Amendment`
LEFT JOIN `ablemusic`.`teacher` AS `a.Teacher` ON `w.One2oneCourseInstance.Amendment`.`teacher_id` = `a.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `a.Room` ON `w.One2oneCourseInstance.Amendment`.`room_id` = `a.Room`.`room_id`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance0`.`course_instance_id`, `t2`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance0`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher0` ON `w.One2oneCourseInstance0`.`teacher_id` = `o.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room0` ON `w.One2oneCourseInstance0`.`room_id` = `o.Room0`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course0` ON `w.One2oneCourseInstance0`.`course_id` = `o.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org0` ON `w.One2oneCourseInstance0`.`org_id` = `o.Org0`.`org_id`
    INNER JOIN (
        SELECT `w3`.`learner_id`
        FROM `ablemusic`.`learner` AS `w3`
        WHERE `w3`.`is_active` = 1
    ) AS `t2` ON `w.One2oneCourseInstance0`.`learner_id` = `t2`.`learner_id`
) AS `t3` ON `w.One2oneCourseInstance.Amendment`.`course_instance_id` = `t3`.`course_instance_id`
ORDER BY `t3`.`learner_id`, `t3`.`course_instance_id`
2019-07-09 12:06:35.907 +12:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.CourseSchedule`.`course_schedule_id`, `w.One2oneCourseInstance.CourseSchedule`.`begin_time`, `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id`, `w.One2oneCourseInstance.CourseSchedule`.`day_of_week`, `w.One2oneCourseInstance.CourseSchedule`.`end_time`, `w.One2oneCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `w.One2oneCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance1`.`course_instance_id`, `t4`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance1`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher1` ON `w.One2oneCourseInstance1`.`teacher_id` = `o.Teacher1`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room1` ON `w.One2oneCourseInstance1`.`room_id` = `o.Room1`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course1` ON `w.One2oneCourseInstance1`.`course_id` = `o.Course1`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org1` ON `w.One2oneCourseInstance1`.`org_id` = `o.Org1`.`org_id`
    INNER JOIN (
        SELECT `w4`.`learner_id`
        FROM `ablemusic`.`learner` AS `w4`
        WHERE `w4`.`is_active` = 1
    ) AS `t4` ON `w.One2oneCourseInstance1`.`learner_id` = `t4`.`learner_id`
) AS `t5` ON `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id` = `t5`.`course_instance_id`
ORDER BY `t5`.`learner_id`, `t5`.`course_instance_id`
2019-07-09 12:06:36.002 +12:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerGroupCourse`.`learner_group_course_id`, `w.LearnerGroupCourse`.`begin_date`, `w.LearnerGroupCourse`.`comment`, `w.LearnerGroupCourse`.`created_at`, `w.LearnerGroupCourse`.`end_date`, `w.LearnerGroupCourse`.`group_course_instance_id`, `w.LearnerGroupCourse`.`invoice_date`, `w.LearnerGroupCourse`.`is_activate`, `w.LearnerGroupCourse`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`, `l.GroupCourseInstance`.`begin_date`, `l.GroupCourseInstance`.`course_id`, `l.GroupCourseInstance`.`end_date`, `l.GroupCourseInstance`.`invoice_date`, `l.GroupCourseInstance`.`is_activate`, `l.GroupCourseInstance`.`is_started`, `l.GroupCourseInstance`.`org_id`, `l.GroupCourseInstance`.`room_id`, `l.GroupCourseInstance`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`ability`, `l.GroupCourseInstance.Teacher`.`comment`, `l.GroupCourseInstance.Teacher`.`cv_url`, `l.GroupCourseInstance.Teacher`.`dob`, `l.GroupCourseInstance.Teacher`.`email`, `l.GroupCourseInstance.Teacher`.`expiry_date`, `l.GroupCourseInstance.Teacher`.`first_name`, `l.GroupCourseInstance.Teacher`.`form_url`, `l.GroupCourseInstance.Teacher`.`gender`, `l.GroupCourseInstance.Teacher`.`home_phone`, `l.GroupCourseInstance.Teacher`.`id_number`, `l.GroupCourseInstance.Teacher`.`id_photo`, `l.GroupCourseInstance.Teacher`.`id_type`, `l.GroupCourseInstance.Teacher`.`invoice_template`, `l.GroupCourseInstance.Teacher`.`ird_number`, `l.GroupCourseInstance.Teacher`.`is_activate`, `l.GroupCourseInstance.Teacher`.`is_contract`, `l.GroupCourseInstance.Teacher`.`is_left`, `l.GroupCourseInstance.Teacher`.`last_name`, `l.GroupCourseInstance.Teacher`.`level`, `l.GroupCourseInstance.Teacher`.`minimum_hours`, `l.GroupCourseInstance.Teacher`.`mobile_phone`, `l.GroupCourseInstance.Teacher`.`otherfile_url`, `l.GroupCourseInstance.Teacher`.`photo`, `l.GroupCourseInstance.Teacher`.`user_id`, `l.GroupCourseInstance.Teacher`.`visa`, `l.GroupCourseInstance.Course`.`course_id`, `l.GroupCourseInstance.Course`.`course_category_id`, `l.GroupCourseInstance.Course`.`course_name`, `l.GroupCourseInstance.Course`.`course_type`, `l.GroupCourseInstance.Course`.`duration`, `l.GroupCourseInstance.Course`.`level`, `l.GroupCourseInstance.Course`.`price`, `l.GroupCourseInstance.Course`.`teacher_level`, `l.GroupCourseInstance.Room`.`room_id`, `l.GroupCourseInstance.Room`.`created_at`, `l.GroupCourseInstance.Room`.`is_activate`, `l.GroupCourseInstance.Room`.`org_id`, `l.GroupCourseInstance.Room`.`room_name`
FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse`
LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance` ON `w.LearnerGroupCourse`.`group_course_instance_id` = `l.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher` ON `l.GroupCourseInstance`.`teacher_id` = `l.GroupCourseInstance.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course` ON `l.GroupCourseInstance`.`course_id` = `l.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room` ON `l.GroupCourseInstance`.`room_id` = `l.GroupCourseInstance.Room`.`room_id`
INNER JOIN (
    SELECT `w5`.`learner_id`
    FROM `ablemusic`.`learner` AS `w5`
    WHERE `w5`.`is_active` = 1
) AS `t6` ON `w.LearnerGroupCourse`.`learner_id` = `t6`.`learner_id`
ORDER BY `t6`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`
2019-07-09 12:06:36.080 +12:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l.GroupCourseInstance.CourseSchedule`.`course_schedule_id`, `l.GroupCourseInstance.CourseSchedule`.`begin_time`, `l.GroupCourseInstance.CourseSchedule`.`course_instance_id`, `l.GroupCourseInstance.CourseSchedule`.`day_of_week`, `l.GroupCourseInstance.CourseSchedule`.`end_time`, `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `l.GroupCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `l.GroupCourseInstance0`.`group_course_instance_id`, `t7`.`learner_id`
    FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse0`
    LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance0` ON `w.LearnerGroupCourse0`.`group_course_instance_id` = `l.GroupCourseInstance0`.`group_course_instance_id`
    LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher0` ON `l.GroupCourseInstance0`.`teacher_id` = `l.GroupCourseInstance.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course0` ON `l.GroupCourseInstance0`.`course_id` = `l.GroupCourseInstance.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room0` ON `l.GroupCourseInstance0`.`room_id` = `l.GroupCourseInstance.Room0`.`room_id`
    INNER JOIN (
        SELECT `w6`.`learner_id`
        FROM `ablemusic`.`learner` AS `w6`
        WHERE `w6`.`is_active` = 1
    ) AS `t7` ON `w.LearnerGroupCourse0`.`learner_id` = `t7`.`learner_id`
) AS `t8` ON `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id` = `t8`.`group_course_instance_id`
ORDER BY `t8`.`learner_id`, `t8`.`group_course_instance_id`
2019-07-09 12:06:36.144 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 865.3645ms.
2019-07-09 12:06:36.144 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:06:36.157 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) in 878.70030000000008ms
2019-07-09 12:06:36.157 +12:00 [INF] Request finished in 879.6454ms 200 application/json; charset=utf-8
2019-07-09 12:06:36.356 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups  
2019-07-09 12:06:36.356 +12:00 [INF] Policy execution successful.
2019-07-09 12:06:36.356 +12:00 [INF] Successfully validated the token.
2019-07-09 12:06:36.357 +12:00 [INF] Route matched with {action = "GetLookups", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookups() on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-09 12:06:36.357 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:06:36.358 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:06:36.359 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/navitems  
2019-07-09 12:06:36.359 +12:00 [INF] Policy execution successful.
2019-07-09 12:06:36.360 +12:00 [INF] Successfully validated the token.
2019-07-09 12:06:36.360 +12:00 [INF] Route matched with {action = "GetNavItems", controller = "NavItems"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNavItems() on controller Pegasus_backend.Controllers.NavItemsController (Pegasus_backend).
2019-07-09 12:06:36.361 +12:00 [INF] Authorization was successful.
2019-07-09 12:06:36.361 +12:00 [INF] Executing action method Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:06:36.362 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:06:36.533 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`user_id`, `s`.`created_at`, `s`.`is_activate`, `s`.`is_online`, `s`.`password`, `s`.`role_id`, `s`.`signature`, `s`.`unread_message_id`, `s`.`user_name`
FROM `ablemusic`.`user` AS `s`
WHERE `s`.`user_id` = @__userId_0
LIMIT 1
2019-07-09 12:06:36.536 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
2019-07-09 12:06:36.539 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 181.7253ms.
2019-07-09 12:06:36.539 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:06:36.540 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend) in 182.84570000000002ms
2019-07-09 12:06:36.540 +12:00 [INF] Request finished in 183.9345ms 200 application/json; charset=utf-8
2019-07-09 12:06:36.709 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__roleId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`page_id`
FROM `ablemusic`.`role_access` AS `s`
WHERE `s`.`role_id` = @__roleId_0
2019-07-09 12:06:36.891 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`page_group_id`, `s`.`display_order`, `s`.`icon`, `s`.`page_group_name`
FROM `ablemusic`.`page_group` AS `s`
ORDER BY `s`.`page_group_id`
2019-07-09 12:06:36.945 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Page`.`page_id`, `s.Page`.`display_order`, `s.Page`.`icon`, `s.Page`.`is_activate`, `s.Page`.`page_group_id`, `s.Page`.`page_name`, `s.Page`.`para`, `s.Page`.`para_flag`, `s.Page`.`url`
FROM `ablemusic`.`page` AS `s.Page`
INNER JOIN (
    SELECT `s0`.`page_group_id`
    FROM `ablemusic`.`page_group` AS `s0`
) AS `t` ON `s.Page`.`page_group_id` = `t`.`page_group_id`
ORDER BY `t`.`page_group_id`
2019-07-09 12:06:36.947 +12:00 [INF] Executed action method Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 586.2576ms.
2019-07-09 12:06:36.948 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:06:36.948 +12:00 [INF] Executed action Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend) in 587.5927ms
2019-07-09 12:06:36.948 +12:00 [INF] Request finished in 589.411ms 200 application/json; charset=utf-8
2019-07-09 12:08:22.300 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lookups  
2019-07-09 12:08:22.300 +12:00 [INF] Policy execution successful.
2019-07-09 12:08:22.301 +12:00 [INF] Request finished in 1.0459ms 204 
2019-07-09 12:08:22.309 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/navitems  
2019-07-09 12:08:22.309 +12:00 [INF] Policy execution successful.
2019-07-09 12:08:22.309 +12:00 [INF] Request finished in 0.422ms 204 
2019-07-09 12:08:22.375 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner  
2019-07-09 12:08:22.376 +12:00 [INF] Policy execution successful.
2019-07-09 12:08:22.376 +12:00 [INF] Route matched with {action = "GetLearner", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearner() on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-09 12:08:22.379 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:08:22.380 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:08:22.383 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/product/getCat  
2019-07-09 12:08:22.383 +12:00 [INF] Policy execution successful.
2019-07-09 12:08:22.384 +12:00 [INF] Route matched with {action = "GetCat", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetCat() on controller Pegasus_backend.Controllers.ProductController (Pegasus_backend).
2019-07-09 12:08:22.384 +12:00 [INF] Executing action method Pegasus_backend.Controllers.ProductController.GetCat (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:08:22.385 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:08:22.430 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/staff/Photos/2190613092457108.jpg  
2019-07-09 12:08:22.431 +12:00 [INF] Request finished in 0.8933ms 404 
2019-07-09 12:08:22.582 +12:00 [INF] Executed DbCommand (73ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`is_active` = 1
ORDER BY `w`.`learner_id`
2019-07-09 12:08:22.590 +12:00 [INF] Executed DbCommand (81ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`prod_cat_id` AS `ProdCatId`, `x`.`prod_cat_name` AS `ProdCatName`
FROM `ablemusic`.`prod_cat` AS `x`
2019-07-09 12:08:22.590 +12:00 [INF] Executed action method Pegasus_backend.Controllers.ProductController.GetCat (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 205.71730000000002ms.
2019-07-09 12:08:22.590 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:08:22.590 +12:00 [INF] Executed action Pegasus_backend.Controllers.ProductController.GetCat (Pegasus_backend) in 206.5859ms
2019-07-09 12:08:22.591 +12:00 [INF] Request finished in 207.5181ms 200 application/json; charset=utf-8
2019-07-09 12:08:22.644 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Parent`.`parent_id`, `w.Parent`.`contact_num`, `w.Parent`.`created_at`, `w.Parent`.`email`, `w.Parent`.`first_name`, `w.Parent`.`last_name`, `w.Parent`.`learner_id`, `w.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `w.Parent`
INNER JOIN (
    SELECT `w0`.`learner_id`
    FROM `ablemusic`.`learner` AS `w0`
    WHERE `w0`.`is_active` = 1
) AS `t` ON `w.Parent`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-09 12:08:22.700 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerOthers`.`learner_others_id`, `w.LearnerOthers`.`learner_id`, `w.LearnerOthers`.`learner_level`, `w.LearnerOthers`.`others_type`, `w.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `w.LearnerOthers`
INNER JOIN (
    SELECT `w1`.`learner_id`
    FROM `ablemusic`.`learner` AS `w1`
    WHERE `w1`.`is_active` = 1
) AS `t0` ON `w.LearnerOthers`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-09 12:08:22.781 +12:00 [INF] Executed DbCommand (79ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance`.`course_instance_id`, `w.One2oneCourseInstance`.`begin_date`, `w.One2oneCourseInstance`.`course_id`, `w.One2oneCourseInstance`.`end_date`, `w.One2oneCourseInstance`.`invoice_date`, `w.One2oneCourseInstance`.`learner_id`, `w.One2oneCourseInstance`.`org_id`, `w.One2oneCourseInstance`.`room_id`, `w.One2oneCourseInstance`.`teacher_id`, `o.Teacher`.`teacher_id`, `o.Teacher`.`ability`, `o.Teacher`.`comment`, `o.Teacher`.`cv_url`, `o.Teacher`.`dob`, `o.Teacher`.`email`, `o.Teacher`.`expiry_date`, `o.Teacher`.`first_name`, `o.Teacher`.`form_url`, `o.Teacher`.`gender`, `o.Teacher`.`home_phone`, `o.Teacher`.`id_number`, `o.Teacher`.`id_photo`, `o.Teacher`.`id_type`, `o.Teacher`.`invoice_template`, `o.Teacher`.`ird_number`, `o.Teacher`.`is_activate`, `o.Teacher`.`is_contract`, `o.Teacher`.`is_left`, `o.Teacher`.`last_name`, `o.Teacher`.`level`, `o.Teacher`.`minimum_hours`, `o.Teacher`.`mobile_phone`, `o.Teacher`.`otherfile_url`, `o.Teacher`.`photo`, `o.Teacher`.`user_id`, `o.Teacher`.`visa`, `o.Room`.`room_id`, `o.Room`.`created_at`, `o.Room`.`is_activate`, `o.Room`.`org_id`, `o.Room`.`room_name`, `o.Course`.`course_id`, `o.Course`.`course_category_id`, `o.Course`.`course_name`, `o.Course`.`course_type`, `o.Course`.`duration`, `o.Course`.`level`, `o.Course`.`price`, `o.Course`.`teacher_level`, `o.Org`.`org_id`, `o.Org`.`abbr`, `o.Org`.`address`, `o.Org`.`email`, `o.Org`.`is_activate`, `o.Org`.`is_headoffice`, `o.Org`.`localtion_x`, `o.Org`.`localtion_y`, `o.Org`.`org_name`, `o.Org`.`phone`
FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance`
LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher` ON `w.One2oneCourseInstance`.`teacher_id` = `o.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `o.Room` ON `w.One2oneCourseInstance`.`room_id` = `o.Room`.`room_id`
LEFT JOIN `ablemusic`.`course` AS `o.Course` ON `w.One2oneCourseInstance`.`course_id` = `o.Course`.`course_id`
LEFT JOIN `ablemusic`.`org` AS `o.Org` ON `w.One2oneCourseInstance`.`org_id` = `o.Org`.`org_id`
INNER JOIN (
    SELECT `w2`.`learner_id`
    FROM `ablemusic`.`learner` AS `w2`
    WHERE `w2`.`is_active` = 1
) AS `t1` ON `w.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`, `w.One2oneCourseInstance`.`course_instance_id`
2019-07-09 12:08:22.885 +12:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.Amendment`.`amendment_id`, `w.One2oneCourseInstance.Amendment`.`amend_type`, `w.One2oneCourseInstance.Amendment`.`begin_date`, `w.One2oneCourseInstance.Amendment`.`begin_time`, `w.One2oneCourseInstance.Amendment`.`course_instance_id`, `w.One2oneCourseInstance.Amendment`.`course_schedule_id`, `w.One2oneCourseInstance.Amendment`.`created_at`, `w.One2oneCourseInstance.Amendment`.`day_of_week`, `w.One2oneCourseInstance.Amendment`.`end_date`, `w.One2oneCourseInstance.Amendment`.`end_time`, `w.One2oneCourseInstance.Amendment`.`is_temporary`, `w.One2oneCourseInstance.Amendment`.`learner_id`, `w.One2oneCourseInstance.Amendment`.`org_id`, `w.One2oneCourseInstance.Amendment`.`reason`, `w.One2oneCourseInstance.Amendment`.`room_id`, `w.One2oneCourseInstance.Amendment`.`teacher_id`, `a.Teacher`.`teacher_id`, `a.Teacher`.`ability`, `a.Teacher`.`comment`, `a.Teacher`.`cv_url`, `a.Teacher`.`dob`, `a.Teacher`.`email`, `a.Teacher`.`expiry_date`, `a.Teacher`.`first_name`, `a.Teacher`.`form_url`, `a.Teacher`.`gender`, `a.Teacher`.`home_phone`, `a.Teacher`.`id_number`, `a.Teacher`.`id_photo`, `a.Teacher`.`id_type`, `a.Teacher`.`invoice_template`, `a.Teacher`.`ird_number`, `a.Teacher`.`is_activate`, `a.Teacher`.`is_contract`, `a.Teacher`.`is_left`, `a.Teacher`.`last_name`, `a.Teacher`.`level`, `a.Teacher`.`minimum_hours`, `a.Teacher`.`mobile_phone`, `a.Teacher`.`otherfile_url`, `a.Teacher`.`photo`, `a.Teacher`.`user_id`, `a.Teacher`.`visa`, `a.Room`.`room_id`, `a.Room`.`created_at`, `a.Room`.`is_activate`, `a.Room`.`org_id`, `a.Room`.`room_name`
FROM `ablemusic`.`amendment` AS `w.One2oneCourseInstance.Amendment`
LEFT JOIN `ablemusic`.`teacher` AS `a.Teacher` ON `w.One2oneCourseInstance.Amendment`.`teacher_id` = `a.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `a.Room` ON `w.One2oneCourseInstance.Amendment`.`room_id` = `a.Room`.`room_id`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance0`.`course_instance_id`, `t2`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance0`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher0` ON `w.One2oneCourseInstance0`.`teacher_id` = `o.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room0` ON `w.One2oneCourseInstance0`.`room_id` = `o.Room0`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course0` ON `w.One2oneCourseInstance0`.`course_id` = `o.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org0` ON `w.One2oneCourseInstance0`.`org_id` = `o.Org0`.`org_id`
    INNER JOIN (
        SELECT `w3`.`learner_id`
        FROM `ablemusic`.`learner` AS `w3`
        WHERE `w3`.`is_active` = 1
    ) AS `t2` ON `w.One2oneCourseInstance0`.`learner_id` = `t2`.`learner_id`
) AS `t3` ON `w.One2oneCourseInstance.Amendment`.`course_instance_id` = `t3`.`course_instance_id`
ORDER BY `t3`.`learner_id`, `t3`.`course_instance_id`
2019-07-09 12:08:22.955 +12:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.CourseSchedule`.`course_schedule_id`, `w.One2oneCourseInstance.CourseSchedule`.`begin_time`, `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id`, `w.One2oneCourseInstance.CourseSchedule`.`day_of_week`, `w.One2oneCourseInstance.CourseSchedule`.`end_time`, `w.One2oneCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `w.One2oneCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance1`.`course_instance_id`, `t4`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance1`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher1` ON `w.One2oneCourseInstance1`.`teacher_id` = `o.Teacher1`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room1` ON `w.One2oneCourseInstance1`.`room_id` = `o.Room1`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course1` ON `w.One2oneCourseInstance1`.`course_id` = `o.Course1`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org1` ON `w.One2oneCourseInstance1`.`org_id` = `o.Org1`.`org_id`
    INNER JOIN (
        SELECT `w4`.`learner_id`
        FROM `ablemusic`.`learner` AS `w4`
        WHERE `w4`.`is_active` = 1
    ) AS `t4` ON `w.One2oneCourseInstance1`.`learner_id` = `t4`.`learner_id`
) AS `t5` ON `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id` = `t5`.`course_instance_id`
ORDER BY `t5`.`learner_id`, `t5`.`course_instance_id`
2019-07-09 12:08:23.051 +12:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerGroupCourse`.`learner_group_course_id`, `w.LearnerGroupCourse`.`begin_date`, `w.LearnerGroupCourse`.`comment`, `w.LearnerGroupCourse`.`created_at`, `w.LearnerGroupCourse`.`end_date`, `w.LearnerGroupCourse`.`group_course_instance_id`, `w.LearnerGroupCourse`.`invoice_date`, `w.LearnerGroupCourse`.`is_activate`, `w.LearnerGroupCourse`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`, `l.GroupCourseInstance`.`begin_date`, `l.GroupCourseInstance`.`course_id`, `l.GroupCourseInstance`.`end_date`, `l.GroupCourseInstance`.`invoice_date`, `l.GroupCourseInstance`.`is_activate`, `l.GroupCourseInstance`.`is_started`, `l.GroupCourseInstance`.`org_id`, `l.GroupCourseInstance`.`room_id`, `l.GroupCourseInstance`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`ability`, `l.GroupCourseInstance.Teacher`.`comment`, `l.GroupCourseInstance.Teacher`.`cv_url`, `l.GroupCourseInstance.Teacher`.`dob`, `l.GroupCourseInstance.Teacher`.`email`, `l.GroupCourseInstance.Teacher`.`expiry_date`, `l.GroupCourseInstance.Teacher`.`first_name`, `l.GroupCourseInstance.Teacher`.`form_url`, `l.GroupCourseInstance.Teacher`.`gender`, `l.GroupCourseInstance.Teacher`.`home_phone`, `l.GroupCourseInstance.Teacher`.`id_number`, `l.GroupCourseInstance.Teacher`.`id_photo`, `l.GroupCourseInstance.Teacher`.`id_type`, `l.GroupCourseInstance.Teacher`.`invoice_template`, `l.GroupCourseInstance.Teacher`.`ird_number`, `l.GroupCourseInstance.Teacher`.`is_activate`, `l.GroupCourseInstance.Teacher`.`is_contract`, `l.GroupCourseInstance.Teacher`.`is_left`, `l.GroupCourseInstance.Teacher`.`last_name`, `l.GroupCourseInstance.Teacher`.`level`, `l.GroupCourseInstance.Teacher`.`minimum_hours`, `l.GroupCourseInstance.Teacher`.`mobile_phone`, `l.GroupCourseInstance.Teacher`.`otherfile_url`, `l.GroupCourseInstance.Teacher`.`photo`, `l.GroupCourseInstance.Teacher`.`user_id`, `l.GroupCourseInstance.Teacher`.`visa`, `l.GroupCourseInstance.Course`.`course_id`, `l.GroupCourseInstance.Course`.`course_category_id`, `l.GroupCourseInstance.Course`.`course_name`, `l.GroupCourseInstance.Course`.`course_type`, `l.GroupCourseInstance.Course`.`duration`, `l.GroupCourseInstance.Course`.`level`, `l.GroupCourseInstance.Course`.`price`, `l.GroupCourseInstance.Course`.`teacher_level`, `l.GroupCourseInstance.Room`.`room_id`, `l.GroupCourseInstance.Room`.`created_at`, `l.GroupCourseInstance.Room`.`is_activate`, `l.GroupCourseInstance.Room`.`org_id`, `l.GroupCourseInstance.Room`.`room_name`
FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse`
LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance` ON `w.LearnerGroupCourse`.`group_course_instance_id` = `l.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher` ON `l.GroupCourseInstance`.`teacher_id` = `l.GroupCourseInstance.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course` ON `l.GroupCourseInstance`.`course_id` = `l.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room` ON `l.GroupCourseInstance`.`room_id` = `l.GroupCourseInstance.Room`.`room_id`
INNER JOIN (
    SELECT `w5`.`learner_id`
    FROM `ablemusic`.`learner` AS `w5`
    WHERE `w5`.`is_active` = 1
) AS `t6` ON `w.LearnerGroupCourse`.`learner_id` = `t6`.`learner_id`
ORDER BY `t6`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`
2019-07-09 12:08:23.126 +12:00 [INF] Executed DbCommand (70ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l.GroupCourseInstance.CourseSchedule`.`course_schedule_id`, `l.GroupCourseInstance.CourseSchedule`.`begin_time`, `l.GroupCourseInstance.CourseSchedule`.`course_instance_id`, `l.GroupCourseInstance.CourseSchedule`.`day_of_week`, `l.GroupCourseInstance.CourseSchedule`.`end_time`, `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `l.GroupCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `l.GroupCourseInstance0`.`group_course_instance_id`, `t7`.`learner_id`
    FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse0`
    LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance0` ON `w.LearnerGroupCourse0`.`group_course_instance_id` = `l.GroupCourseInstance0`.`group_course_instance_id`
    LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher0` ON `l.GroupCourseInstance0`.`teacher_id` = `l.GroupCourseInstance.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course0` ON `l.GroupCourseInstance0`.`course_id` = `l.GroupCourseInstance.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room0` ON `l.GroupCourseInstance0`.`room_id` = `l.GroupCourseInstance.Room0`.`room_id`
    INNER JOIN (
        SELECT `w6`.`learner_id`
        FROM `ablemusic`.`learner` AS `w6`
        WHERE `w6`.`is_active` = 1
    ) AS `t7` ON `w.LearnerGroupCourse0`.`learner_id` = `t7`.`learner_id`
) AS `t8` ON `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id` = `t8`.`group_course_instance_id`
ORDER BY `t8`.`learner_id`, `t8`.`group_course_instance_id`
2019-07-09 12:08:23.184 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 804.3995ms.
2019-07-09 12:08:23.184 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:08:23.217 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) in 839.3959000000001ms
2019-07-09 12:08:23.217 +12:00 [INF] Request finished in 841.6817ms 200 application/json; charset=utf-8
2019-07-09 12:08:23.510 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups  
2019-07-09 12:08:23.510 +12:00 [INF] Policy execution successful.
2019-07-09 12:08:23.510 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/navitems  
2019-07-09 12:08:23.511 +12:00 [INF] Policy execution successful.
2019-07-09 12:08:23.511 +12:00 [INF] Successfully validated the token.
2019-07-09 12:08:23.511 +12:00 [INF] Route matched with {action = "GetLookups", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookups() on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-09 12:08:23.511 +12:00 [INF] Successfully validated the token.
2019-07-09 12:08:23.511 +12:00 [INF] Route matched with {action = "GetNavItems", controller = "NavItems"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNavItems() on controller Pegasus_backend.Controllers.NavItemsController (Pegasus_backend).
2019-07-09 12:08:23.511 +12:00 [INF] Authorization was successful.
2019-07-09 12:08:23.511 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:08:23.511 +12:00 [INF] Executing action method Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:08:23.512 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:08:23.512 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:08:23.689 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
2019-07-09 12:08:23.690 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`user_id`, `s`.`created_at`, `s`.`is_activate`, `s`.`is_online`, `s`.`password`, `s`.`role_id`, `s`.`signature`, `s`.`unread_message_id`, `s`.`user_name`
FROM `ablemusic`.`user` AS `s`
WHERE `s`.`user_id` = @__userId_0
LIMIT 1
2019-07-09 12:08:23.692 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 180.7405ms.
2019-07-09 12:08:23.692 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:08:23.693 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend) in 181.9212ms
2019-07-09 12:08:23.693 +12:00 [INF] Request finished in 183.4072ms 200 application/json; charset=utf-8
2019-07-09 12:08:23.863 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__roleId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`page_id`
FROM `ablemusic`.`role_access` AS `s`
WHERE `s`.`role_id` = @__roleId_0
2019-07-09 12:08:24.038 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`page_group_id`, `s`.`display_order`, `s`.`icon`, `s`.`page_group_name`
FROM `ablemusic`.`page_group` AS `s`
ORDER BY `s`.`page_group_id`
2019-07-09 12:08:24.093 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Page`.`page_id`, `s.Page`.`display_order`, `s.Page`.`icon`, `s.Page`.`is_activate`, `s.Page`.`page_group_id`, `s.Page`.`page_name`, `s.Page`.`para`, `s.Page`.`para_flag`, `s.Page`.`url`
FROM `ablemusic`.`page` AS `s.Page`
INNER JOIN (
    SELECT `s0`.`page_group_id`
    FROM `ablemusic`.`page_group` AS `s0`
) AS `t` ON `s.Page`.`page_group_id` = `t`.`page_group_id`
ORDER BY `t`.`page_group_id`
2019-07-09 12:08:24.095 +12:00 [INF] Executed action method Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 583.327ms.
2019-07-09 12:08:24.095 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:08:24.095 +12:00 [INF] Executed action Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend) in 584.3859ms
2019-07-09 12:08:24.096 +12:00 [INF] Request finished in 585.2172ms 200 application/json; charset=utf-8
2019-07-09 12:09:11.347 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lookups  
2019-07-09 12:09:11.347 +12:00 [INF] Policy execution successful.
2019-07-09 12:09:11.348 +12:00 [INF] Request finished in 0.7697ms 204 
2019-07-09 12:09:11.358 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/navitems  
2019-07-09 12:09:11.358 +12:00 [INF] Policy execution successful.
2019-07-09 12:09:11.359 +12:00 [INF] Request finished in 0.493ms 204 
2019-07-09 12:09:11.430 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner  
2019-07-09 12:09:11.430 +12:00 [INF] Policy execution successful.
2019-07-09 12:09:11.430 +12:00 [INF] Route matched with {action = "GetLearner", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearner() on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-09 12:09:11.431 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:09:11.432 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:09:11.438 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/product/getCat  
2019-07-09 12:09:11.439 +12:00 [INF] Policy execution successful.
2019-07-09 12:09:11.439 +12:00 [INF] Route matched with {action = "GetCat", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetCat() on controller Pegasus_backend.Controllers.ProductController (Pegasus_backend).
2019-07-09 12:09:11.439 +12:00 [INF] Executing action method Pegasus_backend.Controllers.ProductController.GetCat (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:09:11.440 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:09:11.479 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/staff/Photos/2190613092457108.jpg  
2019-07-09 12:09:11.481 +12:00 [INF] Request finished in 1.3209ms 404 
2019-07-09 12:09:11.616 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`prod_cat_id` AS `ProdCatId`, `x`.`prod_cat_name` AS `ProdCatName`
FROM `ablemusic`.`prod_cat` AS `x`
2019-07-09 12:09:11.616 +12:00 [INF] Executed action method Pegasus_backend.Controllers.ProductController.GetCat (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 176.5847ms.
2019-07-09 12:09:11.616 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:09:11.617 +12:00 [INF] Executed action Pegasus_backend.Controllers.ProductController.GetCat (Pegasus_backend) in 177.3788ms
2019-07-09 12:09:11.617 +12:00 [INF] Request finished in 178.3525ms 200 application/json; charset=utf-8
2019-07-09 12:09:11.623 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`is_active` = 1
ORDER BY `w`.`learner_id`
2019-07-09 12:09:11.686 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Parent`.`parent_id`, `w.Parent`.`contact_num`, `w.Parent`.`created_at`, `w.Parent`.`email`, `w.Parent`.`first_name`, `w.Parent`.`last_name`, `w.Parent`.`learner_id`, `w.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `w.Parent`
INNER JOIN (
    SELECT `w0`.`learner_id`
    FROM `ablemusic`.`learner` AS `w0`
    WHERE `w0`.`is_active` = 1
) AS `t` ON `w.Parent`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-09 12:09:11.742 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerOthers`.`learner_others_id`, `w.LearnerOthers`.`learner_id`, `w.LearnerOthers`.`learner_level`, `w.LearnerOthers`.`others_type`, `w.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `w.LearnerOthers`
INNER JOIN (
    SELECT `w1`.`learner_id`
    FROM `ablemusic`.`learner` AS `w1`
    WHERE `w1`.`is_active` = 1
) AS `t0` ON `w.LearnerOthers`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-09 12:09:11.820 +12:00 [INF] Executed DbCommand (76ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance`.`course_instance_id`, `w.One2oneCourseInstance`.`begin_date`, `w.One2oneCourseInstance`.`course_id`, `w.One2oneCourseInstance`.`end_date`, `w.One2oneCourseInstance`.`invoice_date`, `w.One2oneCourseInstance`.`learner_id`, `w.One2oneCourseInstance`.`org_id`, `w.One2oneCourseInstance`.`room_id`, `w.One2oneCourseInstance`.`teacher_id`, `o.Teacher`.`teacher_id`, `o.Teacher`.`ability`, `o.Teacher`.`comment`, `o.Teacher`.`cv_url`, `o.Teacher`.`dob`, `o.Teacher`.`email`, `o.Teacher`.`expiry_date`, `o.Teacher`.`first_name`, `o.Teacher`.`form_url`, `o.Teacher`.`gender`, `o.Teacher`.`home_phone`, `o.Teacher`.`id_number`, `o.Teacher`.`id_photo`, `o.Teacher`.`id_type`, `o.Teacher`.`invoice_template`, `o.Teacher`.`ird_number`, `o.Teacher`.`is_activate`, `o.Teacher`.`is_contract`, `o.Teacher`.`is_left`, `o.Teacher`.`last_name`, `o.Teacher`.`level`, `o.Teacher`.`minimum_hours`, `o.Teacher`.`mobile_phone`, `o.Teacher`.`otherfile_url`, `o.Teacher`.`photo`, `o.Teacher`.`user_id`, `o.Teacher`.`visa`, `o.Room`.`room_id`, `o.Room`.`created_at`, `o.Room`.`is_activate`, `o.Room`.`org_id`, `o.Room`.`room_name`, `o.Course`.`course_id`, `o.Course`.`course_category_id`, `o.Course`.`course_name`, `o.Course`.`course_type`, `o.Course`.`duration`, `o.Course`.`level`, `o.Course`.`price`, `o.Course`.`teacher_level`, `o.Org`.`org_id`, `o.Org`.`abbr`, `o.Org`.`address`, `o.Org`.`email`, `o.Org`.`is_activate`, `o.Org`.`is_headoffice`, `o.Org`.`localtion_x`, `o.Org`.`localtion_y`, `o.Org`.`org_name`, `o.Org`.`phone`
FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance`
LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher` ON `w.One2oneCourseInstance`.`teacher_id` = `o.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `o.Room` ON `w.One2oneCourseInstance`.`room_id` = `o.Room`.`room_id`
LEFT JOIN `ablemusic`.`course` AS `o.Course` ON `w.One2oneCourseInstance`.`course_id` = `o.Course`.`course_id`
LEFT JOIN `ablemusic`.`org` AS `o.Org` ON `w.One2oneCourseInstance`.`org_id` = `o.Org`.`org_id`
INNER JOIN (
    SELECT `w2`.`learner_id`
    FROM `ablemusic`.`learner` AS `w2`
    WHERE `w2`.`is_active` = 1
) AS `t1` ON `w.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`, `w.One2oneCourseInstance`.`course_instance_id`
2019-07-09 12:09:11.931 +12:00 [INF] Executed DbCommand (89ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.Amendment`.`amendment_id`, `w.One2oneCourseInstance.Amendment`.`amend_type`, `w.One2oneCourseInstance.Amendment`.`begin_date`, `w.One2oneCourseInstance.Amendment`.`begin_time`, `w.One2oneCourseInstance.Amendment`.`course_instance_id`, `w.One2oneCourseInstance.Amendment`.`course_schedule_id`, `w.One2oneCourseInstance.Amendment`.`created_at`, `w.One2oneCourseInstance.Amendment`.`day_of_week`, `w.One2oneCourseInstance.Amendment`.`end_date`, `w.One2oneCourseInstance.Amendment`.`end_time`, `w.One2oneCourseInstance.Amendment`.`is_temporary`, `w.One2oneCourseInstance.Amendment`.`learner_id`, `w.One2oneCourseInstance.Amendment`.`org_id`, `w.One2oneCourseInstance.Amendment`.`reason`, `w.One2oneCourseInstance.Amendment`.`room_id`, `w.One2oneCourseInstance.Amendment`.`teacher_id`, `a.Teacher`.`teacher_id`, `a.Teacher`.`ability`, `a.Teacher`.`comment`, `a.Teacher`.`cv_url`, `a.Teacher`.`dob`, `a.Teacher`.`email`, `a.Teacher`.`expiry_date`, `a.Teacher`.`first_name`, `a.Teacher`.`form_url`, `a.Teacher`.`gender`, `a.Teacher`.`home_phone`, `a.Teacher`.`id_number`, `a.Teacher`.`id_photo`, `a.Teacher`.`id_type`, `a.Teacher`.`invoice_template`, `a.Teacher`.`ird_number`, `a.Teacher`.`is_activate`, `a.Teacher`.`is_contract`, `a.Teacher`.`is_left`, `a.Teacher`.`last_name`, `a.Teacher`.`level`, `a.Teacher`.`minimum_hours`, `a.Teacher`.`mobile_phone`, `a.Teacher`.`otherfile_url`, `a.Teacher`.`photo`, `a.Teacher`.`user_id`, `a.Teacher`.`visa`, `a.Room`.`room_id`, `a.Room`.`created_at`, `a.Room`.`is_activate`, `a.Room`.`org_id`, `a.Room`.`room_name`
FROM `ablemusic`.`amendment` AS `w.One2oneCourseInstance.Amendment`
LEFT JOIN `ablemusic`.`teacher` AS `a.Teacher` ON `w.One2oneCourseInstance.Amendment`.`teacher_id` = `a.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `a.Room` ON `w.One2oneCourseInstance.Amendment`.`room_id` = `a.Room`.`room_id`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance0`.`course_instance_id`, `t2`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance0`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher0` ON `w.One2oneCourseInstance0`.`teacher_id` = `o.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room0` ON `w.One2oneCourseInstance0`.`room_id` = `o.Room0`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course0` ON `w.One2oneCourseInstance0`.`course_id` = `o.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org0` ON `w.One2oneCourseInstance0`.`org_id` = `o.Org0`.`org_id`
    INNER JOIN (
        SELECT `w3`.`learner_id`
        FROM `ablemusic`.`learner` AS `w3`
        WHERE `w3`.`is_active` = 1
    ) AS `t2` ON `w.One2oneCourseInstance0`.`learner_id` = `t2`.`learner_id`
) AS `t3` ON `w.One2oneCourseInstance.Amendment`.`course_instance_id` = `t3`.`course_instance_id`
ORDER BY `t3`.`learner_id`, `t3`.`course_instance_id`
2019-07-09 12:09:12.002 +12:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.CourseSchedule`.`course_schedule_id`, `w.One2oneCourseInstance.CourseSchedule`.`begin_time`, `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id`, `w.One2oneCourseInstance.CourseSchedule`.`day_of_week`, `w.One2oneCourseInstance.CourseSchedule`.`end_time`, `w.One2oneCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `w.One2oneCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance1`.`course_instance_id`, `t4`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance1`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher1` ON `w.One2oneCourseInstance1`.`teacher_id` = `o.Teacher1`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room1` ON `w.One2oneCourseInstance1`.`room_id` = `o.Room1`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course1` ON `w.One2oneCourseInstance1`.`course_id` = `o.Course1`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org1` ON `w.One2oneCourseInstance1`.`org_id` = `o.Org1`.`org_id`
    INNER JOIN (
        SELECT `w4`.`learner_id`
        FROM `ablemusic`.`learner` AS `w4`
        WHERE `w4`.`is_active` = 1
    ) AS `t4` ON `w.One2oneCourseInstance1`.`learner_id` = `t4`.`learner_id`
) AS `t5` ON `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id` = `t5`.`course_instance_id`
ORDER BY `t5`.`learner_id`, `t5`.`course_instance_id`
2019-07-09 12:09:12.100 +12:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerGroupCourse`.`learner_group_course_id`, `w.LearnerGroupCourse`.`begin_date`, `w.LearnerGroupCourse`.`comment`, `w.LearnerGroupCourse`.`created_at`, `w.LearnerGroupCourse`.`end_date`, `w.LearnerGroupCourse`.`group_course_instance_id`, `w.LearnerGroupCourse`.`invoice_date`, `w.LearnerGroupCourse`.`is_activate`, `w.LearnerGroupCourse`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`, `l.GroupCourseInstance`.`begin_date`, `l.GroupCourseInstance`.`course_id`, `l.GroupCourseInstance`.`end_date`, `l.GroupCourseInstance`.`invoice_date`, `l.GroupCourseInstance`.`is_activate`, `l.GroupCourseInstance`.`is_started`, `l.GroupCourseInstance`.`org_id`, `l.GroupCourseInstance`.`room_id`, `l.GroupCourseInstance`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`ability`, `l.GroupCourseInstance.Teacher`.`comment`, `l.GroupCourseInstance.Teacher`.`cv_url`, `l.GroupCourseInstance.Teacher`.`dob`, `l.GroupCourseInstance.Teacher`.`email`, `l.GroupCourseInstance.Teacher`.`expiry_date`, `l.GroupCourseInstance.Teacher`.`first_name`, `l.GroupCourseInstance.Teacher`.`form_url`, `l.GroupCourseInstance.Teacher`.`gender`, `l.GroupCourseInstance.Teacher`.`home_phone`, `l.GroupCourseInstance.Teacher`.`id_number`, `l.GroupCourseInstance.Teacher`.`id_photo`, `l.GroupCourseInstance.Teacher`.`id_type`, `l.GroupCourseInstance.Teacher`.`invoice_template`, `l.GroupCourseInstance.Teacher`.`ird_number`, `l.GroupCourseInstance.Teacher`.`is_activate`, `l.GroupCourseInstance.Teacher`.`is_contract`, `l.GroupCourseInstance.Teacher`.`is_left`, `l.GroupCourseInstance.Teacher`.`last_name`, `l.GroupCourseInstance.Teacher`.`level`, `l.GroupCourseInstance.Teacher`.`minimum_hours`, `l.GroupCourseInstance.Teacher`.`mobile_phone`, `l.GroupCourseInstance.Teacher`.`otherfile_url`, `l.GroupCourseInstance.Teacher`.`photo`, `l.GroupCourseInstance.Teacher`.`user_id`, `l.GroupCourseInstance.Teacher`.`visa`, `l.GroupCourseInstance.Course`.`course_id`, `l.GroupCourseInstance.Course`.`course_category_id`, `l.GroupCourseInstance.Course`.`course_name`, `l.GroupCourseInstance.Course`.`course_type`, `l.GroupCourseInstance.Course`.`duration`, `l.GroupCourseInstance.Course`.`level`, `l.GroupCourseInstance.Course`.`price`, `l.GroupCourseInstance.Course`.`teacher_level`, `l.GroupCourseInstance.Room`.`room_id`, `l.GroupCourseInstance.Room`.`created_at`, `l.GroupCourseInstance.Room`.`is_activate`, `l.GroupCourseInstance.Room`.`org_id`, `l.GroupCourseInstance.Room`.`room_name`
FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse`
LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance` ON `w.LearnerGroupCourse`.`group_course_instance_id` = `l.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher` ON `l.GroupCourseInstance`.`teacher_id` = `l.GroupCourseInstance.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course` ON `l.GroupCourseInstance`.`course_id` = `l.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room` ON `l.GroupCourseInstance`.`room_id` = `l.GroupCourseInstance.Room`.`room_id`
INNER JOIN (
    SELECT `w5`.`learner_id`
    FROM `ablemusic`.`learner` AS `w5`
    WHERE `w5`.`is_active` = 1
) AS `t6` ON `w.LearnerGroupCourse`.`learner_id` = `t6`.`learner_id`
ORDER BY `t6`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`
2019-07-09 12:09:12.177 +12:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l.GroupCourseInstance.CourseSchedule`.`course_schedule_id`, `l.GroupCourseInstance.CourseSchedule`.`begin_time`, `l.GroupCourseInstance.CourseSchedule`.`course_instance_id`, `l.GroupCourseInstance.CourseSchedule`.`day_of_week`, `l.GroupCourseInstance.CourseSchedule`.`end_time`, `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `l.GroupCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `l.GroupCourseInstance0`.`group_course_instance_id`, `t7`.`learner_id`
    FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse0`
    LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance0` ON `w.LearnerGroupCourse0`.`group_course_instance_id` = `l.GroupCourseInstance0`.`group_course_instance_id`
    LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher0` ON `l.GroupCourseInstance0`.`teacher_id` = `l.GroupCourseInstance.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course0` ON `l.GroupCourseInstance0`.`course_id` = `l.GroupCourseInstance.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room0` ON `l.GroupCourseInstance0`.`room_id` = `l.GroupCourseInstance.Room0`.`room_id`
    INNER JOIN (
        SELECT `w6`.`learner_id`
        FROM `ablemusic`.`learner` AS `w6`
        WHERE `w6`.`is_active` = 1
    ) AS `t7` ON `w.LearnerGroupCourse0`.`learner_id` = `t7`.`learner_id`
) AS `t8` ON `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id` = `t8`.`group_course_instance_id`
ORDER BY `t8`.`learner_id`, `t8`.`group_course_instance_id`
2019-07-09 12:09:12.239 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 808.04090000000008ms.
2019-07-09 12:09:12.240 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:09:12.256 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) in 825.6697ms
2019-07-09 12:09:12.257 +12:00 [INF] Request finished in 826.8752ms 200 application/json; charset=utf-8
2019-07-09 12:09:12.561 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups  
2019-07-09 12:09:12.562 +12:00 [INF] Policy execution successful.
2019-07-09 12:09:12.562 +12:00 [INF] Successfully validated the token.
2019-07-09 12:09:12.563 +12:00 [INF] Route matched with {action = "GetLookups", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookups() on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-09 12:09:12.563 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:09:12.564 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:09:12.564 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/navitems  
2019-07-09 12:09:12.565 +12:00 [INF] Policy execution successful.
2019-07-09 12:09:12.565 +12:00 [INF] Successfully validated the token.
2019-07-09 12:09:12.566 +12:00 [INF] Route matched with {action = "GetNavItems", controller = "NavItems"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNavItems() on controller Pegasus_backend.Controllers.NavItemsController (Pegasus_backend).
2019-07-09 12:09:12.566 +12:00 [INF] Authorization was successful.
2019-07-09 12:09:12.566 +12:00 [INF] Executing action method Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:09:12.567 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:09:12.743 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`user_id`, `s`.`created_at`, `s`.`is_activate`, `s`.`is_online`, `s`.`password`, `s`.`role_id`, `s`.`signature`, `s`.`unread_message_id`, `s`.`user_name`
FROM `ablemusic`.`user` AS `s`
WHERE `s`.`user_id` = @__userId_0
LIMIT 1
2019-07-09 12:09:12.744 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
2019-07-09 12:09:12.747 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 183.3426ms.
2019-07-09 12:09:12.747 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:09:12.748 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend) in 184.94750000000002ms
2019-07-09 12:09:12.748 +12:00 [INF] Request finished in 186.475ms 200 application/json; charset=utf-8
2019-07-09 12:09:12.922 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__roleId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`page_id`
FROM `ablemusic`.`role_access` AS `s`
WHERE `s`.`role_id` = @__roleId_0
2019-07-09 12:09:13.101 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`page_group_id`, `s`.`display_order`, `s`.`icon`, `s`.`page_group_name`
FROM `ablemusic`.`page_group` AS `s`
ORDER BY `s`.`page_group_id`
2019-07-09 12:09:13.154 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Page`.`page_id`, `s.Page`.`display_order`, `s.Page`.`icon`, `s.Page`.`is_activate`, `s.Page`.`page_group_id`, `s.Page`.`page_name`, `s.Page`.`para`, `s.Page`.`para_flag`, `s.Page`.`url`
FROM `ablemusic`.`page` AS `s.Page`
INNER JOIN (
    SELECT `s0`.`page_group_id`
    FROM `ablemusic`.`page_group` AS `s0`
) AS `t` ON `s.Page`.`page_group_id` = `t`.`page_group_id`
ORDER BY `t`.`page_group_id`
2019-07-09 12:09:13.156 +12:00 [INF] Executed action method Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 589.5697ms.
2019-07-09 12:09:13.156 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:09:13.157 +12:00 [INF] Executed action Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend) in 590.8705ms
2019-07-09 12:09:13.157 +12:00 [INF] Request finished in 592.4827ms 200 application/json; charset=utf-8
2019-07-09 12:09:26.924 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/mike  
2019-07-09 12:09:26.924 +12:00 [INF] Policy execution successful.
2019-07-09 12:09:26.925 +12:00 [INF] Route matched with {action = "GetLearner", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearner(System.String) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-09 12:09:26.925 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:09:26.926 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:09:27.104 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`learner_id`, `s`.`address`, `s`.`comment`, `s`.`contact_num`, `s`.`created_at`, `s`.`dob`, `s`.`email`, `s`.`enroll_date`, `s`.`first_name`, `s`.`form_url`, `s`.`g5_certification`, `s`.`gender`, `s`.`is_abrsm_g5`, `s`.`is_active`, `s`.`is_under_18`, `s`.`last_name`, `s`.`learner_level`, `s`.`level_type`, `s`.`middle_name`, `s`.`note`, `s`.`org_id`, `s`.`otherfile_url`, `s`.`payment_period`, `s`.`photo`, `s`.`referrer`, `s`.`referrer_learner_id`, `s`.`user_id`
FROM `ablemusic`.`learner` AS `s`
WHERE (`s`.`is_active` = 1) AND `s`.`first_name` LIKE concat('%', @__name_0, '%')
ORDER BY `s`.`learner_id`
2019-07-09 12:09:27.159 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.LearnerOthers`.`learner_others_id`, `s.LearnerOthers`.`learner_id`, `s.LearnerOthers`.`learner_level`, `s.LearnerOthers`.`others_type`, `s.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `s.LearnerOthers`
INNER JOIN (
    SELECT `s0`.`learner_id`
    FROM `ablemusic`.`learner` AS `s0`
    WHERE (`s0`.`is_active` = 1) AND `s0`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t` ON `s.LearnerOthers`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-09 12:09:27.214 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Parent`.`parent_id`, `s.Parent`.`contact_num`, `s.Parent`.`created_at`, `s.Parent`.`email`, `s.Parent`.`first_name`, `s.Parent`.`last_name`, `s.Parent`.`learner_id`, `s.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `s.Parent`
INNER JOIN (
    SELECT `s1`.`learner_id`
    FROM `ablemusic`.`learner` AS `s1`
    WHERE (`s1`.`is_active` = 1) AND `s1`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t0` ON `s.Parent`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-09 12:09:27.278 +12:00 [INF] Executed DbCommand (63ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.One2oneCourseInstance`.`course_instance_id`, `s.One2oneCourseInstance`.`begin_date`, `s.One2oneCourseInstance`.`course_id`, `s.One2oneCourseInstance`.`end_date`, `s.One2oneCourseInstance`.`invoice_date`, `s.One2oneCourseInstance`.`learner_id`, `s.One2oneCourseInstance`.`org_id`, `s.One2oneCourseInstance`.`room_id`, `s.One2oneCourseInstance`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `s.One2oneCourseInstance`
INNER JOIN (
    SELECT `s2`.`learner_id`
    FROM `ablemusic`.`learner` AS `s2`
    WHERE (`s2`.`is_active` = 1) AND `s2`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t1` ON `s.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`
2019-07-09 12:09:27.339 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.LearnerGroupCourse`.`learner_group_course_id`, `s.LearnerGroupCourse`.`begin_date`, `s.LearnerGroupCourse`.`comment`, `s.LearnerGroupCourse`.`created_at`, `s.LearnerGroupCourse`.`end_date`, `s.LearnerGroupCourse`.`group_course_instance_id`, `s.LearnerGroupCourse`.`invoice_date`, `s.LearnerGroupCourse`.`is_activate`, `s.LearnerGroupCourse`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `s.LearnerGroupCourse`
INNER JOIN (
    SELECT `s3`.`learner_id`
    FROM `ablemusic`.`learner` AS `s3`
    WHERE (`s3`.`is_active` = 1) AND `s3`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t2` ON `s.LearnerGroupCourse`.`learner_id` = `t2`.`learner_id`
ORDER BY `t2`.`learner_id`
2019-07-09 12:09:27.342 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 416.47830000000005ms.
2019-07-09 12:09:27.342 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.IEnumerable`1[[Pegasus_backend.pegasusContext.Learner, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:09:27.343 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) in 418.5733ms
2019-07-09 12:09:27.344 +12:00 [INF] Request finished in 419.5803ms 200 application/json; charset=utf-8
2019-07-09 12:09:30.072 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/product/getCat  
2019-07-09 12:09:30.072 +12:00 [INF] Policy execution successful.
2019-07-09 12:09:30.073 +12:00 [INF] Route matched with {action = "GetCat", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetCat() on controller Pegasus_backend.Controllers.ProductController (Pegasus_backend).
2019-07-09 12:09:30.073 +12:00 [INF] Executing action method Pegasus_backend.Controllers.ProductController.GetCat (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:09:30.073 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:09:30.251 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`prod_cat_id` AS `ProdCatId`, `x`.`prod_cat_name` AS `ProdCatName`
FROM `ablemusic`.`prod_cat` AS `x`
2019-07-09 12:09:30.251 +12:00 [INF] Executed action method Pegasus_backend.Controllers.ProductController.GetCat (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 177.7243ms.
2019-07-09 12:09:30.251 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:09:30.251 +12:00 [INF] Executed action Pegasus_backend.Controllers.ProductController.GetCat (Pegasus_backend) in 178.32770000000002ms
2019-07-09 12:09:30.251 +12:00 [INF] Request finished in 178.9735ms 200 application/json; charset=utf-8
2019-07-09 12:09:33.098 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/product/gettypebycat/1  
2019-07-09 12:09:33.098 +12:00 [INF] Policy execution successful.
2019-07-09 12:09:33.099 +12:00 [INF] Route matched with {action = "GetTypeByCat", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetTypeByCat(Int32) on controller Pegasus_backend.Controllers.ProductController (Pegasus_backend).
2019-07-09 12:09:33.099 +12:00 [INF] Executing action method Pegasus_backend.Controllers.ProductController.GetTypeByCat (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:09:33.100 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:09:33.278 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__cateid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`prod_cat_id` AS `ProdCatId`, `x`.`prod_cat_name` AS `ProdCatName`
FROM `ablemusic`.`prod_cat` AS `x`
WHERE `x`.`prod_cat_id` = @__cateid_0
2019-07-09 12:09:33.278 +12:00 [INF] Executed action method Pegasus_backend.Controllers.ProductController.GetTypeByCat (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 178.34570000000002ms.
2019-07-09 12:09:33.278 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:09:33.456 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_ProdCatId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`prod_type_id` AS `ProdTypeId`, `s`.`prod_type_name` AS `ProdTypeName`
FROM `ablemusic`.`prod_type` AS `s`
WHERE @_outer_ProdCatId = `s`.`prod_cat_id`
2019-07-09 12:09:33.456 +12:00 [INF] Executed action Pegasus_backend.Controllers.ProductController.GetTypeByCat (Pegasus_backend) in 357.5172ms
2019-07-09 12:09:33.457 +12:00 [INF] Request finished in 358.5452ms 200 application/json; charset=utf-8
2019-07-09 12:09:34.256 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/product/getProdByType/1  
2019-07-09 12:09:34.256 +12:00 [INF] Policy execution successful.
2019-07-09 12:09:34.256 +12:00 [INF] Route matched with {action = "GetProdByType", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetProdByType(Int32) on controller Pegasus_backend.Controllers.ProductController (Pegasus_backend).
2019-07-09 12:09:34.257 +12:00 [INF] Executing action method Pegasus_backend.Controllers.ProductController.GetProdByType (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:09:34.257 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:09:34.436 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__typeid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`product_id` AS `ProductId`, `x`.`product_name` AS `ProductName`, `x`.`model`, `x`.`brand`, `x`.`sell_price` AS `SellPrice`, `x`.`wholesale_price` AS `WholesalePrice`, `x`.`prod_type_id` AS `ProdTypeId`, `x.ProdType`.`prod_type_name` AS `ProdTypeName`, `x.ProdType`.`prod_cat_id` AS `ProdCatId0`, `x.ProdType.ProdCat`.`prod_cat_id` AS `ProdCatId`, `x.ProdType.ProdCat`.`prod_cat_name` AS `ProdCatName`
FROM `ablemusic`.`product` AS `x`
LEFT JOIN `ablemusic`.`prod_type` AS `x.ProdType` ON `x`.`prod_type_id` = `x.ProdType`.`prod_type_id`
LEFT JOIN `ablemusic`.`prod_cat` AS `x.ProdType.ProdCat` ON `x.ProdType`.`prod_cat_id` = `x.ProdType.ProdCat`.`prod_cat_id`
WHERE `x`.`prod_type_id` = @__typeid_0
2019-07-09 12:09:34.437 +12:00 [INF] Executed action method Pegasus_backend.Controllers.ProductController.GetProdByType (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 179.91ms.
2019-07-09 12:09:34.437 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:09:34.437 +12:00 [INF] Executed action Pegasus_backend.Controllers.ProductController.GetProdByType (Pegasus_backend) in 180.81830000000002ms
2019-07-09 12:09:34.437 +12:00 [INF] Request finished in 181.5983ms 200 application/json; charset=utf-8
2019-07-09 12:09:35.375 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/product/1  
2019-07-09 12:09:35.376 +12:00 [INF] Policy execution successful.
2019-07-09 12:09:35.376 +12:00 [INF] Route matched with {action = "GetProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetProduct(Int32) on controller Pegasus_backend.Controllers.ProductController (Pegasus_backend).
2019-07-09 12:09:35.376 +12:00 [INF] Executing action method Pegasus_backend.Controllers.ProductController.GetProduct (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:09:35.377 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:09:35.563 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`product_id` AS `ProductId`, `x`.`product_name` AS `ProductName`, `x`.`model`, `x`.`brand`, `x`.`sell_price` AS `SellPrice`, `x`.`wholesale_price` AS `WholesalePrice`, `x`.`prod_type_id` AS `ProdTypeId`, `x.ProdType`.`prod_type_name` AS `ProdTypeName`, `x.ProdType`.`prod_cat_id` AS `ProdCatId0`, `x.ProdType.ProdCat`.`prod_cat_id` AS `ProdCatId`, `x.ProdType.ProdCat`.`prod_cat_name` AS `ProdCatName`
FROM `ablemusic`.`product` AS `x`
LEFT JOIN `ablemusic`.`prod_type` AS `x.ProdType` ON `x`.`prod_type_id` = `x.ProdType`.`prod_type_id`
LEFT JOIN `ablemusic`.`prod_cat` AS `x.ProdType.ProdCat` ON `x.ProdType`.`prod_cat_id` = `x.ProdType.ProdCat`.`prod_cat_id`
WHERE `x`.`product_id` = @__id_0
2019-07-09 12:09:35.563 +12:00 [INF] Executed action method Pegasus_backend.Controllers.ProductController.GetProduct (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 186.9121ms.
2019-07-09 12:09:35.563 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:09:35.563 +12:00 [INF] Executed action Pegasus_backend.Controllers.ProductController.GetProduct (Pegasus_backend) in 187.56810000000002ms
2019-07-09 12:09:35.564 +12:00 [INF] Request finished in 188.3267ms 200 application/json; charset=utf-8
2019-07-09 12:10:30.379 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lookups  
2019-07-09 12:10:30.379 +12:00 [INF] Policy execution successful.
2019-07-09 12:10:30.379 +12:00 [INF] Request finished in 0.6234ms 204 
2019-07-09 12:10:30.388 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/navitems  
2019-07-09 12:10:30.388 +12:00 [INF] Policy execution successful.
2019-07-09 12:10:30.388 +12:00 [INF] Request finished in 0.4331ms 204 
2019-07-09 12:10:30.449 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner  
2019-07-09 12:10:30.449 +12:00 [INF] Policy execution successful.
2019-07-09 12:10:30.450 +12:00 [INF] Route matched with {action = "GetLearner", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearner() on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-09 12:10:30.450 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:10:30.451 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:10:30.457 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/product/getCat  
2019-07-09 12:10:30.457 +12:00 [INF] Policy execution successful.
2019-07-09 12:10:30.457 +12:00 [INF] Route matched with {action = "GetCat", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetCat() on controller Pegasus_backend.Controllers.ProductController (Pegasus_backend).
2019-07-09 12:10:30.458 +12:00 [INF] Executing action method Pegasus_backend.Controllers.ProductController.GetCat (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:10:30.459 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:10:30.491 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/staff/Photos/2190613092457108.jpg  
2019-07-09 12:10:30.492 +12:00 [INF] Request finished in 0.9502ms 404 
2019-07-09 12:10:30.625 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`prod_cat_id` AS `ProdCatId`, `x`.`prod_cat_name` AS `ProdCatName`
FROM `ablemusic`.`prod_cat` AS `x`
2019-07-09 12:10:30.626 +12:00 [INF] Executed action method Pegasus_backend.Controllers.ProductController.GetCat (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 167.6227ms.
2019-07-09 12:10:30.626 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:10:30.626 +12:00 [INF] Executed action Pegasus_backend.Controllers.ProductController.GetCat (Pegasus_backend) in 168.499ms
2019-07-09 12:10:30.626 +12:00 [INF] Request finished in 169.3329ms 200 application/json; charset=utf-8
2019-07-09 12:10:30.634 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`is_active` = 1
ORDER BY `w`.`learner_id`
2019-07-09 12:10:30.672 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups  
2019-07-09 12:10:30.672 +12:00 [INF] Policy execution successful.
2019-07-09 12:10:30.673 +12:00 [INF] Successfully validated the token.
2019-07-09 12:10:30.673 +12:00 [INF] Route matched with {action = "GetLookups", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookups() on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-09 12:10:30.674 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:10:30.675 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:10:30.710 +12:00 [INF] Executed DbCommand (65ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Parent`.`parent_id`, `w.Parent`.`contact_num`, `w.Parent`.`created_at`, `w.Parent`.`email`, `w.Parent`.`first_name`, `w.Parent`.`last_name`, `w.Parent`.`learner_id`, `w.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `w.Parent`
INNER JOIN (
    SELECT `w0`.`learner_id`
    FROM `ablemusic`.`learner` AS `w0`
    WHERE `w0`.`is_active` = 1
) AS `t` ON `w.Parent`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-09 12:10:30.790 +12:00 [INF] Executed DbCommand (79ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerOthers`.`learner_others_id`, `w.LearnerOthers`.`learner_id`, `w.LearnerOthers`.`learner_level`, `w.LearnerOthers`.`others_type`, `w.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `w.LearnerOthers`
INNER JOIN (
    SELECT `w1`.`learner_id`
    FROM `ablemusic`.`learner` AS `w1`
    WHERE `w1`.`is_active` = 1
) AS `t0` ON `w.LearnerOthers`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-09 12:10:30.885 +12:00 [INF] Executed DbCommand (80ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
2019-07-09 12:10:30.885 +12:00 [INF] Executed DbCommand (94ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance`.`course_instance_id`, `w.One2oneCourseInstance`.`begin_date`, `w.One2oneCourseInstance`.`course_id`, `w.One2oneCourseInstance`.`end_date`, `w.One2oneCourseInstance`.`invoice_date`, `w.One2oneCourseInstance`.`learner_id`, `w.One2oneCourseInstance`.`org_id`, `w.One2oneCourseInstance`.`room_id`, `w.One2oneCourseInstance`.`teacher_id`, `o.Teacher`.`teacher_id`, `o.Teacher`.`ability`, `o.Teacher`.`comment`, `o.Teacher`.`cv_url`, `o.Teacher`.`dob`, `o.Teacher`.`email`, `o.Teacher`.`expiry_date`, `o.Teacher`.`first_name`, `o.Teacher`.`form_url`, `o.Teacher`.`gender`, `o.Teacher`.`home_phone`, `o.Teacher`.`id_number`, `o.Teacher`.`id_photo`, `o.Teacher`.`id_type`, `o.Teacher`.`invoice_template`, `o.Teacher`.`ird_number`, `o.Teacher`.`is_activate`, `o.Teacher`.`is_contract`, `o.Teacher`.`is_left`, `o.Teacher`.`last_name`, `o.Teacher`.`level`, `o.Teacher`.`minimum_hours`, `o.Teacher`.`mobile_phone`, `o.Teacher`.`otherfile_url`, `o.Teacher`.`photo`, `o.Teacher`.`user_id`, `o.Teacher`.`visa`, `o.Room`.`room_id`, `o.Room`.`created_at`, `o.Room`.`is_activate`, `o.Room`.`org_id`, `o.Room`.`room_name`, `o.Course`.`course_id`, `o.Course`.`course_category_id`, `o.Course`.`course_name`, `o.Course`.`course_type`, `o.Course`.`duration`, `o.Course`.`level`, `o.Course`.`price`, `o.Course`.`teacher_level`, `o.Org`.`org_id`, `o.Org`.`abbr`, `o.Org`.`address`, `o.Org`.`email`, `o.Org`.`is_activate`, `o.Org`.`is_headoffice`, `o.Org`.`localtion_x`, `o.Org`.`localtion_y`, `o.Org`.`org_name`, `o.Org`.`phone`
FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance`
LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher` ON `w.One2oneCourseInstance`.`teacher_id` = `o.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `o.Room` ON `w.One2oneCourseInstance`.`room_id` = `o.Room`.`room_id`
LEFT JOIN `ablemusic`.`course` AS `o.Course` ON `w.One2oneCourseInstance`.`course_id` = `o.Course`.`course_id`
LEFT JOIN `ablemusic`.`org` AS `o.Org` ON `w.One2oneCourseInstance`.`org_id` = `o.Org`.`org_id`
INNER JOIN (
    SELECT `w2`.`learner_id`
    FROM `ablemusic`.`learner` AS `w2`
    WHERE `w2`.`is_active` = 1
) AS `t1` ON `w.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`, `w.One2oneCourseInstance`.`course_instance_id`
2019-07-09 12:10:30.887 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 212.74550000000002ms.
2019-07-09 12:10:30.888 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:10:30.888 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend) in 214.41250000000002ms
2019-07-09 12:10:30.888 +12:00 [INF] Request finished in 216.5451ms 200 application/json; charset=utf-8
2019-07-09 12:10:30.989 +12:00 [INF] Executed DbCommand (93ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.Amendment`.`amendment_id`, `w.One2oneCourseInstance.Amendment`.`amend_type`, `w.One2oneCourseInstance.Amendment`.`begin_date`, `w.One2oneCourseInstance.Amendment`.`begin_time`, `w.One2oneCourseInstance.Amendment`.`course_instance_id`, `w.One2oneCourseInstance.Amendment`.`course_schedule_id`, `w.One2oneCourseInstance.Amendment`.`created_at`, `w.One2oneCourseInstance.Amendment`.`day_of_week`, `w.One2oneCourseInstance.Amendment`.`end_date`, `w.One2oneCourseInstance.Amendment`.`end_time`, `w.One2oneCourseInstance.Amendment`.`is_temporary`, `w.One2oneCourseInstance.Amendment`.`learner_id`, `w.One2oneCourseInstance.Amendment`.`org_id`, `w.One2oneCourseInstance.Amendment`.`reason`, `w.One2oneCourseInstance.Amendment`.`room_id`, `w.One2oneCourseInstance.Amendment`.`teacher_id`, `a.Teacher`.`teacher_id`, `a.Teacher`.`ability`, `a.Teacher`.`comment`, `a.Teacher`.`cv_url`, `a.Teacher`.`dob`, `a.Teacher`.`email`, `a.Teacher`.`expiry_date`, `a.Teacher`.`first_name`, `a.Teacher`.`form_url`, `a.Teacher`.`gender`, `a.Teacher`.`home_phone`, `a.Teacher`.`id_number`, `a.Teacher`.`id_photo`, `a.Teacher`.`id_type`, `a.Teacher`.`invoice_template`, `a.Teacher`.`ird_number`, `a.Teacher`.`is_activate`, `a.Teacher`.`is_contract`, `a.Teacher`.`is_left`, `a.Teacher`.`last_name`, `a.Teacher`.`level`, `a.Teacher`.`minimum_hours`, `a.Teacher`.`mobile_phone`, `a.Teacher`.`otherfile_url`, `a.Teacher`.`photo`, `a.Teacher`.`user_id`, `a.Teacher`.`visa`, `a.Room`.`room_id`, `a.Room`.`created_at`, `a.Room`.`is_activate`, `a.Room`.`org_id`, `a.Room`.`room_name`
FROM `ablemusic`.`amendment` AS `w.One2oneCourseInstance.Amendment`
LEFT JOIN `ablemusic`.`teacher` AS `a.Teacher` ON `w.One2oneCourseInstance.Amendment`.`teacher_id` = `a.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `a.Room` ON `w.One2oneCourseInstance.Amendment`.`room_id` = `a.Room`.`room_id`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance0`.`course_instance_id`, `t2`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance0`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher0` ON `w.One2oneCourseInstance0`.`teacher_id` = `o.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room0` ON `w.One2oneCourseInstance0`.`room_id` = `o.Room0`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course0` ON `w.One2oneCourseInstance0`.`course_id` = `o.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org0` ON `w.One2oneCourseInstance0`.`org_id` = `o.Org0`.`org_id`
    INNER JOIN (
        SELECT `w3`.`learner_id`
        FROM `ablemusic`.`learner` AS `w3`
        WHERE `w3`.`is_active` = 1
    ) AS `t2` ON `w.One2oneCourseInstance0`.`learner_id` = `t2`.`learner_id`
) AS `t3` ON `w.One2oneCourseInstance.Amendment`.`course_instance_id` = `t3`.`course_instance_id`
ORDER BY `t3`.`learner_id`, `t3`.`course_instance_id`
2019-07-09 12:10:31.059 +12:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.CourseSchedule`.`course_schedule_id`, `w.One2oneCourseInstance.CourseSchedule`.`begin_time`, `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id`, `w.One2oneCourseInstance.CourseSchedule`.`day_of_week`, `w.One2oneCourseInstance.CourseSchedule`.`end_time`, `w.One2oneCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `w.One2oneCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance1`.`course_instance_id`, `t4`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance1`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher1` ON `w.One2oneCourseInstance1`.`teacher_id` = `o.Teacher1`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room1` ON `w.One2oneCourseInstance1`.`room_id` = `o.Room1`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course1` ON `w.One2oneCourseInstance1`.`course_id` = `o.Course1`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org1` ON `w.One2oneCourseInstance1`.`org_id` = `o.Org1`.`org_id`
    INNER JOIN (
        SELECT `w4`.`learner_id`
        FROM `ablemusic`.`learner` AS `w4`
        WHERE `w4`.`is_active` = 1
    ) AS `t4` ON `w.One2oneCourseInstance1`.`learner_id` = `t4`.`learner_id`
) AS `t5` ON `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id` = `t5`.`course_instance_id`
ORDER BY `t5`.`learner_id`, `t5`.`course_instance_id`
2019-07-09 12:10:31.165 +12:00 [INF] Executed DbCommand (101ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerGroupCourse`.`learner_group_course_id`, `w.LearnerGroupCourse`.`begin_date`, `w.LearnerGroupCourse`.`comment`, `w.LearnerGroupCourse`.`created_at`, `w.LearnerGroupCourse`.`end_date`, `w.LearnerGroupCourse`.`group_course_instance_id`, `w.LearnerGroupCourse`.`invoice_date`, `w.LearnerGroupCourse`.`is_activate`, `w.LearnerGroupCourse`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`, `l.GroupCourseInstance`.`begin_date`, `l.GroupCourseInstance`.`course_id`, `l.GroupCourseInstance`.`end_date`, `l.GroupCourseInstance`.`invoice_date`, `l.GroupCourseInstance`.`is_activate`, `l.GroupCourseInstance`.`is_started`, `l.GroupCourseInstance`.`org_id`, `l.GroupCourseInstance`.`room_id`, `l.GroupCourseInstance`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`ability`, `l.GroupCourseInstance.Teacher`.`comment`, `l.GroupCourseInstance.Teacher`.`cv_url`, `l.GroupCourseInstance.Teacher`.`dob`, `l.GroupCourseInstance.Teacher`.`email`, `l.GroupCourseInstance.Teacher`.`expiry_date`, `l.GroupCourseInstance.Teacher`.`first_name`, `l.GroupCourseInstance.Teacher`.`form_url`, `l.GroupCourseInstance.Teacher`.`gender`, `l.GroupCourseInstance.Teacher`.`home_phone`, `l.GroupCourseInstance.Teacher`.`id_number`, `l.GroupCourseInstance.Teacher`.`id_photo`, `l.GroupCourseInstance.Teacher`.`id_type`, `l.GroupCourseInstance.Teacher`.`invoice_template`, `l.GroupCourseInstance.Teacher`.`ird_number`, `l.GroupCourseInstance.Teacher`.`is_activate`, `l.GroupCourseInstance.Teacher`.`is_contract`, `l.GroupCourseInstance.Teacher`.`is_left`, `l.GroupCourseInstance.Teacher`.`last_name`, `l.GroupCourseInstance.Teacher`.`level`, `l.GroupCourseInstance.Teacher`.`minimum_hours`, `l.GroupCourseInstance.Teacher`.`mobile_phone`, `l.GroupCourseInstance.Teacher`.`otherfile_url`, `l.GroupCourseInstance.Teacher`.`photo`, `l.GroupCourseInstance.Teacher`.`user_id`, `l.GroupCourseInstance.Teacher`.`visa`, `l.GroupCourseInstance.Course`.`course_id`, `l.GroupCourseInstance.Course`.`course_category_id`, `l.GroupCourseInstance.Course`.`course_name`, `l.GroupCourseInstance.Course`.`course_type`, `l.GroupCourseInstance.Course`.`duration`, `l.GroupCourseInstance.Course`.`level`, `l.GroupCourseInstance.Course`.`price`, `l.GroupCourseInstance.Course`.`teacher_level`, `l.GroupCourseInstance.Room`.`room_id`, `l.GroupCourseInstance.Room`.`created_at`, `l.GroupCourseInstance.Room`.`is_activate`, `l.GroupCourseInstance.Room`.`org_id`, `l.GroupCourseInstance.Room`.`room_name`
FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse`
LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance` ON `w.LearnerGroupCourse`.`group_course_instance_id` = `l.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher` ON `l.GroupCourseInstance`.`teacher_id` = `l.GroupCourseInstance.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course` ON `l.GroupCourseInstance`.`course_id` = `l.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room` ON `l.GroupCourseInstance`.`room_id` = `l.GroupCourseInstance.Room`.`room_id`
INNER JOIN (
    SELECT `w5`.`learner_id`
    FROM `ablemusic`.`learner` AS `w5`
    WHERE `w5`.`is_active` = 1
) AS `t6` ON `w.LearnerGroupCourse`.`learner_id` = `t6`.`learner_id`
ORDER BY `t6`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`
2019-07-09 12:10:31.312 +12:00 [INF] Executed DbCommand (144ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l.GroupCourseInstance.CourseSchedule`.`course_schedule_id`, `l.GroupCourseInstance.CourseSchedule`.`begin_time`, `l.GroupCourseInstance.CourseSchedule`.`course_instance_id`, `l.GroupCourseInstance.CourseSchedule`.`day_of_week`, `l.GroupCourseInstance.CourseSchedule`.`end_time`, `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `l.GroupCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `l.GroupCourseInstance0`.`group_course_instance_id`, `t7`.`learner_id`
    FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse0`
    LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance0` ON `w.LearnerGroupCourse0`.`group_course_instance_id` = `l.GroupCourseInstance0`.`group_course_instance_id`
    LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher0` ON `l.GroupCourseInstance0`.`teacher_id` = `l.GroupCourseInstance.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course0` ON `l.GroupCourseInstance0`.`course_id` = `l.GroupCourseInstance.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room0` ON `l.GroupCourseInstance0`.`room_id` = `l.GroupCourseInstance.Room0`.`room_id`
    INNER JOIN (
        SELECT `w6`.`learner_id`
        FROM `ablemusic`.`learner` AS `w6`
        WHERE `w6`.`is_active` = 1
    ) AS `t7` ON `w.LearnerGroupCourse0`.`learner_id` = `t7`.`learner_id`
) AS `t8` ON `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id` = `t8`.`group_course_instance_id`
ORDER BY `t8`.`learner_id`, `t8`.`group_course_instance_id`
2019-07-09 12:10:31.369 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 918.3691ms.
2019-07-09 12:10:31.369 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:10:31.381 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) in 930.5828ms
2019-07-09 12:10:31.381 +12:00 [INF] Request finished in 931.5552ms 200 application/json; charset=utf-8
2019-07-09 12:10:31.732 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/navitems  
2019-07-09 12:10:31.732 +12:00 [INF] Policy execution successful.
2019-07-09 12:10:31.732 +12:00 [INF] Successfully validated the token.
2019-07-09 12:10:31.733 +12:00 [INF] Route matched with {action = "GetNavItems", controller = "NavItems"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNavItems() on controller Pegasus_backend.Controllers.NavItemsController (Pegasus_backend).
2019-07-09 12:10:31.733 +12:00 [INF] Authorization was successful.
2019-07-09 12:10:31.733 +12:00 [INF] Executing action method Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:10:31.734 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:10:31.906 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`user_id`, `s`.`created_at`, `s`.`is_activate`, `s`.`is_online`, `s`.`password`, `s`.`role_id`, `s`.`signature`, `s`.`unread_message_id`, `s`.`user_name`
FROM `ablemusic`.`user` AS `s`
WHERE `s`.`user_id` = @__userId_0
LIMIT 1
2019-07-09 12:10:32.078 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__roleId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`page_id`
FROM `ablemusic`.`role_access` AS `s`
WHERE `s`.`role_id` = @__roleId_0
2019-07-09 12:10:32.253 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`page_group_id`, `s`.`display_order`, `s`.`icon`, `s`.`page_group_name`
FROM `ablemusic`.`page_group` AS `s`
ORDER BY `s`.`page_group_id`
2019-07-09 12:10:32.308 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Page`.`page_id`, `s.Page`.`display_order`, `s.Page`.`icon`, `s.Page`.`is_activate`, `s.Page`.`page_group_id`, `s.Page`.`page_name`, `s.Page`.`para`, `s.Page`.`para_flag`, `s.Page`.`url`
FROM `ablemusic`.`page` AS `s.Page`
INNER JOIN (
    SELECT `s0`.`page_group_id`
    FROM `ablemusic`.`page_group` AS `s0`
) AS `t` ON `s.Page`.`page_group_id` = `t`.`page_group_id`
ORDER BY `t`.`page_group_id`
2019-07-09 12:10:32.310 +12:00 [INF] Executed action method Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 576.9878ms.
2019-07-09 12:10:32.310 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:10:32.311 +12:00 [INF] Executed action Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend) in 578.2399ms
2019-07-09 12:10:32.311 +12:00 [INF] Request finished in 579.2889ms 200 application/json; charset=utf-8
2019-07-09 12:10:37.889 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/mike  
2019-07-09 12:10:37.890 +12:00 [INF] Policy execution successful.
2019-07-09 12:10:37.890 +12:00 [INF] Route matched with {action = "GetLearner", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearner(System.String) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-09 12:10:37.890 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:10:37.891 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:10:38.075 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`learner_id`, `s`.`address`, `s`.`comment`, `s`.`contact_num`, `s`.`created_at`, `s`.`dob`, `s`.`email`, `s`.`enroll_date`, `s`.`first_name`, `s`.`form_url`, `s`.`g5_certification`, `s`.`gender`, `s`.`is_abrsm_g5`, `s`.`is_active`, `s`.`is_under_18`, `s`.`last_name`, `s`.`learner_level`, `s`.`level_type`, `s`.`middle_name`, `s`.`note`, `s`.`org_id`, `s`.`otherfile_url`, `s`.`payment_period`, `s`.`photo`, `s`.`referrer`, `s`.`referrer_learner_id`, `s`.`user_id`
FROM `ablemusic`.`learner` AS `s`
WHERE (`s`.`is_active` = 1) AND `s`.`first_name` LIKE concat('%', @__name_0, '%')
ORDER BY `s`.`learner_id`
2019-07-09 12:10:38.130 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.LearnerOthers`.`learner_others_id`, `s.LearnerOthers`.`learner_id`, `s.LearnerOthers`.`learner_level`, `s.LearnerOthers`.`others_type`, `s.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `s.LearnerOthers`
INNER JOIN (
    SELECT `s0`.`learner_id`
    FROM `ablemusic`.`learner` AS `s0`
    WHERE (`s0`.`is_active` = 1) AND `s0`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t` ON `s.LearnerOthers`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-09 12:10:38.190 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Parent`.`parent_id`, `s.Parent`.`contact_num`, `s.Parent`.`created_at`, `s.Parent`.`email`, `s.Parent`.`first_name`, `s.Parent`.`last_name`, `s.Parent`.`learner_id`, `s.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `s.Parent`
INNER JOIN (
    SELECT `s1`.`learner_id`
    FROM `ablemusic`.`learner` AS `s1`
    WHERE (`s1`.`is_active` = 1) AND `s1`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t0` ON `s.Parent`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-09 12:10:38.248 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.One2oneCourseInstance`.`course_instance_id`, `s.One2oneCourseInstance`.`begin_date`, `s.One2oneCourseInstance`.`course_id`, `s.One2oneCourseInstance`.`end_date`, `s.One2oneCourseInstance`.`invoice_date`, `s.One2oneCourseInstance`.`learner_id`, `s.One2oneCourseInstance`.`org_id`, `s.One2oneCourseInstance`.`room_id`, `s.One2oneCourseInstance`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `s.One2oneCourseInstance`
INNER JOIN (
    SELECT `s2`.`learner_id`
    FROM `ablemusic`.`learner` AS `s2`
    WHERE (`s2`.`is_active` = 1) AND `s2`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t1` ON `s.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`
2019-07-09 12:10:38.314 +12:00 [INF] Executed DbCommand (65ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.LearnerGroupCourse`.`learner_group_course_id`, `s.LearnerGroupCourse`.`begin_date`, `s.LearnerGroupCourse`.`comment`, `s.LearnerGroupCourse`.`created_at`, `s.LearnerGroupCourse`.`end_date`, `s.LearnerGroupCourse`.`group_course_instance_id`, `s.LearnerGroupCourse`.`invoice_date`, `s.LearnerGroupCourse`.`is_activate`, `s.LearnerGroupCourse`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `s.LearnerGroupCourse`
INNER JOIN (
    SELECT `s3`.`learner_id`
    FROM `ablemusic`.`learner` AS `s3`
    WHERE (`s3`.`is_active` = 1) AND `s3`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t2` ON `s.LearnerGroupCourse`.`learner_id` = `t2`.`learner_id`
ORDER BY `t2`.`learner_id`
2019-07-09 12:10:38.316 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 425.61260000000004ms.
2019-07-09 12:10:38.316 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.IEnumerable`1[[Pegasus_backend.pegasusContext.Learner, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:10:38.317 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) in 426.8176ms
2019-07-09 12:10:38.317 +12:00 [INF] Request finished in 427.6297ms 200 application/json; charset=utf-8
2019-07-09 12:10:40.671 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/product/getCat  
2019-07-09 12:10:40.671 +12:00 [INF] Policy execution successful.
2019-07-09 12:10:40.671 +12:00 [INF] Route matched with {action = "GetCat", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetCat() on controller Pegasus_backend.Controllers.ProductController (Pegasus_backend).
2019-07-09 12:10:40.672 +12:00 [INF] Executing action method Pegasus_backend.Controllers.ProductController.GetCat (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:10:40.672 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:10:40.848 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`prod_cat_id` AS `ProdCatId`, `x`.`prod_cat_name` AS `ProdCatName`
FROM `ablemusic`.`prod_cat` AS `x`
2019-07-09 12:10:40.849 +12:00 [INF] Executed action method Pegasus_backend.Controllers.ProductController.GetCat (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 176.80280000000002ms.
2019-07-09 12:10:40.849 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:10:40.849 +12:00 [INF] Executed action Pegasus_backend.Controllers.ProductController.GetCat (Pegasus_backend) in 177.6251ms
2019-07-09 12:10:40.849 +12:00 [INF] Request finished in 178.2948ms 200 application/json; charset=utf-8
2019-07-09 12:10:43.957 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/product/gettypebycat/1  
2019-07-09 12:10:43.958 +12:00 [INF] Policy execution successful.
2019-07-09 12:10:43.958 +12:00 [INF] Route matched with {action = "GetTypeByCat", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetTypeByCat(Int32) on controller Pegasus_backend.Controllers.ProductController (Pegasus_backend).
2019-07-09 12:10:43.958 +12:00 [INF] Executing action method Pegasus_backend.Controllers.ProductController.GetTypeByCat (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:10:43.959 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:10:44.140 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__cateid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`prod_cat_id` AS `ProdCatId`, `x`.`prod_cat_name` AS `ProdCatName`
FROM `ablemusic`.`prod_cat` AS `x`
WHERE `x`.`prod_cat_id` = @__cateid_0
2019-07-09 12:10:44.140 +12:00 [INF] Executed action method Pegasus_backend.Controllers.ProductController.GetTypeByCat (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 181.69660000000002ms.
2019-07-09 12:10:44.140 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:10:44.327 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@_outer_ProdCatId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`prod_type_id` AS `ProdTypeId`, `s`.`prod_type_name` AS `ProdTypeName`
FROM `ablemusic`.`prod_type` AS `s`
WHERE @_outer_ProdCatId = `s`.`prod_cat_id`
2019-07-09 12:10:44.328 +12:00 [INF] Executed action Pegasus_backend.Controllers.ProductController.GetTypeByCat (Pegasus_backend) in 369.5761ms
2019-07-09 12:10:44.328 +12:00 [INF] Request finished in 370.5066ms 200 application/json; charset=utf-8
2019-07-09 12:10:46.239 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/product/getProdByType/Choose Category..  
2019-07-09 12:10:46.239 +12:00 [INF] Policy execution successful.
2019-07-09 12:10:46.240 +12:00 [INF] Route matched with {action = "GetProdByType", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetProdByType(Int32) on controller Pegasus_backend.Controllers.ProductController (Pegasus_backend).
2019-07-09 12:10:46.245 +12:00 [INF] Executing action method Pegasus_backend.Controllers.ProductController.GetProdByType (Pegasus_backend) - Validation state: "Invalid"
2019-07-09 12:10:46.246 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:10:46.428 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[@__typeid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`product_id` AS `ProductId`, `x`.`product_name` AS `ProductName`, `x`.`model`, `x`.`brand`, `x`.`sell_price` AS `SellPrice`, `x`.`wholesale_price` AS `WholesalePrice`, `x`.`prod_type_id` AS `ProdTypeId`, `x.ProdType`.`prod_type_name` AS `ProdTypeName`, `x.ProdType`.`prod_cat_id` AS `ProdCatId0`, `x.ProdType.ProdCat`.`prod_cat_id` AS `ProdCatId`, `x.ProdType.ProdCat`.`prod_cat_name` AS `ProdCatName`
FROM `ablemusic`.`product` AS `x`
LEFT JOIN `ablemusic`.`prod_type` AS `x.ProdType` ON `x`.`prod_type_id` = `x.ProdType`.`prod_type_id`
LEFT JOIN `ablemusic`.`prod_cat` AS `x.ProdType.ProdCat` ON `x.ProdType`.`prod_cat_id` = `x.ProdType.ProdCat`.`prod_cat_id`
WHERE `x`.`prod_type_id` = @__typeid_0
2019-07-09 12:10:46.428 +12:00 [INF] Executed action method Pegasus_backend.Controllers.ProductController.GetProdByType (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 182.1713ms.
2019-07-09 12:10:46.428 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:10:46.428 +12:00 [INF] Executed action Pegasus_backend.Controllers.ProductController.GetProdByType (Pegasus_backend) in 188.27110000000002ms
2019-07-09 12:10:46.428 +12:00 [INF] Request finished in 190.6325ms 200 application/json; charset=utf-8
2019-07-09 12:10:47.443 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/product/getProdByType/1  
2019-07-09 12:10:47.443 +12:00 [INF] Policy execution successful.
2019-07-09 12:10:47.443 +12:00 [INF] Route matched with {action = "GetProdByType", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetProdByType(Int32) on controller Pegasus_backend.Controllers.ProductController (Pegasus_backend).
2019-07-09 12:10:47.444 +12:00 [INF] Executing action method Pegasus_backend.Controllers.ProductController.GetProdByType (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:10:47.444 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:10:47.627 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__typeid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`product_id` AS `ProductId`, `x`.`product_name` AS `ProductName`, `x`.`model`, `x`.`brand`, `x`.`sell_price` AS `SellPrice`, `x`.`wholesale_price` AS `WholesalePrice`, `x`.`prod_type_id` AS `ProdTypeId`, `x.ProdType`.`prod_type_name` AS `ProdTypeName`, `x.ProdType`.`prod_cat_id` AS `ProdCatId0`, `x.ProdType.ProdCat`.`prod_cat_id` AS `ProdCatId`, `x.ProdType.ProdCat`.`prod_cat_name` AS `ProdCatName`
FROM `ablemusic`.`product` AS `x`
LEFT JOIN `ablemusic`.`prod_type` AS `x.ProdType` ON `x`.`prod_type_id` = `x.ProdType`.`prod_type_id`
LEFT JOIN `ablemusic`.`prod_cat` AS `x.ProdType.ProdCat` ON `x.ProdType`.`prod_cat_id` = `x.ProdType.ProdCat`.`prod_cat_id`
WHERE `x`.`prod_type_id` = @__typeid_0
2019-07-09 12:10:47.627 +12:00 [INF] Executed action method Pegasus_backend.Controllers.ProductController.GetProdByType (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 182.7337ms.
2019-07-09 12:10:47.627 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:10:47.627 +12:00 [INF] Executed action Pegasus_backend.Controllers.ProductController.GetProdByType (Pegasus_backend) in 183.5526ms
2019-07-09 12:10:47.627 +12:00 [INF] Request finished in 184.5199ms 200 application/json; charset=utf-8
2019-07-09 12:10:48.536 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/product/1  
2019-07-09 12:10:48.536 +12:00 [INF] Policy execution successful.
2019-07-09 12:10:48.536 +12:00 [INF] Route matched with {action = "GetProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetProduct(Int32) on controller Pegasus_backend.Controllers.ProductController (Pegasus_backend).
2019-07-09 12:10:48.537 +12:00 [INF] Executing action method Pegasus_backend.Controllers.ProductController.GetProduct (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:10:48.538 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:10:48.734 +12:00 [INF] Executed DbCommand (66ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`product_id` AS `ProductId`, `x`.`product_name` AS `ProductName`, `x`.`model`, `x`.`brand`, `x`.`sell_price` AS `SellPrice`, `x`.`wholesale_price` AS `WholesalePrice`, `x`.`prod_type_id` AS `ProdTypeId`, `x.ProdType`.`prod_type_name` AS `ProdTypeName`, `x.ProdType`.`prod_cat_id` AS `ProdCatId0`, `x.ProdType.ProdCat`.`prod_cat_id` AS `ProdCatId`, `x.ProdType.ProdCat`.`prod_cat_name` AS `ProdCatName`
FROM `ablemusic`.`product` AS `x`
LEFT JOIN `ablemusic`.`prod_type` AS `x.ProdType` ON `x`.`prod_type_id` = `x.ProdType`.`prod_type_id`
LEFT JOIN `ablemusic`.`prod_cat` AS `x.ProdType.ProdCat` ON `x.ProdType`.`prod_cat_id` = `x.ProdType.ProdCat`.`prod_cat_id`
WHERE `x`.`product_id` = @__id_0
2019-07-09 12:10:48.734 +12:00 [INF] Executed action method Pegasus_backend.Controllers.ProductController.GetProduct (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 197.077ms.
2019-07-09 12:10:48.734 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:10:48.735 +12:00 [INF] Executed action Pegasus_backend.Controllers.ProductController.GetProduct (Pegasus_backend) in 198.1148ms
2019-07-09 12:10:48.735 +12:00 [INF] Request finished in 199.2699ms 200 application/json; charset=utf-8
2019-07-09 12:12:32.433 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lookups  
2019-07-09 12:12:32.433 +12:00 [INF] Policy execution successful.
2019-07-09 12:12:32.433 +12:00 [INF] Request finished in 0.6307ms 204 
2019-07-09 12:12:32.442 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/navitems  
2019-07-09 12:12:32.442 +12:00 [INF] Policy execution successful.
2019-07-09 12:12:32.442 +12:00 [INF] Request finished in 0.3805ms 204 
2019-07-09 12:12:32.500 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Chat/GetStaffChattingList/1  
2019-07-09 12:12:32.500 +12:00 [INF] Policy execution successful.
2019-07-09 12:12:32.500 +12:00 [INF] Route matched with {action = "GetStaffChattingList", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStaffChattingList(Int32) on controller Pegasus_backend.Controllers.MobileControllers.ChatController (Pegasus_backend).
2019-07-09 12:12:32.501 +12:00 [INF] Executing action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetStaffChattingList (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:12:32.502 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:12:32.506 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/todolist/3  
2019-07-09 12:12:32.506 +12:00 [INF] Policy execution successful.
2019-07-09 12:12:32.506 +12:00 [INF] Request finished in 0.4455ms 204 
2019-07-09 12:12:32.509 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/dashboard/1  
2019-07-09 12:12:32.509 +12:00 [INF] Policy execution successful.
2019-07-09 12:12:32.509 +12:00 [INF] Route matched with {action = "Get", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.String) on controller Pegasus_backend.Controllers.DashboardController (Pegasus_backend).
2019-07-09 12:12:32.510 +12:00 [INF] Executing action method Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:12:32.511 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:12:32.512 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/dashboard/1  
2019-07-09 12:12:32.513 +12:00 [INF] Policy execution successful.
2019-07-09 12:12:32.513 +12:00 [INF] Route matched with {action = "Get", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.String) on controller Pegasus_backend.Controllers.DashboardController (Pegasus_backend).
2019-07-09 12:12:32.514 +12:00 [INF] Executing action method Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:12:32.514 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:12:32.678 +12:00 [INF] Executed DbCommand (65ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`staff_id`, `x`.`dob`, `x`.`email`, `x`.`expiry_date`, `x`.`first_name`, `x`.`gender`, `x`.`home_phone`, `x`.`id_number`, `x`.`id_photo`, `x`.`id_type`, `x`.`ird_number`, `x`.`is_activate`, `x`.`last_name`, `x`.`mobile_phone`, `x`.`photo`, `x`.`user_id`, `x`.`visa`
FROM `ablemusic`.`staff` AS `x`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
2019-07-09 12:12:32.685 +12:00 [INF] Executed DbCommand (72ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-09 12:12:32.692 +12:00 [INF] Executed DbCommand (65ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-09 12:12:32.708 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/staff/Photos/2190613092457108.jpg  
2019-07-09 12:12:32.709 +12:00 [INF] Request finished in 0.8112ms 404 
2019-07-09 12:12:32.859 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__staffDetial_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`org_id`
FROM `ablemusic`.`staff_org` AS `x`
WHERE `x`.`staff_id` = @__staffDetial_StaffId_0
LIMIT 1
2019-07-09 12:12:32.912 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-09 12:12:32.944 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-09 12:12:33.023 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`staff_id`, `x`.`dob`, `x`.`email`, `x`.`expiry_date`, `x`.`first_name`, `x`.`gender`, `x`.`home_phone`, `x`.`id_number`, `x`.`id_photo`, `x`.`id_type`, `x`.`ird_number`, `x`.`is_activate`, `x`.`last_name`, `x`.`mobile_phone`, `x`.`photo`, `x`.`user_id`, `x`.`visa`
FROM `ablemusic`.`staff` AS `x`
WHERE (`x`.`user_id` <> @__id_0) OR `x`.`user_id` IS NULL
LIMIT @__p_1
2019-07-09 12:12:33.164 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`comment`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`org_id` IN (1)
2019-07-09 12:12:33.184 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`comment`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`org_id` IN (1)
2019-07-09 12:12:33.190 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups  
2019-07-09 12:12:33.190 +12:00 [INF] Policy execution successful.
2019-07-09 12:12:33.191 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/navitems  
2019-07-09 12:12:33.191 +12:00 [INF] Policy execution successful.
2019-07-09 12:12:33.191 +12:00 [INF] Successfully validated the token.
2019-07-09 12:12:33.192 +12:00 [INF] Successfully validated the token.
2019-07-09 12:12:33.192 +12:00 [INF] Route matched with {action = "GetLookups", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookups() on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-09 12:12:33.192 +12:00 [INF] Route matched with {action = "GetNavItems", controller = "NavItems"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNavItems() on controller Pegasus_backend.Controllers.NavItemsController (Pegasus_backend).
2019-07-09 12:12:33.192 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:12:33.192 +12:00 [INF] Authorization was successful.
2019-07-09 12:12:33.193 +12:00 [INF] Executing action method Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:12:33.193 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:12:33.193 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:12:33.195 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/todolist/3  
2019-07-09 12:12:33.195 +12:00 [INF] Policy execution successful.
2019-07-09 12:12:33.196 +12:00 [INF] Successfully validated the token.
2019-07-09 12:12:33.196 +12:00 [INF] Route matched with {action = "Get", controller = "TodoList"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int16) on controller Pegasus_backend.Controllers.TodoListController (Pegasus_backend).
2019-07-09 12:12:33.196 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TodoListController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:12:33.197 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:12:33.197 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`teacher_id` AS `TeacherId`, `x`.`first_name` AS `FirstName`, `x`.`last_name` AS `LastName`, `x`.`email`
FROM `ablemusic`.`teacher` AS `x`
LIMIT @__p_0
2019-07-09 12:12:33.202 +12:00 [WRN] The LINQ expression 'where ([t].TodoDate == Convert(value(Pegasus_backend.Controllers.TodoListController).toNZTimezone(DateTime.UtcNow).Date, Nullable`1))' could not be translated and will be evaluated locally.
2019-07-09 12:12:33.361 +12:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`waiting_id`, `w`.`begin_date`, `w`.`comment`, `w`.`concert_fee`, `w`.`concert_fee_name`, `w`.`course_instance_id`, `w`.`course_name`, `w`.`created_at`, `w`.`due_date`, `w`.`end_date`, `w`.`group_course_instance_id`, `w`.`invoice_num`, `w`.`is_activate`, `w`.`is_confirmed`, `w`.`is_email_sent`, `w`.`is_paid`, `w`.`learner_id`, `w`.`learner_name`, `w`.`lesson_fee`, `w`.`lesson_note_fee_name`, `w`.`lesson_quantity`, `w`.`note_fee`, `w`.`other1_fee`, `w`.`other1_fee_name`, `w`.`other2_fee`, `w`.`other2_fee_name`, `w`.`other3_fee`, `w`.`other3_fee_name`, `w`.`owing_fee`, `w`.`paid_fee`, `w`.`term_id`, `w`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `w`
INNER JOIN `ablemusic`.`learner` AS `l` ON `w`.`learner_id` = `l`.`learner_id`
WHERE `l`.`org_id` IN (1) AND (`w`.`is_confirmed` = 0)
2019-07-09 12:12:33.369 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
2019-07-09 12:12:33.372 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 179.1663ms.
2019-07-09 12:12:33.372 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:12:33.372 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`user_id`, `s`.`created_at`, `s`.`is_activate`, `s`.`is_online`, `s`.`password`, `s`.`role_id`, `s`.`signature`, `s`.`unread_message_id`, `s`.`user_name`
FROM `ablemusic`.`user` AS `s`
WHERE `s`.`user_id` = @__userId_0
LIMIT 1
2019-07-09 12:12:33.373 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend) in 180.6699ms
2019-07-09 12:12:33.373 +12:00 [INF] Request finished in 183.1271ms 200 application/json; charset=utf-8
2019-07-09 12:12:33.386 +12:00 [INF] Executed DbCommand (66ms) [Parameters=[@__orgIdOfStaff_0='?' (DbType = Int16), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x.Learner`.`learner_id`, `x.Learner`.`address`, `x.Learner`.`comment`, `x.Learner`.`contact_num`, `x.Learner`.`created_at`, `x.Learner`.`dob`, `x.Learner`.`email`, `x.Learner`.`enroll_date`, `x.Learner`.`first_name`, `x.Learner`.`form_url`, `x.Learner`.`g5_certification`, `x.Learner`.`gender`, `x.Learner`.`is_abrsm_g5`, `x.Learner`.`is_active`, `x.Learner`.`is_under_18`, `x.Learner`.`last_name`, `x.Learner`.`learner_level`, `x.Learner`.`level_type`, `x.Learner`.`middle_name`, `x.Learner`.`note`, `x.Learner`.`org_id`, `x.Learner`.`otherfile_url`, `x.Learner`.`payment_period`, `x.Learner`.`photo`, `x.Learner`.`referrer`, `x.Learner`.`referrer_learner_id`, `x.Learner`.`user_id`, `x`.`lesson_id` AS `LessonId`, `x`.`learner_id` AS `LearnerId`
FROM `ablemusic`.`lesson` AS `x`
LEFT JOIN `ablemusic`.`learner` AS `x.Learner` ON `x`.`learner_id` = `x.Learner`.`learner_id`
WHERE `x`.`org_id` = @__orgIdOfStaff_0
LIMIT @__p_1
2019-07-09 12:12:33.394 +12:00 [INF] Executed DbCommand (75ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`waiting_id`, `w`.`begin_date`, `w`.`comment`, `w`.`concert_fee`, `w`.`concert_fee_name`, `w`.`course_instance_id`, `w`.`course_name`, `w`.`created_at`, `w`.`due_date`, `w`.`end_date`, `w`.`group_course_instance_id`, `w`.`invoice_num`, `w`.`is_activate`, `w`.`is_confirmed`, `w`.`is_email_sent`, `w`.`is_paid`, `w`.`learner_id`, `w`.`learner_name`, `w`.`lesson_fee`, `w`.`lesson_note_fee_name`, `w`.`lesson_quantity`, `w`.`note_fee`, `w`.`other1_fee`, `w`.`other1_fee_name`, `w`.`other2_fee`, `w`.`other2_fee_name`, `w`.`other3_fee`, `w`.`other3_fee_name`, `w`.`owing_fee`, `w`.`paid_fee`, `w`.`term_id`, `w`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `w`
INNER JOIN `ablemusic`.`learner` AS `l` ON `w`.`learner_id` = `l`.`learner_id`
WHERE `l`.`org_id` IN (1) AND (`w`.`is_confirmed` = 0)
2019-07-09 12:12:33.399 +12:00 [INF] Executed DbCommand (63ms) [Parameters=[@__userId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`list_id`, `t`.`created_at`, `t`.`learner_id`, `t`.`lesson_id`, `t`.`list_content`, `t`.`list_name`, `t`.`process_flag`, `t`.`processed_at`, `t`.`teacher_id`, `t`.`todo_date`, `t`.`user_id`
FROM `ablemusic`.`todo_list` AS `t`
WHERE `t`.`user_id` = @__userId_0
2019-07-09 12:12:33.558 +12:00 [INF] Executed DbCommand (69ms) [Parameters=[@__roleId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`page_id`
FROM `ablemusic`.`role_access` AS `s`
WHERE `s`.`role_id` = @__roleId_0
2019-07-09 12:12:33.566 +12:00 [INF] Executed DbCommand (65ms) [Parameters=[@__orgIdOfStaff_0='?' (DbType = Int16), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_id`, `x`.`address`, `x`.`comment`, `x`.`contact_num`, `x`.`created_at`, `x`.`dob`, `x`.`email`, `x`.`enroll_date`, `x`.`first_name`, `x`.`form_url`, `x`.`g5_certification`, `x`.`gender`, `x`.`is_abrsm_g5`, `x`.`is_active`, `x`.`is_under_18`, `x`.`last_name`, `x`.`learner_level`, `x`.`level_type`, `x`.`middle_name`, `x`.`note`, `x`.`org_id`, `x`.`otherfile_url`, `x`.`payment_period`, `x`.`photo`, `x`.`referrer`, `x`.`referrer_learner_id`, `x`.`user_id`
FROM `ablemusic`.`learner` AS `x`
WHERE `x`.`org_id` = @__orgIdOfStaff_0
LIMIT @__p_1
2019-07-09 12:12:33.567 +12:00 [INF] Executed action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetStaffChattingList (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1065.7284ms.
2019-07-09 12:12:33.567 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Tuple`4[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Staff, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Teacher, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lesson, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Learner, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:12:33.569 +12:00 [INF] Executed action Pegasus_backend.Controllers.MobileControllers.ChatController.GetStaffChattingList (Pegasus_backend) in 1068.7428ms
2019-07-09 12:12:33.570 +12:00 [INF] Request finished in 1069.7528ms 200 application/json; charset=utf-8
2019-07-09 12:12:33.658 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`begin_time` IS NOT NULL AND (`l`.`is_canceled` = 1)) AND `l`.`org_id` IN (1)
2019-07-09 12:12:33.708 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TodoListController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 511.54630000000003ms.
2019-07-09 12:12:33.708 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.TodoList, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:12:33.711 +12:00 [INF] Executed action Pegasus_backend.Controllers.TodoListController.Get (Pegasus_backend) in 515.3429ms
2019-07-09 12:12:33.711 +12:00 [INF] Request finished in 516.4821ms 200 application/json; charset=utf-8
2019-07-09 12:12:33.713 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`page_group_id`, `s`.`display_order`, `s`.`icon`, `s`.`page_group_name`
FROM `ablemusic`.`page_group` AS `s`
ORDER BY `s`.`page_group_id`
2019-07-09 12:12:33.754 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`begin_time` IS NOT NULL AND (`l`.`is_canceled` = 1)) AND `l`.`org_id` IN (1)
2019-07-09 12:12:33.782 +12:00 [INF] Executed DbCommand (69ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Page`.`page_id`, `s.Page`.`display_order`, `s.Page`.`icon`, `s.Page`.`is_activate`, `s.Page`.`page_group_id`, `s.Page`.`page_name`, `s.Page`.`para`, `s.Page`.`para_flag`, `s.Page`.`url`
FROM `ablemusic`.`page` AS `s.Page`
INNER JOIN (
    SELECT `s0`.`page_group_id`
    FROM `ablemusic`.`page_group` AS `s0`
) AS `t` ON `s.Page`.`page_group_id` = `t`.`page_group_id`
ORDER BY `t`.`page_group_id`
2019-07-09 12:12:33.784 +12:00 [INF] Executed action method Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 590.5896ms.
2019-07-09 12:12:33.784 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:12:33.784 +12:00 [INF] Executed action Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend) in 591.6304ms
2019-07-09 12:12:33.784 +12:00 [INF] Request finished in 593.3696ms 200 application/json; charset=utf-8
2019-07-09 12:12:33.900 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE ((`l`.`begin_time` IS NOT NULL AND `l`.`org_id` IN (1)) AND ((`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL)) AND (`l`.`is_changed` = 1)
2019-07-09 12:12:33.949 +12:00 [INF] Executed DbCommand (62ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE ((`l`.`begin_time` IS NOT NULL AND `l`.`org_id` IN (1)) AND ((`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL)) AND (`l`.`is_changed` = 1)
2019-07-09 12:12:34.064 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`amendment_id`, `a`.`amend_type`, `a`.`begin_date`, `a`.`begin_time`, `a`.`course_instance_id`, `a`.`course_schedule_id`, `a`.`created_at`, `a`.`day_of_week`, `a`.`end_date`, `a`.`end_time`, `a`.`is_temporary`, `a`.`learner_id`, `a`.`org_id`, `a`.`reason`, `a`.`room_id`, `a`.`teacher_id`
FROM `ablemusic`.`amendment` AS `a`
WHERE `a`.`org_id` IN (1)
2019-07-09 12:12:34.122 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`amendment_id`, `a`.`amend_type`, `a`.`begin_date`, `a`.`begin_time`, `a`.`course_instance_id`, `a`.`course_schedule_id`, `a`.`created_at`, `a`.`day_of_week`, `a`.`end_date`, `a`.`end_time`, `a`.`is_temporary`, `a`.`learner_id`, `a`.`org_id`, `a`.`reason`, `a`.`room_id`, `a`.`teacher_id`
FROM `ablemusic`.`amendment` AS `a`
WHERE `a`.`org_id` IN (1)
2019-07-09 12:12:34.239 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`amendment_id`, `a`.`amend_type`, `a`.`begin_date`, `a`.`begin_time`, `a`.`course_instance_id`, `a`.`course_schedule_id`, `a`.`created_at`, `a`.`day_of_week`, `a`.`end_date`, `a`.`end_time`, `a`.`is_temporary`, `a`.`learner_id`, `a`.`org_id`, `a`.`reason`, `a`.`room_id`, `a`.`teacher_id`
FROM `ablemusic`.`amendment` AS `a`
WHERE `a`.`org_id` IN (1)
2019-07-09 12:12:34.296 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`amendment_id`, `a`.`amend_type`, `a`.`begin_date`, `a`.`begin_time`, `a`.`course_instance_id`, `a`.`course_schedule_id`, `a`.`created_at`, `a`.`day_of_week`, `a`.`end_date`, `a`.`end_time`, `a`.`is_temporary`, `a`.`learner_id`, `a`.`org_id`, `a`.`reason`, `a`.`room_id`, `a`.`teacher_id`
FROM `ablemusic`.`amendment` AS `a`
WHERE `a`.`org_id` IN (1)
2019-07-09 12:12:34.415 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-09 12:12:34.466 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-09 12:12:34.587 +12:00 [INF] Executed action Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend) in 2072.1989000000003ms
2019-07-09 12:12:34.703 +12:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Nullable object must have a value.
   at System.Nullable`1.get_Value()
   at Pegasus_backend.Services.DashboardService.getLearnerWithRemainLessonsForToday(Int32 numOfRemainLesson) in c:\Users\Learnspace\source\pegasusBackend\Services\DashboardService.cs:line 199
   at Pegasus_backend.Controllers.DashboardController.Get(String orgIDsStr) in c:\Users\Learnspace\source\pegasusBackend\Controllers\DashboardController.cs:line 45
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-07-09 12:12:34.703 +12:00 [INF] Executed action Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend) in 2193.9321ms
2019-07-09 12:12:34.707 +12:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Nullable object must have a value.
   at System.Nullable`1.get_Value()
   at Pegasus_backend.Services.DashboardService.getLearnerWithRemainLessonsForToday(Int32 numOfRemainLesson) in c:\Users\Learnspace\source\pegasusBackend\Services\DashboardService.cs:line 199
   at Pegasus_backend.Controllers.DashboardController.Get(String orgIDsStr) in c:\Users\Learnspace\source\pegasusBackend\Controllers\DashboardController.cs:line 45
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-07-09 12:12:34.739 +12:00 [INF] Request finished in 2226.4709ms 500 text/html; charset=utf-8
2019-07-09 12:12:34.745 +12:00 [INF] Request finished in 2236.3797ms 500 text/html; charset=utf-8
2019-07-09 12:12:40.135 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/mike  
2019-07-09 12:12:40.135 +12:00 [INF] Policy execution successful.
2019-07-09 12:12:40.135 +12:00 [INF] Route matched with {action = "GetLearner", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearner(System.String) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-09 12:12:40.136 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:12:40.137 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:12:40.523 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`learner_id`, `s`.`address`, `s`.`comment`, `s`.`contact_num`, `s`.`created_at`, `s`.`dob`, `s`.`email`, `s`.`enroll_date`, `s`.`first_name`, `s`.`form_url`, `s`.`g5_certification`, `s`.`gender`, `s`.`is_abrsm_g5`, `s`.`is_active`, `s`.`is_under_18`, `s`.`last_name`, `s`.`learner_level`, `s`.`level_type`, `s`.`middle_name`, `s`.`note`, `s`.`org_id`, `s`.`otherfile_url`, `s`.`payment_period`, `s`.`photo`, `s`.`referrer`, `s`.`referrer_learner_id`, `s`.`user_id`
FROM `ablemusic`.`learner` AS `s`
WHERE (`s`.`is_active` = 1) AND `s`.`first_name` LIKE concat('%', @__name_0, '%')
ORDER BY `s`.`learner_id`
2019-07-09 12:12:40.578 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.LearnerOthers`.`learner_others_id`, `s.LearnerOthers`.`learner_id`, `s.LearnerOthers`.`learner_level`, `s.LearnerOthers`.`others_type`, `s.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `s.LearnerOthers`
INNER JOIN (
    SELECT `s0`.`learner_id`
    FROM `ablemusic`.`learner` AS `s0`
    WHERE (`s0`.`is_active` = 1) AND `s0`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t` ON `s.LearnerOthers`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-09 12:12:40.633 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Parent`.`parent_id`, `s.Parent`.`contact_num`, `s.Parent`.`created_at`, `s.Parent`.`email`, `s.Parent`.`first_name`, `s.Parent`.`last_name`, `s.Parent`.`learner_id`, `s.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `s.Parent`
INNER JOIN (
    SELECT `s1`.`learner_id`
    FROM `ablemusic`.`learner` AS `s1`
    WHERE (`s1`.`is_active` = 1) AND `s1`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t0` ON `s.Parent`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-09 12:12:40.692 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.One2oneCourseInstance`.`course_instance_id`, `s.One2oneCourseInstance`.`begin_date`, `s.One2oneCourseInstance`.`course_id`, `s.One2oneCourseInstance`.`end_date`, `s.One2oneCourseInstance`.`invoice_date`, `s.One2oneCourseInstance`.`learner_id`, `s.One2oneCourseInstance`.`org_id`, `s.One2oneCourseInstance`.`room_id`, `s.One2oneCourseInstance`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `s.One2oneCourseInstance`
INNER JOIN (
    SELECT `s2`.`learner_id`
    FROM `ablemusic`.`learner` AS `s2`
    WHERE (`s2`.`is_active` = 1) AND `s2`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t1` ON `s.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`
2019-07-09 12:12:40.750 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.LearnerGroupCourse`.`learner_group_course_id`, `s.LearnerGroupCourse`.`begin_date`, `s.LearnerGroupCourse`.`comment`, `s.LearnerGroupCourse`.`created_at`, `s.LearnerGroupCourse`.`end_date`, `s.LearnerGroupCourse`.`group_course_instance_id`, `s.LearnerGroupCourse`.`invoice_date`, `s.LearnerGroupCourse`.`is_activate`, `s.LearnerGroupCourse`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `s.LearnerGroupCourse`
INNER JOIN (
    SELECT `s3`.`learner_id`
    FROM `ablemusic`.`learner` AS `s3`
    WHERE (`s3`.`is_active` = 1) AND `s3`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t2` ON `s.LearnerGroupCourse`.`learner_id` = `t2`.`learner_id`
ORDER BY `t2`.`learner_id`
2019-07-09 12:12:40.752 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 615.3223ms.
2019-07-09 12:12:40.752 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.IEnumerable`1[[Pegasus_backend.pegasusContext.Learner, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:12:40.753 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) in 617.2283ms
2019-07-09 12:12:40.753 +12:00 [INF] Request finished in 618.4286ms 200 application/json; charset=utf-8
2019-07-09 12:12:43.009 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/product/getCat  
2019-07-09 12:12:43.009 +12:00 [INF] Policy execution successful.
2019-07-09 12:12:43.009 +12:00 [INF] Route matched with {action = "GetCat", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetCat() on controller Pegasus_backend.Controllers.ProductController (Pegasus_backend).
2019-07-09 12:12:43.010 +12:00 [INF] Executing action method Pegasus_backend.Controllers.ProductController.GetCat (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:12:43.010 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:12:43.183 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`prod_cat_id` AS `ProdCatId`, `x`.`prod_cat_name` AS `ProdCatName`
FROM `ablemusic`.`prod_cat` AS `x`
2019-07-09 12:12:43.183 +12:00 [INF] Executed action method Pegasus_backend.Controllers.ProductController.GetCat (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 173.11870000000002ms.
2019-07-09 12:12:43.183 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:12:43.183 +12:00 [INF] Executed action Pegasus_backend.Controllers.ProductController.GetCat (Pegasus_backend) in 173.7888ms
2019-07-09 12:12:43.183 +12:00 [INF] Request finished in 174.7095ms 200 application/json; charset=utf-8
2019-07-09 12:12:46.312 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/product/gettypebycat/1  
2019-07-09 12:12:46.313 +12:00 [INF] Policy execution successful.
2019-07-09 12:12:46.313 +12:00 [INF] Route matched with {action = "GetTypeByCat", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetTypeByCat(Int32) on controller Pegasus_backend.Controllers.ProductController (Pegasus_backend).
2019-07-09 12:12:46.313 +12:00 [INF] Executing action method Pegasus_backend.Controllers.ProductController.GetTypeByCat (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:12:46.314 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:12:46.482 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__cateid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`prod_cat_id` AS `ProdCatId`, `x`.`prod_cat_name` AS `ProdCatName`
FROM `ablemusic`.`prod_cat` AS `x`
WHERE `x`.`prod_cat_id` = @__cateid_0
2019-07-09 12:12:46.482 +12:00 [INF] Executed action method Pegasus_backend.Controllers.ProductController.GetTypeByCat (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 169.0335ms.
2019-07-09 12:12:46.482 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:12:46.653 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@_outer_ProdCatId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`prod_type_id` AS `ProdTypeId`, `s`.`prod_type_name` AS `ProdTypeName`
FROM `ablemusic`.`prod_type` AS `s`
WHERE @_outer_ProdCatId = `s`.`prod_cat_id`
2019-07-09 12:12:46.654 +12:00 [INF] Executed action Pegasus_backend.Controllers.ProductController.GetTypeByCat (Pegasus_backend) in 340.8099ms
2019-07-09 12:12:46.654 +12:00 [INF] Request finished in 341.678ms 200 application/json; charset=utf-8
2019-07-09 12:12:47.548 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/product/getProdByType/1  
2019-07-09 12:12:47.548 +12:00 [INF] Policy execution successful.
2019-07-09 12:12:47.548 +12:00 [INF] Route matched with {action = "GetProdByType", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetProdByType(Int32) on controller Pegasus_backend.Controllers.ProductController (Pegasus_backend).
2019-07-09 12:12:47.549 +12:00 [INF] Executing action method Pegasus_backend.Controllers.ProductController.GetProdByType (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:12:47.550 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:12:47.880 +12:00 [INF] Executed DbCommand (83ms) [Parameters=[@__typeid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`product_id` AS `ProductId`, `x`.`product_name` AS `ProductName`, `x`.`model`, `x`.`brand`, `x`.`sell_price` AS `SellPrice`, `x`.`wholesale_price` AS `WholesalePrice`, `x`.`prod_type_id` AS `ProdTypeId`, `x.ProdType`.`prod_type_name` AS `ProdTypeName`, `x.ProdType`.`prod_cat_id` AS `ProdCatId0`, `x.ProdType.ProdCat`.`prod_cat_id` AS `ProdCatId`, `x.ProdType.ProdCat`.`prod_cat_name` AS `ProdCatName`
FROM `ablemusic`.`product` AS `x`
LEFT JOIN `ablemusic`.`prod_type` AS `x.ProdType` ON `x`.`prod_type_id` = `x.ProdType`.`prod_type_id`
LEFT JOIN `ablemusic`.`prod_cat` AS `x.ProdType.ProdCat` ON `x.ProdType`.`prod_cat_id` = `x.ProdType.ProdCat`.`prod_cat_id`
WHERE `x`.`prod_type_id` = @__typeid_0
2019-07-09 12:12:47.880 +12:00 [INF] Executed action method Pegasus_backend.Controllers.ProductController.GetProdByType (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 330.7832ms.
2019-07-09 12:12:47.880 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:12:47.880 +12:00 [INF] Executed action Pegasus_backend.Controllers.ProductController.GetProdByType (Pegasus_backend) in 331.68670000000003ms
2019-07-09 12:12:47.880 +12:00 [INF] Request finished in 332.6707ms 200 application/json; charset=utf-8
2019-07-09 12:12:49.365 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/product/1  
2019-07-09 12:12:49.365 +12:00 [INF] Policy execution successful.
2019-07-09 12:12:49.365 +12:00 [INF] Route matched with {action = "GetProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetProduct(Int32) on controller Pegasus_backend.Controllers.ProductController (Pegasus_backend).
2019-07-09 12:12:49.366 +12:00 [INF] Executing action method Pegasus_backend.Controllers.ProductController.GetProduct (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:12:49.366 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:12:49.543 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`product_id` AS `ProductId`, `x`.`product_name` AS `ProductName`, `x`.`model`, `x`.`brand`, `x`.`sell_price` AS `SellPrice`, `x`.`wholesale_price` AS `WholesalePrice`, `x`.`prod_type_id` AS `ProdTypeId`, `x.ProdType`.`prod_type_name` AS `ProdTypeName`, `x.ProdType`.`prod_cat_id` AS `ProdCatId0`, `x.ProdType.ProdCat`.`prod_cat_id` AS `ProdCatId`, `x.ProdType.ProdCat`.`prod_cat_name` AS `ProdCatName`
FROM `ablemusic`.`product` AS `x`
LEFT JOIN `ablemusic`.`prod_type` AS `x.ProdType` ON `x`.`prod_type_id` = `x.ProdType`.`prod_type_id`
LEFT JOIN `ablemusic`.`prod_cat` AS `x.ProdType.ProdCat` ON `x.ProdType`.`prod_cat_id` = `x.ProdType.ProdCat`.`prod_cat_id`
WHERE `x`.`product_id` = @__id_0
2019-07-09 12:12:49.543 +12:00 [INF] Executed action method Pegasus_backend.Controllers.ProductController.GetProduct (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 177.29160000000002ms.
2019-07-09 12:12:49.543 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:12:49.543 +12:00 [INF] Executed action Pegasus_backend.Controllers.ProductController.GetProduct (Pegasus_backend) in 177.97320000000002ms
2019-07-09 12:12:49.543 +12:00 [INF] Request finished in 178.6673ms 200 application/json; charset=utf-8
2019-07-09 12:14:04.861 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lookups  
2019-07-09 12:14:04.861 +12:00 [INF] Policy execution successful.
2019-07-09 12:14:04.862 +12:00 [INF] Request finished in 0.3925ms 204 
2019-07-09 12:14:04.872 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/navitems  
2019-07-09 12:14:04.873 +12:00 [INF] Policy execution successful.
2019-07-09 12:14:04.873 +12:00 [INF] Request finished in 0.3451ms 204 
2019-07-09 12:14:04.939 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner  
2019-07-09 12:14:04.939 +12:00 [INF] Policy execution successful.
2019-07-09 12:14:04.939 +12:00 [INF] Route matched with {action = "GetLearner", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearner() on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-09 12:14:04.940 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:14:04.940 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:14:04.946 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/product/getCat  
2019-07-09 12:14:04.946 +12:00 [INF] Policy execution successful.
2019-07-09 12:14:04.946 +12:00 [INF] Route matched with {action = "GetCat", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetCat() on controller Pegasus_backend.Controllers.ProductController (Pegasus_backend).
2019-07-09 12:14:04.947 +12:00 [INF] Executing action method Pegasus_backend.Controllers.ProductController.GetCat (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:14:04.947 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:14:04.981 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/staff/Photos/2190613092457108.jpg  
2019-07-09 12:14:04.983 +12:00 [INF] Request finished in 2.2108ms 404 
2019-07-09 12:14:05.116 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`prod_cat_id` AS `ProdCatId`, `x`.`prod_cat_name` AS `ProdCatName`
FROM `ablemusic`.`prod_cat` AS `x`
2019-07-09 12:14:05.116 +12:00 [INF] Executed action method Pegasus_backend.Controllers.ProductController.GetCat (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 169.4077ms.
2019-07-09 12:14:05.116 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:14:05.117 +12:00 [INF] Executed action Pegasus_backend.Controllers.ProductController.GetCat (Pegasus_backend) in 170.304ms
2019-07-09 12:14:05.117 +12:00 [INF] Request finished in 171.211ms 200 application/json; charset=utf-8
2019-07-09 12:14:05.124 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`is_active` = 1
ORDER BY `w`.`learner_id`
2019-07-09 12:14:05.190 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Parent`.`parent_id`, `w.Parent`.`contact_num`, `w.Parent`.`created_at`, `w.Parent`.`email`, `w.Parent`.`first_name`, `w.Parent`.`last_name`, `w.Parent`.`learner_id`, `w.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `w.Parent`
INNER JOIN (
    SELECT `w0`.`learner_id`
    FROM `ablemusic`.`learner` AS `w0`
    WHERE `w0`.`is_active` = 1
) AS `t` ON `w.Parent`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-09 12:14:05.245 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerOthers`.`learner_others_id`, `w.LearnerOthers`.`learner_id`, `w.LearnerOthers`.`learner_level`, `w.LearnerOthers`.`others_type`, `w.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `w.LearnerOthers`
INNER JOIN (
    SELECT `w1`.`learner_id`
    FROM `ablemusic`.`learner` AS `w1`
    WHERE `w1`.`is_active` = 1
) AS `t0` ON `w.LearnerOthers`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-09 12:14:05.858 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups  
2019-07-09 12:14:05.858 +12:00 [INF] Policy execution successful.
2019-07-09 12:14:05.859 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/navitems  
2019-07-09 12:14:05.860 +12:00 [INF] Policy execution successful.
2019-07-09 12:14:05.860 +12:00 [INF] Successfully validated the token.
2019-07-09 12:14:05.860 +12:00 [INF] Route matched with {action = "GetLookups", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookups() on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-09 12:14:05.860 +12:00 [INF] Successfully validated the token.
2019-07-09 12:14:05.860 +12:00 [INF] Route matched with {action = "GetNavItems", controller = "NavItems"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNavItems() on controller Pegasus_backend.Controllers.NavItemsController (Pegasus_backend).
2019-07-09 12:14:05.860 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:14:05.860 +12:00 [INF] Authorization was successful.
2019-07-09 12:14:05.861 +12:00 [INF] Executing action method Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:14:05.861 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:14:05.861 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:14:07.310 +12:00 [INF] Executed DbCommand (2,064ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance`.`course_instance_id`, `w.One2oneCourseInstance`.`begin_date`, `w.One2oneCourseInstance`.`course_id`, `w.One2oneCourseInstance`.`end_date`, `w.One2oneCourseInstance`.`invoice_date`, `w.One2oneCourseInstance`.`learner_id`, `w.One2oneCourseInstance`.`org_id`, `w.One2oneCourseInstance`.`room_id`, `w.One2oneCourseInstance`.`teacher_id`, `o.Teacher`.`teacher_id`, `o.Teacher`.`ability`, `o.Teacher`.`comment`, `o.Teacher`.`cv_url`, `o.Teacher`.`dob`, `o.Teacher`.`email`, `o.Teacher`.`expiry_date`, `o.Teacher`.`first_name`, `o.Teacher`.`form_url`, `o.Teacher`.`gender`, `o.Teacher`.`home_phone`, `o.Teacher`.`id_number`, `o.Teacher`.`id_photo`, `o.Teacher`.`id_type`, `o.Teacher`.`invoice_template`, `o.Teacher`.`ird_number`, `o.Teacher`.`is_activate`, `o.Teacher`.`is_contract`, `o.Teacher`.`is_left`, `o.Teacher`.`last_name`, `o.Teacher`.`level`, `o.Teacher`.`minimum_hours`, `o.Teacher`.`mobile_phone`, `o.Teacher`.`otherfile_url`, `o.Teacher`.`photo`, `o.Teacher`.`user_id`, `o.Teacher`.`visa`, `o.Room`.`room_id`, `o.Room`.`created_at`, `o.Room`.`is_activate`, `o.Room`.`org_id`, `o.Room`.`room_name`, `o.Course`.`course_id`, `o.Course`.`course_category_id`, `o.Course`.`course_name`, `o.Course`.`course_type`, `o.Course`.`duration`, `o.Course`.`level`, `o.Course`.`price`, `o.Course`.`teacher_level`, `o.Org`.`org_id`, `o.Org`.`abbr`, `o.Org`.`address`, `o.Org`.`email`, `o.Org`.`is_activate`, `o.Org`.`is_headoffice`, `o.Org`.`localtion_x`, `o.Org`.`localtion_y`, `o.Org`.`org_name`, `o.Org`.`phone`
FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance`
LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher` ON `w.One2oneCourseInstance`.`teacher_id` = `o.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `o.Room` ON `w.One2oneCourseInstance`.`room_id` = `o.Room`.`room_id`
LEFT JOIN `ablemusic`.`course` AS `o.Course` ON `w.One2oneCourseInstance`.`course_id` = `o.Course`.`course_id`
LEFT JOIN `ablemusic`.`org` AS `o.Org` ON `w.One2oneCourseInstance`.`org_id` = `o.Org`.`org_id`
INNER JOIN (
    SELECT `w2`.`learner_id`
    FROM `ablemusic`.`learner` AS `w2`
    WHERE `w2`.`is_active` = 1
) AS `t1` ON `w.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`, `w.One2oneCourseInstance`.`course_instance_id`
2019-07-09 12:14:07.476 +12:00 [INF] Executed DbCommand (61ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
2019-07-09 12:14:07.478 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1617.4070000000002ms.
2019-07-09 12:14:07.478 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:14:07.478 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend) in 1618.3106ms
2019-07-09 12:14:07.479 +12:00 [INF] Request finished in 1621.1976ms 200 application/json; charset=utf-8
2019-07-09 12:14:07.526 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`user_id`, `s`.`created_at`, `s`.`is_activate`, `s`.`is_online`, `s`.`password`, `s`.`role_id`, `s`.`signature`, `s`.`unread_message_id`, `s`.`user_name`
FROM `ablemusic`.`user` AS `s`
WHERE `s`.`user_id` = @__userId_0
LIMIT 1
2019-07-09 12:14:07.556 +12:00 [INF] Executed DbCommand (205ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.Amendment`.`amendment_id`, `w.One2oneCourseInstance.Amendment`.`amend_type`, `w.One2oneCourseInstance.Amendment`.`begin_date`, `w.One2oneCourseInstance.Amendment`.`begin_time`, `w.One2oneCourseInstance.Amendment`.`course_instance_id`, `w.One2oneCourseInstance.Amendment`.`course_schedule_id`, `w.One2oneCourseInstance.Amendment`.`created_at`, `w.One2oneCourseInstance.Amendment`.`day_of_week`, `w.One2oneCourseInstance.Amendment`.`end_date`, `w.One2oneCourseInstance.Amendment`.`end_time`, `w.One2oneCourseInstance.Amendment`.`is_temporary`, `w.One2oneCourseInstance.Amendment`.`learner_id`, `w.One2oneCourseInstance.Amendment`.`org_id`, `w.One2oneCourseInstance.Amendment`.`reason`, `w.One2oneCourseInstance.Amendment`.`room_id`, `w.One2oneCourseInstance.Amendment`.`teacher_id`, `a.Teacher`.`teacher_id`, `a.Teacher`.`ability`, `a.Teacher`.`comment`, `a.Teacher`.`cv_url`, `a.Teacher`.`dob`, `a.Teacher`.`email`, `a.Teacher`.`expiry_date`, `a.Teacher`.`first_name`, `a.Teacher`.`form_url`, `a.Teacher`.`gender`, `a.Teacher`.`home_phone`, `a.Teacher`.`id_number`, `a.Teacher`.`id_photo`, `a.Teacher`.`id_type`, `a.Teacher`.`invoice_template`, `a.Teacher`.`ird_number`, `a.Teacher`.`is_activate`, `a.Teacher`.`is_contract`, `a.Teacher`.`is_left`, `a.Teacher`.`last_name`, `a.Teacher`.`level`, `a.Teacher`.`minimum_hours`, `a.Teacher`.`mobile_phone`, `a.Teacher`.`otherfile_url`, `a.Teacher`.`photo`, `a.Teacher`.`user_id`, `a.Teacher`.`visa`, `a.Room`.`room_id`, `a.Room`.`created_at`, `a.Room`.`is_activate`, `a.Room`.`org_id`, `a.Room`.`room_name`
FROM `ablemusic`.`amendment` AS `w.One2oneCourseInstance.Amendment`
LEFT JOIN `ablemusic`.`teacher` AS `a.Teacher` ON `w.One2oneCourseInstance.Amendment`.`teacher_id` = `a.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `a.Room` ON `w.One2oneCourseInstance.Amendment`.`room_id` = `a.Room`.`room_id`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance0`.`course_instance_id`, `t2`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance0`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher0` ON `w.One2oneCourseInstance0`.`teacher_id` = `o.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room0` ON `w.One2oneCourseInstance0`.`room_id` = `o.Room0`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course0` ON `w.One2oneCourseInstance0`.`course_id` = `o.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org0` ON `w.One2oneCourseInstance0`.`org_id` = `o.Org0`.`org_id`
    INNER JOIN (
        SELECT `w3`.`learner_id`
        FROM `ablemusic`.`learner` AS `w3`
        WHERE `w3`.`is_active` = 1
    ) AS `t2` ON `w.One2oneCourseInstance0`.`learner_id` = `t2`.`learner_id`
) AS `t3` ON `w.One2oneCourseInstance.Amendment`.`course_instance_id` = `t3`.`course_instance_id`
ORDER BY `t3`.`learner_id`, `t3`.`course_instance_id`
2019-07-09 12:14:07.655 +12:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.CourseSchedule`.`course_schedule_id`, `w.One2oneCourseInstance.CourseSchedule`.`begin_time`, `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id`, `w.One2oneCourseInstance.CourseSchedule`.`day_of_week`, `w.One2oneCourseInstance.CourseSchedule`.`end_time`, `w.One2oneCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `w.One2oneCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance1`.`course_instance_id`, `t4`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance1`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher1` ON `w.One2oneCourseInstance1`.`teacher_id` = `o.Teacher1`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room1` ON `w.One2oneCourseInstance1`.`room_id` = `o.Room1`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course1` ON `w.One2oneCourseInstance1`.`course_id` = `o.Course1`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org1` ON `w.One2oneCourseInstance1`.`org_id` = `o.Org1`.`org_id`
    INNER JOIN (
        SELECT `w4`.`learner_id`
        FROM `ablemusic`.`learner` AS `w4`
        WHERE `w4`.`is_active` = 1
    ) AS `t4` ON `w.One2oneCourseInstance1`.`learner_id` = `t4`.`learner_id`
) AS `t5` ON `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id` = `t5`.`course_instance_id`
ORDER BY `t5`.`learner_id`, `t5`.`course_instance_id`
2019-07-09 12:14:07.689 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__roleId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`page_id`
FROM `ablemusic`.`role_access` AS `s`
WHERE `s`.`role_id` = @__roleId_0
2019-07-09 12:14:07.783 +12:00 [INF] Executed DbCommand (108ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerGroupCourse`.`learner_group_course_id`, `w.LearnerGroupCourse`.`begin_date`, `w.LearnerGroupCourse`.`comment`, `w.LearnerGroupCourse`.`created_at`, `w.LearnerGroupCourse`.`end_date`, `w.LearnerGroupCourse`.`group_course_instance_id`, `w.LearnerGroupCourse`.`invoice_date`, `w.LearnerGroupCourse`.`is_activate`, `w.LearnerGroupCourse`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`, `l.GroupCourseInstance`.`begin_date`, `l.GroupCourseInstance`.`course_id`, `l.GroupCourseInstance`.`end_date`, `l.GroupCourseInstance`.`invoice_date`, `l.GroupCourseInstance`.`is_activate`, `l.GroupCourseInstance`.`is_started`, `l.GroupCourseInstance`.`org_id`, `l.GroupCourseInstance`.`room_id`, `l.GroupCourseInstance`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`ability`, `l.GroupCourseInstance.Teacher`.`comment`, `l.GroupCourseInstance.Teacher`.`cv_url`, `l.GroupCourseInstance.Teacher`.`dob`, `l.GroupCourseInstance.Teacher`.`email`, `l.GroupCourseInstance.Teacher`.`expiry_date`, `l.GroupCourseInstance.Teacher`.`first_name`, `l.GroupCourseInstance.Teacher`.`form_url`, `l.GroupCourseInstance.Teacher`.`gender`, `l.GroupCourseInstance.Teacher`.`home_phone`, `l.GroupCourseInstance.Teacher`.`id_number`, `l.GroupCourseInstance.Teacher`.`id_photo`, `l.GroupCourseInstance.Teacher`.`id_type`, `l.GroupCourseInstance.Teacher`.`invoice_template`, `l.GroupCourseInstance.Teacher`.`ird_number`, `l.GroupCourseInstance.Teacher`.`is_activate`, `l.GroupCourseInstance.Teacher`.`is_contract`, `l.GroupCourseInstance.Teacher`.`is_left`, `l.GroupCourseInstance.Teacher`.`last_name`, `l.GroupCourseInstance.Teacher`.`level`, `l.GroupCourseInstance.Teacher`.`minimum_hours`, `l.GroupCourseInstance.Teacher`.`mobile_phone`, `l.GroupCourseInstance.Teacher`.`otherfile_url`, `l.GroupCourseInstance.Teacher`.`photo`, `l.GroupCourseInstance.Teacher`.`user_id`, `l.GroupCourseInstance.Teacher`.`visa`, `l.GroupCourseInstance.Course`.`course_id`, `l.GroupCourseInstance.Course`.`course_category_id`, `l.GroupCourseInstance.Course`.`course_name`, `l.GroupCourseInstance.Course`.`course_type`, `l.GroupCourseInstance.Course`.`duration`, `l.GroupCourseInstance.Course`.`level`, `l.GroupCourseInstance.Course`.`price`, `l.GroupCourseInstance.Course`.`teacher_level`, `l.GroupCourseInstance.Room`.`room_id`, `l.GroupCourseInstance.Room`.`created_at`, `l.GroupCourseInstance.Room`.`is_activate`, `l.GroupCourseInstance.Room`.`org_id`, `l.GroupCourseInstance.Room`.`room_name`
FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse`
LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance` ON `w.LearnerGroupCourse`.`group_course_instance_id` = `l.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher` ON `l.GroupCourseInstance`.`teacher_id` = `l.GroupCourseInstance.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course` ON `l.GroupCourseInstance`.`course_id` = `l.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room` ON `l.GroupCourseInstance`.`room_id` = `l.GroupCourseInstance.Room`.`room_id`
INNER JOIN (
    SELECT `w5`.`learner_id`
    FROM `ablemusic`.`learner` AS `w5`
    WHERE `w5`.`is_active` = 1
) AS `t6` ON `w.LearnerGroupCourse`.`learner_id` = `t6`.`learner_id`
ORDER BY `t6`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`
2019-07-09 12:14:07.871 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`page_group_id`, `s`.`display_order`, `s`.`icon`, `s`.`page_group_name`
FROM `ablemusic`.`page_group` AS `s`
ORDER BY `s`.`page_group_id`
2019-07-09 12:14:07.924 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Page`.`page_id`, `s.Page`.`display_order`, `s.Page`.`icon`, `s.Page`.`is_activate`, `s.Page`.`page_group_id`, `s.Page`.`page_name`, `s.Page`.`para`, `s.Page`.`para_flag`, `s.Page`.`url`
FROM `ablemusic`.`page` AS `s.Page`
INNER JOIN (
    SELECT `s0`.`page_group_id`
    FROM `ablemusic`.`page_group` AS `s0`
) AS `t` ON `s.Page`.`page_group_id` = `t`.`page_group_id`
ORDER BY `t`.`page_group_id`
2019-07-09 12:14:07.926 +12:00 [INF] Executed action method Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2064.8085ms.
2019-07-09 12:14:07.926 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:14:07.926 +12:00 [INF] Executed action Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend) in 2065.9717ms
2019-07-09 12:14:07.927 +12:00 [INF] Request finished in 2067.2905ms 200 application/json; charset=utf-8
2019-07-09 12:14:07.996 +12:00 [INF] Executed DbCommand (68ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l.GroupCourseInstance.CourseSchedule`.`course_schedule_id`, `l.GroupCourseInstance.CourseSchedule`.`begin_time`, `l.GroupCourseInstance.CourseSchedule`.`course_instance_id`, `l.GroupCourseInstance.CourseSchedule`.`day_of_week`, `l.GroupCourseInstance.CourseSchedule`.`end_time`, `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `l.GroupCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `l.GroupCourseInstance0`.`group_course_instance_id`, `t7`.`learner_id`
    FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse0`
    LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance0` ON `w.LearnerGroupCourse0`.`group_course_instance_id` = `l.GroupCourseInstance0`.`group_course_instance_id`
    LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher0` ON `l.GroupCourseInstance0`.`teacher_id` = `l.GroupCourseInstance.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course0` ON `l.GroupCourseInstance0`.`course_id` = `l.GroupCourseInstance.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room0` ON `l.GroupCourseInstance0`.`room_id` = `l.GroupCourseInstance.Room0`.`room_id`
    INNER JOIN (
        SELECT `w6`.`learner_id`
        FROM `ablemusic`.`learner` AS `w6`
        WHERE `w6`.`is_active` = 1
    ) AS `t7` ON `w.LearnerGroupCourse0`.`learner_id` = `t7`.`learner_id`
) AS `t8` ON `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id` = `t8`.`group_course_instance_id`
ORDER BY `t8`.`learner_id`, `t8`.`group_course_instance_id`
2019-07-09 12:14:08.042 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3102.0256ms.
2019-07-09 12:14:08.042 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:14:08.053 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) in 3113.5247ms
2019-07-09 12:14:08.053 +12:00 [INF] Request finished in 3114.312ms 200 application/json; charset=utf-8
2019-07-09 12:14:13.604 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/product/gettypebycat/1  
2019-07-09 12:14:13.604 +12:00 [INF] Policy execution successful.
2019-07-09 12:14:13.604 +12:00 [INF] Route matched with {action = "GetTypeByCat", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetTypeByCat(Int32) on controller Pegasus_backend.Controllers.ProductController (Pegasus_backend).
2019-07-09 12:14:13.604 +12:00 [INF] Executing action method Pegasus_backend.Controllers.ProductController.GetTypeByCat (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:14:13.605 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:14:13.778 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__cateid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`prod_cat_id` AS `ProdCatId`, `x`.`prod_cat_name` AS `ProdCatName`
FROM `ablemusic`.`prod_cat` AS `x`
WHERE `x`.`prod_cat_id` = @__cateid_0
2019-07-09 12:14:13.779 +12:00 [INF] Executed action method Pegasus_backend.Controllers.ProductController.GetTypeByCat (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 174.08ms.
2019-07-09 12:14:13.779 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:14:13.953 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@_outer_ProdCatId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`prod_type_id` AS `ProdTypeId`, `s`.`prod_type_name` AS `ProdTypeName`
FROM `ablemusic`.`prod_type` AS `s`
WHERE @_outer_ProdCatId = `s`.`prod_cat_id`
2019-07-09 12:14:13.953 +12:00 [INF] Executed action Pegasus_backend.Controllers.ProductController.GetTypeByCat (Pegasus_backend) in 349.36310000000003ms
2019-07-09 12:14:13.954 +12:00 [INF] Request finished in 350.1148ms 200 application/json; charset=utf-8
2019-07-09 12:14:14.556 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/product/getProdByType/1  
2019-07-09 12:14:14.556 +12:00 [INF] Policy execution successful.
2019-07-09 12:14:14.556 +12:00 [INF] Route matched with {action = "GetProdByType", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetProdByType(Int32) on controller Pegasus_backend.Controllers.ProductController (Pegasus_backend).
2019-07-09 12:14:14.557 +12:00 [INF] Executing action method Pegasus_backend.Controllers.ProductController.GetProdByType (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:14:14.557 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:14:15.711 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/product/Choose products..  
2019-07-09 12:14:15.711 +12:00 [INF] Policy execution successful.
2019-07-09 12:14:15.712 +12:00 [INF] Route matched with {action = "GetProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetProduct(Int32) on controller Pegasus_backend.Controllers.ProductController (Pegasus_backend).
2019-07-09 12:14:15.713 +12:00 [INF] Executing action method Pegasus_backend.Controllers.ProductController.GetProduct (Pegasus_backend) - Validation state: "Invalid"
2019-07-09 12:14:15.713 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:14:16.375 +12:00 [INF] Executed DbCommand (65ms) [Parameters=[@__typeid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`product_id` AS `ProductId`, `x`.`product_name` AS `ProductName`, `x`.`model`, `x`.`brand`, `x`.`sell_price` AS `SellPrice`, `x`.`wholesale_price` AS `WholesalePrice`, `x`.`prod_type_id` AS `ProdTypeId`, `x.ProdType`.`prod_type_name` AS `ProdTypeName`, `x.ProdType`.`prod_cat_id` AS `ProdCatId0`, `x.ProdType.ProdCat`.`prod_cat_id` AS `ProdCatId`, `x.ProdType.ProdCat`.`prod_cat_name` AS `ProdCatName`
FROM `ablemusic`.`product` AS `x`
LEFT JOIN `ablemusic`.`prod_type` AS `x.ProdType` ON `x`.`prod_type_id` = `x.ProdType`.`prod_type_id`
LEFT JOIN `ablemusic`.`prod_cat` AS `x.ProdType.ProdCat` ON `x.ProdType`.`prod_cat_id` = `x.ProdType.ProdCat`.`prod_cat_id`
WHERE `x`.`prod_type_id` = @__typeid_0
2019-07-09 12:14:16.375 +12:00 [INF] Executed action method Pegasus_backend.Controllers.ProductController.GetProdByType (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1818.2652ms.
2019-07-09 12:14:16.375 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:14:16.375 +12:00 [INF] Executed action Pegasus_backend.Controllers.ProductController.GetProdByType (Pegasus_backend) in 1819.1068ms
2019-07-09 12:14:16.376 +12:00 [INF] Request finished in 1819.8415ms 200 application/json; charset=utf-8
2019-07-09 12:14:16.429 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`product_id` AS `ProductId`, `x`.`product_name` AS `ProductName`, `x`.`model`, `x`.`brand`, `x`.`sell_price` AS `SellPrice`, `x`.`wholesale_price` AS `WholesalePrice`, `x`.`prod_type_id` AS `ProdTypeId`, `x.ProdType`.`prod_type_name` AS `ProdTypeName`, `x.ProdType`.`prod_cat_id` AS `ProdCatId0`, `x.ProdType.ProdCat`.`prod_cat_id` AS `ProdCatId`, `x.ProdType.ProdCat`.`prod_cat_name` AS `ProdCatName`
FROM `ablemusic`.`product` AS `x`
LEFT JOIN `ablemusic`.`prod_type` AS `x.ProdType` ON `x`.`prod_type_id` = `x.ProdType`.`prod_type_id`
LEFT JOIN `ablemusic`.`prod_cat` AS `x.ProdType.ProdCat` ON `x.ProdType`.`prod_cat_id` = `x.ProdType.ProdCat`.`prod_cat_id`
WHERE `x`.`product_id` = @__id_0
2019-07-09 12:14:16.429 +12:00 [INF] Executed action method Pegasus_backend.Controllers.ProductController.GetProduct (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 716.78860000000009ms.
2019-07-09 12:14:16.430 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:14:16.430 +12:00 [INF] Executed action Pegasus_backend.Controllers.ProductController.GetProduct (Pegasus_backend) in 717.98980000000006ms
2019-07-09 12:14:16.430 +12:00 [INF] Request finished in 718.6647ms 200 application/json; charset=utf-8
2019-07-09 12:14:18.957 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/product/1  
2019-07-09 12:14:18.957 +12:00 [INF] Policy execution successful.
2019-07-09 12:14:18.957 +12:00 [INF] Route matched with {action = "GetProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetProduct(Int32) on controller Pegasus_backend.Controllers.ProductController (Pegasus_backend).
2019-07-09 12:14:18.958 +12:00 [INF] Executing action method Pegasus_backend.Controllers.ProductController.GetProduct (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:14:18.959 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:14:19.136 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`product_id` AS `ProductId`, `x`.`product_name` AS `ProductName`, `x`.`model`, `x`.`brand`, `x`.`sell_price` AS `SellPrice`, `x`.`wholesale_price` AS `WholesalePrice`, `x`.`prod_type_id` AS `ProdTypeId`, `x.ProdType`.`prod_type_name` AS `ProdTypeName`, `x.ProdType`.`prod_cat_id` AS `ProdCatId0`, `x.ProdType.ProdCat`.`prod_cat_id` AS `ProdCatId`, `x.ProdType.ProdCat`.`prod_cat_name` AS `ProdCatName`
FROM `ablemusic`.`product` AS `x`
LEFT JOIN `ablemusic`.`prod_type` AS `x.ProdType` ON `x`.`prod_type_id` = `x.ProdType`.`prod_type_id`
LEFT JOIN `ablemusic`.`prod_cat` AS `x.ProdType.ProdCat` ON `x.ProdType`.`prod_cat_id` = `x.ProdType.ProdCat`.`prod_cat_id`
WHERE `x`.`product_id` = @__id_0
2019-07-09 12:14:19.137 +12:00 [INF] Executed action method Pegasus_backend.Controllers.ProductController.GetProduct (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 178.5963ms.
2019-07-09 12:14:19.137 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:14:19.137 +12:00 [INF] Executed action Pegasus_backend.Controllers.ProductController.GetProduct (Pegasus_backend) in 179.4631ms
2019-07-09 12:14:19.137 +12:00 [INF] Request finished in 180.2722ms 200 application/json; charset=utf-8
2019-07-09 12:19:40.237 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/navitems  
2019-07-09 12:19:40.238 +12:00 [INF] Policy execution successful.
2019-07-09 12:19:40.238 +12:00 [INF] Request finished in 0.978ms 204 
2019-07-09 12:19:40.235 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lookups  
2019-07-09 12:19:40.242 +12:00 [INF] Policy execution successful.
2019-07-09 12:19:40.243 +12:00 [INF] Request finished in 7.6478ms 204 
2019-07-09 12:19:40.318 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner  
2019-07-09 12:19:40.318 +12:00 [INF] Policy execution successful.
2019-07-09 12:19:40.319 +12:00 [INF] Route matched with {action = "GetLearner", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearner() on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-09 12:19:40.319 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:19:40.320 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:19:40.322 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/product/getCat  
2019-07-09 12:19:40.323 +12:00 [INF] Policy execution successful.
2019-07-09 12:19:40.328 +12:00 [INF] Route matched with {action = "GetCat", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetCat() on controller Pegasus_backend.Controllers.ProductController (Pegasus_backend).
2019-07-09 12:19:40.329 +12:00 [INF] Executing action method Pegasus_backend.Controllers.ProductController.GetCat (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:19:40.329 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:19:40.370 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/staff/Photos/2190613092457108.jpg  
2019-07-09 12:19:40.371 +12:00 [INF] Request finished in 0.951ms 404 
2019-07-09 12:19:41.000 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`prod_cat_id` AS `ProdCatId`, `x`.`prod_cat_name` AS `ProdCatName`
FROM `ablemusic`.`prod_cat` AS `x`
2019-07-09 12:19:41.001 +12:00 [INF] Executed action method Pegasus_backend.Controllers.ProductController.GetCat (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 671.8501ms.
2019-07-09 12:19:41.001 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:19:41.001 +12:00 [INF] Executed action Pegasus_backend.Controllers.ProductController.GetCat (Pegasus_backend) in 673.05860000000007ms
2019-07-09 12:19:41.002 +12:00 [INF] Request finished in 680.0684ms 200 application/json; charset=utf-8
2019-07-09 12:19:41.009 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`comment`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`is_active` = 1
ORDER BY `w`.`learner_id`
2019-07-09 12:19:41.075 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Parent`.`parent_id`, `w.Parent`.`contact_num`, `w.Parent`.`created_at`, `w.Parent`.`email`, `w.Parent`.`first_name`, `w.Parent`.`last_name`, `w.Parent`.`learner_id`, `w.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `w.Parent`
INNER JOIN (
    SELECT `w0`.`learner_id`
    FROM `ablemusic`.`learner` AS `w0`
    WHERE `w0`.`is_active` = 1
) AS `t` ON `w.Parent`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-09 12:19:41.133 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerOthers`.`learner_others_id`, `w.LearnerOthers`.`learner_id`, `w.LearnerOthers`.`learner_level`, `w.LearnerOthers`.`others_type`, `w.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `w.LearnerOthers`
INNER JOIN (
    SELECT `w1`.`learner_id`
    FROM `ablemusic`.`learner` AS `w1`
    WHERE `w1`.`is_active` = 1
) AS `t0` ON `w.LearnerOthers`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-09 12:19:41.221 +12:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance`.`course_instance_id`, `w.One2oneCourseInstance`.`begin_date`, `w.One2oneCourseInstance`.`course_id`, `w.One2oneCourseInstance`.`end_date`, `w.One2oneCourseInstance`.`invoice_date`, `w.One2oneCourseInstance`.`learner_id`, `w.One2oneCourseInstance`.`org_id`, `w.One2oneCourseInstance`.`room_id`, `w.One2oneCourseInstance`.`teacher_id`, `o.Teacher`.`teacher_id`, `o.Teacher`.`ability`, `o.Teacher`.`comment`, `o.Teacher`.`cv_url`, `o.Teacher`.`dob`, `o.Teacher`.`email`, `o.Teacher`.`expiry_date`, `o.Teacher`.`first_name`, `o.Teacher`.`form_url`, `o.Teacher`.`gender`, `o.Teacher`.`home_phone`, `o.Teacher`.`id_number`, `o.Teacher`.`id_photo`, `o.Teacher`.`id_type`, `o.Teacher`.`invoice_template`, `o.Teacher`.`ird_number`, `o.Teacher`.`is_activate`, `o.Teacher`.`is_contract`, `o.Teacher`.`is_left`, `o.Teacher`.`last_name`, `o.Teacher`.`level`, `o.Teacher`.`minimum_hours`, `o.Teacher`.`mobile_phone`, `o.Teacher`.`otherfile_url`, `o.Teacher`.`photo`, `o.Teacher`.`user_id`, `o.Teacher`.`visa`, `o.Room`.`room_id`, `o.Room`.`created_at`, `o.Room`.`is_activate`, `o.Room`.`org_id`, `o.Room`.`room_name`, `o.Course`.`course_id`, `o.Course`.`course_category_id`, `o.Course`.`course_name`, `o.Course`.`course_type`, `o.Course`.`duration`, `o.Course`.`level`, `o.Course`.`price`, `o.Course`.`teacher_level`, `o.Org`.`org_id`, `o.Org`.`abbr`, `o.Org`.`address`, `o.Org`.`email`, `o.Org`.`is_activate`, `o.Org`.`is_headoffice`, `o.Org`.`localtion_x`, `o.Org`.`localtion_y`, `o.Org`.`org_name`, `o.Org`.`phone`
FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance`
LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher` ON `w.One2oneCourseInstance`.`teacher_id` = `o.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `o.Room` ON `w.One2oneCourseInstance`.`room_id` = `o.Room`.`room_id`
LEFT JOIN `ablemusic`.`course` AS `o.Course` ON `w.One2oneCourseInstance`.`course_id` = `o.Course`.`course_id`
LEFT JOIN `ablemusic`.`org` AS `o.Org` ON `w.One2oneCourseInstance`.`org_id` = `o.Org`.`org_id`
INNER JOIN (
    SELECT `w2`.`learner_id`
    FROM `ablemusic`.`learner` AS `w2`
    WHERE `w2`.`is_active` = 1
) AS `t1` ON `w.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`, `w.One2oneCourseInstance`.`course_instance_id`
2019-07-09 12:19:41.300 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/navitems  
2019-07-09 12:19:41.300 +12:00 [INF] Policy execution successful.
2019-07-09 12:19:41.301 +12:00 [INF] Successfully validated the token.
2019-07-09 12:19:41.301 +12:00 [INF] Route matched with {action = "GetNavItems", controller = "NavItems"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNavItems() on controller Pegasus_backend.Controllers.NavItemsController (Pegasus_backend).
2019-07-09 12:19:41.301 +12:00 [INF] Authorization was successful.
2019-07-09 12:19:41.302 +12:00 [INF] Executing action method Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:19:41.303 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups  
2019-07-09 12:19:41.304 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:19:41.304 +12:00 [INF] Policy execution successful.
2019-07-09 12:19:41.304 +12:00 [INF] Successfully validated the token.
2019-07-09 12:19:41.304 +12:00 [INF] Route matched with {action = "GetLookups", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookups() on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-09 12:19:41.304 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:19:41.305 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:19:41.393 +12:00 [INF] Executed DbCommand (103ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.Amendment`.`amendment_id`, `w.One2oneCourseInstance.Amendment`.`amend_type`, `w.One2oneCourseInstance.Amendment`.`begin_date`, `w.One2oneCourseInstance.Amendment`.`begin_time`, `w.One2oneCourseInstance.Amendment`.`course_instance_id`, `w.One2oneCourseInstance.Amendment`.`course_schedule_id`, `w.One2oneCourseInstance.Amendment`.`created_at`, `w.One2oneCourseInstance.Amendment`.`day_of_week`, `w.One2oneCourseInstance.Amendment`.`end_date`, `w.One2oneCourseInstance.Amendment`.`end_time`, `w.One2oneCourseInstance.Amendment`.`is_temporary`, `w.One2oneCourseInstance.Amendment`.`learner_id`, `w.One2oneCourseInstance.Amendment`.`org_id`, `w.One2oneCourseInstance.Amendment`.`reason`, `w.One2oneCourseInstance.Amendment`.`room_id`, `w.One2oneCourseInstance.Amendment`.`teacher_id`, `a.Teacher`.`teacher_id`, `a.Teacher`.`ability`, `a.Teacher`.`comment`, `a.Teacher`.`cv_url`, `a.Teacher`.`dob`, `a.Teacher`.`email`, `a.Teacher`.`expiry_date`, `a.Teacher`.`first_name`, `a.Teacher`.`form_url`, `a.Teacher`.`gender`, `a.Teacher`.`home_phone`, `a.Teacher`.`id_number`, `a.Teacher`.`id_photo`, `a.Teacher`.`id_type`, `a.Teacher`.`invoice_template`, `a.Teacher`.`ird_number`, `a.Teacher`.`is_activate`, `a.Teacher`.`is_contract`, `a.Teacher`.`is_left`, `a.Teacher`.`last_name`, `a.Teacher`.`level`, `a.Teacher`.`minimum_hours`, `a.Teacher`.`mobile_phone`, `a.Teacher`.`otherfile_url`, `a.Teacher`.`photo`, `a.Teacher`.`user_id`, `a.Teacher`.`visa`, `a.Room`.`room_id`, `a.Room`.`created_at`, `a.Room`.`is_activate`, `a.Room`.`org_id`, `a.Room`.`room_name`
FROM `ablemusic`.`amendment` AS `w.One2oneCourseInstance.Amendment`
LEFT JOIN `ablemusic`.`teacher` AS `a.Teacher` ON `w.One2oneCourseInstance.Amendment`.`teacher_id` = `a.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `a.Room` ON `w.One2oneCourseInstance.Amendment`.`room_id` = `a.Room`.`room_id`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance0`.`course_instance_id`, `t2`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance0`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher0` ON `w.One2oneCourseInstance0`.`teacher_id` = `o.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room0` ON `w.One2oneCourseInstance0`.`room_id` = `o.Room0`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course0` ON `w.One2oneCourseInstance0`.`course_id` = `o.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org0` ON `w.One2oneCourseInstance0`.`org_id` = `o.Org0`.`org_id`
    INNER JOIN (
        SELECT `w3`.`learner_id`
        FROM `ablemusic`.`learner` AS `w3`
        WHERE `w3`.`is_active` = 1
    ) AS `t2` ON `w.One2oneCourseInstance0`.`learner_id` = `t2`.`learner_id`
) AS `t3` ON `w.One2oneCourseInstance.Amendment`.`course_instance_id` = `t3`.`course_instance_id`
ORDER BY `t3`.`learner_id`, `t3`.`course_instance_id`
2019-07-09 12:19:41.473 +12:00 [INF] Executed DbCommand (78ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.CourseSchedule`.`course_schedule_id`, `w.One2oneCourseInstance.CourseSchedule`.`begin_time`, `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id`, `w.One2oneCourseInstance.CourseSchedule`.`day_of_week`, `w.One2oneCourseInstance.CourseSchedule`.`end_time`, `w.One2oneCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `w.One2oneCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance1`.`course_instance_id`, `t4`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance1`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher1` ON `w.One2oneCourseInstance1`.`teacher_id` = `o.Teacher1`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room1` ON `w.One2oneCourseInstance1`.`room_id` = `o.Room1`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course1` ON `w.One2oneCourseInstance1`.`course_id` = `o.Course1`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org1` ON `w.One2oneCourseInstance1`.`org_id` = `o.Org1`.`org_id`
    INNER JOIN (
        SELECT `w4`.`learner_id`
        FROM `ablemusic`.`learner` AS `w4`
        WHERE `w4`.`is_active` = 1
    ) AS `t4` ON `w.One2oneCourseInstance1`.`learner_id` = `t4`.`learner_id`
) AS `t5` ON `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id` = `t5`.`course_instance_id`
ORDER BY `t5`.`learner_id`, `t5`.`course_instance_id`
2019-07-09 12:19:41.491 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`user_id`, `s`.`created_at`, `s`.`is_activate`, `s`.`is_online`, `s`.`password`, `s`.`role_id`, `s`.`signature`, `s`.`unread_message_id`, `s`.`user_name`
FROM `ablemusic`.`user` AS `s`
WHERE `s`.`user_id` = @__userId_0
LIMIT 1
2019-07-09 12:19:41.569 +12:00 [INF] Executed DbCommand (93ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerGroupCourse`.`learner_group_course_id`, `w.LearnerGroupCourse`.`begin_date`, `w.LearnerGroupCourse`.`comment`, `w.LearnerGroupCourse`.`created_at`, `w.LearnerGroupCourse`.`end_date`, `w.LearnerGroupCourse`.`group_course_instance_id`, `w.LearnerGroupCourse`.`invoice_date`, `w.LearnerGroupCourse`.`is_activate`, `w.LearnerGroupCourse`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`, `l.GroupCourseInstance`.`begin_date`, `l.GroupCourseInstance`.`course_id`, `l.GroupCourseInstance`.`end_date`, `l.GroupCourseInstance`.`invoice_date`, `l.GroupCourseInstance`.`is_activate`, `l.GroupCourseInstance`.`is_started`, `l.GroupCourseInstance`.`org_id`, `l.GroupCourseInstance`.`room_id`, `l.GroupCourseInstance`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`ability`, `l.GroupCourseInstance.Teacher`.`comment`, `l.GroupCourseInstance.Teacher`.`cv_url`, `l.GroupCourseInstance.Teacher`.`dob`, `l.GroupCourseInstance.Teacher`.`email`, `l.GroupCourseInstance.Teacher`.`expiry_date`, `l.GroupCourseInstance.Teacher`.`first_name`, `l.GroupCourseInstance.Teacher`.`form_url`, `l.GroupCourseInstance.Teacher`.`gender`, `l.GroupCourseInstance.Teacher`.`home_phone`, `l.GroupCourseInstance.Teacher`.`id_number`, `l.GroupCourseInstance.Teacher`.`id_photo`, `l.GroupCourseInstance.Teacher`.`id_type`, `l.GroupCourseInstance.Teacher`.`invoice_template`, `l.GroupCourseInstance.Teacher`.`ird_number`, `l.GroupCourseInstance.Teacher`.`is_activate`, `l.GroupCourseInstance.Teacher`.`is_contract`, `l.GroupCourseInstance.Teacher`.`is_left`, `l.GroupCourseInstance.Teacher`.`last_name`, `l.GroupCourseInstance.Teacher`.`level`, `l.GroupCourseInstance.Teacher`.`minimum_hours`, `l.GroupCourseInstance.Teacher`.`mobile_phone`, `l.GroupCourseInstance.Teacher`.`otherfile_url`, `l.GroupCourseInstance.Teacher`.`photo`, `l.GroupCourseInstance.Teacher`.`user_id`, `l.GroupCourseInstance.Teacher`.`visa`, `l.GroupCourseInstance.Course`.`course_id`, `l.GroupCourseInstance.Course`.`course_category_id`, `l.GroupCourseInstance.Course`.`course_name`, `l.GroupCourseInstance.Course`.`course_type`, `l.GroupCourseInstance.Course`.`duration`, `l.GroupCourseInstance.Course`.`level`, `l.GroupCourseInstance.Course`.`price`, `l.GroupCourseInstance.Course`.`teacher_level`, `l.GroupCourseInstance.Room`.`room_id`, `l.GroupCourseInstance.Room`.`created_at`, `l.GroupCourseInstance.Room`.`is_activate`, `l.GroupCourseInstance.Room`.`org_id`, `l.GroupCourseInstance.Room`.`room_name`
FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse`
LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance` ON `w.LearnerGroupCourse`.`group_course_instance_id` = `l.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher` ON `l.GroupCourseInstance`.`teacher_id` = `l.GroupCourseInstance.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course` ON `l.GroupCourseInstance`.`course_id` = `l.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room` ON `l.GroupCourseInstance`.`room_id` = `l.GroupCourseInstance.Room`.`room_id`
INNER JOIN (
    SELECT `w5`.`learner_id`
    FROM `ablemusic`.`learner` AS `w5`
    WHERE `w5`.`is_active` = 1
) AS `t6` ON `w.LearnerGroupCourse`.`learner_id` = `t6`.`learner_id`
ORDER BY `t6`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`
2019-07-09 12:19:41.650 +12:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l.GroupCourseInstance.CourseSchedule`.`course_schedule_id`, `l.GroupCourseInstance.CourseSchedule`.`begin_time`, `l.GroupCourseInstance.CourseSchedule`.`course_instance_id`, `l.GroupCourseInstance.CourseSchedule`.`day_of_week`, `l.GroupCourseInstance.CourseSchedule`.`end_time`, `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `l.GroupCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `l.GroupCourseInstance0`.`group_course_instance_id`, `t7`.`learner_id`
    FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse0`
    LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance0` ON `w.LearnerGroupCourse0`.`group_course_instance_id` = `l.GroupCourseInstance0`.`group_course_instance_id`
    LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher0` ON `l.GroupCourseInstance0`.`teacher_id` = `l.GroupCourseInstance.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course0` ON `l.GroupCourseInstance0`.`course_id` = `l.GroupCourseInstance.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room0` ON `l.GroupCourseInstance0`.`room_id` = `l.GroupCourseInstance.Room0`.`room_id`
    INNER JOIN (
        SELECT `w6`.`learner_id`
        FROM `ablemusic`.`learner` AS `w6`
        WHERE `w6`.`is_active` = 1
    ) AS `t7` ON `w.LearnerGroupCourse0`.`learner_id` = `t7`.`learner_id`
) AS `t8` ON `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id` = `t8`.`group_course_instance_id`
ORDER BY `t8`.`learner_id`, `t8`.`group_course_instance_id`
2019-07-09 12:19:41.680 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[@__roleId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`page_id`
FROM `ablemusic`.`role_access` AS `s`
WHERE `s`.`role_id` = @__roleId_0
2019-07-09 12:19:41.707 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1387.0702ms.
2019-07-09 12:19:41.707 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:19:41.755 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) in 1435.9477000000002ms
2019-07-09 12:19:41.755 +12:00 [INF] Request finished in 1437.1976ms 200 application/json; charset=utf-8
2019-07-09 12:19:41.862 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`page_group_id`, `s`.`display_order`, `s`.`icon`, `s`.`page_group_name`
FROM `ablemusic`.`page_group` AS `s`
ORDER BY `s`.`page_group_id`
2019-07-09 12:19:41.912 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
2019-07-09 12:19:41.915 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 610.2967ms.
2019-07-09 12:19:41.915 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:19:41.916 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend) in 611.53600000000006ms
2019-07-09 12:19:41.916 +12:00 [INF] Request finished in 612.4849ms 200 application/json; charset=utf-8
2019-07-09 12:19:41.916 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Page`.`page_id`, `s.Page`.`display_order`, `s.Page`.`icon`, `s.Page`.`is_activate`, `s.Page`.`page_group_id`, `s.Page`.`page_name`, `s.Page`.`para`, `s.Page`.`para_flag`, `s.Page`.`url`
FROM `ablemusic`.`page` AS `s.Page`
INNER JOIN (
    SELECT `s0`.`page_group_id`
    FROM `ablemusic`.`page_group` AS `s0`
) AS `t` ON `s.Page`.`page_group_id` = `t`.`page_group_id`
ORDER BY `t`.`page_group_id`
2019-07-09 12:19:41.918 +12:00 [INF] Executed action method Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 616.2554ms.
2019-07-09 12:19:41.919 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:19:41.919 +12:00 [INF] Executed action Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend) in 617.78550000000007ms
2019-07-09 12:19:41.919 +12:00 [INF] Request finished in 619.1034ms 200 application/json; charset=utf-8
2019-07-09 12:19:52.497 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/product/gettypebycat/1  
2019-07-09 12:19:52.497 +12:00 [INF] Policy execution successful.
2019-07-09 12:19:52.498 +12:00 [INF] Route matched with {action = "GetTypeByCat", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetTypeByCat(Int32) on controller Pegasus_backend.Controllers.ProductController (Pegasus_backend).
2019-07-09 12:19:52.498 +12:00 [INF] Executing action method Pegasus_backend.Controllers.ProductController.GetTypeByCat (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:19:52.499 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:19:52.683 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[@__cateid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`prod_cat_id` AS `ProdCatId`, `x`.`prod_cat_name` AS `ProdCatName`
FROM `ablemusic`.`prod_cat` AS `x`
WHERE `x`.`prod_cat_id` = @__cateid_0
2019-07-09 12:19:52.684 +12:00 [INF] Executed action method Pegasus_backend.Controllers.ProductController.GetTypeByCat (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 185.2537ms.
2019-07-09 12:19:52.684 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:19:52.862 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_ProdCatId='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`prod_type_id` AS `ProdTypeId`, `s`.`prod_type_name` AS `ProdTypeName`
FROM `ablemusic`.`prod_type` AS `s`
WHERE @_outer_ProdCatId = `s`.`prod_cat_id`
2019-07-09 12:19:52.862 +12:00 [INF] Executed action Pegasus_backend.Controllers.ProductController.GetTypeByCat (Pegasus_backend) in 364.6993ms
2019-07-09 12:19:52.863 +12:00 [INF] Request finished in 365.5871ms 200 application/json; charset=utf-8
2019-07-09 12:19:53.759 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/product/getProdByType/1  
2019-07-09 12:19:53.759 +12:00 [INF] Policy execution successful.
2019-07-09 12:19:53.760 +12:00 [INF] Route matched with {action = "GetProdByType", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetProdByType(Int32) on controller Pegasus_backend.Controllers.ProductController (Pegasus_backend).
2019-07-09 12:19:53.760 +12:00 [INF] Executing action method Pegasus_backend.Controllers.ProductController.GetProdByType (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:19:53.761 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:19:53.938 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__typeid_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`product_id` AS `ProductId`, `x`.`product_name` AS `ProductName`, `x`.`model`, `x`.`brand`, `x`.`sell_price` AS `SellPrice`, `x`.`wholesale_price` AS `WholesalePrice`, `x`.`prod_type_id` AS `ProdTypeId`, `x.ProdType`.`prod_type_name` AS `ProdTypeName`, `x.ProdType`.`prod_cat_id` AS `ProdCatId0`, `x.ProdType.ProdCat`.`prod_cat_id` AS `ProdCatId`, `x.ProdType.ProdCat`.`prod_cat_name` AS `ProdCatName`
FROM `ablemusic`.`product` AS `x`
LEFT JOIN `ablemusic`.`prod_type` AS `x.ProdType` ON `x`.`prod_type_id` = `x.ProdType`.`prod_type_id`
LEFT JOIN `ablemusic`.`prod_cat` AS `x.ProdType.ProdCat` ON `x.ProdType`.`prod_cat_id` = `x.ProdType.ProdCat`.`prod_cat_id`
WHERE `x`.`prod_type_id` = @__typeid_0
2019-07-09 12:19:53.939 +12:00 [INF] Executed action method Pegasus_backend.Controllers.ProductController.GetProdByType (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 178.41920000000002ms.
2019-07-09 12:19:53.939 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:19:53.939 +12:00 [INF] Executed action Pegasus_backend.Controllers.ProductController.GetProdByType (Pegasus_backend) in 179.15820000000002ms
2019-07-09 12:19:53.939 +12:00 [INF] Request finished in 179.9934ms 200 application/json; charset=utf-8
2019-07-09 12:19:54.797 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/product/1  
2019-07-09 12:19:54.797 +12:00 [INF] Policy execution successful.
2019-07-09 12:19:54.797 +12:00 [INF] Route matched with {action = "GetProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetProduct(Int32) on controller Pegasus_backend.Controllers.ProductController (Pegasus_backend).
2019-07-09 12:19:54.798 +12:00 [INF] Executing action method Pegasus_backend.Controllers.ProductController.GetProduct (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:19:54.798 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:19:54.983 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`product_id` AS `ProductId`, `x`.`product_name` AS `ProductName`, `x`.`model`, `x`.`brand`, `x`.`sell_price` AS `SellPrice`, `x`.`wholesale_price` AS `WholesalePrice`, `x`.`prod_type_id` AS `ProdTypeId`, `x.ProdType`.`prod_type_name` AS `ProdTypeName`, `x.ProdType`.`prod_cat_id` AS `ProdCatId0`, `x.ProdType.ProdCat`.`prod_cat_id` AS `ProdCatId`, `x.ProdType.ProdCat`.`prod_cat_name` AS `ProdCatName`
FROM `ablemusic`.`product` AS `x`
LEFT JOIN `ablemusic`.`prod_type` AS `x.ProdType` ON `x`.`prod_type_id` = `x.ProdType`.`prod_type_id`
LEFT JOIN `ablemusic`.`prod_cat` AS `x.ProdType.ProdCat` ON `x.ProdType`.`prod_cat_id` = `x.ProdType.ProdCat`.`prod_cat_id`
WHERE `x`.`product_id` = @__id_0
2019-07-09 12:19:54.983 +12:00 [INF] Executed action method Pegasus_backend.Controllers.ProductController.GetProduct (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 185.33540000000002ms.
2019-07-09 12:19:54.983 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:19:54.984 +12:00 [INF] Executed action Pegasus_backend.Controllers.ProductController.GetProduct (Pegasus_backend) in 186.2732ms
2019-07-09 12:19:54.984 +12:00 [INF] Request finished in 187.1768ms 200 application/json; charset=utf-8
2019-07-09 12:20:26.735 +12:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/payment/SaveProdPayment multipart/form-data; boundary=----WebKitFormBoundaryEQDS9j1ye44DWzAt 306
2019-07-09 12:20:26.735 +12:00 [INF] Policy execution successful.
2019-07-09 12:20:26.735 +12:00 [INF] Route matched with {action = "SaveProdPayment", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SaveProdPayment(System.String) on controller Pegasus_backend.Controllers.PaymentController (Pegasus_backend).
2019-07-09 12:20:26.736 +12:00 [INF] Executing action method Pegasus_backend.Controllers.PaymentController.SaveProdPayment (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:20:26.761 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:20:26.956 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__8__locals1_paymentTranListJson_OrgId_0='?' (DbType = Int32), @__detail_ProductId_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`stock_id`, `x`.`org_id`, `x`.`product_id`, `x`.`quantity`
FROM `ablemusic`.`stock` AS `x`
WHERE (`x`.`org_id` = @__8__locals1_paymentTranListJson_OrgId_0) AND (`x`.`product_id` = @__detail_ProductId_1)
LIMIT 1
2019-07-09 12:20:27.161 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__detail_ProductId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`product_id`, `x`.`brand`, `x`.`model`, `x`.`prod_type_id`, `x`.`product_name`, `x`.`sell_price`, `x`.`wholesale_price`
FROM `ablemusic`.`product` AS `x`
WHERE `x`.`product_id` = @__detail_ProductId_0
LIMIT 1
2019-07-09 12:20:29.571 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@p0='?' (DbType = AnsiString), @p1='?' (DbType = Decimal), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = DateTime), @p5='?' (DbType = AnsiString), @p6='?' (DbType = AnsiString), @p7='?' (DbType = Int32), @p8='?' (DbType = Byte), @p9='?' (DbType = Byte), @p10='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`payment` (`after_balance`, `amount`, `before_balance`, `comment`, `created_at`, `invoice_id`, `is_confirmed`, `learner_id`, `payment_method`, `payment_type`, `staff_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
SELECT `payment_id`
FROM `ablemusic`.`payment`
WHERE ROW_COUNT() = 1
 AND `payment_id`=LAST_INSERT_ID();
2019-07-09 12:20:29.634 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@p14='?' (DbType = Int32), @p11='?' (DbType = Int16), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`stock` SET `org_id` = @p11, `product_id` = @p12, `quantity` = @p13
WHERE `stock_id` = @p14;
SELECT ROW_COUNT();
2019-07-09 12:20:29.741 +12:00 [INF] Executed DbCommand (106ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = AnsiString), @p2='?' (DbType = AnsiString), @p3='?' (DbType = Int32), @p4='?' (DbType = DateTime), @p5='?' (DbType = Decimal), @p6='?' (DbType = Decimal), @p7='?' (DbType = Decimal), @p8='?' (DbType = Int32), @p9='?' (Size = -1), @p10='?' (DbType = Int32), @p11='?' (DbType = Int32), @p12='?' (DbType = Int32), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`sold_transaction` (`aflter_quantity`, `amount`, `balance`, `before_quantity`, `created_at`, `discount_amount`, `discount_rate`, `discounted_amount`, `learner_id`, `note`, `payment_id`, `product_id`, `sold_quantity`, `stock_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
SELECT `tran_id`
FROM `ablemusic`.`sold_transaction`
WHERE ROW_COUNT() = 1
 AND `tran_id`=LAST_INSERT_ID();
2019-07-09 12:20:29.813 +12:00 [INF] Executed action method Pegasus_backend.Controllers.PaymentController.SaveProdPayment (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3076.4056ms.
2019-07-09 12:20:29.813 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:20:29.813 +12:00 [INF] Executed action Pegasus_backend.Controllers.PaymentController.SaveProdPayment (Pegasus_backend) in 3077.5324ms
2019-07-09 12:20:29.813 +12:00 [INF] Request finished in 3078.2512ms 200 application/json; charset=utf-8
2019-07-09 12:20:53.663 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsBetweenDate/3/2019-07-03/2019-07-09  
2019-07-09 12:20:53.663 +12:00 [INF] Policy execution successful.
2019-07-09 12:20:53.664 +12:00 [INF] Route matched with {action = "GetLessonsBetweenDate", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsBetweenDate(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32]) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-09 12:20:53.664 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:20:53.665 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:20:53.843 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-09 12:20:54.017 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-09 12:20:54.026 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:20:54.026 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:20:54.026 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:20:54.026 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:20:54.026 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:20:54.026 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:20:54.055 +12:00 [WRN] The LINQ expression 'where ((__8__locals1_beginDate_Value_Date_0 <= Convert([s].EndTime, DateTime).Date) AndAlso (Convert([s].EndTime, DateTime).Date <= __8__locals1_endDate_Value_Date_1))' could not be translated and will be evaluated locally.
2019-07-09 12:20:54.284 +12:00 [INF] Executed DbCommand (78ms) [Parameters=[@__orgId_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`end_time` AS `EndTime`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.Teacher`.`first_name` AS `TeacherFirstName`, `s`.`begin_time` AS `BeginTime`, `s`.`lesson_id` AS `LessonId`, `s.Room`.`room_name` AS `Room`, `s.Org`.`org_name` AS `Branch`, `s`.`is_canceled` AS `IsCanceled`, `s`.`reason` AS `CancelReson`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_trial` AS `IsTrial`, `s.Learner`.`first_name` AS `Learner`, `s`.`learner_id` AS `LearnerId`, `s`.`room_id` AS `RoomId`, `s`.`teacher_id` AS `TeacherId`, `s`.`org_id` AS `OrgId`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE `s`.`org_id` = @__orgId_2
2019-07-09 12:20:54.415 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 750.2122ms.
2019-07-09 12:20:54.415 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:20:54.416 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend) in 751.73110000000008ms
2019-07-09 12:20:54.416 +12:00 [INF] Request finished in 752.6091ms 200 application/json; charset=utf-8
2019-07-09 12:21:11.647 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/session/11451/ccc/3  
2019-07-09 12:21:11.648 +12:00 [INF] Policy execution successful.
2019-07-09 12:21:11.648 +12:00 [INF] Request finished in 0.5182ms 204 
2019-07-09 12:21:11.679 +12:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/session/11451/ccc/3  0
2019-07-09 12:21:11.679 +12:00 [INF] Policy execution successful.
2019-07-09 12:21:11.680 +12:00 [INF] Route matched with {action = "PutSesson", controller = "Session"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PutSesson(Int32, System.String, Int16) on controller Pegasus_backend.Controllers.SessionController (Pegasus_backend).
2019-07-09 12:21:11.680 +12:00 [INF] Executing action method Pegasus_backend.Controllers.SessionController.PutSesson (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:21:11.681 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:21:11.891 +12:00 [INF] Executed DbCommand (82ms) [Parameters=[@__sessionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`lesson_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`created_at`, `x`.`end_time`, `x`.`group_course_instance_id`, `x`.`invoice_id`, `x`.`is_canceled`, `x`.`is_changed`, `x`.`is_confirm`, `x`.`is_trial`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`, `x`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `x`
WHERE `x`.`lesson_id` = @__sessionId_0
LIMIT 1
2019-07-09 12:21:12.366 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__userId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`user_id`, `u`.`created_at`, `u`.`is_activate`, `u`.`is_online`, `u`.`password`, `u`.`role_id`, `u`.`signature`, `u`.`unread_message_id`, `u`.`user_name`
FROM `ablemusic`.`user` AS `u`
WHERE `u`.`user_id` = @__userId_0
LIMIT 1
2019-07-09 12:21:29.295 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[@__lesson_TeacherId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`teacher_id`, `t`.`ability`, `t`.`comment`, `t`.`cv_url`, `t`.`dob`, `t`.`email`, `t`.`expiry_date`, `t`.`first_name`, `t`.`form_url`, `t`.`gender`, `t`.`home_phone`, `t`.`id_number`, `t`.`id_photo`, `t`.`id_type`, `t`.`invoice_template`, `t`.`ird_number`, `t`.`is_activate`, `t`.`is_contract`, `t`.`is_left`, `t`.`last_name`, `t`.`level`, `t`.`minimum_hours`, `t`.`mobile_phone`, `t`.`otherfile_url`, `t`.`photo`, `t`.`user_id`, `t`.`visa`
FROM `ablemusic`.`teacher` AS `t`
WHERE `t`.`teacher_id` = @__lesson_TeacherId_0
LIMIT 1
2019-07-09 12:21:36.114 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__lesson_GroupCourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`course_id` AS `CourseId`, `c`.`course_name` AS `CourseName`
FROM `ablemusic`.`course` AS `c`
INNER JOIN `ablemusic`.`group_course_instance` AS `gc` ON `c`.`course_id` = `gc`.`course_id`
WHERE `gc`.`group_course_instance_id` = @__lesson_GroupCourseInstanceId_0
LIMIT 1
2019-07-09 12:21:38.260 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `h`.`holiday_id`, `h`.`holiday_date`, `h`.`holiday_name`
FROM `ablemusic`.`holiday` AS `h`
2019-07-09 12:22:11.770 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__lesson_GroupCourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id` AS `LearnerId`, `l`.`first_name` AS `FirstName`, `l`.`last_name` AS `LastName`, `l`.`email`
FROM `ablemusic`.`learner_group_course` AS `lgc`
INNER JOIN `ablemusic`.`learner` AS `l` ON `lgc`.`learner_id` = `l`.`learner_id`
WHERE `lgc`.`group_course_instance_id` = @__lesson_GroupCourseInstanceId_0
2019-07-09 12:22:38.846 +12:00 [INF] Executed action Pegasus_backend.Controllers.SessionController.PutSesson (Pegasus_backend) in 87166.33ms
2019-07-09 12:22:38.848 +12:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: An item with the same key has already been added. Key: 1
   at System.Collections.Generic.Dictionary`2.TryInsert(TKey key, TValue value, InsertionBehavior behavior)
   at System.Collections.Generic.Dictionary`2.Add(TKey key, TValue value)
   at Pegasus_backend.Controllers.SessionController.PutSesson(Int32 sessionId, String reason, Int16 userId) in c:\Users\Learnspace\source\pegasusBackend\Controllers\SessionController.cs:line 727
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-07-09 12:22:38.865 +12:00 [INF] Request finished in 87185.6176ms 500 text/html; charset=utf-8
2019-07-09 12:23:06.585 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsBetweenDate/3/2019-07-03/2019-07-09  
2019-07-09 12:23:06.585 +12:00 [INF] Policy execution successful.
2019-07-09 12:23:06.585 +12:00 [INF] Route matched with {action = "GetLessonsBetweenDate", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsBetweenDate(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32]) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-09 12:23:06.586 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:23:06.586 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:23:06.772 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-09 12:23:06.944 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-09 12:23:06.967 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:23:06.968 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:23:06.968 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:23:06.968 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:23:06.968 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:23:06.968 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:23:06.998 +12:00 [WRN] The LINQ expression 'where ((__8__locals1_beginDate_Value_Date_0 <= Convert([s].EndTime, DateTime).Date) AndAlso (Convert([s].EndTime, DateTime).Date <= __8__locals1_endDate_Value_Date_1))' could not be translated and will be evaluated locally.
2019-07-09 12:23:07.231 +12:00 [INF] Executed DbCommand (88ms) [Parameters=[@__orgId_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`end_time` AS `EndTime`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.Teacher`.`first_name` AS `TeacherFirstName`, `s`.`begin_time` AS `BeginTime`, `s`.`lesson_id` AS `LessonId`, `s.Room`.`room_name` AS `Room`, `s.Org`.`org_name` AS `Branch`, `s`.`is_canceled` AS `IsCanceled`, `s`.`reason` AS `CancelReson`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_trial` AS `IsTrial`, `s.Learner`.`first_name` AS `Learner`, `s`.`learner_id` AS `LearnerId`, `s`.`room_id` AS `RoomId`, `s`.`teacher_id` AS `TeacherId`, `s`.`org_id` AS `OrgId`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE `s`.`org_id` = @__orgId_2
2019-07-09 12:23:07.350 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 764.3831ms.
2019-07-09 12:23:07.350 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:23:07.351 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend) in 765.67630000000008ms
2019-07-09 12:23:07.351 +12:00 [INF] Request finished in 766.3481ms 200 application/json; charset=utf-8
2019-07-09 12:32:18.819 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsBetweenDate/3/2019-07-03/2019-07-09  
2019-07-09 12:32:18.819 +12:00 [INF] Policy execution successful.
2019-07-09 12:32:18.819 +12:00 [INF] Route matched with {action = "GetLessonsBetweenDate", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsBetweenDate(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32]) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-09 12:32:18.820 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:32:18.821 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:32:19.002 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-09 12:32:19.185 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-09 12:32:19.194 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:32:19.194 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:32:19.195 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:32:19.195 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:32:19.195 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:32:19.195 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:32:19.236 +12:00 [WRN] The LINQ expression 'where ((__8__locals1_beginDate_Value_Date_0 <= Convert([s].EndTime, DateTime).Date) AndAlso (Convert([s].EndTime, DateTime).Date <= __8__locals1_endDate_Value_Date_1))' could not be translated and will be evaluated locally.
2019-07-09 12:32:19.465 +12:00 [INF] Executed DbCommand (83ms) [Parameters=[@__orgId_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`end_time` AS `EndTime`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.Teacher`.`first_name` AS `TeacherFirstName`, `s`.`begin_time` AS `BeginTime`, `s`.`lesson_id` AS `LessonId`, `s.Room`.`room_name` AS `Room`, `s.Org`.`org_name` AS `Branch`, `s`.`is_canceled` AS `IsCanceled`, `s`.`reason` AS `CancelReson`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_trial` AS `IsTrial`, `s.Learner`.`first_name` AS `Learner`, `s`.`learner_id` AS `LearnerId`, `s`.`room_id` AS `RoomId`, `s`.`teacher_id` AS `TeacherId`, `s`.`org_id` AS `OrgId`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE `s`.`org_id` = @__orgId_2
2019-07-09 12:32:19.585 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 764.6427ms.
2019-07-09 12:32:19.585 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:32:19.586 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend) in 766.3986ms
2019-07-09 12:32:19.586 +12:00 [INF] Request finished in 767.3839ms 200 application/json; charset=utf-8
2019-07-09 12:32:29.947 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/session/11464/ccc/3  
2019-07-09 12:32:29.948 +12:00 [INF] Policy execution successful.
2019-07-09 12:32:29.948 +12:00 [INF] Request finished in 0.4212ms 204 
2019-07-09 12:32:29.964 +12:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/session/11464/ccc/3  0
2019-07-09 12:32:29.965 +12:00 [INF] Policy execution successful.
2019-07-09 12:32:29.966 +12:00 [INF] Route matched with {action = "PutSesson", controller = "Session"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PutSesson(Int32, System.String, Int16) on controller Pegasus_backend.Controllers.SessionController (Pegasus_backend).
2019-07-09 12:32:29.967 +12:00 [INF] Executing action method Pegasus_backend.Controllers.SessionController.PutSesson (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:32:29.968 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:32:30.148 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__sessionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`lesson_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`created_at`, `x`.`end_time`, `x`.`group_course_instance_id`, `x`.`invoice_id`, `x`.`is_canceled`, `x`.`is_changed`, `x`.`is_confirm`, `x`.`is_trial`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`, `x`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `x`
WHERE `x`.`lesson_id` = @__sessionId_0
LIMIT 1
2019-07-09 12:32:30.320 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__userId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`user_id`, `u`.`created_at`, `u`.`is_activate`, `u`.`is_online`, `u`.`password`, `u`.`role_id`, `u`.`signature`, `u`.`unread_message_id`, `u`.`user_name`
FROM `ablemusic`.`user` AS `u`
WHERE `u`.`user_id` = @__userId_0
LIMIT 1
2019-07-09 12:32:39.500 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__lesson_TeacherId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`teacher_id`, `t`.`ability`, `t`.`comment`, `t`.`cv_url`, `t`.`dob`, `t`.`email`, `t`.`expiry_date`, `t`.`first_name`, `t`.`form_url`, `t`.`gender`, `t`.`home_phone`, `t`.`id_number`, `t`.`id_photo`, `t`.`id_type`, `t`.`invoice_template`, `t`.`ird_number`, `t`.`is_activate`, `t`.`is_contract`, `t`.`is_left`, `t`.`last_name`, `t`.`level`, `t`.`minimum_hours`, `t`.`mobile_phone`, `t`.`otherfile_url`, `t`.`photo`, `t`.`user_id`, `t`.`visa`
FROM `ablemusic`.`teacher` AS `t`
WHERE `t`.`teacher_id` = @__lesson_TeacherId_0
LIMIT 1
2019-07-09 12:32:39.671 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__lesson_GroupCourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`course_id` AS `CourseId`, `c`.`course_name` AS `CourseName`
FROM `ablemusic`.`course` AS `c`
INNER JOIN `ablemusic`.`group_course_instance` AS `gc` ON `c`.`course_id` = `gc`.`course_id`
WHERE `gc`.`group_course_instance_id` = @__lesson_GroupCourseInstanceId_0
LIMIT 1
2019-07-09 12:32:39.844 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `h`.`holiday_id`, `h`.`holiday_date`, `h`.`holiday_name`
FROM `ablemusic`.`holiday` AS `h`
2019-07-09 12:32:40.022 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__lesson_GroupCourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id` AS `LearnerId`, `l`.`first_name` AS `FirstName`, `l`.`last_name` AS `LastName`, `l`.`email`
FROM `ablemusic`.`learner_group_course` AS `lgc`
INNER JOIN `ablemusic`.`learner` AS `l` ON `lgc`.`learner_id` = `l`.`learner_id`
WHERE `lgc`.`group_course_instance_id` = @__lesson_GroupCourseInstanceId_0
2019-07-09 12:32:40.080 +12:00 [INF] Executed action Pegasus_backend.Controllers.SessionController.PutSesson (Pegasus_backend) in 10113.0727ms
2019-07-09 12:32:40.082 +12:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: An item with the same key has already been added. Key: 1
   at System.Collections.Generic.Dictionary`2.TryInsert(TKey key, TValue value, InsertionBehavior behavior)
   at System.Collections.Generic.Dictionary`2.Add(TKey key, TValue value)
   at Pegasus_backend.Controllers.SessionController.PutSesson(Int32 sessionId, String reason, Int16 userId) in c:\Users\Learnspace\source\pegasusBackend\Controllers\SessionController.cs:line 727
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-07-09 12:32:40.099 +12:00 [INF] Request finished in 10134.4964ms 500 text/html; charset=utf-8
2019-07-09 12:33:53.600 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsBetweenDate/3/2019-07-03/2019-07-09  
2019-07-09 12:33:53.600 +12:00 [INF] Policy execution successful.
2019-07-09 12:33:53.601 +12:00 [INF] Route matched with {action = "GetLessonsBetweenDate", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsBetweenDate(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32]) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-09 12:33:53.601 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:33:53.602 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:33:53.777 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-09 12:33:53.954 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-09 12:33:53.962 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:33:53.962 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:33:53.962 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:33:53.962 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:33:53.962 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:33:53.962 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:33:53.992 +12:00 [WRN] The LINQ expression 'where ((__8__locals1_beginDate_Value_Date_0 <= Convert([s].EndTime, DateTime).Date) AndAlso (Convert([s].EndTime, DateTime).Date <= __8__locals1_endDate_Value_Date_1))' could not be translated and will be evaluated locally.
2019-07-09 12:33:54.219 +12:00 [INF] Executed DbCommand (82ms) [Parameters=[@__orgId_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`end_time` AS `EndTime`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.Teacher`.`first_name` AS `TeacherFirstName`, `s`.`begin_time` AS `BeginTime`, `s`.`lesson_id` AS `LessonId`, `s.Room`.`room_name` AS `Room`, `s.Org`.`org_name` AS `Branch`, `s`.`is_canceled` AS `IsCanceled`, `s`.`reason` AS `CancelReson`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_trial` AS `IsTrial`, `s.Learner`.`first_name` AS `Learner`, `s`.`learner_id` AS `LearnerId`, `s`.`room_id` AS `RoomId`, `s`.`teacher_id` AS `TeacherId`, `s`.`org_id` AS `OrgId`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE `s`.`org_id` = @__orgId_2
2019-07-09 12:33:54.358 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 756.83580000000006ms.
2019-07-09 12:33:54.359 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:33:54.360 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend) in 759.3165ms
2019-07-09 12:33:54.361 +12:00 [INF] Request finished in 760.9304ms 200 application/json; charset=utf-8
2019-07-09 12:33:59.135 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/session/11464/ccc/3  
2019-07-09 12:33:59.135 +12:00 [INF] Policy execution successful.
2019-07-09 12:33:59.136 +12:00 [INF] Request finished in 0.4759ms 204 
2019-07-09 12:33:59.153 +12:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/session/11464/ccc/3  0
2019-07-09 12:33:59.153 +12:00 [INF] Policy execution successful.
2019-07-09 12:33:59.153 +12:00 [INF] Route matched with {action = "PutSesson", controller = "Session"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PutSesson(Int32, System.String, Int16) on controller Pegasus_backend.Controllers.SessionController (Pegasus_backend).
2019-07-09 12:33:59.154 +12:00 [INF] Executing action method Pegasus_backend.Controllers.SessionController.PutSesson (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:33:59.155 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:33:59.330 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__sessionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`lesson_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`created_at`, `x`.`end_time`, `x`.`group_course_instance_id`, `x`.`invoice_id`, `x`.`is_canceled`, `x`.`is_changed`, `x`.`is_confirm`, `x`.`is_trial`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`, `x`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `x`
WHERE `x`.`lesson_id` = @__sessionId_0
LIMIT 1
2019-07-09 12:33:59.504 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__userId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`user_id`, `u`.`created_at`, `u`.`is_activate`, `u`.`is_online`, `u`.`password`, `u`.`role_id`, `u`.`signature`, `u`.`unread_message_id`, `u`.`user_name`
FROM `ablemusic`.`user` AS `u`
WHERE `u`.`user_id` = @__userId_0
LIMIT 1
2019-07-09 12:34:02.583 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@__lesson_TeacherId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`teacher_id`, `t`.`ability`, `t`.`comment`, `t`.`cv_url`, `t`.`dob`, `t`.`email`, `t`.`expiry_date`, `t`.`first_name`, `t`.`form_url`, `t`.`gender`, `t`.`home_phone`, `t`.`id_number`, `t`.`id_photo`, `t`.`id_type`, `t`.`invoice_template`, `t`.`ird_number`, `t`.`is_activate`, `t`.`is_contract`, `t`.`is_left`, `t`.`last_name`, `t`.`level`, `t`.`minimum_hours`, `t`.`mobile_phone`, `t`.`otherfile_url`, `t`.`photo`, `t`.`user_id`, `t`.`visa`
FROM `ablemusic`.`teacher` AS `t`
WHERE `t`.`teacher_id` = @__lesson_TeacherId_0
LIMIT 1
2019-07-09 12:34:02.763 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__lesson_GroupCourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`course_id` AS `CourseId`, `c`.`course_name` AS `CourseName`
FROM `ablemusic`.`course` AS `c`
INNER JOIN `ablemusic`.`group_course_instance` AS `gc` ON `c`.`course_id` = `gc`.`course_id`
WHERE `gc`.`group_course_instance_id` = @__lesson_GroupCourseInstanceId_0
LIMIT 1
2019-07-09 12:34:02.945 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `h`.`holiday_id`, `h`.`holiday_date`, `h`.`holiday_name`
FROM `ablemusic`.`holiday` AS `h`
2019-07-09 12:34:03.122 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__lesson_GroupCourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id` AS `LearnerId`, `l`.`first_name` AS `FirstName`, `l`.`last_name` AS `LastName`, `l`.`email`
FROM `ablemusic`.`learner_group_course` AS `lgc`
INNER JOIN `ablemusic`.`learner` AS `l` ON `lgc`.`learner_id` = `l`.`learner_id`
WHERE `lgc`.`group_course_instance_id` = @__lesson_GroupCourseInstanceId_0
2019-07-09 12:40:41.966 +12:00 [INF] Executed action Pegasus_backend.Controllers.SessionController.PutSesson (Pegasus_backend) in 402812.70290000003ms
2019-07-09 12:40:41.968 +12:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentException: An item with the same key has already been added. Key: 1
   at System.Collections.Generic.Dictionary`2.TryInsert(TKey key, TValue value, InsertionBehavior behavior)
   at System.Collections.Generic.Dictionary`2.Add(TKey key, TValue value)
   at Pegasus_backend.Controllers.SessionController.PutSesson(Int32 sessionId, String reason, Int16 userId) in c:\Users\Learnspace\source\pegasusBackend\Controllers\SessionController.cs:line 727
   at Microsoft.AspNetCore.Mvc.Internal.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at System.Threading.Tasks.ValueTask`1.get_Result()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeActionMethodAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeNextActionFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Rethrow(ActionExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ControllerActionInvoker.InvokeInnerFilterAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeNextResourceFilter()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Rethrow(ResourceExecutedContext context)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeFilterPipelineAsync()
   at Microsoft.AspNetCore.Mvc.Internal.ResourceInvoker.InvokeAsync()
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Cors.Infrastructure.CorsMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2019-07-09 12:40:41.993 +12:00 [INF] Request finished in 402839.7966ms 500 text/html; charset=utf-8
2019-07-09 12:40:48.843 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsBetweenDate/3/2019-07-03/2019-07-09  
2019-07-09 12:40:48.844 +12:00 [INF] Policy execution successful.
2019-07-09 12:40:48.844 +12:00 [INF] Route matched with {action = "GetLessonsBetweenDate", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsBetweenDate(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32]) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-09 12:40:48.845 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:40:48.845 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:40:49.480 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-09 12:40:49.652 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-09 12:40:49.662 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:40:49.662 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:40:49.662 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:40:49.662 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:40:49.662 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:40:49.662 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:40:49.694 +12:00 [WRN] The LINQ expression 'where ((__8__locals1_beginDate_Value_Date_0 <= Convert([s].EndTime, DateTime).Date) AndAlso (Convert([s].EndTime, DateTime).Date <= __8__locals1_endDate_Value_Date_1))' could not be translated and will be evaluated locally.
2019-07-09 12:40:49.919 +12:00 [INF] Executed DbCommand (80ms) [Parameters=[@__orgId_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`end_time` AS `EndTime`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.Teacher`.`first_name` AS `TeacherFirstName`, `s`.`begin_time` AS `BeginTime`, `s`.`lesson_id` AS `LessonId`, `s.Room`.`room_name` AS `Room`, `s.Org`.`org_name` AS `Branch`, `s`.`is_canceled` AS `IsCanceled`, `s`.`reason` AS `CancelReson`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_trial` AS `IsTrial`, `s.Learner`.`first_name` AS `Learner`, `s`.`learner_id` AS `LearnerId`, `s`.`room_id` AS `RoomId`, `s`.`teacher_id` AS `TeacherId`, `s`.`org_id` AS `OrgId`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE `s`.`org_id` = @__orgId_2
2019-07-09 12:40:50.175 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1330.5334ms.
2019-07-09 12:40:50.175 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:40:50.176 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend) in 1331.9728ms
2019-07-09 12:40:50.176 +12:00 [INF] Request finished in 1332.8931ms 200 application/json; charset=utf-8
2019-07-09 12:40:58.296 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/session/11464/cddd/3  
2019-07-09 12:40:58.296 +12:00 [INF] Policy execution successful.
2019-07-09 12:40:58.296 +12:00 [INF] Request finished in 0.4225ms 204 
2019-07-09 12:40:58.307 +12:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/session/11464/cddd/3  0
2019-07-09 12:40:58.307 +12:00 [INF] Policy execution successful.
2019-07-09 12:40:58.308 +12:00 [INF] Route matched with {action = "PutSesson", controller = "Session"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PutSesson(Int32, System.String, Int16) on controller Pegasus_backend.Controllers.SessionController (Pegasus_backend).
2019-07-09 12:40:58.308 +12:00 [INF] Executing action method Pegasus_backend.Controllers.SessionController.PutSesson (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:40:58.309 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:40:58.489 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__sessionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`lesson_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`created_at`, `x`.`end_time`, `x`.`group_course_instance_id`, `x`.`invoice_id`, `x`.`is_canceled`, `x`.`is_changed`, `x`.`is_confirm`, `x`.`is_trial`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`, `x`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `x`
WHERE `x`.`lesson_id` = @__sessionId_0
LIMIT 1
2019-07-09 12:40:58.666 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__userId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`user_id`, `u`.`created_at`, `u`.`is_activate`, `u`.`is_online`, `u`.`password`, `u`.`role_id`, `u`.`signature`, `u`.`unread_message_id`, `u`.`user_name`
FROM `ablemusic`.`user` AS `u`
WHERE `u`.`user_id` = @__userId_0
LIMIT 1
2019-07-09 12:41:05.847 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__lesson_TeacherId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`teacher_id`, `t`.`ability`, `t`.`comment`, `t`.`cv_url`, `t`.`dob`, `t`.`email`, `t`.`expiry_date`, `t`.`first_name`, `t`.`form_url`, `t`.`gender`, `t`.`home_phone`, `t`.`id_number`, `t`.`id_photo`, `t`.`id_type`, `t`.`invoice_template`, `t`.`ird_number`, `t`.`is_activate`, `t`.`is_contract`, `t`.`is_left`, `t`.`last_name`, `t`.`level`, `t`.`minimum_hours`, `t`.`mobile_phone`, `t`.`otherfile_url`, `t`.`photo`, `t`.`user_id`, `t`.`visa`
FROM `ablemusic`.`teacher` AS `t`
WHERE `t`.`teacher_id` = @__lesson_TeacherId_0
LIMIT 1
2019-07-09 12:41:06.022 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__lesson_GroupCourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`course_id` AS `CourseId`, `c`.`course_name` AS `CourseName`
FROM `ablemusic`.`course` AS `c`
INNER JOIN `ablemusic`.`group_course_instance` AS `gc` ON `c`.`course_id` = `gc`.`course_id`
WHERE `gc`.`group_course_instance_id` = @__lesson_GroupCourseInstanceId_0
LIMIT 1
2019-07-09 12:41:06.196 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `h`.`holiday_id`, `h`.`holiday_date`, `h`.`holiday_name`
FROM `ablemusic`.`holiday` AS `h`
2019-07-09 12:41:06.372 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__lesson_GroupCourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id` AS `LearnerId`, `l`.`first_name` AS `FirstName`, `l`.`last_name` AS `LastName`, `l`.`email`
FROM `ablemusic`.`learner_group_course` AS `lgc`
INNER JOIN `ablemusic`.`learner` AS `l` ON `lgc`.`learner_id` = `l`.`learner_id`
WHERE `lgc`.`group_course_instance_id` = @__lesson_GroupCourseInstanceId_0
2019-07-09 12:41:25.199 +12:00 [INF] Executed DbCommand (67ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = AnsiString), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32), @p5='?' (DbType = Int16), @p6='?' (DbType = AnsiString), @p7='?' (DbType = Int32), @p8='?' (DbType = AnsiString), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`await_make_up_lesson` (`await_id`, `course_instance_id`, `create_at`, `expired_date`, `group_course_instance_id`, `is_active`, `learner_id`, `missed_lesson_id`, `new_lesson_id`, `schduled_at`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2019-07-09 12:41:25.251 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@p12='?' (DbType = Int32), @p10='?' (DbType = Int16), @p11='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`lesson` SET `is_canceled` = @p10, `reason` = @p11
WHERE `lesson_id` = @p12;
SELECT ROW_COUNT();
2019-07-09 12:41:25.324 +12:00 [INF] Executed action method Pegasus_backend.Controllers.SessionController.PutSesson (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 27015.2174ms.
2019-07-09 12:41:25.326 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:41:25.327 +12:00 [INF] Executed action Pegasus_backend.Controllers.SessionController.PutSesson (Pegasus_backend) in 27018.7069ms
2019-07-09 12:41:25.354 +12:00 [INF] Request finished in 27047.5795ms 200 application/json; charset=utf-8
2019-07-09 12:41:40.430 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsBetweenDate/3/2019-07-03/2019-07-09  
2019-07-09 12:41:40.431 +12:00 [INF] Policy execution successful.
2019-07-09 12:41:40.431 +12:00 [INF] Route matched with {action = "GetLessonsBetweenDate", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsBetweenDate(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32]) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-09 12:41:40.431 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:41:40.432 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:41:41.836 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-09 12:41:42.012 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-09 12:41:42.020 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:41:42.021 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:41:42.021 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:41:42.021 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:41:42.021 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:41:42.021 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:41:42.053 +12:00 [WRN] The LINQ expression 'where ((__8__locals1_beginDate_Value_Date_0 <= Convert([s].EndTime, DateTime).Date) AndAlso (Convert([s].EndTime, DateTime).Date <= __8__locals1_endDate_Value_Date_1))' could not be translated and will be evaluated locally.
2019-07-09 12:41:42.280 +12:00 [INF] Executed DbCommand (85ms) [Parameters=[@__orgId_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`end_time` AS `EndTime`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.Teacher`.`first_name` AS `TeacherFirstName`, `s`.`begin_time` AS `BeginTime`, `s`.`lesson_id` AS `LessonId`, `s.Room`.`room_name` AS `Room`, `s.Org`.`org_name` AS `Branch`, `s`.`is_canceled` AS `IsCanceled`, `s`.`reason` AS `CancelReson`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_trial` AS `IsTrial`, `s.Learner`.`first_name` AS `Learner`, `s`.`learner_id` AS `LearnerId`, `s`.`room_id` AS `RoomId`, `s`.`teacher_id` AS `TeacherId`, `s`.`org_id` AS `OrgId`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE `s`.`org_id` = @__orgId_2
2019-07-09 12:41:42.471 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2039.6837ms.
2019-07-09 12:41:42.471 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:41:42.472 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend) in 2041.0431ms
2019-07-09 12:41:42.472 +12:00 [INF] Request finished in 2041.8496ms 200 application/json; charset=utf-8
2019-07-09 12:41:59.797 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/teacherfilter/sessionEditFilter/1  
2019-07-09 12:41:59.797 +12:00 [INF] Policy execution successful.
2019-07-09 12:41:59.797 +12:00 [INF] Route matched with {action = "sessionEditFilterGet", controller = "TeacherFilter"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] sessionEditFilterGet(Int32) on controller Pegasus_backend.Controllers.TeacherFilterController (Pegasus_backend).
2019-07-09 12:41:59.798 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TeacherFilterController.sessionEditFilterGet (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:41:59.799 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:41:59.972 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`org_id` AS `OrgId`, `o`.`org_name` AS `OrgName`
FROM `ablemusic`.`org` AS `o`
2019-07-09 12:42:00.148 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `r`.`room_id` AS `RoomId`, `r`.`room_name` AS `RoomName`, `r`.`org_id` AS `OrgId`
FROM `ablemusic`.`room` AS `r`
2019-07-09 12:42:00.331 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`teacher_id` AS `TeacherId`, `t`.`first_name` AS `TeacherFirstName`, `t`.`last_name` AS `TeacherLastName`, `ta`.`org_id` AS `TeacherAvailableOrgId`, `t`.`level` AS `TeacherLevelId`
FROM `ablemusic`.`teacher` AS `t`
INNER JOIN `ablemusic`.`available_days` AS `ta` ON `t`.`teacher_id` = `ta`.`teacher_id`
INNER JOIN `ablemusic`.`teacher_course` AS `tc` ON `t`.`teacher_id` = `tc`.`teacher_id`
WHERE `tc`.`course_id` = @__courseId_0
ORDER BY `t`.`teacher_id`, `ta`.`org_id`
2019-07-09 12:42:00.333 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TeacherFilterController.sessionEditFilterGet (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 535.0321ms.
2019-07-09 12:42:00.333 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:42:00.333 +12:00 [INF] Executed action Pegasus_backend.Controllers.TeacherFilterController.sessionEditFilterGet (Pegasus_backend) in 536.0751ms
2019-07-09 12:42:00.334 +12:00 [INF] Request finished in 536.9697ms 200 application/json; charset=utf-8
2019-07-09 12:42:10.066 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/LessonRearrange/3  
2019-07-09 12:42:10.066 +12:00 [INF] Policy execution successful.
2019-07-09 12:42:10.066 +12:00 [INF] Request finished in 0.5678ms 204 
2019-07-09 12:42:10.087 +12:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/LessonRearrange/3 application/json 121
2019-07-09 12:42:10.087 +12:00 [INF] Policy execution successful.
2019-07-09 12:42:10.096 +12:00 [INF] Route matched with {action = "PutLesson", controller = "LessonRearrange"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PutLesson(Int16, Pegasus_backend.Models.LessonViewModel) on controller Pegasus_backend.Controllers.LessonRearrangeController (Pegasus_backend).
2019-07-09 12:42:10.110 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonRearrangeController.PutLesson (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:42:10.152 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:42:10.340 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__newLesson_LessonId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE `l`.`lesson_id` = @__newLesson_LessonId_0
LIMIT 1
2019-07-09 12:42:10.549 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`comment`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`learner_id` IS NULL
LIMIT 1
2019-07-09 12:42:10.550 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonRearrangeController.PutLesson (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 439.6181ms.
2019-07-09 12:42:10.550 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:42:10.551 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonRearrangeController.PutLesson (Pegasus_backend) in 454.8799ms
2019-07-09 12:42:10.551 +12:00 [INF] Request finished in 463.9214ms 400 application/json; charset=utf-8
2019-07-09 12:42:45.716 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsBetweenDate/3/2019-07-03/2019-07-09  
2019-07-09 12:42:45.716 +12:00 [INF] Policy execution successful.
2019-07-09 12:42:45.717 +12:00 [INF] Route matched with {action = "GetLessonsBetweenDate", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsBetweenDate(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32]) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-09 12:42:45.717 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:42:45.718 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:42:48.727 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-09 12:42:48.904 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-09 12:42:48.912 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:42:48.912 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:42:48.912 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:42:48.912 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:42:48.912 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:42:48.913 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:42:48.965 +12:00 [WRN] The LINQ expression 'where ((__8__locals1_beginDate_Value_Date_0 <= Convert([s].EndTime, DateTime).Date) AndAlso (Convert([s].EndTime, DateTime).Date <= __8__locals1_endDate_Value_Date_1))' could not be translated and will be evaluated locally.
2019-07-09 12:42:49.196 +12:00 [INF] Executed DbCommand (81ms) [Parameters=[@__orgId_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`end_time` AS `EndTime`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.Teacher`.`first_name` AS `TeacherFirstName`, `s`.`begin_time` AS `BeginTime`, `s`.`lesson_id` AS `LessonId`, `s.Room`.`room_name` AS `Room`, `s.Org`.`org_name` AS `Branch`, `s`.`is_canceled` AS `IsCanceled`, `s`.`reason` AS `CancelReson`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_trial` AS `IsTrial`, `s.Learner`.`first_name` AS `Learner`, `s`.`learner_id` AS `LearnerId`, `s`.`room_id` AS `RoomId`, `s`.`teacher_id` AS `TeacherId`, `s`.`org_id` AS `OrgId`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE `s`.`org_id` = @__orgId_2
2019-07-09 12:42:49.372 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3654.8662000000004ms.
2019-07-09 12:42:49.372 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:42:49.373 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend) in 3656.4005ms
2019-07-09 12:42:49.373 +12:00 [INF] Request finished in 3657.5462ms 200 application/json; charset=utf-8
2019-07-09 12:42:53.876 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/LessonReschedule/11451/3/ccc  
2019-07-09 12:42:53.876 +12:00 [INF] Policy execution successful.
2019-07-09 12:42:53.877 +12:00 [INF] Request finished in 0.3865ms 204 
2019-07-09 12:42:53.887 +12:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/LessonReschedule/11451/3/ccc  0
2019-07-09 12:42:53.888 +12:00 [INF] Policy execution successful.
2019-07-09 12:42:53.896 +12:00 [INF] Route matched with {action = "Put", controller = "LessonReschedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(Int32, Int16, System.String) on controller Pegasus_backend.Controllers.LessonRescheduleController (Pegasus_backend).
2019-07-09 12:42:53.897 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonRescheduleController.Put (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:42:53.920 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:42:54.134 +12:00 [INF] Executed DbCommand (67ms) [Parameters=[@__lessonId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`, `l.Invoice`.`invoice_id`, `l.Invoice`.`begin_date`, `l.Invoice`.`comment`, `l.Invoice`.`concert_fee`, `l.Invoice`.`concert_fee_name`, `l.Invoice`.`course_instance_id`, `l.Invoice`.`course_name`, `l.Invoice`.`created_at`, `l.Invoice`.`due_date`, `l.Invoice`.`end_date`, `l.Invoice`.`group_course_instance_id`, `l.Invoice`.`invoice_num`, `l.Invoice`.`is_active`, `l.Invoice`.`is_paid`, `l.Invoice`.`learner_id`, `l.Invoice`.`learner_name`, `l.Invoice`.`lesson_fee`, `l.Invoice`.`lesson_note_fee_name`, `l.Invoice`.`lesson_quantity`, `l.Invoice`.`note_fee`, `l.Invoice`.`other1_fee`, `l.Invoice`.`other1_fee_name`, `l.Invoice`.`other2_fee`, `l.Invoice`.`other2_fee_name`, `l.Invoice`.`other3_fee`, `l.Invoice`.`other3_fee_name`, `l.Invoice`.`owing_fee`, `l.Invoice`.`paid_fee`, `l.Invoice`.`term_id`, `l.Invoice`.`total_fee`
FROM `ablemusic`.`lesson` AS `l`
LEFT JOIN `ablemusic`.`invoice` AS `l.Invoice` ON `l`.`invoice_id` = `l.Invoice`.`invoice_id`
WHERE `l`.`lesson_id` = @__lessonId_0
LIMIT 1
2019-07-09 12:42:54.264 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonRescheduleController.Put (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 366.6806ms.
2019-07-09 12:42:54.264 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lesson, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:42:54.267 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonRescheduleController.Put (Pegasus_backend) in 371.4538ms
2019-07-09 12:42:54.267 +12:00 [INF] Request finished in 380.1019ms 404 application/json; charset=utf-8
2019-07-09 12:45:20.784 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsBetweenDate/3/2019-07-03/2019-07-09  
2019-07-09 12:45:20.784 +12:00 [INF] Policy execution successful.
2019-07-09 12:45:20.785 +12:00 [INF] Route matched with {action = "GetLessonsBetweenDate", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsBetweenDate(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32]) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-09 12:45:20.786 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:45:20.786 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:45:20.962 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-09 12:45:21.143 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-09 12:45:21.153 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:45:21.153 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:45:21.153 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:45:21.153 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:45:21.153 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:45:21.153 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:45:21.185 +12:00 [WRN] The LINQ expression 'where ((__8__locals1_beginDate_Value_Date_0 <= Convert([s].EndTime, DateTime).Date) AndAlso (Convert([s].EndTime, DateTime).Date <= __8__locals1_endDate_Value_Date_1))' could not be translated and will be evaluated locally.
2019-07-09 12:45:21.420 +12:00 [INF] Executed DbCommand (82ms) [Parameters=[@__orgId_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`end_time` AS `EndTime`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.Teacher`.`first_name` AS `TeacherFirstName`, `s`.`begin_time` AS `BeginTime`, `s`.`lesson_id` AS `LessonId`, `s.Room`.`room_name` AS `Room`, `s.Org`.`org_name` AS `Branch`, `s`.`is_canceled` AS `IsCanceled`, `s`.`reason` AS `CancelReson`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_trial` AS `IsTrial`, `s.Learner`.`first_name` AS `Learner`, `s`.`learner_id` AS `LearnerId`, `s`.`room_id` AS `RoomId`, `s`.`teacher_id` AS `TeacherId`, `s`.`org_id` AS `OrgId`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE `s`.`org_id` = @__orgId_2
2019-07-09 12:45:21.605 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 819.4143ms.
2019-07-09 12:45:21.605 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:45:21.606 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend) in 821.0371ms
2019-07-09 12:45:21.606 +12:00 [INF] Request finished in 822.0327ms 200 application/json; charset=utf-8
2019-07-09 12:45:24.618 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/LessonReschedule/11451/3/ccc  
2019-07-09 12:45:24.618 +12:00 [INF] Policy execution successful.
2019-07-09 12:45:24.618 +12:00 [INF] Request finished in 0.5785ms 204 
2019-07-09 12:45:24.634 +12:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/LessonReschedule/11451/3/ccc  0
2019-07-09 12:45:24.634 +12:00 [INF] Policy execution successful.
2019-07-09 12:45:24.635 +12:00 [INF] Route matched with {action = "Put", controller = "LessonReschedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(Int32, Int16, System.String) on controller Pegasus_backend.Controllers.LessonRescheduleController (Pegasus_backend).
2019-07-09 12:45:24.635 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonRescheduleController.Put (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:45:24.636 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:45:24.828 +12:00 [INF] Executed DbCommand (67ms) [Parameters=[@__lessonId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`, `l.Invoice`.`invoice_id`, `l.Invoice`.`begin_date`, `l.Invoice`.`comment`, `l.Invoice`.`concert_fee`, `l.Invoice`.`concert_fee_name`, `l.Invoice`.`course_instance_id`, `l.Invoice`.`course_name`, `l.Invoice`.`created_at`, `l.Invoice`.`due_date`, `l.Invoice`.`end_date`, `l.Invoice`.`group_course_instance_id`, `l.Invoice`.`invoice_num`, `l.Invoice`.`is_active`, `l.Invoice`.`is_paid`, `l.Invoice`.`learner_id`, `l.Invoice`.`learner_name`, `l.Invoice`.`lesson_fee`, `l.Invoice`.`lesson_note_fee_name`, `l.Invoice`.`lesson_quantity`, `l.Invoice`.`note_fee`, `l.Invoice`.`other1_fee`, `l.Invoice`.`other1_fee_name`, `l.Invoice`.`other2_fee`, `l.Invoice`.`other2_fee_name`, `l.Invoice`.`other3_fee`, `l.Invoice`.`other3_fee_name`, `l.Invoice`.`owing_fee`, `l.Invoice`.`paid_fee`, `l.Invoice`.`term_id`, `l.Invoice`.`total_fee`
FROM `ablemusic`.`lesson` AS `l`
LEFT JOIN `ablemusic`.`invoice` AS `l.Invoice` ON `l`.`invoice_id` = `l.Invoice`.`invoice_id`
WHERE `l`.`lesson_id` = @__lessonId_0
LIMIT 1
2019-07-09 12:52:31.626 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonRescheduleController.Put (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 426984.60120000003ms.
2019-07-09 12:52:31.631 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lesson, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:52:31.637 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonRescheduleController.Put (Pegasus_backend) in 426995.8309ms
2019-07-09 12:52:31.643 +12:00 [INF] Request finished in 427005.5498ms 404 application/json; charset=utf-8
2019-07-09 12:52:31.649 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lookups  
2019-07-09 12:52:31.649 +12:00 [INF] Policy execution successful.
2019-07-09 12:52:31.654 +12:00 [INF] Request finished in 3.7777ms 204 
2019-07-09 12:52:31.673 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/navitems  
2019-07-09 12:52:31.673 +12:00 [INF] Policy execution successful.
2019-07-09 12:52:31.675 +12:00 [INF] Request finished in 1.1362ms 204 
2019-07-09 12:52:31.675 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsBetweenDate/3/2019-07-03/2019-07-09  
2019-07-09 12:52:31.684 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/navitems  
2019-07-09 12:52:31.684 +12:00 [INF] Policy execution successful.
2019-07-09 12:52:31.684 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups  
2019-07-09 12:52:31.684 +12:00 [INF] Policy execution successful.
2019-07-09 12:52:31.684 +12:00 [INF] Policy execution successful.
2019-07-09 12:52:31.685 +12:00 [INF] Route matched with {action = "GetLessonsBetweenDate", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsBetweenDate(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32]) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-09 12:52:31.685 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/staff/Photos/2190613092457108.jpg  
2019-07-09 12:52:31.685 +12:00 [INF] Successfully validated the token.
2019-07-09 12:52:31.685 +12:00 [INF] Successfully validated the token.
2019-07-09 12:52:31.685 +12:00 [INF] Route matched with {action = "GetNavItems", controller = "NavItems"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNavItems() on controller Pegasus_backend.Controllers.NavItemsController (Pegasus_backend).
2019-07-09 12:52:31.686 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:52:31.686 +12:00 [INF] Authorization was successful.
2019-07-09 12:52:31.685 +12:00 [INF] Route matched with {action = "GetLookups", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookups() on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-09 12:52:31.686 +12:00 [INF] Executing action method Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:52:31.686 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:52:31.686 +12:00 [INF] Request finished in 1.2816ms 404 
2019-07-09 12:52:31.686 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:52:31.687 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:52:31.687 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:52:32.336 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-09 12:52:32.365 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`user_id`, `s`.`created_at`, `s`.`is_activate`, `s`.`is_online`, `s`.`password`, `s`.`role_id`, `s`.`signature`, `s`.`unread_message_id`, `s`.`user_name`
FROM `ablemusic`.`user` AS `s`
WHERE `s`.`user_id` = @__userId_0
LIMIT 1
2019-07-09 12:52:32.368 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
2019-07-09 12:52:32.373 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 686.5946ms.
2019-07-09 12:52:32.373 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:52:32.375 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend) in 689.384ms
2019-07-09 12:52:32.376 +12:00 [INF] Request finished in 692.333ms 200 application/json; charset=utf-8
2019-07-09 12:52:32.508 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-09 12:52:32.520 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:52:32.520 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:52:32.521 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:52:32.521 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:52:32.521 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:52:32.521 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:52:32.544 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__roleId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`page_id`
FROM `ablemusic`.`role_access` AS `s`
WHERE `s`.`role_id` = @__roleId_0
2019-07-09 12:52:32.580 +12:00 [WRN] The LINQ expression 'where ((__8__locals1_beginDate_Value_Date_0 <= Convert([s].EndTime, DateTime).Date) AndAlso (Convert([s].EndTime, DateTime).Date <= __8__locals1_endDate_Value_Date_1))' could not be translated and will be evaluated locally.
2019-07-09 12:52:32.717 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`page_group_id`, `s`.`display_order`, `s`.`icon`, `s`.`page_group_name`
FROM `ablemusic`.`page_group` AS `s`
ORDER BY `s`.`page_group_id`
2019-07-09 12:52:32.797 +12:00 [INF] Executed DbCommand (80ms) [Parameters=[@__orgId_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`end_time` AS `EndTime`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.Teacher`.`first_name` AS `TeacherFirstName`, `s`.`begin_time` AS `BeginTime`, `s`.`lesson_id` AS `LessonId`, `s.Room`.`room_name` AS `Room`, `s.Org`.`org_name` AS `Branch`, `s`.`is_canceled` AS `IsCanceled`, `s`.`reason` AS `CancelReson`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_trial` AS `IsTrial`, `s.Learner`.`first_name` AS `Learner`, `s`.`learner_id` AS `LearnerId`, `s`.`room_id` AS `RoomId`, `s`.`teacher_id` AS `TeacherId`, `s`.`org_id` AS `OrgId`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE `s`.`org_id` = @__orgId_2
2019-07-09 12:52:32.801 +12:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Page`.`page_id`, `s.Page`.`display_order`, `s.Page`.`icon`, `s.Page`.`is_activate`, `s.Page`.`page_group_id`, `s.Page`.`page_name`, `s.Page`.`para`, `s.Page`.`para_flag`, `s.Page`.`url`
FROM `ablemusic`.`page` AS `s.Page`
INNER JOIN (
    SELECT `s0`.`page_group_id`
    FROM `ablemusic`.`page_group` AS `s0`
) AS `t` ON `s.Page`.`page_group_id` = `t`.`page_group_id`
ORDER BY `t`.`page_group_id`
2019-07-09 12:52:32.804 +12:00 [INF] Executed action method Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1118.1894ms.
2019-07-09 12:52:32.804 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:52:32.805 +12:00 [INF] Executed action Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend) in 1119.8486ms
2019-07-09 12:52:32.806 +12:00 [INF] Request finished in 1122.1116ms 200 application/json; charset=utf-8
2019-07-09 12:52:32.982 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1295.9334000000001ms.
2019-07-09 12:52:32.982 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:52:32.982 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend) in 1297.5217ms
2019-07-09 12:52:32.983 +12:00 [INF] Request finished in 1307.7541ms 200 application/json; charset=utf-8
2019-07-09 12:53:03.860 +12:00 [INF] User profile is available. Using 'C:\Users\Learnspace\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-07-09 12:53:05.145 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2019-07-09 12:53:05.244 +12:00 [WRN] Failed to determine the https port for redirect.
2019-07-09 12:53:05.819 +12:00 [INF] Request finished in 675.4435ms 404 
2019-07-09 12:53:18.126 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lookups  
2019-07-09 12:53:18.127 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/navitems  
2019-07-09 12:53:18.129 +12:00 [INF] Policy execution successful.
2019-07-09 12:53:18.129 +12:00 [INF] Policy execution successful.
2019-07-09 12:53:18.131 +12:00 [INF] Request finished in 3.4869ms 204 
2019-07-09 12:53:18.131 +12:00 [INF] Request finished in 4.6116ms 204 
2019-07-09 12:53:18.203 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsBetweenDate/3/2019-07-03/2019-07-09  
2019-07-09 12:53:18.210 +12:00 [INF] Policy execution successful.
2019-07-09 12:53:18.222 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/staff/Photos/2190613092457108.jpg  
2019-07-09 12:53:18.226 +12:00 [INF] Request finished in 4.0116ms 404 
2019-07-09 12:53:18.330 +12:00 [INF] Route matched with {action = "GetLessonsBetweenDate", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsBetweenDate(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32]) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-09 12:53:18.962 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:53:19.339 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/navitems  
2019-07-09 12:53:19.339 +12:00 [INF] Policy execution successful.
2019-07-09 12:53:19.342 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups  
2019-07-09 12:53:19.343 +12:00 [INF] Policy execution successful.
2019-07-09 12:53:19.515 +12:00 [INF] Successfully validated the token.
2019-07-09 12:53:19.515 +12:00 [INF] Successfully validated the token.
2019-07-09 12:53:19.521 +12:00 [INF] Route matched with {action = "GetNavItems", controller = "NavItems"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNavItems() on controller Pegasus_backend.Controllers.NavItemsController (Pegasus_backend).
2019-07-09 12:53:19.521 +12:00 [INF] Route matched with {action = "GetLookups", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookups() on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-09 12:53:19.523 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:53:19.544 +12:00 [INF] Authorization was successful.
2019-07-09 12:53:19.545 +12:00 [INF] Executing action method Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:53:21.020 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:53:21.020 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:53:21.020 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:53:22.292 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`user_id`, `s`.`created_at`, `s`.`is_activate`, `s`.`is_online`, `s`.`password`, `s`.`role_id`, `s`.`signature`, `s`.`unread_message_id`, `s`.`user_name`
FROM `ablemusic`.`user` AS `s`
WHERE `s`.`user_id` = @__userId_0
LIMIT 1
2019-07-09 12:53:22.299 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-09 12:53:22.302 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
2019-07-09 12:53:22.376 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2850.4157ms.
2019-07-09 12:53:22.389 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:53:22.423 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend) in 2897.4226000000003ms
2019-07-09 12:53:22.426 +12:00 [INF] Request finished in 3083.4021ms 200 application/json; charset=utf-8
2019-07-09 12:53:22.587 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-09 12:53:22.600 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[@__roleId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`page_id`
FROM `ablemusic`.`role_access` AS `s`
WHERE `s`.`role_id` = @__roleId_0
2019-07-09 12:53:22.625 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:53:22.626 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:53:22.626 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:53:22.626 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:53:22.626 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:53:22.626 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:53:22.713 +12:00 [WRN] The LINQ expression 'where ((__8__locals1_beginDate_Value_Date_0 <= Convert([s].EndTime, DateTime).Date) AndAlso (Convert([s].EndTime, DateTime).Date <= __8__locals1_endDate_Value_Date_1))' could not be translated and will be evaluated locally.
2019-07-09 12:53:22.847 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`page_group_id`, `s`.`display_order`, `s`.`icon`, `s`.`page_group_name`
FROM `ablemusic`.`page_group` AS `s`
ORDER BY `s`.`page_group_id`
2019-07-09 12:53:22.932 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Page`.`page_id`, `s.Page`.`display_order`, `s.Page`.`icon`, `s.Page`.`is_activate`, `s.Page`.`page_group_id`, `s.Page`.`page_name`, `s.Page`.`para`, `s.Page`.`para_flag`, `s.Page`.`url`
FROM `ablemusic`.`page` AS `s.Page`
INNER JOIN (
    SELECT `s0`.`page_group_id`
    FROM `ablemusic`.`page_group` AS `s0`
) AS `t` ON `s.Page`.`page_group_id` = `t`.`page_group_id`
ORDER BY `t`.`page_group_id`
2019-07-09 12:53:22.965 +12:00 [INF] Executed action method Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3419.8288000000002ms.
2019-07-09 12:53:22.966 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:53:22.978 +12:00 [INF] Executed DbCommand (80ms) [Parameters=[@__orgId_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`end_time` AS `EndTime`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.Teacher`.`first_name` AS `TeacherFirstName`, `s`.`begin_time` AS `BeginTime`, `s`.`lesson_id` AS `LessonId`, `s.Room`.`room_name` AS `Room`, `s.Org`.`org_name` AS `Branch`, `s`.`is_canceled` AS `IsCanceled`, `s`.`reason` AS `CancelReson`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_trial` AS `IsTrial`, `s.Learner`.`first_name` AS `Learner`, `s`.`learner_id` AS `LearnerId`, `s`.`room_id` AS `RoomId`, `s`.`teacher_id` AS `TeacherId`, `s`.`org_id` AS `OrgId`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE `s`.`org_id` = @__orgId_2
2019-07-09 12:53:22.985 +12:00 [INF] Executed action Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend) in 3463.4758ms
2019-07-09 12:53:22.985 +12:00 [INF] Request finished in 3646.0564ms 200 application/json; charset=utf-8
2019-07-09 12:53:23.142 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4171.8875ms.
2019-07-09 12:53:23.142 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:53:23.170 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend) in 4838.9841000000006ms
2019-07-09 12:53:23.170 +12:00 [INF] Request finished in 4967.0506ms 200 application/json; charset=utf-8
2019-07-09 12:53:38.844 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/teacherfilter/sessionEditFilter/25  
2019-07-09 12:53:38.844 +12:00 [INF] Policy execution successful.
2019-07-09 12:53:38.850 +12:00 [INF] Route matched with {action = "sessionEditFilterGet", controller = "TeacherFilter"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] sessionEditFilterGet(Int32) on controller Pegasus_backend.Controllers.TeacherFilterController (Pegasus_backend).
2019-07-09 12:53:38.851 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TeacherFilterController.sessionEditFilterGet (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:53:38.887 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:53:39.063 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`org_id` AS `OrgId`, `o`.`org_name` AS `OrgName`
FROM `ablemusic`.`org` AS `o`
2019-07-09 12:53:39.266 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `r`.`room_id` AS `RoomId`, `r`.`room_name` AS `RoomName`, `r`.`org_id` AS `OrgId`
FROM `ablemusic`.`room` AS `r`
2019-07-09 12:53:39.292 +12:00 [WRN] Query: '(from <>f__AnonymousType103<short, string, string, Nullable<short>, Nullable<byte>> <generated>_1 in...' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-07-09 12:53:39.298 +12:00 [WRN] The LINQ expression 'GroupBy(new <>f__AnonymousType104`2(TeacherId = [t].TeacherId, TeacherAvailableOrgId = [ta].OrgId), new <>f__AnonymousType103`5(TeacherId = [t].TeacherId, TeacherFirstName = [t].FirstName, TeacherLastName = [t].LastName, TeacherAvailableOrgId = [ta].OrgId, TeacherLevelId = [t].Level))' could not be translated and will be evaluated locally.
2019-07-09 12:53:39.299 +12:00 [WRN] The LINQ expression 'FirstOrDefault()' could not be translated and will be evaluated locally.
2019-07-09 12:53:39.507 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`teacher_id` AS `TeacherId`, `t`.`first_name` AS `TeacherFirstName`, `t`.`last_name` AS `TeacherLastName`, `ta`.`org_id` AS `TeacherAvailableOrgId`, `t`.`level` AS `TeacherLevelId`
FROM `ablemusic`.`teacher` AS `t`
INNER JOIN `ablemusic`.`available_days` AS `ta` ON `t`.`teacher_id` = `ta`.`teacher_id`
INNER JOIN `ablemusic`.`teacher_course` AS `tc` ON `t`.`teacher_id` = `tc`.`teacher_id`
WHERE `tc`.`course_id` = @__courseId_0
ORDER BY `t`.`teacher_id`, `ta`.`org_id`
2019-07-09 12:53:39.629 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TeacherFilterController.sessionEditFilterGet (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 778.4412ms.
2019-07-09 12:53:39.630 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:53:39.638 +12:00 [INF] Executed action Pegasus_backend.Controllers.TeacherFilterController.sessionEditFilterGet (Pegasus_backend) in 788.04460000000006ms
2019-07-09 12:53:39.639 +12:00 [INF] Request finished in 795.0497ms 200 application/json; charset=utf-8
2019-07-09 12:54:04.308 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/LessonRearrange/3  
2019-07-09 12:54:04.308 +12:00 [INF] Policy execution successful.
2019-07-09 12:54:04.308 +12:00 [INF] Request finished in 0.449ms 204 
2019-07-09 12:54:04.320 +12:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/LessonRearrange/3 application/json 121
2019-07-09 12:54:04.320 +12:00 [INF] Policy execution successful.
2019-07-09 12:54:04.325 +12:00 [INF] Route matched with {action = "PutLesson", controller = "LessonRearrange"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PutLesson(Int16, Pegasus_backend.Models.LessonViewModel) on controller Pegasus_backend.Controllers.LessonRearrangeController (Pegasus_backend).
2019-07-09 12:54:04.774 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonRearrangeController.PutLesson (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:54:04.817 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:54:05.010 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__newLesson_LessonId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE `l`.`lesson_id` = @__newLesson_LessonId_0
LIMIT 1
2019-07-09 12:54:05.249 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__oldLesson_LearnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`comment`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`learner_id` = @__oldLesson_LearnerId_0
LIMIT 1
2019-07-09 12:54:08.087 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__newLesson_TeacherId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`teacher_id`, `t`.`ability`, `t`.`comment`, `t`.`cv_url`, `t`.`dob`, `t`.`email`, `t`.`expiry_date`, `t`.`first_name`, `t`.`form_url`, `t`.`gender`, `t`.`home_phone`, `t`.`id_number`, `t`.`id_photo`, `t`.`id_type`, `t`.`invoice_template`, `t`.`ird_number`, `t`.`is_activate`, `t`.`is_contract`, `t`.`is_left`, `t`.`last_name`, `t`.`level`, `t`.`minimum_hours`, `t`.`mobile_phone`, `t`.`otherfile_url`, `t`.`photo`, `t`.`user_id`, `t`.`visa`
FROM `ablemusic`.`teacher` AS `t`
WHERE `t`.`teacher_id` = @__newLesson_TeacherId_0
LIMIT 1
2019-07-09 12:54:08.339 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__oldLesson_TeacherId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`teacher_id`, `t`.`ability`, `t`.`comment`, `t`.`cv_url`, `t`.`dob`, `t`.`email`, `t`.`expiry_date`, `t`.`first_name`, `t`.`form_url`, `t`.`gender`, `t`.`home_phone`, `t`.`id_number`, `t`.`id_photo`, `t`.`id_type`, `t`.`invoice_template`, `t`.`ird_number`, `t`.`is_activate`, `t`.`is_contract`, `t`.`is_left`, `t`.`last_name`, `t`.`level`, `t`.`minimum_hours`, `t`.`mobile_phone`, `t`.`otherfile_url`, `t`.`photo`, `t`.`user_id`, `t`.`visa`
FROM `ablemusic`.`teacher` AS `t`
WHERE `t`.`teacher_id` = @__oldLesson_TeacherId_0
LIMIT 1
2019-07-09 12:54:08.564 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__newLesson_LessonId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`course_id` AS `CourseId`, `c`.`course_name` AS `CourseName`
FROM `ablemusic`.`course` AS `c`
INNER JOIN `ablemusic`.`one2one_course_instance` AS `oto` ON `c`.`course_id` = `oto`.`course_id`
INNER JOIN `ablemusic`.`lesson` AS `l` ON `oto`.`course_instance_id` = `l`.`course_instance_id`
WHERE `l`.`lesson_id` = @__newLesson_LessonId_0
LIMIT 1
2019-07-09 12:54:10.717 +12:00 [INF] Executed DbCommand (2,007ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `h`.`holiday_id`, `h`.`holiday_date`, `h`.`holiday_name`
FROM `ablemusic`.`holiday` AS `h`
2019-07-09 12:54:10.917 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__oldLesson_OrgId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`org_id`, `o`.`abbr`, `o`.`address`, `o`.`email`, `o`.`is_activate`, `o`.`is_headoffice`, `o`.`localtion_x`, `o`.`localtion_y`, `o`.`org_name`, `o`.`phone`
FROM `ablemusic`.`org` AS `o`
WHERE `o`.`org_id` = @__oldLesson_OrgId_0
LIMIT 1
2019-07-09 12:54:11.161 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__oldLesson_RoomId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `r`.`room_id`, `r`.`created_at`, `r`.`is_activate`, `r`.`org_id`, `r`.`room_name`
FROM `ablemusic`.`room` AS `r`
WHERE `r`.`room_id` = @__oldLesson_RoomId_0
LIMIT 1
2019-07-09 12:54:11.384 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__newLesson_RoomId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `r`.`room_id`, `r`.`created_at`, `r`.`is_activate`, `r`.`org_id`, `r`.`room_name`
FROM `ablemusic`.`room` AS `r`
WHERE `r`.`room_id` = @__newLesson_RoomId_0
LIMIT 1
2019-07-09 12:54:11.915 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int16), @p1='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`lesson` SET `is_canceled` = @p0, `reason` = @p1
WHERE `lesson_id` = @p2;
SELECT ROW_COUNT();
2019-07-09 12:54:11.976 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@p3='?' (DbType = DateTime), @p4='?' (DbType = Int32), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (DbType = AnsiString), @p8='?' (DbType = Int32), @p9='?' (DbType = Int16), @p10='?' (DbType = Int16), @p11='?' (DbType = AnsiString), @p12='?' (DbType = AnsiString), @p13='?' (DbType = Int32), @p14='?' (DbType = Int16), @p15='?' (Size = -1), @p16='?' (DbType = Int16), @p17='?' (DbType = Int16), @p18='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_trial`, `learner_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-09 12:54:13.259 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonRearrangeController.PutLesson (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 8485.0265ms.
2019-07-09 12:54:13.263 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:54:13.267 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonRearrangeController.PutLesson (Pegasus_backend) in 8941.5144ms
2019-07-09 12:54:13.267 +12:00 [INF] Request finished in 8946.7144ms 200 application/json; charset=utf-8
2019-07-09 12:54:15.562 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsBetweenDate/3/2019-07-03/2019-07-09  
2019-07-09 12:54:15.563 +12:00 [INF] Policy execution successful.
2019-07-09 12:54:15.563 +12:00 [INF] Route matched with {action = "GetLessonsBetweenDate", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsBetweenDate(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32]) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-09 12:54:15.564 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:54:15.564 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:54:15.746 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-09 12:54:15.920 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-09 12:54:15.944 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:54:15.944 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:54:15.945 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:54:15.945 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:54:15.945 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:54:15.945 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:54:15.978 +12:00 [WRN] The LINQ expression 'where ((__8__locals1_beginDate_Value_Date_0 <= Convert([s].EndTime, DateTime).Date) AndAlso (Convert([s].EndTime, DateTime).Date <= __8__locals1_endDate_Value_Date_1))' could not be translated and will be evaluated locally.
2019-07-09 12:54:16.200 +12:00 [INF] Executed DbCommand (80ms) [Parameters=[@__orgId_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`end_time` AS `EndTime`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.Teacher`.`first_name` AS `TeacherFirstName`, `s`.`begin_time` AS `BeginTime`, `s`.`lesson_id` AS `LessonId`, `s.Room`.`room_name` AS `Room`, `s.Org`.`org_name` AS `Branch`, `s`.`is_canceled` AS `IsCanceled`, `s`.`reason` AS `CancelReson`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_trial` AS `IsTrial`, `s.Learner`.`first_name` AS `Learner`, `s`.`learner_id` AS `LearnerId`, `s`.`room_id` AS `RoomId`, `s`.`teacher_id` AS `TeacherId`, `s`.`org_id` AS `OrgId`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE `s`.`org_id` = @__orgId_2
2019-07-09 12:54:16.366 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 801.6203ms.
2019-07-09 12:54:16.366 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:54:16.366 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend) in 803.1457ms
2019-07-09 12:54:16.366 +12:00 [INF] Request finished in 804.0741ms 200 application/json; charset=utf-8
2019-07-09 12:54:29.004 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/room/forCalendar  
2019-07-09 12:54:29.004 +12:00 [INF] Policy execution successful.
2019-07-09 12:54:29.004 +12:00 [INF] Request finished in 0.422ms 204 
2019-07-09 12:54:29.048 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/room/forCalendar  
2019-07-09 12:54:29.049 +12:00 [INF] Policy execution successful.
2019-07-09 12:54:29.049 +12:00 [INF] Successfully validated the token.
2019-07-09 12:54:29.053 +12:00 [INF] Route matched with {action = "GetRoom", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoom() on controller Pegasus_backend.Controllers.RoomController (Pegasus_backend).
2019-07-09 12:54:29.054 +12:00 [INF] Authorization was successful.
2019-07-09 12:54:29.055 +12:00 [INF] Executing action method Pegasus_backend.Controllers.RoomController.GetRoom (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:54:29.059 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:54:29.254 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__userId_0
LIMIT 1
2019-07-09 12:54:29.427 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-09 12:54:29.616 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[@__orgId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`room_id` AS `id`, `s`.`room_name` AS `title`
FROM `ablemusic`.`room` AS `s`
WHERE `s`.`org_id` = @__orgId_0
2019-07-09 12:54:29.618 +12:00 [INF] Executed action method Pegasus_backend.Controllers.RoomController.GetRoom (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 563.4634ms.
2019-07-09 12:54:29.619 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.IEnumerable`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:54:29.634 +12:00 [INF] Executed action Pegasus_backend.Controllers.RoomController.GetRoom (Pegasus_backend) in 580.6205ms
2019-07-09 12:54:29.635 +12:00 [INF] Request finished in 586.1858ms 200 application/json; charset=utf-8
2019-07-09 12:54:29.639 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-09  
2019-07-09 12:54:29.639 +12:00 [INF] Policy execution successful.
2019-07-09 12:54:29.640 +12:00 [INF] Request finished in 0.3878ms 204 
2019-07-09 12:54:29.738 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-09  
2019-07-09 12:54:29.738 +12:00 [INF] Policy execution successful.
2019-07-09 12:54:29.738 +12:00 [INF] Successfully validated the token.
2019-07-09 12:54:29.745 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-09 12:54:29.745 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:54:29.766 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:54:29.990 +12:00 [INF] Executed DbCommand (70ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-09 12:54:30.163 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-09 12:54:30.196 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:54:30.196 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:54:30.196 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:54:30.197 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:54:30.197 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:54:30.197 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:54:30.197 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:54:30.231 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-09 12:54:30.487 +12:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherName`, `s`.`course_instance_id`, CASE
    WHEN ((
        SELECT `q1`.`balance`
        FROM `ablemusic`.`fund` AS `q1`
        WHERE `q1`.`learner_id` = `s`.`learner_id`
        LIMIT 1
    ) - (
        SELECT `q2`.`price`
        FROM `ablemusic`.`course` AS `q2`
        WHERE `q2`.`course_id` = `s.CourseInstance`.`course_id`
        LIMIT 1
    )) <= 0
    THEN 1 ELSE 0
END, `s.Learner`.`first_name`, `s.Room`.`room_name` AS `RoomName`, `s.Org`.`org_name` AS `OrgName`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE ((`s`.`is_canceled` <> 1) OR `s`.`is_canceled` IS NULL) AND ((`s`.`is_confirm` <> 1) OR `s`.`is_confirm` IS NULL)
2019-07-09 12:54:30.589 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 843.2263ms.
2019-07-09 12:54:30.589 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:54:30.808 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 12:54:30.989 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 12:54:31.167 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 12:54:31.340 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 12:54:31.341 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 1596.0436ms
2019-07-09 12:54:31.341 +12:00 [INF] Request finished in 1603.4353ms 200 application/json; charset=utf-8
2019-07-09 12:54:31.947 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsBetweenDate/3/2019-07-03/2019-07-09  
2019-07-09 12:54:31.948 +12:00 [INF] Policy execution successful.
2019-07-09 12:54:31.948 +12:00 [INF] Route matched with {action = "GetLessonsBetweenDate", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsBetweenDate(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32]) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-09 12:54:31.949 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:54:31.949 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:54:32.123 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-09 12:54:32.296 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-09 12:54:32.305 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:54:32.305 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:54:32.305 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:54:32.305 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:54:32.305 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:54:32.305 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:54:32.333 +12:00 [WRN] The LINQ expression 'where ((__8__locals1_beginDate_Value_Date_0 <= Convert([s].EndTime, DateTime).Date) AndAlso (Convert([s].EndTime, DateTime).Date <= __8__locals1_endDate_Value_Date_1))' could not be translated and will be evaluated locally.
2019-07-09 12:54:32.546 +12:00 [INF] Executed DbCommand (81ms) [Parameters=[@__orgId_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`end_time` AS `EndTime`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.Teacher`.`first_name` AS `TeacherFirstName`, `s`.`begin_time` AS `BeginTime`, `s`.`lesson_id` AS `LessonId`, `s.Room`.`room_name` AS `Room`, `s.Org`.`org_name` AS `Branch`, `s`.`is_canceled` AS `IsCanceled`, `s`.`reason` AS `CancelReson`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_trial` AS `IsTrial`, `s.Learner`.`first_name` AS `Learner`, `s`.`learner_id` AS `LearnerId`, `s`.`room_id` AS `RoomId`, `s`.`teacher_id` AS `TeacherId`, `s`.`org_id` AS `OrgId`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE `s`.`org_id` = @__orgId_2
2019-07-09 12:54:32.744 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 794.96250000000009ms.
2019-07-09 12:54:32.744 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:54:32.745 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend) in 796.17140000000006ms
2019-07-09 12:54:32.745 +12:00 [INF] Request finished in 797.6741ms 200 application/json; charset=utf-8
2019-07-09 12:54:33.110 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/room/forCalendar  
2019-07-09 12:54:33.111 +12:00 [INF] Policy execution successful.
2019-07-09 12:54:33.111 +12:00 [INF] Request finished in 0.5028ms 204 
2019-07-09 12:54:33.127 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/room/forCalendar  
2019-07-09 12:54:33.127 +12:00 [INF] Policy execution successful.
2019-07-09 12:54:33.127 +12:00 [INF] Successfully validated the token.
2019-07-09 12:54:33.127 +12:00 [INF] Route matched with {action = "GetRoom", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoom() on controller Pegasus_backend.Controllers.RoomController (Pegasus_backend).
2019-07-09 12:54:33.128 +12:00 [INF] Authorization was successful.
2019-07-09 12:54:33.128 +12:00 [INF] Executing action method Pegasus_backend.Controllers.RoomController.GetRoom (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:54:33.129 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:54:33.301 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__userId_0
LIMIT 1
2019-07-09 12:54:33.479 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-09 12:54:33.650 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[@__orgId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`room_id` AS `id`, `s`.`room_name` AS `title`
FROM `ablemusic`.`room` AS `s`
WHERE `s`.`org_id` = @__orgId_0
2019-07-09 12:54:33.650 +12:00 [INF] Executed action method Pegasus_backend.Controllers.RoomController.GetRoom (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 522.2637ms.
2019-07-09 12:54:33.650 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.IEnumerable`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:54:33.651 +12:00 [INF] Executed action Pegasus_backend.Controllers.RoomController.GetRoom (Pegasus_backend) in 523.2648ms
2019-07-09 12:54:33.651 +12:00 [INF] Request finished in 524.3224ms 200 application/json; charset=utf-8
2019-07-09 12:54:33.655 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-09  
2019-07-09 12:54:33.656 +12:00 [INF] Policy execution successful.
2019-07-09 12:54:33.656 +12:00 [INF] Request finished in 0.6996ms 204 
2019-07-09 12:54:33.698 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-09  
2019-07-09 12:54:33.698 +12:00 [INF] Policy execution successful.
2019-07-09 12:54:33.698 +12:00 [INF] Successfully validated the token.
2019-07-09 12:54:33.698 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-09 12:54:33.699 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:54:33.699 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:54:33.874 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-09 12:54:34.066 +12:00 [INF] Executed DbCommand (65ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-09 12:54:34.082 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:54:34.082 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:54:34.082 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:54:34.082 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:54:34.082 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:54:34.082 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:54:34.082 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:54:34.112 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-09 12:54:34.349 +12:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherName`, `s`.`course_instance_id`, CASE
    WHEN ((
        SELECT `q1`.`balance`
        FROM `ablemusic`.`fund` AS `q1`
        WHERE `q1`.`learner_id` = `s`.`learner_id`
        LIMIT 1
    ) - (
        SELECT `q2`.`price`
        FROM `ablemusic`.`course` AS `q2`
        WHERE `q2`.`course_id` = `s.CourseInstance`.`course_id`
        LIMIT 1
    )) <= 0
    THEN 1 ELSE 0
END, `s.Learner`.`first_name`, `s.Room`.`room_name` AS `RoomName`, `s.Org`.`org_name` AS `OrgName`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE ((`s`.`is_canceled` <> 1) OR `s`.`is_canceled` IS NULL) AND ((`s`.`is_confirm` <> 1) OR `s`.`is_confirm` IS NULL)
2019-07-09 12:54:34.453 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 754.00740000000008ms.
2019-07-09 12:54:34.453 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:54:34.632 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 12:54:34.805 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 12:54:34.979 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 12:54:35.154 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 12:54:35.157 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 1458.641ms
2019-07-09 12:54:35.158 +12:00 [INF] Request finished in 1459.9012ms 200 application/json; charset=utf-8
2019-07-09 12:54:42.451 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/LessonRearrange/3  
2019-07-09 12:54:42.451 +12:00 [INF] Policy execution successful.
2019-07-09 12:54:42.451 +12:00 [INF] Request finished in 0.6269ms 204 
2019-07-09 12:54:42.466 +12:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/LessonRearrange/3 application/json 130
2019-07-09 12:54:42.467 +12:00 [INF] Policy execution successful.
2019-07-09 12:54:42.467 +12:00 [INF] Route matched with {action = "PutLesson", controller = "LessonRearrange"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PutLesson(Int16, Pegasus_backend.Models.LessonViewModel) on controller Pegasus_backend.Controllers.LessonRearrangeController (Pegasus_backend).
2019-07-09 12:54:42.469 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonRearrangeController.PutLesson (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:54:42.471 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:54:42.905 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__newLesson_LessonId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE `l`.`lesson_id` = @__newLesson_LessonId_0
LIMIT 1
2019-07-09 12:54:43.089 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`comment`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`learner_id` IS NULL
LIMIT 1
2019-07-09 12:54:43.090 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonRearrangeController.PutLesson (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 620.2555ms.
2019-07-09 12:54:43.090 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:54:43.090 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonRearrangeController.PutLesson (Pegasus_backend) in 623.0698ms
2019-07-09 12:54:43.091 +12:00 [INF] Request finished in 624.1256ms 400 application/json; charset=utf-8
2019-07-09 12:54:46.415 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-09  
2019-07-09 12:54:46.415 +12:00 [INF] Policy execution successful.
2019-07-09 12:54:46.415 +12:00 [INF] Request finished in 0.363ms 204 
2019-07-09 12:54:46.427 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-09  
2019-07-09 12:54:46.427 +12:00 [INF] Policy execution successful.
2019-07-09 12:54:46.427 +12:00 [INF] Successfully validated the token.
2019-07-09 12:54:46.427 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-09 12:54:46.428 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:54:46.428 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:54:47.838 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-09 12:54:48.012 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-09 12:54:48.031 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:54:48.031 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:54:48.031 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:54:48.032 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:54:48.032 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:54:48.032 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:54:48.032 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:54:48.066 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-09 12:54:48.310 +12:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherName`, `s`.`course_instance_id`, CASE
    WHEN ((
        SELECT `q1`.`balance`
        FROM `ablemusic`.`fund` AS `q1`
        WHERE `q1`.`learner_id` = `s`.`learner_id`
        LIMIT 1
    ) - (
        SELECT `q2`.`price`
        FROM `ablemusic`.`course` AS `q2`
        WHERE `q2`.`course_id` = `s.CourseInstance`.`course_id`
        LIMIT 1
    )) <= 0
    THEN 1 ELSE 0
END, `s.Learner`.`first_name`, `s.Room`.`room_name` AS `RoomName`, `s.Org`.`org_name` AS `OrgName`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE ((`s`.`is_canceled` <> 1) OR `s`.`is_canceled` IS NULL) AND ((`s`.`is_confirm` <> 1) OR `s`.`is_confirm` IS NULL)
2019-07-09 12:54:48.407 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1979.6971ms.
2019-07-09 12:54:48.408 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:54:48.580 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 12:54:48.761 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 12:54:48.949 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 12:54:49.134 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 12:54:49.134 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 2707.098ms
2019-07-09 12:54:49.135 +12:00 [INF] Request finished in 2708.1803ms 200 application/json; charset=utf-8
2019-07-09 12:55:04.653 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/LessonReschedule/11729/3/ccc  
2019-07-09 12:55:04.654 +12:00 [INF] Policy execution successful.
2019-07-09 12:55:04.654 +12:00 [INF] Request finished in 0.8202ms 204 
2019-07-09 12:55:04.675 +12:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/LessonReschedule/11729/3/ccc  0
2019-07-09 12:55:04.675 +12:00 [INF] Policy execution successful.
2019-07-09 12:55:04.679 +12:00 [INF] Route matched with {action = "Put", controller = "LessonReschedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(Int32, Int16, System.String) on controller Pegasus_backend.Controllers.LessonRescheduleController (Pegasus_backend).
2019-07-09 12:55:04.680 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonRescheduleController.Put (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:55:04.700 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:55:04.931 +12:00 [INF] Executed DbCommand (65ms) [Parameters=[@__lessonId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`, `l.Invoice`.`invoice_id`, `l.Invoice`.`begin_date`, `l.Invoice`.`comment`, `l.Invoice`.`concert_fee`, `l.Invoice`.`concert_fee_name`, `l.Invoice`.`course_instance_id`, `l.Invoice`.`course_name`, `l.Invoice`.`created_at`, `l.Invoice`.`due_date`, `l.Invoice`.`end_date`, `l.Invoice`.`group_course_instance_id`, `l.Invoice`.`invoice_num`, `l.Invoice`.`is_active`, `l.Invoice`.`is_paid`, `l.Invoice`.`learner_id`, `l.Invoice`.`learner_name`, `l.Invoice`.`lesson_fee`, `l.Invoice`.`lesson_note_fee_name`, `l.Invoice`.`lesson_quantity`, `l.Invoice`.`note_fee`, `l.Invoice`.`other1_fee`, `l.Invoice`.`other1_fee_name`, `l.Invoice`.`other2_fee`, `l.Invoice`.`other2_fee_name`, `l.Invoice`.`other3_fee`, `l.Invoice`.`other3_fee_name`, `l.Invoice`.`owing_fee`, `l.Invoice`.`paid_fee`, `l.Invoice`.`term_id`, `l.Invoice`.`total_fee`
FROM `ablemusic`.`lesson` AS `l`
LEFT JOIN `ablemusic`.`invoice` AS `l.Invoice` ON `l`.`invoice_id` = `l.Invoice`.`invoice_id`
WHERE `l`.`lesson_id` = @__lessonId_0
LIMIT 1
2019-07-09 12:55:10.753 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonRescheduleController.Put (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 6073.1098ms.
2019-07-09 12:55:10.754 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lesson, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:55:10.758 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonRescheduleController.Put (Pegasus_backend) in 6078.7426000000005ms
2019-07-09 12:55:10.760 +12:00 [INF] Request finished in 6084.9514ms 404 application/json; charset=utf-8
2019-07-09 12:55:49.927 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-09  
2019-07-09 12:55:49.928 +12:00 [INF] Policy execution successful.
2019-07-09 12:55:49.928 +12:00 [INF] Request finished in 0.3527ms 204 
2019-07-09 12:55:49.951 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-09  
2019-07-09 12:55:49.951 +12:00 [INF] Policy execution successful.
2019-07-09 12:55:49.951 +12:00 [INF] Successfully validated the token.
2019-07-09 12:55:49.951 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-09 12:55:49.952 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:55:49.952 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:55:50.858 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-09 12:55:51.029 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-09 12:55:51.047 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:55:51.047 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:55:51.047 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:55:51.047 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:55:51.047 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:55:51.047 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:55:51.047 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:55:51.081 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-09 12:55:51.328 +12:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherName`, `s`.`course_instance_id`, CASE
    WHEN ((
        SELECT `q1`.`balance`
        FROM `ablemusic`.`fund` AS `q1`
        WHERE `q1`.`learner_id` = `s`.`learner_id`
        LIMIT 1
    ) - (
        SELECT `q2`.`price`
        FROM `ablemusic`.`course` AS `q2`
        WHERE `q2`.`course_id` = `s.CourseInstance`.`course_id`
        LIMIT 1
    )) <= 0
    THEN 1 ELSE 0
END, `s.Learner`.`first_name`, `s.Room`.`room_name` AS `RoomName`, `s.Org`.`org_name` AS `OrgName`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE ((`s`.`is_canceled` <> 1) OR `s`.`is_canceled` IS NULL) AND ((`s`.`is_confirm` <> 1) OR `s`.`is_confirm` IS NULL)
2019-07-09 12:55:51.469 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1517.115ms.
2019-07-09 12:55:51.469 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:55:51.643 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 12:55:51.816 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 12:55:51.997 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 12:55:52.171 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 12:55:52.172 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 2220.6162ms
2019-07-09 12:55:52.172 +12:00 [INF] Request finished in 2221.4937ms 200 application/json; charset=utf-8
2019-07-09 12:56:02.178 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/LessonReschedule/11729/3/ccc  
2019-07-09 12:56:02.179 +12:00 [INF] Policy execution successful.
2019-07-09 12:56:02.179 +12:00 [INF] Request finished in 0.5507ms 204 
2019-07-09 12:56:02.191 +12:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/LessonReschedule/11729/3/ccc  0
2019-07-09 12:56:02.191 +12:00 [INF] Policy execution successful.
2019-07-09 12:56:02.192 +12:00 [INF] Route matched with {action = "Put", controller = "LessonReschedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(Int32, Int16, System.String) on controller Pegasus_backend.Controllers.LessonRescheduleController (Pegasus_backend).
2019-07-09 12:56:02.192 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonRescheduleController.Put (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:56:02.193 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:56:02.383 +12:00 [INF] Executed DbCommand (66ms) [Parameters=[@__lessonId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`, `l.Invoice`.`invoice_id`, `l.Invoice`.`begin_date`, `l.Invoice`.`comment`, `l.Invoice`.`concert_fee`, `l.Invoice`.`concert_fee_name`, `l.Invoice`.`course_instance_id`, `l.Invoice`.`course_name`, `l.Invoice`.`created_at`, `l.Invoice`.`due_date`, `l.Invoice`.`end_date`, `l.Invoice`.`group_course_instance_id`, `l.Invoice`.`invoice_num`, `l.Invoice`.`is_active`, `l.Invoice`.`is_paid`, `l.Invoice`.`learner_id`, `l.Invoice`.`learner_name`, `l.Invoice`.`lesson_fee`, `l.Invoice`.`lesson_note_fee_name`, `l.Invoice`.`lesson_quantity`, `l.Invoice`.`note_fee`, `l.Invoice`.`other1_fee`, `l.Invoice`.`other1_fee_name`, `l.Invoice`.`other2_fee`, `l.Invoice`.`other2_fee_name`, `l.Invoice`.`other3_fee`, `l.Invoice`.`other3_fee_name`, `l.Invoice`.`owing_fee`, `l.Invoice`.`paid_fee`, `l.Invoice`.`term_id`, `l.Invoice`.`total_fee`
FROM `ablemusic`.`lesson` AS `l`
LEFT JOIN `ablemusic`.`invoice` AS `l.Invoice` ON `l`.`invoice_id` = `l.Invoice`.`invoice_id`
WHERE `l`.`lesson_id` = @__lessonId_0
LIMIT 1
2019-07-09 12:56:05.627 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonRescheduleController.Put (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 3434.7392ms.
2019-07-09 12:56:05.627 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lesson, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:56:05.627 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonRescheduleController.Put (Pegasus_backend) in 3435.7193ms
2019-07-09 12:56:05.628 +12:00 [INF] Request finished in 3436.658ms 404 application/json; charset=utf-8
2019-07-09 12:57:02.265 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lookups  
2019-07-09 12:57:02.265 +12:00 [INF] Policy execution successful.
2019-07-09 12:57:02.265 +12:00 [INF] Request finished in 0.6093ms 204 
2019-07-09 12:57:02.273 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/navitems  
2019-07-09 12:57:02.273 +12:00 [INF] Policy execution successful.
2019-07-09 12:57:02.273 +12:00 [INF] Request finished in 0.5974ms 204 
2019-07-09 12:57:02.317 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/room/forCalendar  
2019-07-09 12:57:02.318 +12:00 [INF] Policy execution successful.
2019-07-09 12:57:02.318 +12:00 [INF] Request finished in 0.3613ms 204 
2019-07-09 12:57:02.327 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/staff/Photos/2190613092457108.jpg  
2019-07-09 12:57:02.328 +12:00 [INF] Request finished in 0.6594ms 404 
2019-07-09 12:57:03.043 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups  
2019-07-09 12:57:03.043 +12:00 [INF] Policy execution successful.
2019-07-09 12:57:03.043 +12:00 [INF] Successfully validated the token.
2019-07-09 12:57:03.043 +12:00 [INF] Route matched with {action = "GetLookups", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookups() on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-09 12:57:03.044 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:57:03.044 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/navitems  
2019-07-09 12:57:03.044 +12:00 [INF] Policy execution successful.
2019-07-09 12:57:03.044 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:57:03.045 +12:00 [INF] Successfully validated the token.
2019-07-09 12:57:03.045 +12:00 [INF] Route matched with {action = "GetNavItems", controller = "NavItems"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNavItems() on controller Pegasus_backend.Controllers.NavItemsController (Pegasus_backend).
2019-07-09 12:57:03.045 +12:00 [INF] Authorization was successful.
2019-07-09 12:57:03.046 +12:00 [INF] Executing action method Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:57:03.047 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/room/forCalendar  
2019-07-09 12:57:03.047 +12:00 [INF] Policy execution successful.
2019-07-09 12:57:03.047 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:57:03.047 +12:00 [INF] Successfully validated the token.
2019-07-09 12:57:03.047 +12:00 [INF] Route matched with {action = "GetRoom", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoom() on controller Pegasus_backend.Controllers.RoomController (Pegasus_backend).
2019-07-09 12:57:03.048 +12:00 [INF] Authorization was successful.
2019-07-09 12:57:03.048 +12:00 [INF] Executing action method Pegasus_backend.Controllers.RoomController.GetRoom (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:57:03.049 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:57:03.375 +12:00 [INF] Executed DbCommand (188ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
2019-07-09 12:57:03.459 +12:00 [INF] Executed DbCommand (255ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`user_id`, `s`.`created_at`, `s`.`is_activate`, `s`.`is_online`, `s`.`password`, `s`.`role_id`, `s`.`signature`, `s`.`unread_message_id`, `s`.`user_name`
FROM `ablemusic`.`user` AS `s`
WHERE `s`.`user_id` = @__userId_0
LIMIT 1
2019-07-09 12:57:03.459 +12:00 [INF] Executed DbCommand (255ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__userId_0
LIMIT 1
2019-07-09 12:57:03.460 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 416.24440000000004ms.
2019-07-09 12:57:03.460 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:57:03.461 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend) in 417.6483ms
2019-07-09 12:57:03.463 +12:00 [INF] Request finished in 420.0614ms 200 application/json; charset=utf-8
2019-07-09 12:57:03.654 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__roleId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`page_id`
FROM `ablemusic`.`role_access` AS `s`
WHERE `s`.`role_id` = @__roleId_0
2019-07-09 12:57:03.658 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-09 12:57:03.826 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__orgId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`room_id` AS `id`, `s`.`room_name` AS `title`
FROM `ablemusic`.`room` AS `s`
WHERE `s`.`org_id` = @__orgId_0
2019-07-09 12:57:03.826 +12:00 [INF] Executed action method Pegasus_backend.Controllers.RoomController.GetRoom (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 777.78100000000006ms.
2019-07-09 12:57:03.826 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.IEnumerable`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:57:03.826 +12:00 [INF] Executed action Pegasus_backend.Controllers.RoomController.GetRoom (Pegasus_backend) in 778.73160000000007ms
2019-07-09 12:57:03.826 +12:00 [INF] Request finished in 780.0928ms 200 application/json; charset=utf-8
2019-07-09 12:57:03.827 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`page_group_id`, `s`.`display_order`, `s`.`icon`, `s`.`page_group_name`
FROM `ablemusic`.`page_group` AS `s`
ORDER BY `s`.`page_group_id`
2019-07-09 12:57:03.833 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-09  
2019-07-09 12:57:03.833 +12:00 [INF] Policy execution successful.
2019-07-09 12:57:03.833 +12:00 [INF] Request finished in 0.3198ms 204 
2019-07-09 12:57:03.881 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Page`.`page_id`, `s.Page`.`display_order`, `s.Page`.`icon`, `s.Page`.`is_activate`, `s.Page`.`page_group_id`, `s.Page`.`page_name`, `s.Page`.`para`, `s.Page`.`para_flag`, `s.Page`.`url`
FROM `ablemusic`.`page` AS `s.Page`
INNER JOIN (
    SELECT `s0`.`page_group_id`
    FROM `ablemusic`.`page_group` AS `s0`
) AS `t` ON `s.Page`.`page_group_id` = `t`.`page_group_id`
ORDER BY `t`.`page_group_id`
2019-07-09 12:57:03.882 +12:00 [INF] Executed action method Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 836.40550000000007ms.
2019-07-09 12:57:03.882 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:57:03.883 +12:00 [INF] Executed action Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend) in 837.59520000000009ms
2019-07-09 12:57:03.883 +12:00 [INF] Request finished in 838.8015ms 200 application/json; charset=utf-8
2019-07-09 12:57:03.906 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-09  
2019-07-09 12:57:03.906 +12:00 [INF] Policy execution successful.
2019-07-09 12:57:03.906 +12:00 [INF] Successfully validated the token.
2019-07-09 12:57:03.906 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-09 12:57:03.907 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:57:03.907 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:57:04.080 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-09 12:57:04.254 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-09 12:57:04.270 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:57:04.270 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:57:04.270 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:57:04.270 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:57:04.270 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:57:04.270 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:57:04.270 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:57:04.298 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-09 12:57:04.536 +12:00 [INF] Executed DbCommand (83ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherName`, `s`.`course_instance_id`, CASE
    WHEN ((
        SELECT `q1`.`balance`
        FROM `ablemusic`.`fund` AS `q1`
        WHERE `q1`.`learner_id` = `s`.`learner_id`
        LIMIT 1
    ) - (
        SELECT `q2`.`price`
        FROM `ablemusic`.`course` AS `q2`
        WHERE `q2`.`course_id` = `s.CourseInstance`.`course_id`
        LIMIT 1
    )) <= 0
    THEN 1 ELSE 0
END, `s.Learner`.`first_name`, `s.Room`.`room_name` AS `RoomName`, `s.Org`.`org_name` AS `OrgName`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE ((`s`.`is_canceled` <> 1) OR `s`.`is_canceled` IS NULL) AND ((`s`.`is_confirm` <> 1) OR `s`.`is_confirm` IS NULL)
2019-07-09 12:57:04.653 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 746.09620000000007ms.
2019-07-09 12:57:04.654 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:57:04.830 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 12:57:05.003 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 12:57:05.175 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 12:57:05.354 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 12:57:05.355 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 1448.5903ms
2019-07-09 12:57:05.355 +12:00 [INF] Request finished in 1449.5533ms 200 application/json; charset=utf-8
2019-07-09 12:57:46.839 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/teacherfilter/sessionEditFilter/1  
2019-07-09 12:57:46.840 +12:00 [INF] Policy execution successful.
2019-07-09 12:57:46.840 +12:00 [INF] Route matched with {action = "sessionEditFilterGet", controller = "TeacherFilter"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] sessionEditFilterGet(Int32) on controller Pegasus_backend.Controllers.TeacherFilterController (Pegasus_backend).
2019-07-09 12:57:46.841 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TeacherFilterController.sessionEditFilterGet (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:57:46.842 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:57:47.013 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`org_id` AS `OrgId`, `o`.`org_name` AS `OrgName`
FROM `ablemusic`.`org` AS `o`
2019-07-09 12:57:47.185 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `r`.`room_id` AS `RoomId`, `r`.`room_name` AS `RoomName`, `r`.`org_id` AS `OrgId`
FROM `ablemusic`.`room` AS `r`
2019-07-09 12:57:47.366 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`teacher_id` AS `TeacherId`, `t`.`first_name` AS `TeacherFirstName`, `t`.`last_name` AS `TeacherLastName`, `ta`.`org_id` AS `TeacherAvailableOrgId`, `t`.`level` AS `TeacherLevelId`
FROM `ablemusic`.`teacher` AS `t`
INNER JOIN `ablemusic`.`available_days` AS `ta` ON `t`.`teacher_id` = `ta`.`teacher_id`
INNER JOIN `ablemusic`.`teacher_course` AS `tc` ON `t`.`teacher_id` = `tc`.`teacher_id`
WHERE `tc`.`course_id` = @__courseId_0
ORDER BY `t`.`teacher_id`, `ta`.`org_id`
2019-07-09 12:57:47.367 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TeacherFilterController.sessionEditFilterGet (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 526.4473ms.
2019-07-09 12:57:47.367 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:57:47.368 +12:00 [INF] Executed action Pegasus_backend.Controllers.TeacherFilterController.sessionEditFilterGet (Pegasus_backend) in 527.62110000000007ms
2019-07-09 12:57:47.368 +12:00 [INF] Request finished in 528.5983ms 200 application/json; charset=utf-8
2019-07-09 12:57:54.544 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-09  
2019-07-09 12:57:54.544 +12:00 [INF] Policy execution successful.
2019-07-09 12:57:54.544 +12:00 [INF] Request finished in 0.4019ms 204 
2019-07-09 12:57:54.555 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-09  
2019-07-09 12:57:54.555 +12:00 [INF] Policy execution successful.
2019-07-09 12:57:54.556 +12:00 [INF] Successfully validated the token.
2019-07-09 12:57:54.556 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-09 12:57:54.557 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:57:54.558 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:57:54.736 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-09 12:57:54.909 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-09 12:57:54.925 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:57:54.925 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:57:54.925 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:57:54.926 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:57:54.926 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:57:54.926 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:57:54.926 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 12:57:54.953 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-09 12:57:55.196 +12:00 [INF] Executed DbCommand (87ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherName`, `s`.`course_instance_id`, CASE
    WHEN ((
        SELECT `q1`.`balance`
        FROM `ablemusic`.`fund` AS `q1`
        WHERE `q1`.`learner_id` = `s`.`learner_id`
        LIMIT 1
    ) - (
        SELECT `q2`.`price`
        FROM `ablemusic`.`course` AS `q2`
        WHERE `q2`.`course_id` = `s.CourseInstance`.`course_id`
        LIMIT 1
    )) <= 0
    THEN 1 ELSE 0
END, `s.Learner`.`first_name`, `s.Room`.`room_name` AS `RoomName`, `s.Org`.`org_name` AS `OrgName`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE ((`s`.`is_canceled` <> 1) OR `s`.`is_canceled` IS NULL) AND ((`s`.`is_confirm` <> 1) OR `s`.`is_confirm` IS NULL)
2019-07-09 12:57:55.300 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 742.7179ms.
2019-07-09 12:57:55.300 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:57:55.479 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 12:57:55.658 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 12:57:55.830 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 12:57:56.002 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 12:57:56.004 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 1447.2727ms
2019-07-09 12:57:56.004 +12:00 [INF] Request finished in 1448.7365ms 200 application/json; charset=utf-8
2019-07-09 12:58:04.031 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/LessonReschedule/11729/3/ccc  
2019-07-09 12:58:04.031 +12:00 [INF] Policy execution successful.
2019-07-09 12:58:04.031 +12:00 [INF] Request finished in 0.5875ms 204 
2019-07-09 12:58:04.047 +12:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/LessonReschedule/11729/3/ccc  0
2019-07-09 12:58:04.047 +12:00 [INF] Policy execution successful.
2019-07-09 12:58:04.047 +12:00 [INF] Route matched with {action = "Put", controller = "LessonReschedule"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Put(Int32, Int16, System.String) on controller Pegasus_backend.Controllers.LessonRescheduleController (Pegasus_backend).
2019-07-09 12:58:04.048 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonRescheduleController.Put (Pegasus_backend) - Validation state: "Valid"
2019-07-09 12:58:04.048 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 12:58:04.237 +12:00 [INF] Executed DbCommand (66ms) [Parameters=[@__lessonId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`, `l.Invoice`.`invoice_id`, `l.Invoice`.`begin_date`, `l.Invoice`.`comment`, `l.Invoice`.`concert_fee`, `l.Invoice`.`concert_fee_name`, `l.Invoice`.`course_instance_id`, `l.Invoice`.`course_name`, `l.Invoice`.`created_at`, `l.Invoice`.`due_date`, `l.Invoice`.`end_date`, `l.Invoice`.`group_course_instance_id`, `l.Invoice`.`invoice_num`, `l.Invoice`.`is_active`, `l.Invoice`.`is_paid`, `l.Invoice`.`learner_id`, `l.Invoice`.`learner_name`, `l.Invoice`.`lesson_fee`, `l.Invoice`.`lesson_note_fee_name`, `l.Invoice`.`lesson_quantity`, `l.Invoice`.`note_fee`, `l.Invoice`.`other1_fee`, `l.Invoice`.`other1_fee_name`, `l.Invoice`.`other2_fee`, `l.Invoice`.`other2_fee_name`, `l.Invoice`.`other3_fee`, `l.Invoice`.`other3_fee_name`, `l.Invoice`.`owing_fee`, `l.Invoice`.`paid_fee`, `l.Invoice`.`term_id`, `l.Invoice`.`total_fee`
FROM `ablemusic`.`lesson` AS `l`
LEFT JOIN `ablemusic`.`invoice` AS `l.Invoice` ON `l`.`invoice_id` = `l.Invoice`.`invoice_id`
WHERE `l`.`lesson_id` = @__lessonId_0
LIMIT 1
2019-07-09 12:58:08.316 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonRescheduleController.Put (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 4268.2641ms.
2019-07-09 12:58:08.316 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lesson, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 12:58:08.317 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonRescheduleController.Put (Pegasus_backend) in 4269.1613ms
2019-07-09 12:58:08.317 +12:00 [INF] Request finished in 4269.8759ms 404 application/json; charset=utf-8
2019-07-09 13:33:58.157 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lookups  
2019-07-09 13:33:58.164 +12:00 [INF] Policy execution successful.
2019-07-09 13:33:58.165 +12:00 [INF] Request finished in 7.168ms 204 
2019-07-09 13:33:58.165 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/navitems  
2019-07-09 13:33:58.166 +12:00 [INF] Policy execution successful.
2019-07-09 13:33:58.166 +12:00 [INF] Request finished in 0.502ms 204 
2019-07-09 13:33:58.204 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/room/forCalendar  
2019-07-09 13:33:58.204 +12:00 [INF] Policy execution successful.
2019-07-09 13:33:58.204 +12:00 [INF] Request finished in 0.44ms 204 
2019-07-09 13:33:58.214 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/staff/Photos/2190613092457108.jpg  
2019-07-09 13:33:58.214 +12:00 [INF] Request finished in 0.7505ms 404 
2019-07-09 13:33:58.653 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups  
2019-07-09 13:33:58.654 +12:00 [INF] Policy execution successful.
2019-07-09 13:33:58.654 +12:00 [INF] Successfully validated the token.
2019-07-09 13:33:58.654 +12:00 [INF] Route matched with {action = "GetLookups", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookups() on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-09 13:33:58.655 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend) - Validation state: "Valid"
2019-07-09 13:33:58.655 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/navitems  
2019-07-09 13:33:58.655 +12:00 [INF] Policy execution successful.
2019-07-09 13:33:58.655 +12:00 [INF] Successfully validated the token.
2019-07-09 13:33:58.656 +12:00 [INF] Route matched with {action = "GetNavItems", controller = "NavItems"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNavItems() on controller Pegasus_backend.Controllers.NavItemsController (Pegasus_backend).
2019-07-09 13:33:58.656 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 13:33:58.656 +12:00 [INF] Authorization was successful.
2019-07-09 13:33:58.656 +12:00 [INF] Executing action method Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend) - Validation state: "Valid"
2019-07-09 13:33:58.658 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/room/forCalendar  
2019-07-09 13:33:58.658 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 13:33:58.658 +12:00 [INF] Policy execution successful.
2019-07-09 13:33:58.659 +12:00 [INF] Successfully validated the token.
2019-07-09 13:33:58.659 +12:00 [INF] Route matched with {action = "GetRoom", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoom() on controller Pegasus_backend.Controllers.RoomController (Pegasus_backend).
2019-07-09 13:33:58.659 +12:00 [INF] Authorization was successful.
2019-07-09 13:33:58.659 +12:00 [INF] Executing action method Pegasus_backend.Controllers.RoomController.GetRoom (Pegasus_backend) - Validation state: "Valid"
2019-07-09 13:33:58.660 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 13:33:59.506 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
2019-07-09 13:33:59.508 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 852.9605ms.
2019-07-09 13:33:59.508 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 13:33:59.509 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend) in 854.0125ms
2019-07-09 13:33:59.509 +12:00 [INF] Request finished in 855.3502ms 200 application/json; charset=utf-8
2019-07-09 13:33:59.513 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__userId_0
LIMIT 1
2019-07-09 13:33:59.514 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`user_id`, `s`.`created_at`, `s`.`is_activate`, `s`.`is_online`, `s`.`password`, `s`.`role_id`, `s`.`signature`, `s`.`unread_message_id`, `s`.`user_name`
FROM `ablemusic`.`user` AS `s`
WHERE `s`.`user_id` = @__userId_0
LIMIT 1
2019-07-09 13:33:59.686 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-09 13:33:59.687 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__roleId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`page_id`
FROM `ablemusic`.`role_access` AS `s`
WHERE `s`.`role_id` = @__roleId_0
2019-07-09 13:33:59.867 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`page_group_id`, `s`.`display_order`, `s`.`icon`, `s`.`page_group_name`
FROM `ablemusic`.`page_group` AS `s`
ORDER BY `s`.`page_group_id`
2019-07-09 13:33:59.870 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__orgId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`room_id` AS `id`, `s`.`room_name` AS `title`
FROM `ablemusic`.`room` AS `s`
WHERE `s`.`org_id` = @__orgId_0
2019-07-09 13:33:59.870 +12:00 [INF] Executed action method Pegasus_backend.Controllers.RoomController.GetRoom (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1210.4906ms.
2019-07-09 13:33:59.870 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.IEnumerable`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 13:33:59.870 +12:00 [INF] Executed action Pegasus_backend.Controllers.RoomController.GetRoom (Pegasus_backend) in 1211.5157000000002ms
2019-07-09 13:33:59.871 +12:00 [INF] Request finished in 1212.8063ms 200 application/json; charset=utf-8
2019-07-09 13:33:59.923 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Page`.`page_id`, `s.Page`.`display_order`, `s.Page`.`icon`, `s.Page`.`is_activate`, `s.Page`.`page_group_id`, `s.Page`.`page_name`, `s.Page`.`para`, `s.Page`.`para_flag`, `s.Page`.`url`
FROM `ablemusic`.`page` AS `s.Page`
INNER JOIN (
    SELECT `s0`.`page_group_id`
    FROM `ablemusic`.`page_group` AS `s0`
) AS `t` ON `s.Page`.`page_group_id` = `t`.`page_group_id`
ORDER BY `t`.`page_group_id`
2019-07-09 13:33:59.925 +12:00 [INF] Executed action method Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1268.3552ms.
2019-07-09 13:33:59.925 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 13:33:59.926 +12:00 [INF] Executed action Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend) in 1269.7664ms
2019-07-09 13:33:59.926 +12:00 [INF] Request finished in 1270.8351ms 200 application/json; charset=utf-8
2019-07-09 13:34:00.048 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-09  
2019-07-09 13:34:00.048 +12:00 [INF] Policy execution successful.
2019-07-09 13:34:00.048 +12:00 [INF] Request finished in 0.4785ms 204 
2019-07-09 13:34:00.250 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-09  
2019-07-09 13:34:00.250 +12:00 [INF] Policy execution successful.
2019-07-09 13:34:00.251 +12:00 [INF] Successfully validated the token.
2019-07-09 13:34:00.251 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-09 13:34:00.252 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-09 13:34:00.253 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 13:34:00.427 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-09 13:34:00.605 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-09 13:34:00.621 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:34:00.621 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:34:00.621 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:34:00.621 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:34:00.621 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:34:00.621 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:34:00.622 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:34:00.649 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-09 13:34:00.893 +12:00 [INF] Executed DbCommand (85ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherName`, `s`.`course_instance_id`, CASE
    WHEN ((
        SELECT `q1`.`balance`
        FROM `ablemusic`.`fund` AS `q1`
        WHERE `q1`.`learner_id` = `s`.`learner_id`
        LIMIT 1
    ) - (
        SELECT `q2`.`price`
        FROM `ablemusic`.`course` AS `q2`
        WHERE `q2`.`course_id` = `s.CourseInstance`.`course_id`
        LIMIT 1
    )) <= 0
    THEN 1 ELSE 0
END, `s.Learner`.`first_name`, `s.Room`.`room_name` AS `RoomName`, `s.Org`.`org_name` AS `OrgName`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE ((`s`.`is_canceled` <> 1) OR `s`.`is_canceled` IS NULL) AND ((`s`.`is_confirm` <> 1) OR `s`.`is_confirm` IS NULL)
2019-07-09 13:34:01.016 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 764.3477ms.
2019-07-09 13:34:01.016 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 13:34:01.191 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 13:34:01.370 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 13:34:01.542 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 13:34:01.716 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 13:34:01.717 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 1466.1486ms
2019-07-09 13:34:01.717 +12:00 [INF] Request finished in 1467.2313ms 200 application/json; charset=utf-8
2019-07-09 13:40:10.413 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-09  
2019-07-09 13:40:10.413 +12:00 [INF] Policy execution successful.
2019-07-09 13:40:10.413 +12:00 [INF] Request finished in 0.4378ms 204 
2019-07-09 13:40:10.419 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-09  
2019-07-09 13:40:10.419 +12:00 [INF] Policy execution successful.
2019-07-09 13:40:10.419 +12:00 [INF] Successfully validated the token.
2019-07-09 13:40:10.420 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-09 13:40:10.420 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-09 13:40:10.421 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 13:40:11.117 +12:00 [INF] Executed DbCommand (205ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-09 13:40:11.325 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-09 13:40:11.350 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:40:11.350 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:40:11.350 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:40:11.350 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:40:11.350 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:40:11.350 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:40:11.350 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:40:11.389 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-09 13:40:11.693 +12:00 [INF] Executed DbCommand (94ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherName`, `s`.`course_instance_id`, CASE
    WHEN ((
        SELECT `q1`.`balance`
        FROM `ablemusic`.`fund` AS `q1`
        WHERE `q1`.`learner_id` = `s`.`learner_id`
        LIMIT 1
    ) - (
        SELECT `q2`.`price`
        FROM `ablemusic`.`course` AS `q2`
        WHERE `q2`.`course_id` = `s.CourseInstance`.`course_id`
        LIMIT 1
    )) <= 0
    THEN 1 ELSE 0
END, `s.Learner`.`first_name`, `s.Room`.`room_name` AS `RoomName`, `s.Org`.`org_name` AS `OrgName`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE ((`s`.`is_canceled` <> 1) OR `s`.`is_canceled` IS NULL) AND ((`s`.`is_confirm` <> 1) OR `s`.`is_confirm` IS NULL)
2019-07-09 13:40:11.896 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1475.4141ms.
2019-07-09 13:40:11.896 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 13:40:12.083 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 13:40:12.264 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 13:40:12.449 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 13:40:12.647 +12:00 [INF] Executed DbCommand (71ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 13:40:12.648 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 2228.4047ms
2019-07-09 13:40:12.648 +12:00 [INF] Request finished in 2229.6632ms 200 application/json; charset=utf-8
2019-07-09 13:40:17.845 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/LessonRearrange/3  
2019-07-09 13:40:17.845 +12:00 [INF] Policy execution successful.
2019-07-09 13:40:17.846 +12:00 [INF] Request finished in 0.3758ms 204 
2019-07-09 13:40:17.859 +12:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/LessonRearrange/3 application/json 130
2019-07-09 13:40:17.859 +12:00 [INF] Policy execution successful.
2019-07-09 13:40:17.860 +12:00 [INF] Route matched with {action = "PutLesson", controller = "LessonRearrange"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PutLesson(Int16, Pegasus_backend.Models.LessonViewModel) on controller Pegasus_backend.Controllers.LessonRearrangeController (Pegasus_backend).
2019-07-09 13:40:17.860 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonRearrangeController.PutLesson (Pegasus_backend) - Validation state: "Valid"
2019-07-09 13:40:17.861 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 13:40:18.039 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__newLesson_LessonId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE `l`.`lesson_id` = @__newLesson_LessonId_0
LIMIT 1
2019-07-09 13:40:18.218 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`comment`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`learner_id` IS NULL
LIMIT 1
2019-07-09 13:40:18.218 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonRearrangeController.PutLesson (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 357.5527ms.
2019-07-09 13:40:18.218 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 13:40:18.219 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonRearrangeController.PutLesson (Pegasus_backend) in 358.9793ms
2019-07-09 13:40:18.219 +12:00 [INF] Request finished in 359.7033ms 400 application/json; charset=utf-8
2019-07-09 13:40:51.716 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-09  
2019-07-09 13:40:51.716 +12:00 [INF] Policy execution successful.
2019-07-09 13:40:51.716 +12:00 [INF] Request finished in 0.4682ms 204 
2019-07-09 13:40:51.735 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-09  
2019-07-09 13:40:51.735 +12:00 [INF] Policy execution successful.
2019-07-09 13:40:51.735 +12:00 [INF] Successfully validated the token.
2019-07-09 13:40:51.735 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-09 13:40:51.736 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-09 13:40:51.736 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 13:40:51.916 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-09 13:40:52.091 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-09 13:40:52.106 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:40:52.106 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:40:52.106 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:40:52.106 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:40:52.106 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:40:52.107 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:40:52.107 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:40:52.135 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-09 13:40:52.397 +12:00 [INF] Executed DbCommand (109ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherName`, `s`.`course_instance_id`, CASE
    WHEN ((
        SELECT `q1`.`balance`
        FROM `ablemusic`.`fund` AS `q1`
        WHERE `q1`.`learner_id` = `s`.`learner_id`
        LIMIT 1
    ) - (
        SELECT `q2`.`price`
        FROM `ablemusic`.`course` AS `q2`
        WHERE `q2`.`course_id` = `s.CourseInstance`.`course_id`
        LIMIT 1
    )) <= 0
    THEN 1 ELSE 0
END, `s.Learner`.`first_name`, `s.Room`.`room_name` AS `RoomName`, `s.Org`.`org_name` AS `OrgName`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE ((`s`.`is_canceled` <> 1) OR `s`.`is_canceled` IS NULL) AND ((`s`.`is_confirm` <> 1) OR `s`.`is_confirm` IS NULL)
2019-07-09 13:40:52.526 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 790.2512ms.
2019-07-09 13:40:52.526 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 13:40:52.689 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 13:40:52.862 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 13:40:53.038 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 13:40:53.205 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 13:40:53.206 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 1470.6571000000001ms
2019-07-09 13:40:53.206 +12:00 [INF] Request finished in 1471.6159ms 200 application/json; charset=utf-8
2019-07-09 13:41:02.824 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-09  
2019-07-09 13:41:02.824 +12:00 [INF] Policy execution successful.
2019-07-09 13:41:02.824 +12:00 [INF] Request finished in 0.3498ms 204 
2019-07-09 13:41:02.838 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-09  
2019-07-09 13:41:02.838 +12:00 [INF] Policy execution successful.
2019-07-09 13:41:02.839 +12:00 [INF] Successfully validated the token.
2019-07-09 13:41:02.839 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-09 13:41:02.839 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-09 13:41:02.840 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 13:41:03.015 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-09 13:41:03.193 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-09 13:41:03.208 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:41:03.209 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:41:03.209 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:41:03.209 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:41:03.209 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:41:03.209 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:41:03.209 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:41:03.237 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-09 13:41:03.475 +12:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherName`, `s`.`course_instance_id`, CASE
    WHEN ((
        SELECT `q1`.`balance`
        FROM `ablemusic`.`fund` AS `q1`
        WHERE `q1`.`learner_id` = `s`.`learner_id`
        LIMIT 1
    ) - (
        SELECT `q2`.`price`
        FROM `ablemusic`.`course` AS `q2`
        WHERE `q2`.`course_id` = `s.CourseInstance`.`course_id`
        LIMIT 1
    )) <= 0
    THEN 1 ELSE 0
END, `s.Learner`.`first_name`, `s.Room`.`room_name` AS `RoomName`, `s.Org`.`org_name` AS `OrgName`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE ((`s`.`is_canceled` <> 1) OR `s`.`is_canceled` IS NULL) AND ((`s`.`is_confirm` <> 1) OR `s`.`is_confirm` IS NULL)
2019-07-09 13:41:03.609 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 769.3309ms.
2019-07-09 13:41:03.609 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 13:41:03.782 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 13:41:03.954 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 13:41:04.126 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 13:41:04.302 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 13:41:04.303 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 1463.7961ms
2019-07-09 13:41:04.303 +12:00 [INF] Request finished in 1464.7506ms 200 application/json; charset=utf-8
2019-07-09 13:41:15.939 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/LessonRearrange/3  
2019-07-09 13:41:15.939 +12:00 [INF] Policy execution successful.
2019-07-09 13:41:15.940 +12:00 [INF] Request finished in 0.4297ms 204 
2019-07-09 13:41:15.958 +12:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/LessonRearrange/3 application/json 135
2019-07-09 13:41:15.958 +12:00 [INF] Policy execution successful.
2019-07-09 13:41:15.958 +12:00 [INF] Route matched with {action = "PutLesson", controller = "LessonRearrange"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PutLesson(Int16, Pegasus_backend.Models.LessonViewModel) on controller Pegasus_backend.Controllers.LessonRearrangeController (Pegasus_backend).
2019-07-09 13:41:15.959 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonRearrangeController.PutLesson (Pegasus_backend) - Validation state: "Valid"
2019-07-09 13:41:15.960 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 13:41:16.142 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__newLesson_LessonId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE `l`.`lesson_id` = @__newLesson_LessonId_0
LIMIT 1
2019-07-09 13:41:16.328 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__oldLesson_LearnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`comment`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`learner_id` = @__oldLesson_LearnerId_0
LIMIT 1
2019-07-09 13:41:18.142 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__newLesson_TeacherId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`teacher_id`, `t`.`ability`, `t`.`comment`, `t`.`cv_url`, `t`.`dob`, `t`.`email`, `t`.`expiry_date`, `t`.`first_name`, `t`.`form_url`, `t`.`gender`, `t`.`home_phone`, `t`.`id_number`, `t`.`id_photo`, `t`.`id_type`, `t`.`invoice_template`, `t`.`ird_number`, `t`.`is_activate`, `t`.`is_contract`, `t`.`is_left`, `t`.`last_name`, `t`.`level`, `t`.`minimum_hours`, `t`.`mobile_phone`, `t`.`otherfile_url`, `t`.`photo`, `t`.`user_id`, `t`.`visa`
FROM `ablemusic`.`teacher` AS `t`
WHERE `t`.`teacher_id` = @__newLesson_TeacherId_0
LIMIT 1
2019-07-09 13:41:18.327 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__newLesson_LessonId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`course_id` AS `CourseId`, `c`.`course_name` AS `CourseName`
FROM `ablemusic`.`course` AS `c`
INNER JOIN `ablemusic`.`one2one_course_instance` AS `oto` ON `c`.`course_id` = `oto`.`course_id`
INNER JOIN `ablemusic`.`lesson` AS `l` ON `oto`.`course_instance_id` = `l`.`course_instance_id`
WHERE `l`.`lesson_id` = @__newLesson_LessonId_0
LIMIT 1
2019-07-09 13:41:18.507 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `h`.`holiday_id`, `h`.`holiday_date`, `h`.`holiday_name`
FROM `ablemusic`.`holiday` AS `h`
2019-07-09 13:41:18.683 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__oldLesson_OrgId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`org_id`, `o`.`abbr`, `o`.`address`, `o`.`email`, `o`.`is_activate`, `o`.`is_headoffice`, `o`.`localtion_x`, `o`.`localtion_y`, `o`.`org_name`, `o`.`phone`
FROM `ablemusic`.`org` AS `o`
WHERE `o`.`org_id` = @__oldLesson_OrgId_0
LIMIT 1
2019-07-09 13:41:18.861 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__oldLesson_RoomId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `r`.`room_id`, `r`.`created_at`, `r`.`is_activate`, `r`.`org_id`, `r`.`room_name`
FROM `ablemusic`.`room` AS `r`
WHERE `r`.`room_id` = @__oldLesson_RoomId_0
LIMIT 1
2019-07-09 13:41:19.032 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[@__newLesson_RoomId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `r`.`room_id`, `r`.`created_at`, `r`.`is_activate`, `r`.`org_id`, `r`.`room_name`
FROM `ablemusic`.`room` AS `r`
WHERE `r`.`room_id` = @__newLesson_RoomId_0
LIMIT 1
2019-07-09 13:41:19.032 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonRearrangeController.PutLesson (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 3073.2966ms.
2019-07-09 13:41:19.033 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 13:41:19.033 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonRearrangeController.PutLesson (Pegasus_backend) in 3074.6283000000003ms
2019-07-09 13:41:19.033 +12:00 [INF] Request finished in 3075.3442ms 404 application/json; charset=utf-8
2019-07-09 13:41:26.933 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-09  
2019-07-09 13:41:26.933 +12:00 [INF] Policy execution successful.
2019-07-09 13:41:26.934 +12:00 [INF] Request finished in 1.2127ms 204 
2019-07-09 13:41:26.954 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-09  
2019-07-09 13:41:26.954 +12:00 [INF] Policy execution successful.
2019-07-09 13:41:26.954 +12:00 [INF] Successfully validated the token.
2019-07-09 13:41:26.954 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-09 13:41:26.955 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-09 13:41:26.956 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 13:41:27.132 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-09 13:41:27.308 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-09 13:41:27.324 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:41:27.324 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:41:27.324 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:41:27.324 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:41:27.325 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:41:27.325 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:41:27.325 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:41:27.354 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-09 13:41:27.590 +12:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherName`, `s`.`course_instance_id`, CASE
    WHEN ((
        SELECT `q1`.`balance`
        FROM `ablemusic`.`fund` AS `q1`
        WHERE `q1`.`learner_id` = `s`.`learner_id`
        LIMIT 1
    ) - (
        SELECT `q2`.`price`
        FROM `ablemusic`.`course` AS `q2`
        WHERE `q2`.`course_id` = `s.CourseInstance`.`course_id`
        LIMIT 1
    )) <= 0
    THEN 1 ELSE 0
END, `s.Learner`.`first_name`, `s.Room`.`room_name` AS `RoomName`, `s.Org`.`org_name` AS `OrgName`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE ((`s`.`is_canceled` <> 1) OR `s`.`is_canceled` IS NULL) AND ((`s`.`is_confirm` <> 1) OR `s`.`is_confirm` IS NULL)
2019-07-09 13:41:27.693 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 738.15500000000009ms.
2019-07-09 13:41:27.694 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 13:41:27.870 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 13:41:28.046 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 13:41:28.221 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 13:41:28.394 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 13:41:28.395 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 1440.2796ms
2019-07-09 13:41:28.395 +12:00 [INF] Request finished in 1441.4796ms 200 application/json; charset=utf-8
2019-07-09 13:41:42.117 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/LessonRearrange/3  
2019-07-09 13:41:42.117 +12:00 [INF] Policy execution successful.
2019-07-09 13:41:42.118 +12:00 [INF] Request finished in 0.5178ms 204 
2019-07-09 13:41:42.136 +12:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/LessonRearrange/3 application/json 133
2019-07-09 13:41:42.136 +12:00 [INF] Policy execution successful.
2019-07-09 13:41:42.136 +12:00 [INF] Route matched with {action = "PutLesson", controller = "LessonRearrange"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PutLesson(Int16, Pegasus_backend.Models.LessonViewModel) on controller Pegasus_backend.Controllers.LessonRearrangeController (Pegasus_backend).
2019-07-09 13:41:42.137 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonRearrangeController.PutLesson (Pegasus_backend) - Validation state: "Valid"
2019-07-09 13:41:42.138 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 13:41:42.317 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__newLesson_LessonId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE `l`.`lesson_id` = @__newLesson_LessonId_0
LIMIT 1
2019-07-09 13:41:42.494 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__oldLesson_LearnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`comment`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`learner_id` = @__oldLesson_LearnerId_0
LIMIT 1
2019-07-09 13:41:43.867 +12:00 [INF] Executed DbCommand (61ms) [Parameters=[@__newLesson_TeacherId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`teacher_id`, `t`.`ability`, `t`.`comment`, `t`.`cv_url`, `t`.`dob`, `t`.`email`, `t`.`expiry_date`, `t`.`first_name`, `t`.`form_url`, `t`.`gender`, `t`.`home_phone`, `t`.`id_number`, `t`.`id_photo`, `t`.`id_type`, `t`.`invoice_template`, `t`.`ird_number`, `t`.`is_activate`, `t`.`is_contract`, `t`.`is_left`, `t`.`last_name`, `t`.`level`, `t`.`minimum_hours`, `t`.`mobile_phone`, `t`.`otherfile_url`, `t`.`photo`, `t`.`user_id`, `t`.`visa`
FROM `ablemusic`.`teacher` AS `t`
WHERE `t`.`teacher_id` = @__newLesson_TeacherId_0
LIMIT 1
2019-07-09 13:41:44.043 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__newLesson_LessonId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`course_id` AS `CourseId`, `c`.`course_name` AS `CourseName`
FROM `ablemusic`.`course` AS `c`
INNER JOIN `ablemusic`.`one2one_course_instance` AS `oto` ON `c`.`course_id` = `oto`.`course_id`
INNER JOIN `ablemusic`.`lesson` AS `l` ON `oto`.`course_instance_id` = `l`.`course_instance_id`
WHERE `l`.`lesson_id` = @__newLesson_LessonId_0
LIMIT 1
2019-07-09 13:41:44.216 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `h`.`holiday_id`, `h`.`holiday_date`, `h`.`holiday_name`
FROM `ablemusic`.`holiday` AS `h`
2019-07-09 13:41:44.394 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__oldLesson_OrgId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`org_id`, `o`.`abbr`, `o`.`address`, `o`.`email`, `o`.`is_activate`, `o`.`is_headoffice`, `o`.`localtion_x`, `o`.`localtion_y`, `o`.`org_name`, `o`.`phone`
FROM `ablemusic`.`org` AS `o`
WHERE `o`.`org_id` = @__oldLesson_OrgId_0
LIMIT 1
2019-07-09 13:41:44.574 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__oldLesson_RoomId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `r`.`room_id`, `r`.`created_at`, `r`.`is_activate`, `r`.`org_id`, `r`.`room_name`
FROM `ablemusic`.`room` AS `r`
WHERE `r`.`room_id` = @__oldLesson_RoomId_0
LIMIT 1
2019-07-09 13:41:44.756 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__newLesson_RoomId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `r`.`room_id`, `r`.`created_at`, `r`.`is_activate`, `r`.`org_id`, `r`.`room_name`
FROM `ablemusic`.`room` AS `r`
WHERE `r`.`room_id` = @__newLesson_RoomId_0
LIMIT 1
2019-07-09 13:41:44.756 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonRearrangeController.PutLesson (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 2618.9717ms.
2019-07-09 13:41:44.757 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 13:41:44.757 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonRearrangeController.PutLesson (Pegasus_backend) in 2620.1623ms
2019-07-09 13:41:44.757 +12:00 [INF] Request finished in 2620.8974ms 404 application/json; charset=utf-8
2019-07-09 13:43:20.490 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-09  
2019-07-09 13:43:20.490 +12:00 [INF] Policy execution successful.
2019-07-09 13:43:20.490 +12:00 [INF] Request finished in 0.5426ms 204 
2019-07-09 13:43:20.510 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-09  
2019-07-09 13:43:20.510 +12:00 [INF] Policy execution successful.
2019-07-09 13:43:20.511 +12:00 [INF] Successfully validated the token.
2019-07-09 13:43:20.511 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-09 13:43:20.511 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-09 13:43:20.512 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 13:43:20.691 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-09 13:43:20.867 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-09 13:43:20.887 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:43:20.887 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:43:20.887 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:43:20.888 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:43:20.888 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:43:20.888 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:43:20.888 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:43:20.929 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-09 13:43:21.173 +12:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherName`, `s`.`course_instance_id`, CASE
    WHEN ((
        SELECT `q1`.`balance`
        FROM `ablemusic`.`fund` AS `q1`
        WHERE `q1`.`learner_id` = `s`.`learner_id`
        LIMIT 1
    ) - (
        SELECT `q2`.`price`
        FROM `ablemusic`.`course` AS `q2`
        WHERE `q2`.`course_id` = `s.CourseInstance`.`course_id`
        LIMIT 1
    )) <= 0
    THEN 1 ELSE 0
END, `s.Learner`.`first_name`, `s.Room`.`room_name` AS `RoomName`, `s.Org`.`org_name` AS `OrgName`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE ((`s`.`is_canceled` <> 1) OR `s`.`is_canceled` IS NULL) AND ((`s`.`is_confirm` <> 1) OR `s`.`is_confirm` IS NULL)
2019-07-09 13:43:21.272 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 760.649ms.
2019-07-09 13:43:21.272 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 13:43:21.455 +12:00 [INF] Executed DbCommand (61ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 13:43:21.632 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 13:43:21.804 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 13:43:21.980 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 13:43:21.981 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 1470.0742ms
2019-07-09 13:43:21.981 +12:00 [INF] Request finished in 1471.2631ms 200 application/json; charset=utf-8
2019-07-09 13:43:31.730 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/session/11729/ccc/3  
2019-07-09 13:43:31.731 +12:00 [INF] Policy execution successful.
2019-07-09 13:43:31.731 +12:00 [INF] Request finished in 0.5486ms 204 
2019-07-09 13:43:31.739 +12:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/session/11729/ccc/3  0
2019-07-09 13:43:31.739 +12:00 [INF] Policy execution successful.
2019-07-09 13:43:31.746 +12:00 [INF] Route matched with {action = "PutSesson", controller = "Session"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PutSesson(Int32, System.String, Int16) on controller Pegasus_backend.Controllers.SessionController (Pegasus_backend).
2019-07-09 13:43:31.747 +12:00 [INF] Executing action method Pegasus_backend.Controllers.SessionController.PutSesson (Pegasus_backend) - Validation state: "Valid"
2019-07-09 13:43:31.775 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 13:43:31.962 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__sessionId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`lesson_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`created_at`, `x`.`end_time`, `x`.`group_course_instance_id`, `x`.`invoice_id`, `x`.`is_canceled`, `x`.`is_changed`, `x`.`is_confirm`, `x`.`is_trial`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`, `x`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `x`
WHERE `x`.`lesson_id` = @__sessionId_0
LIMIT 1
2019-07-09 13:43:32.145 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__userId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `u`.`user_id`, `u`.`created_at`, `u`.`is_activate`, `u`.`is_online`, `u`.`password`, `u`.`role_id`, `u`.`signature`, `u`.`unread_message_id`, `u`.`user_name`
FROM `ablemusic`.`user` AS `u`
WHERE `u`.`user_id` = @__userId_0
LIMIT 1
2019-07-09 13:43:36.820 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__lesson_TeacherId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`teacher_id`, `t`.`ability`, `t`.`comment`, `t`.`cv_url`, `t`.`dob`, `t`.`email`, `t`.`expiry_date`, `t`.`first_name`, `t`.`form_url`, `t`.`gender`, `t`.`home_phone`, `t`.`id_number`, `t`.`id_photo`, `t`.`id_type`, `t`.`invoice_template`, `t`.`ird_number`, `t`.`is_activate`, `t`.`is_contract`, `t`.`is_left`, `t`.`last_name`, `t`.`level`, `t`.`minimum_hours`, `t`.`mobile_phone`, `t`.`otherfile_url`, `t`.`photo`, `t`.`user_id`, `t`.`visa`
FROM `ablemusic`.`teacher` AS `t`
WHERE `t`.`teacher_id` = @__lesson_TeacherId_0
LIMIT 1
2019-07-09 13:43:37.122 +12:00 [INF] Executed DbCommand (104ms) [Parameters=[@__lesson_GroupCourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`course_id` AS `CourseId`, `c`.`course_name` AS `CourseName`
FROM `ablemusic`.`course` AS `c`
INNER JOIN `ablemusic`.`group_course_instance` AS `gc` ON `c`.`course_id` = `gc`.`course_id`
WHERE `gc`.`group_course_instance_id` = @__lesson_GroupCourseInstanceId_0
LIMIT 1
2019-07-09 13:43:37.299 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `h`.`holiday_id`, `h`.`holiday_date`, `h`.`holiday_name`
FROM `ablemusic`.`holiday` AS `h`
2019-07-09 13:43:37.491 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__lesson_GroupCourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id` AS `LearnerId`, `l`.`first_name` AS `FirstName`, `l`.`last_name` AS `LastName`, `l`.`email`
FROM `ablemusic`.`learner_group_course` AS `lgc`
INNER JOIN `ablemusic`.`learner` AS `l` ON `lgc`.`learner_id` = `l`.`learner_id`
WHERE `lgc`.`group_course_instance_id` = @__lesson_GroupCourseInstanceId_0
2019-07-09 13:43:39.957 +12:00 [INF] Executed DbCommand (67ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = AnsiString), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32), @p5='?' (DbType = Int16), @p6='?' (DbType = AnsiString), @p7='?' (DbType = Int32), @p8='?' (DbType = AnsiString), @p9='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`await_make_up_lesson` (`await_id`, `course_instance_id`, `create_at`, `expired_date`, `group_course_instance_id`, `is_active`, `learner_id`, `missed_lesson_id`, `new_lesson_id`, `schduled_at`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
2019-07-09 13:43:40.009 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@p12='?' (DbType = Int32), @p10='?' (DbType = Int16), @p11='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`lesson` SET `is_canceled` = @p10, `reason` = @p11
WHERE `lesson_id` = @p12;
SELECT ROW_COUNT();
2019-07-09 13:43:40.079 +12:00 [INF] Executed action method Pegasus_backend.Controllers.SessionController.PutSesson (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 8331.7458ms.
2019-07-09 13:43:40.082 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 13:43:40.092 +12:00 [INF] Executed action Pegasus_backend.Controllers.SessionController.PutSesson (Pegasus_backend) in 8346.1331000000009ms
2019-07-09 13:43:40.104 +12:00 [INF] Request finished in 8364.6835ms 200 application/json; charset=utf-8
2019-07-09 13:43:44.241 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-09  
2019-07-09 13:43:44.241 +12:00 [INF] Policy execution successful.
2019-07-09 13:43:44.241 +12:00 [INF] Request finished in 0.313ms 204 
2019-07-09 13:43:44.250 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-09  
2019-07-09 13:43:44.251 +12:00 [INF] Policy execution successful.
2019-07-09 13:43:44.251 +12:00 [INF] Successfully validated the token.
2019-07-09 13:43:44.251 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-09 13:43:44.252 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-09 13:43:44.253 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 13:43:45.080 +12:00 [INF] Executed DbCommand (67ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-09 13:43:45.283 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-09 13:43:45.307 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:43:45.307 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:43:45.307 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:43:45.307 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:43:45.307 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:43:45.307 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:43:45.307 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:43:45.337 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-09 13:43:45.582 +12:00 [INF] Executed DbCommand (91ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherName`, `s`.`course_instance_id`, CASE
    WHEN ((
        SELECT `q1`.`balance`
        FROM `ablemusic`.`fund` AS `q1`
        WHERE `q1`.`learner_id` = `s`.`learner_id`
        LIMIT 1
    ) - (
        SELECT `q2`.`price`
        FROM `ablemusic`.`course` AS `q2`
        WHERE `q2`.`course_id` = `s.CourseInstance`.`course_id`
        LIMIT 1
    )) <= 0
    THEN 1 ELSE 0
END, `s.Learner`.`first_name`, `s.Room`.`room_name` AS `RoomName`, `s.Org`.`org_name` AS `OrgName`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE ((`s`.`is_canceled` <> 1) OR `s`.`is_canceled` IS NULL) AND ((`s`.`is_confirm` <> 1) OR `s`.`is_confirm` IS NULL)
2019-07-09 13:43:45.719 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1467.4413000000002ms.
2019-07-09 13:43:45.720 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 13:43:45.893 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 13:43:46.064 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 13:43:46.260 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 13:43:46.260 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 2008.8606000000002ms
2019-07-09 13:43:46.261 +12:00 [INF] Request finished in 2010.241ms 200 application/json; charset=utf-8
2019-07-09 13:43:55.846 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/teacherfilter/sessionEditFilter/1  
2019-07-09 13:43:55.846 +12:00 [INF] Policy execution successful.
2019-07-09 13:43:55.846 +12:00 [INF] Route matched with {action = "sessionEditFilterGet", controller = "TeacherFilter"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] sessionEditFilterGet(Int32) on controller Pegasus_backend.Controllers.TeacherFilterController (Pegasus_backend).
2019-07-09 13:43:55.847 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TeacherFilterController.sessionEditFilterGet (Pegasus_backend) - Validation state: "Valid"
2019-07-09 13:43:55.848 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 13:43:56.010 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`org_id` AS `OrgId`, `o`.`org_name` AS `OrgName`
FROM `ablemusic`.`org` AS `o`
2019-07-09 13:43:56.187 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `r`.`room_id` AS `RoomId`, `r`.`room_name` AS `RoomName`, `r`.`org_id` AS `OrgId`
FROM `ablemusic`.`room` AS `r`
2019-07-09 13:43:56.365 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`teacher_id` AS `TeacherId`, `t`.`first_name` AS `TeacherFirstName`, `t`.`last_name` AS `TeacherLastName`, `ta`.`org_id` AS `TeacherAvailableOrgId`, `t`.`level` AS `TeacherLevelId`
FROM `ablemusic`.`teacher` AS `t`
INNER JOIN `ablemusic`.`available_days` AS `ta` ON `t`.`teacher_id` = `ta`.`teacher_id`
INNER JOIN `ablemusic`.`teacher_course` AS `tc` ON `t`.`teacher_id` = `tc`.`teacher_id`
WHERE `tc`.`course_id` = @__courseId_0
ORDER BY `t`.`teacher_id`, `ta`.`org_id`
2019-07-09 13:43:56.367 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TeacherFilterController.sessionEditFilterGet (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 519.5008ms.
2019-07-09 13:43:56.367 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 13:43:56.367 +12:00 [INF] Executed action Pegasus_backend.Controllers.TeacherFilterController.sessionEditFilterGet (Pegasus_backend) in 520.79950000000008ms
2019-07-09 13:43:56.367 +12:00 [INF] Request finished in 521.6248ms 200 application/json; charset=utf-8
2019-07-09 13:44:04.340 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/LessonRearrange/3  
2019-07-09 13:44:04.341 +12:00 [INF] Policy execution successful.
2019-07-09 13:44:04.341 +12:00 [INF] Request finished in 0.3327ms 204 
2019-07-09 13:44:04.349 +12:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/LessonRearrange/3 application/json 121
2019-07-09 13:44:04.349 +12:00 [INF] Policy execution successful.
2019-07-09 13:44:04.349 +12:00 [INF] Route matched with {action = "PutLesson", controller = "LessonRearrange"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PutLesson(Int16, Pegasus_backend.Models.LessonViewModel) on controller Pegasus_backend.Controllers.LessonRearrangeController (Pegasus_backend).
2019-07-09 13:44:04.350 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonRearrangeController.PutLesson (Pegasus_backend) - Validation state: "Valid"
2019-07-09 13:44:04.350 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 13:44:04.660 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__newLesson_LessonId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE `l`.`lesson_id` = @__newLesson_LessonId_0
LIMIT 1
2019-07-09 13:44:04.860 +12:00 [INF] Executed DbCommand (79ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`comment`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`learner_id` IS NULL
LIMIT 1
2019-07-09 13:44:04.860 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonRearrangeController.PutLesson (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 510.1193ms.
2019-07-09 13:44:04.861 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 13:44:04.861 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonRearrangeController.PutLesson (Pegasus_backend) in 511.82980000000003ms
2019-07-09 13:44:04.862 +12:00 [INF] Request finished in 512.7753ms 400 application/json; charset=utf-8
2019-07-09 13:46:33.798 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-09  
2019-07-09 13:46:33.798 +12:00 [INF] Policy execution successful.
2019-07-09 13:46:33.798 +12:00 [INF] Request finished in 0.4289ms 204 
2019-07-09 13:46:33.817 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-09  
2019-07-09 13:46:33.817 +12:00 [INF] Policy execution successful.
2019-07-09 13:46:33.817 +12:00 [INF] Successfully validated the token.
2019-07-09 13:46:33.818 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-09 13:46:33.818 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-09 13:46:33.819 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 13:46:34.009 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-09 13:46:34.185 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-09 13:46:34.207 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:46:34.207 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:46:34.208 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:46:34.208 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:46:34.208 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:46:34.208 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:46:34.208 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:46:34.237 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-09 13:46:34.474 +12:00 [INF] Executed DbCommand (82ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherName`, `s`.`course_instance_id`, CASE
    WHEN ((
        SELECT `q1`.`balance`
        FROM `ablemusic`.`fund` AS `q1`
        WHERE `q1`.`learner_id` = `s`.`learner_id`
        LIMIT 1
    ) - (
        SELECT `q2`.`price`
        FROM `ablemusic`.`course` AS `q2`
        WHERE `q2`.`course_id` = `s.CourseInstance`.`course_id`
        LIMIT 1
    )) <= 0
    THEN 1 ELSE 0
END, `s.Learner`.`first_name`, `s.Room`.`room_name` AS `RoomName`, `s.Org`.`org_name` AS `OrgName`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE ((`s`.`is_canceled` <> 1) OR `s`.`is_canceled` IS NULL) AND ((`s`.`is_confirm` <> 1) OR `s`.`is_confirm` IS NULL)
2019-07-09 13:46:34.591 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 772.4355ms.
2019-07-09 13:46:34.591 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 13:46:34.764 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 13:46:34.938 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 13:46:35.110 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 13:46:35.111 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 1293.4386ms
2019-07-09 13:46:35.112 +12:00 [INF] Request finished in 1294.7412ms 200 application/json; charset=utf-8
2019-07-09 13:46:57.573 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/LessonRearrange/3  
2019-07-09 13:46:57.573 +12:00 [INF] Policy execution successful.
2019-07-09 13:46:57.573 +12:00 [INF] Request finished in 0.3562ms 204 
2019-07-09 13:46:57.585 +12:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/LessonRearrange/3 application/json 133
2019-07-09 13:46:57.585 +12:00 [INF] Policy execution successful.
2019-07-09 13:46:57.586 +12:00 [INF] Route matched with {action = "PutLesson", controller = "LessonRearrange"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PutLesson(Int16, Pegasus_backend.Models.LessonViewModel) on controller Pegasus_backend.Controllers.LessonRearrangeController (Pegasus_backend).
2019-07-09 13:46:57.586 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonRearrangeController.PutLesson (Pegasus_backend) - Validation state: "Valid"
2019-07-09 13:46:57.587 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 13:46:57.759 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__newLesson_LessonId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE `l`.`lesson_id` = @__newLesson_LessonId_0
LIMIT 1
2019-07-09 13:46:57.939 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__oldLesson_LearnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`comment`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`learner_id` = @__oldLesson_LearnerId_0
LIMIT 1
2019-07-09 13:46:59.387 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__newLesson_TeacherId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`teacher_id`, `t`.`ability`, `t`.`comment`, `t`.`cv_url`, `t`.`dob`, `t`.`email`, `t`.`expiry_date`, `t`.`first_name`, `t`.`form_url`, `t`.`gender`, `t`.`home_phone`, `t`.`id_number`, `t`.`id_photo`, `t`.`id_type`, `t`.`invoice_template`, `t`.`ird_number`, `t`.`is_activate`, `t`.`is_contract`, `t`.`is_left`, `t`.`last_name`, `t`.`level`, `t`.`minimum_hours`, `t`.`mobile_phone`, `t`.`otherfile_url`, `t`.`photo`, `t`.`user_id`, `t`.`visa`
FROM `ablemusic`.`teacher` AS `t`
WHERE `t`.`teacher_id` = @__newLesson_TeacherId_0
LIMIT 1
2019-07-09 13:47:29.868 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__newLesson_LessonId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`course_id` AS `CourseId`, `c`.`course_name` AS `CourseName`
FROM `ablemusic`.`course` AS `c`
INNER JOIN `ablemusic`.`one2one_course_instance` AS `oto` ON `c`.`course_id` = `oto`.`course_id`
INNER JOIN `ablemusic`.`lesson` AS `l` ON `oto`.`course_instance_id` = `l`.`course_instance_id`
WHERE `l`.`lesson_id` = @__newLesson_LessonId_0
LIMIT 1
2019-07-09 13:52:33.195 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `h`.`holiday_id`, `h`.`holiday_date`, `h`.`holiday_name`
FROM `ablemusic`.`holiday` AS `h`
2019-07-09 13:52:33.373 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__oldLesson_OrgId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`org_id`, `o`.`abbr`, `o`.`address`, `o`.`email`, `o`.`is_activate`, `o`.`is_headoffice`, `o`.`localtion_x`, `o`.`localtion_y`, `o`.`org_name`, `o`.`phone`
FROM `ablemusic`.`org` AS `o`
WHERE `o`.`org_id` = @__oldLesson_OrgId_0
LIMIT 1
2019-07-09 13:52:33.550 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__oldLesson_RoomId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `r`.`room_id`, `r`.`created_at`, `r`.`is_activate`, `r`.`org_id`, `r`.`room_name`
FROM `ablemusic`.`room` AS `r`
WHERE `r`.`room_id` = @__oldLesson_RoomId_0
LIMIT 1
2019-07-09 13:52:33.729 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__newLesson_RoomId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `r`.`room_id`, `r`.`created_at`, `r`.`is_activate`, `r`.`org_id`, `r`.`room_name`
FROM `ablemusic`.`room` AS `r`
WHERE `r`.`room_id` = @__newLesson_RoomId_0
LIMIT 1
2019-07-09 13:52:33.730 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonRearrangeController.PutLesson (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.NotFoundObjectResult in 336167.4474ms.
2019-07-09 13:52:33.730 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 13:52:33.730 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonRearrangeController.PutLesson (Pegasus_backend) in 336168.60970000003ms
2019-07-09 13:52:33.730 +12:00 [INF] Request finished in 336169.2734ms 404 application/json; charset=utf-8
2019-07-09 13:52:36.944 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-09  
2019-07-09 13:52:36.945 +12:00 [INF] Policy execution successful.
2019-07-09 13:52:36.945 +12:00 [INF] Request finished in 0.4066ms 204 
2019-07-09 13:52:36.972 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/3/2019-07-09  
2019-07-09 13:52:36.972 +12:00 [INF] Policy execution successful.
2019-07-09 13:52:36.972 +12:00 [INF] Successfully validated the token.
2019-07-09 13:52:36.972 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-09 13:52:36.973 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-09 13:52:36.974 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-09 13:52:37.155 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-09 13:52:37.353 +12:00 [INF] Executed DbCommand (70ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-09 13:52:37.369 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:52:37.369 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:52:37.369 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:52:37.369 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:52:37.369 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:52:37.369 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:52:37.369 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-09 13:52:37.401 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-09 13:52:37.746 +12:00 [INF] Executed DbCommand (132ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherName`, `s`.`course_instance_id`, CASE
    WHEN ((
        SELECT `q1`.`balance`
        FROM `ablemusic`.`fund` AS `q1`
        WHERE `q1`.`learner_id` = `s`.`learner_id`
        LIMIT 1
    ) - (
        SELECT `q2`.`price`
        FROM `ablemusic`.`course` AS `q2`
        WHERE `q2`.`course_id` = `s.CourseInstance`.`course_id`
        LIMIT 1
    )) <= 0
    THEN 1 ELSE 0
END, `s.Learner`.`first_name`, `s.Room`.`room_name` AS `RoomName`, `s.Org`.`org_name` AS `OrgName`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE ((`s`.`is_canceled` <> 1) OR `s`.`is_canceled` IS NULL) AND ((`s`.`is_confirm` <> 1) OR `s`.`is_confirm` IS NULL)
2019-07-09 13:52:38.027 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1054.083ms.
2019-07-09 13:52:38.027 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-09 13:52:38.281 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 13:52:38.461 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 13:52:38.648 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Learner`.`first_name`
FROM `ablemusic`.`learner_group_course` AS `w`
LEFT JOIN `ablemusic`.`learner` AS `w.Learner` ON `w`.`learner_id` = `w.Learner`.`learner_id`
WHERE @_outer_GroupCourseInstanceId = `w`.`group_course_instance_id`
2019-07-09 13:52:38.649 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 1676.4921000000002ms
2019-07-09 13:52:38.649 +12:00 [INF] Request finished in 1677.5954ms 200 application/json; charset=utf-8
