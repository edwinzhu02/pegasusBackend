<<<<<<< HEAD
2019-07-03 21:27:21.991 +12:00 [INF] User profile is available. Using 'C:\Users\Learnspace\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-07-03 21:27:39.115 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/login  
2019-07-03 21:27:39.156 +12:00 [INF] Policy execution successful.
2019-07-03 21:27:39.164 +12:00 [INF] Request finished in 51.2294ms 204 
2019-07-03 21:27:39.170 +12:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/login application/json 55
2019-07-03 21:27:39.171 +12:00 [INF] Policy execution successful.
2019-07-03 21:27:39.176 +12:00 [WRN] Failed to determine the https port for redirect.
2019-07-03 21:27:39.442 +12:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Pegasus_backend.Models.UsrAndPass) on controller Pegasus_backend.Controllers.Authorization.LoginController (Pegasus_backend).
2019-07-03 21:27:39.751 +12:00 [INF] Executing action method Pegasus_backend.Controllers.Authorization.LoginController.Login (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:27:41.076 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:27:42.365 +12:00 [INF] Executed DbCommand (69ms) [Parameters=[@__model_UserName_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`user_id`, `s`.`created_at`, `s`.`is_activate`, `s`.`password`, `s`.`role_id`, `s`.`unread_message_id`, `s`.`user_name`, `s.Role`.`role_id`, `s.Role`.`role_name`
FROM `ablemusic`.`user` AS `s`
LEFT JOIN `ablemusic`.`role` AS `s.Role` ON `s`.`role_id` = `s.Role`.`role_id`
WHERE `s`.`user_name` = @__model_UserName_0
ORDER BY `s`.`user_id`
LIMIT 1
2019-07-03 21:27:42.562 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[@__model_UserName_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Learner`.`learner_id`, `s.Learner`.`address`, `s.Learner`.`contact_num`, `s.Learner`.`created_at`, `s.Learner`.`dob`, `s.Learner`.`email`, `s.Learner`.`enroll_date`, `s.Learner`.`first_name`, `s.Learner`.`form_url`, `s.Learner`.`g5_certification`, `s.Learner`.`gender`, `s.Learner`.`is_abrsm_g5`, `s.Learner`.`is_active`, `s.Learner`.`is_under_18`, `s.Learner`.`last_name`, `s.Learner`.`learner_level`, `s.Learner`.`level_type`, `s.Learner`.`middle_name`, `s.Learner`.`note`, `s.Learner`.`org_id`, `s.Learner`.`otherfile_url`, `s.Learner`.`payment_period`, `s.Learner`.`photo`, `s.Learner`.`referrer`, `s.Learner`.`referrer_learner_id`, `s.Learner`.`user_id`
FROM `ablemusic`.`learner` AS `s.Learner`
INNER JOIN (
    SELECT DISTINCT `t`.*
    FROM (
        SELECT `s0`.`user_id`
        FROM `ablemusic`.`user` AS `s0`
        LEFT JOIN `ablemusic`.`role` AS `s.Role0` ON `s0`.`role_id` = `s.Role0`.`role_id`
        WHERE `s0`.`user_name` = @__model_UserName_0
        ORDER BY `s0`.`user_id`
        LIMIT 1
    ) AS `t`
) AS `t0` ON `s.Learner`.`user_id` = `t0`.`user_id`
ORDER BY `t0`.`user_id`
2019-07-03 21:27:42.690 +12:00 [INF] Executed DbCommand (41ms) [Parameters=[@__model_UserName_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Teacher`.`teacher_id`, `s.Teacher`.`ability`, `s.Teacher`.`comment`, `s.Teacher`.`cv_url`, `s.Teacher`.`dob`, `s.Teacher`.`email`, `s.Teacher`.`expiry_date`, `s.Teacher`.`first_name`, `s.Teacher`.`form_url`, `s.Teacher`.`gender`, `s.Teacher`.`home_phone`, `s.Teacher`.`id_number`, `s.Teacher`.`id_photo`, `s.Teacher`.`id_type`, `s.Teacher`.`invoice_template`, `s.Teacher`.`ird_number`, `s.Teacher`.`is_activate`, `s.Teacher`.`is_contract`, `s.Teacher`.`is_left`, `s.Teacher`.`last_name`, `s.Teacher`.`level`, `s.Teacher`.`minimum_hours`, `s.Teacher`.`mobile_phone`, `s.Teacher`.`otherfile_url`, `s.Teacher`.`photo`, `s.Teacher`.`user_id`, `s.Teacher`.`visa`
FROM `ablemusic`.`teacher` AS `s.Teacher`
INNER JOIN (
    SELECT DISTINCT `t1`.*
    FROM (
        SELECT `s1`.`user_id`
        FROM `ablemusic`.`user` AS `s1`
        LEFT JOIN `ablemusic`.`role` AS `s.Role1` ON `s1`.`role_id` = `s.Role1`.`role_id`
        WHERE `s1`.`user_name` = @__model_UserName_0
        ORDER BY `s1`.`user_id`
        LIMIT 1
    ) AS `t1`
) AS `t2` ON `s.Teacher`.`user_id` = `t2`.`user_id`
ORDER BY `t2`.`user_id`
2019-07-03 21:27:42.836 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__model_UserName_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Staff`.`staff_id`, `s.Staff`.`dob`, `s.Staff`.`email`, `s.Staff`.`expiry_date`, `s.Staff`.`first_name`, `s.Staff`.`gender`, `s.Staff`.`home_phone`, `s.Staff`.`id_number`, `s.Staff`.`id_photo`, `s.Staff`.`id_type`, `s.Staff`.`ird_number`, `s.Staff`.`is_activate`, `s.Staff`.`last_name`, `s.Staff`.`mobile_phone`, `s.Staff`.`photo`, `s.Staff`.`user_id`, `s.Staff`.`visa`
FROM `ablemusic`.`staff` AS `s.Staff`
INNER JOIN (
    SELECT DISTINCT `t3`.*
    FROM (
        SELECT `s2`.`user_id`
        FROM `ablemusic`.`user` AS `s2`
        LEFT JOIN `ablemusic`.`role` AS `s.Role2` ON `s2`.`role_id` = `s.Role2`.`role_id`
        WHERE `s2`.`user_name` = @__model_UserName_0
        ORDER BY `s2`.`user_id`
        LIMIT 1
    ) AS `t3`
) AS `t4` ON `s.Staff`.`user_id` = `t4`.`user_id`
ORDER BY `t4`.`user_id`, `s.Staff`.`staff_id`
2019-07-03 21:27:42.943 +12:00 [INF] Executed DbCommand (69ms) [Parameters=[@__model_UserName_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Staff.StaffOrg`.`staff_org_id`, `s.Staff.StaffOrg`.`is_activate`, `s.Staff.StaffOrg`.`org_id`, `s.Staff.StaffOrg`.`staff_id`, `s.Org`.`org_id`, `s.Org`.`abbr`, `s.Org`.`address`, `s.Org`.`email`, `s.Org`.`is_activate`, `s.Org`.`is_headoffice`, `s.Org`.`localtion_x`, `s.Org`.`localtion_y`, `s.Org`.`org_name`, `s.Org`.`phone`
FROM `ablemusic`.`staff_org` AS `s.Staff.StaffOrg`
LEFT JOIN `ablemusic`.`org` AS `s.Org` ON `s.Staff.StaffOrg`.`org_id` = `s.Org`.`org_id`
INNER JOIN (
    SELECT DISTINCT `s.Staff0`.`staff_id`, `t6`.`user_id`
    FROM `ablemusic`.`staff` AS `s.Staff0`
    INNER JOIN (
        SELECT DISTINCT `t5`.*
        FROM (
            SELECT `s3`.`user_id`
            FROM `ablemusic`.`user` AS `s3`
            LEFT JOIN `ablemusic`.`role` AS `s.Role3` ON `s3`.`role_id` = `s.Role3`.`role_id`
            WHERE `s3`.`user_name` = @__model_UserName_0
            ORDER BY `s3`.`user_id`
            LIMIT 1
        ) AS `t5`
    ) AS `t6` ON `s.Staff0`.`user_id` = `t6`.`user_id`
) AS `t7` ON `s.Staff.StaffOrg`.`staff_id` = `t7`.`staff_id`
ORDER BY `t7`.`user_id`, `t7`.`staff_id`
2019-07-03 21:27:43.036 +12:00 [INF] Executed action method Pegasus_backend.Controllers.Authorization.LoginController.Login (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3276.8681ms.
2019-07-03 21:27:43.053 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:27:43.096 +12:00 [INF] Executed action Pegasus_backend.Controllers.Authorization.LoginController.Login (Pegasus_backend) in 3648.9855000000002ms
2019-07-03 21:27:43.098 +12:00 [INF] Request finished in 3927.7809ms 200 application/json; charset=utf-8
2019-07-03 21:27:43.115 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/page  
2019-07-03 21:27:43.116 +12:00 [INF] Policy execution successful.
2019-07-03 21:27:43.127 +12:00 [INF] Route matched with {action = "GetRolePage", controller = "Page"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRolePage() on controller Pegasus_backend.Controllers.PageController (Pegasus_backend).
2019-07-03 21:27:43.129 +12:00 [INF] Executing action method Pegasus_backend.Controllers.PageController.GetRolePage (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:27:43.142 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:27:43.154 +12:00 [WRN] The Include operation for navigation '[s].Page' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 21:27:43.277 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`role_id` AS `RoleId`, `s.Page`.`url`
FROM `ablemusic`.`role_access` AS `s`
LEFT JOIN `ablemusic`.`page` AS `s.Page` ON `s`.`page_id` = `s.Page`.`page_id`
2019-07-03 21:27:43.281 +12:00 [INF] Executed action method Pegasus_backend.Controllers.PageController.GetRolePage (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 151.6685ms.
2019-07-03 21:27:43.281 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:27:43.285 +12:00 [INF] Executed action Pegasus_backend.Controllers.PageController.GetRolePage (Pegasus_backend) in 157.8392ms
2019-07-03 21:27:43.285 +12:00 [INF] Request finished in 170.268ms 200 application/json; charset=utf-8
2019-07-03 21:27:43.328 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Chat/GetStaffChattingList/1  
2019-07-03 21:27:43.329 +12:00 [INF] Policy execution successful.
2019-07-03 21:27:43.331 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/todolist/158  
2019-07-03 21:27:43.331 +12:00 [INF] Policy execution successful.
2019-07-03 21:27:43.332 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/dashboard/5  
2019-07-03 21:27:43.332 +12:00 [INF] Request finished in 1.7533ms 204 
2019-07-03 21:27:43.332 +12:00 [INF] Policy execution successful.
2019-07-03 21:27:43.337 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/dashboard/5  
2019-07-03 21:27:43.338 +12:00 [INF] Policy execution successful.
2019-07-03 21:27:43.341 +12:00 [INF] Route matched with {action = "Get", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.String) on controller Pegasus_backend.Controllers.DashboardController (Pegasus_backend).
2019-07-03 21:27:43.341 +12:00 [INF] Route matched with {action = "GetStaffChattingList", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStaffChattingList(Int32) on controller Pegasus_backend.Controllers.MobileControllers.ChatController (Pegasus_backend).
2019-07-03 21:27:43.343 +12:00 [INF] Executing action method Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:27:43.343 +12:00 [INF] Executing action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetStaffChattingList (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:27:43.349 +12:00 [INF] Route matched with {action = "Get", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.String) on controller Pegasus_backend.Controllers.DashboardController (Pegasus_backend).
2019-07-03 21:27:43.351 +12:00 [INF] Executing action method Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:27:43.358 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:27:43.361 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:27:43.361 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:27:43.389 +12:00 [WRN] The LINQ expression 'where ((([l].BeginTime != null) AndAlso (Convert([l].BeginTime, DateTime).Date == ___today_Date_0)) AndAlso {___orgIds_1 => Contains(Convert([l].OrgId, Int32))})' could not be translated and will be evaluated locally.
2019-07-03 21:27:43.392 +12:00 [WRN] The LINQ expression 'Contains(Convert([l].OrgId, Int32))' could not be translated and will be evaluated locally.
2019-07-03 21:27:43.480 +12:00 [INF] Executed DbCommand (36ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
=======
2019-07-03 11:42:48.872 +12:00 [INF] User profile is available. Using 'C:\Users\lgx95\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-07-03 11:42:49.766 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/values  
2019-07-03 11:42:49.766 +12:00 [INF] Request starting HTTP/1.1 DEBUG http://localhost:5000/  0
2019-07-03 11:42:49.809 +12:00 [INF] Request finished in 41.4301ms 200 
2019-07-03 11:42:49.866 +12:00 [WRN] Failed to determine the https port for redirect.
2019-07-03 11:42:50.361 +12:00 [INF] Route matched with {action = "Get", controller = "Values"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get() on controller Pegasus_backend.Controllers.ValuesController (Pegasus_backend).
2019-07-03 11:42:50.716 +12:00 [INF] Executing action method Pegasus_backend.Controllers.ValuesController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-03 11:42:50.953 +12:00 [ERR] ValuesController LogErrorToFile: System.Exception: Exception of type 'System.Exception' was thrown.
   at Pegasus_backend.Controllers.ValuesController.Get() in C:\angular\pegasusBackend\Controllers\ValuesController.cs:line 26
2019-07-03 11:42:50.954 +12:00 [INF] ValuesController LogInfoToFile: hello
2019-07-03 11:42:50.964 +12:00 [INF] Executed action method Pegasus_backend.Controllers.ValuesController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 231.048ms.
2019-07-03 11:42:50.982 +12:00 [INF] Executing ObjectResult, writing value of type 'System.DateTime'.
2019-07-03 11:42:51.105 +12:00 [INF] Executed action Pegasus_backend.Controllers.ValuesController.Get (Pegasus_backend) in 736.2172ms
2019-07-03 11:42:51.113 +12:00 [INF] Request finished in 1350.579ms 200 application/json; charset=utf-8
2019-07-03 11:42:51.792 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/favicon.ico  
2019-07-03 11:42:51.797 +12:00 [INF] Request finished in 4.9464ms 404 
2019-07-03 11:43:05.171 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Chat/GetChattingList/1 application/json 65
2019-07-03 11:43:05.202 +12:00 [INF] Route matched with {action = "GetChattingList", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChattingList(Int32) on controller Pegasus_backend.Controllers.MobileControllers.ChatController (Pegasus_backend).
2019-07-03 11:43:05.228 +12:00 [INF] Executing action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) - Validation state: "Valid"
2019-07-03 11:43:09.418 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 11:43:10.704 +12:00 [INF] Executed DbCommand (78ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`user_id`, `x`.`created_at`, `x`.`is_activate`, `x`.`password`, `x`.`role_id`, `x`.`unread_message_id`, `x`.`user_name`, `x.Role`.`role_id`, `x.Role`.`role_name`
FROM `ablemusic`.`user` AS `x`
LEFT JOIN `ablemusic`.`role` AS `x.Role` ON `x`.`role_id` = `x.Role`.`role_id`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
2019-07-03 11:43:18.218 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
>>>>>>> 70179401b82cb6ed928ca587a5b8d762b7e7cca6
SELECT `x`.`staff_id`, `x`.`dob`, `x`.`email`, `x`.`expiry_date`, `x`.`first_name`, `x`.`gender`, `x`.`home_phone`, `x`.`id_number`, `x`.`id_photo`, `x`.`id_type`, `x`.`ird_number`, `x`.`is_activate`, `x`.`last_name`, `x`.`mobile_phone`, `x`.`photo`, `x`.`user_id`, `x`.`visa`
FROM `ablemusic`.`staff` AS `x`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
<<<<<<< HEAD
2019-07-03 21:27:43.537 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/staff/Photos/123190610032313190.jpg  
2019-07-03 21:27:43.540 +12:00 [INF] Request finished in 3.223ms 404 
2019-07-03 21:27:43.576 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/todolist/158  
2019-07-03 21:27:43.576 +12:00 [INF] Policy execution successful.
2019-07-03 21:27:43.593 +12:00 [INF] Successfully validated the token.
2019-07-03 21:27:43.603 +12:00 [INF] Route matched with {action = "Get", controller = "TodoList"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int16) on controller Pegasus_backend.Controllers.TodoListController (Pegasus_backend).
2019-07-03 21:27:43.604 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TodoListController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:27:43.607 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:27:43.619 +12:00 [WRN] The LINQ expression 'where ([t].TodoDate == Convert(value(Pegasus_backend.Controllers.TodoListController).toNZTimezone(DateTime.UtcNow).Date, Nullable`1))' could not be translated and will be evaluated locally.
2019-07-03 21:27:43.645 +12:00 [INF] Executed DbCommand (35ms) [Parameters=[@__staffDetial_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`org_id`
FROM `ablemusic`.`staff_org` AS `x`
WHERE `x`.`staff_id` = @__staffDetial_StaffId_0
LIMIT 1
2019-07-03 21:27:43.658 +12:00 [WRN] Query: '(from Staff x in DbSet<Staff> where (Nullable<int>)[x].UserId != (Nullable<int>)__id_0 select [x]).T...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 21:27:43.786 +12:00 [INF] Executed DbCommand (47ms) [Parameters=[@__id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`staff_id`, `x`.`dob`, `x`.`email`, `x`.`expiry_date`, `x`.`first_name`, `x`.`gender`, `x`.`home_phone`, `x`.`id_number`, `x`.`id_photo`, `x`.`id_type`, `x`.`ird_number`, `x`.`is_activate`, `x`.`last_name`, `x`.`mobile_phone`, `x`.`photo`, `x`.`user_id`, `x`.`visa`
FROM `ablemusic`.`staff` AS `x`
WHERE (`x`.`user_id` <> @__id_0) OR `x`.`user_id` IS NULL
LIMIT @__p_1
2019-07-03 21:27:43.797 +12:00 [WRN] Query: '(from Teacher x in DbSet<Teacher> select new Teacher{ { 
    TeacherId = [x].TeacherId, , 
    Fir...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 21:27:43.908 +12:00 [INF] Executed DbCommand (36ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`teacher_id` AS `TeacherId`, `x`.`first_name` AS `FirstName`, `x`.`last_name` AS `LastName`, `x`.`email`
FROM `ablemusic`.`teacher` AS `x`
LIMIT @__p_0
2019-07-03 21:27:43.914 +12:00 [WRN] Query: '(from Lesson x in DbSet<Lesson> where (Nullable<int>)(int)[x].OrgId == (Nullable<int>)__orgIdOfStaff...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 21:27:43.915 +12:00 [WRN] The Include operation for navigation '[x].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 21:27:44.006 +12:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:27:44.069 +12:00 [INF] Executed DbCommand (46ms) [Parameters=[@__orgIdOfStaff_0='?' (DbType = Int16), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x.Learner`.`learner_id`, `x.Learner`.`address`, `x.Learner`.`contact_num`, `x.Learner`.`created_at`, `x.Learner`.`dob`, `x.Learner`.`email`, `x.Learner`.`enroll_date`, `x.Learner`.`first_name`, `x.Learner`.`form_url`, `x.Learner`.`g5_certification`, `x.Learner`.`gender`, `x.Learner`.`is_abrsm_g5`, `x.Learner`.`is_active`, `x.Learner`.`is_under_18`, `x.Learner`.`last_name`, `x.Learner`.`learner_level`, `x.Learner`.`level_type`, `x.Learner`.`middle_name`, `x.Learner`.`note`, `x.Learner`.`org_id`, `x.Learner`.`otherfile_url`, `x.Learner`.`payment_period`, `x.Learner`.`photo`, `x.Learner`.`referrer`, `x.Learner`.`referrer_learner_id`, `x.Learner`.`user_id`, `x`.`lesson_id` AS `LessonId`, `x`.`learner_id` AS `LearnerId`
FROM `ablemusic`.`lesson` AS `x`
LEFT JOIN `ablemusic`.`learner` AS `x.Learner` ON `x`.`learner_id` = `x.Learner`.`learner_id`
WHERE `x`.`org_id` = @__orgIdOfStaff_0
LIMIT @__p_1
2019-07-03 21:27:44.070 +12:00 [WRN] The LINQ expression 'where (((([l].BeginTime != null) AndAlso (Convert([l].BeginTime, DateTime).Date == ___today_Date_0)) AndAlso (Convert([l].IsTrial, Nullable`1) == 1)) AndAlso {___orgIds_1 => Contains(Convert([l].OrgId, Int32))})' could not be translated and will be evaluated locally.
2019-07-03 21:27:44.070 +12:00 [WRN] The LINQ expression 'Contains(Convert([l].OrgId, Int32))' could not be translated and will be evaluated locally.
2019-07-03 21:27:44.107 +12:00 [INF] Executed DbCommand (48ms) [Parameters=[@__userId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`list_id`, `t`.`created_at`, `t`.`learner_id`, `t`.`lesson_id`, `t`.`list_content`, `t`.`list_name`, `t`.`process_flag`, `t`.`processed_at`, `t`.`teacher_id`, `t`.`todo_date`, `t`.`user_id`
FROM `ablemusic`.`todo_list` AS `t`
WHERE `t`.`user_id` = @__userId_0
2019-07-03 21:27:44.115 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TodoListController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 510.4578ms.
2019-07-03 21:27:44.115 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.TodoList, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:27:44.120 +12:00 [INF] Executed action Pegasus_backend.Controllers.TodoListController.Get (Pegasus_backend) in 516.8458ms
2019-07-03 21:27:44.121 +12:00 [INF] Request finished in 544.7113ms 200 application/json; charset=utf-8
2019-07-03 21:27:44.139 +12:00 [WRN] Query: '(from Learner x in DbSet<Learner> where (Nullable<int>)[x].OrgId == (Nullable<int>)__orgIdOfStaff_0 ...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 21:27:44.172 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:27:44.236 +12:00 [WRN] The LINQ expression 'where (([l].EnrollDate != null) AndAlso (___today_Date_0 == Convert([l].EnrollDate, DateTime).Date))' could not be translated and will be evaluated locally.
2019-07-03 21:27:44.237 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:27:44.279 +12:00 [INF] Executed DbCommand (46ms) [Parameters=[@__orgIdOfStaff_0='?' (DbType = Int16), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_id`, `x`.`address`, `x`.`contact_num`, `x`.`created_at`, `x`.`dob`, `x`.`email`, `x`.`enroll_date`, `x`.`first_name`, `x`.`form_url`, `x`.`g5_certification`, `x`.`gender`, `x`.`is_abrsm_g5`, `x`.`is_active`, `x`.`is_under_18`, `x`.`last_name`, `x`.`learner_level`, `x`.`level_type`, `x`.`middle_name`, `x`.`note`, `x`.`org_id`, `x`.`otherfile_url`, `x`.`payment_period`, `x`.`photo`, `x`.`referrer`, `x`.`referrer_learner_id`, `x`.`user_id`
FROM `ablemusic`.`learner` AS `x`
WHERE `x`.`org_id` = @__orgIdOfStaff_0
LIMIT @__p_1
2019-07-03 21:27:44.280 +12:00 [INF] Executed action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetStaffChattingList (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 936.9011ms.
2019-07-03 21:27:44.281 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Tuple`4[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Staff, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Teacher, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lesson, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Learner, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:27:44.367 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`org_id` IN (5)
2019-07-03 21:27:44.396 +12:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:27:44.423 +12:00 [INF] Executed action Pegasus_backend.Controllers.MobileControllers.ChatController.GetStaffChattingList (Pegasus_backend) in 1081.5983ms
2019-07-03 21:27:44.423 +12:00 [INF] Request finished in 1094.8533ms 200 application/json; charset=utf-8
2019-07-03 21:27:44.550 +12:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`org_id` IN (5)
2019-07-03 21:27:44.560 +12:00 [INF] Executed DbCommand (65ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`waiting_id`, `w`.`begin_date`, `w`.`concert_fee`, `w`.`concert_fee_name`, `w`.`course_instance_id`, `w`.`course_name`, `w`.`created_at`, `w`.`due_date`, `w`.`end_date`, `w`.`group_course_instance_id`, `w`.`invoice_num`, `w`.`is_activate`, `w`.`is_confirmed`, `w`.`is_email_sent`, `w`.`is_paid`, `w`.`learner_id`, `w`.`learner_name`, `w`.`lesson_fee`, `w`.`lesson_note_fee_name`, `w`.`lesson_quantity`, `w`.`note_fee`, `w`.`other1_fee`, `w`.`other1_fee_name`, `w`.`other2_fee`, `w`.`other2_fee_name`, `w`.`other3_fee`, `w`.`other3_fee_name`, `w`.`owing_fee`, `w`.`paid_fee`, `w`.`term_id`, `w`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `w`
INNER JOIN `ablemusic`.`learner` AS `l` ON `w`.`learner_id` = `l`.`learner_id`
WHERE `l`.`org_id` IN (5) AND (`w`.`is_confirmed` = 0)
2019-07-03 21:27:44.660 +12:00 [WRN] The LINQ expression 'where (Convert([l].BeginTime, DateTime).Date == ___today_Date_1)' could not be translated and will be evaluated locally.
2019-07-03 21:27:44.700 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`waiting_id`, `w`.`begin_date`, `w`.`concert_fee`, `w`.`concert_fee_name`, `w`.`course_instance_id`, `w`.`course_name`, `w`.`created_at`, `w`.`due_date`, `w`.`end_date`, `w`.`group_course_instance_id`, `w`.`invoice_num`, `w`.`is_activate`, `w`.`is_confirmed`, `w`.`is_email_sent`, `w`.`is_paid`, `w`.`learner_id`, `w`.`learner_name`, `w`.`lesson_fee`, `w`.`lesson_note_fee_name`, `w`.`lesson_quantity`, `w`.`note_fee`, `w`.`other1_fee`, `w`.`other1_fee_name`, `w`.`other2_fee`, `w`.`other2_fee_name`, `w`.`other3_fee`, `w`.`other3_fee_name`, `w`.`owing_fee`, `w`.`paid_fee`, `w`.`term_id`, `w`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `w`
INNER JOIN `ablemusic`.`learner` AS `l` ON `w`.`learner_id` = `l`.`learner_id`
WHERE `l`.`org_id` IN (5) AND (`w`.`is_confirmed` = 0)
2019-07-03 21:27:44.765 +12:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`begin_time` IS NOT NULL AND (`l`.`is_canceled` = 1)) AND `l`.`org_id` IN (5)
2019-07-03 21:27:44.774 +12:00 [WRN] The LINQ expression 'where (Convert([l].BeginTime, DateTime).Date == ___today_Date_1)' could not be translated and will be evaluated locally.
2019-07-03 21:27:44.872 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`begin_time` IS NOT NULL AND (`l`.`is_canceled` = 1)) AND `l`.`org_id` IN (5)
2019-07-03 21:27:44.873 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE ((`l`.`begin_time` IS NOT NULL AND `l`.`org_id` IN (5)) AND ((`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL)) AND (`l`.`is_changed` = 1)
2019-07-03 21:27:44.885 +12:00 [WRN] The LINQ expression 'where ((([a].EndDate != null) AndAlso (Convert([a].AmendType, Nullable`1) == 1)) AndAlso (___today_Date_0 == Convert([a].EndDate, DateTime).Date))' could not be translated and will be evaluated locally.
2019-07-03 21:27:44.970 +12:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE ((`l`.`begin_time` IS NOT NULL AND `l`.`org_id` IN (5)) AND ((`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL)) AND (`l`.`is_changed` = 1)
2019-07-03 21:27:44.994 +12:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`amendment_id`, `a`.`amend_type`, `a`.`begin_date`, `a`.`begin_time`, `a`.`course_instance_id`, `a`.`course_schedule_id`, `a`.`created_at`, `a`.`day_of_week`, `a`.`end_date`, `a`.`end_time`, `a`.`is_temporary`, `a`.`learner_id`, `a`.`org_id`, `a`.`reason`, `a`.`room_id`, `a`.`teacher_id`
FROM `ablemusic`.`amendment` AS `a`
WHERE `a`.`org_id` IN (5)
2019-07-03 21:27:45.019 +12:00 [WRN] The LINQ expression 'where ((([a].EndDate != null) AndAlso (Convert([a].AmendType, Nullable`1) == 2)) AndAlso (___today_Date_0 == Convert([a].EndDate, DateTime).Date))' could not be translated and will be evaluated locally.
2019-07-03 21:27:45.068 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`amendment_id`, `a`.`amend_type`, `a`.`begin_date`, `a`.`begin_time`, `a`.`course_instance_id`, `a`.`course_schedule_id`, `a`.`created_at`, `a`.`day_of_week`, `a`.`end_date`, `a`.`end_time`, `a`.`is_temporary`, `a`.`learner_id`, `a`.`org_id`, `a`.`reason`, `a`.`room_id`, `a`.`teacher_id`
FROM `ablemusic`.`amendment` AS `a`
WHERE `a`.`org_id` IN (5)
2019-07-03 21:27:45.116 +12:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`amendment_id`, `a`.`amend_type`, `a`.`begin_date`, `a`.`begin_time`, `a`.`course_instance_id`, `a`.`course_schedule_id`, `a`.`created_at`, `a`.`day_of_week`, `a`.`end_date`, `a`.`end_time`, `a`.`is_temporary`, `a`.`learner_id`, `a`.`org_id`, `a`.`reason`, `a`.`room_id`, `a`.`teacher_id`
FROM `ablemusic`.`amendment` AS `a`
WHERE `a`.`org_id` IN (5)
2019-07-03 21:27:45.164 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`amendment_id`, `a`.`amend_type`, `a`.`begin_date`, `a`.`begin_time`, `a`.`course_instance_id`, `a`.`course_schedule_id`, `a`.`created_at`, `a`.`day_of_week`, `a`.`end_date`, `a`.`end_time`, `a`.`is_temporary`, `a`.`learner_id`, `a`.`org_id`, `a`.`reason`, `a`.`room_id`, `a`.`teacher_id`
FROM `ablemusic`.`amendment` AS `a`
WHERE `a`.`org_id` IN (5)
2019-07-03 21:27:45.218 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:27:45.260 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:27:45.292 +12:00 [WRN] The LINQ expression 'where (Convert([l].BeginTime, DateTime).Date >= ___today_Date_1)' could not be translated and will be evaluated locally.
2019-07-03 21:27:45.414 +12:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE False = True
2019-07-03 21:27:45.424 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE False = True
2019-07-03 21:27:45.520 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:27:45.532 +12:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:27:45.705 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE False = True
2019-07-03 21:27:45.725 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE False = True
2019-07-03 21:27:45.801 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:27:45.823 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:27:45.988 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE False = True
2019-07-03 21:27:45.997 +12:00 [WRN] The LINQ expression 'where ((((([l].BeginTime != null) AndAlso (Convert([l].IsCanceled, Nullable`1) != 1)) AndAlso {___orgIds_0 => Contains(Convert([l].OrgId, Int32))}) AndAlso (Convert([l].BeginTime, DateTime).Date >= __beginDate_Date_1)) AndAlso (Convert([l].BeginTime, DateTime).Date <= __endDate_Date_2))' could not be translated and will be evaluated locally.
2019-07-03 21:27:45.997 +12:00 [WRN] The LINQ expression 'Contains(Convert([l].OrgId, Int32))' could not be translated and will be evaluated locally.
2019-07-03 21:27:46.004 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE False = True
2019-07-03 21:27:46.100 +12:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
2019-07-03 21:27:46.105 +12:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
2019-07-03 21:27:46.358 +12:00 [WRN] The LINQ expression 'where ((([l].EnrollDate != null) AndAlso (Convert([l].EnrollDate, DateTime).Date >= __beginTime_Date_0)) AndAlso (Convert([l].EnrollDate, DateTime).Date <= ___today_Date_1))' could not be translated and will be evaluated locally.
2019-07-03 21:27:46.481 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`org_id` IN (5)
2019-07-03 21:27:46.508 +12:00 [INF] Executed action method Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3155.8169000000003ms.
2019-07-03 21:27:46.508 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:27:46.521 +12:00 [INF] Executed action Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend) in 3171.0758ms
2019-07-03 21:27:46.521 +12:00 [INF] Request finished in 3184.3116ms 200 application/json; charset=utf-8
2019-07-03 21:27:46.794 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`org_id` IN (5)
2019-07-03 21:27:46.834 +12:00 [INF] Executed action method Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3490.3572000000004ms.
2019-07-03 21:27:46.834 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:27:46.834 +12:00 [INF] Executed action Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend) in 3493.328ms
2019-07-03 21:27:46.835 +12:00 [INF] Request finished in 3502.8518ms 200 application/json; charset=utf-8
2019-07-03 21:28:02.612 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/login  
2019-07-03 21:28:02.612 +12:00 [INF] Policy execution successful.
2019-07-03 21:28:02.612 +12:00 [INF] Request finished in 0.3814ms 204 
2019-07-03 21:28:02.626 +12:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/login application/json 55
2019-07-03 21:28:02.626 +12:00 [INF] Policy execution successful.
2019-07-03 21:28:02.627 +12:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Pegasus_backend.Models.UsrAndPass) on controller Pegasus_backend.Controllers.Authorization.LoginController (Pegasus_backend).
2019-07-03 21:28:02.628 +12:00 [INF] Executing action method Pegasus_backend.Controllers.Authorization.LoginController.Login (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:28:02.628 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:28:02.733 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__model_UserName_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`user_id`, `s`.`created_at`, `s`.`is_activate`, `s`.`password`, `s`.`role_id`, `s`.`unread_message_id`, `s`.`user_name`, `s.Role`.`role_id`, `s.Role`.`role_name`
FROM `ablemusic`.`user` AS `s`
LEFT JOIN `ablemusic`.`role` AS `s.Role` ON `s`.`role_id` = `s.Role`.`role_id`
WHERE `s`.`user_name` = @__model_UserName_0
ORDER BY `s`.`user_id`
LIMIT 1
2019-07-03 21:28:02.785 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__model_UserName_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Learner`.`learner_id`, `s.Learner`.`address`, `s.Learner`.`contact_num`, `s.Learner`.`created_at`, `s.Learner`.`dob`, `s.Learner`.`email`, `s.Learner`.`enroll_date`, `s.Learner`.`first_name`, `s.Learner`.`form_url`, `s.Learner`.`g5_certification`, `s.Learner`.`gender`, `s.Learner`.`is_abrsm_g5`, `s.Learner`.`is_active`, `s.Learner`.`is_under_18`, `s.Learner`.`last_name`, `s.Learner`.`learner_level`, `s.Learner`.`level_type`, `s.Learner`.`middle_name`, `s.Learner`.`note`, `s.Learner`.`org_id`, `s.Learner`.`otherfile_url`, `s.Learner`.`payment_period`, `s.Learner`.`photo`, `s.Learner`.`referrer`, `s.Learner`.`referrer_learner_id`, `s.Learner`.`user_id`
FROM `ablemusic`.`learner` AS `s.Learner`
INNER JOIN (
    SELECT DISTINCT `t`.*
    FROM (
        SELECT `s0`.`user_id`
        FROM `ablemusic`.`user` AS `s0`
        LEFT JOIN `ablemusic`.`role` AS `s.Role0` ON `s0`.`role_id` = `s.Role0`.`role_id`
        WHERE `s0`.`user_name` = @__model_UserName_0
        ORDER BY `s0`.`user_id`
        LIMIT 1
    ) AS `t`
) AS `t0` ON `s.Learner`.`user_id` = `t0`.`user_id`
ORDER BY `t0`.`user_id`
2019-07-03 21:28:02.900 +12:00 [INF] Executed DbCommand (41ms) [Parameters=[@__model_UserName_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Teacher`.`teacher_id`, `s.Teacher`.`ability`, `s.Teacher`.`comment`, `s.Teacher`.`cv_url`, `s.Teacher`.`dob`, `s.Teacher`.`email`, `s.Teacher`.`expiry_date`, `s.Teacher`.`first_name`, `s.Teacher`.`form_url`, `s.Teacher`.`gender`, `s.Teacher`.`home_phone`, `s.Teacher`.`id_number`, `s.Teacher`.`id_photo`, `s.Teacher`.`id_type`, `s.Teacher`.`invoice_template`, `s.Teacher`.`ird_number`, `s.Teacher`.`is_activate`, `s.Teacher`.`is_contract`, `s.Teacher`.`is_left`, `s.Teacher`.`last_name`, `s.Teacher`.`level`, `s.Teacher`.`minimum_hours`, `s.Teacher`.`mobile_phone`, `s.Teacher`.`otherfile_url`, `s.Teacher`.`photo`, `s.Teacher`.`user_id`, `s.Teacher`.`visa`
FROM `ablemusic`.`teacher` AS `s.Teacher`
INNER JOIN (
    SELECT DISTINCT `t1`.*
    FROM (
        SELECT `s1`.`user_id`
        FROM `ablemusic`.`user` AS `s1`
        LEFT JOIN `ablemusic`.`role` AS `s.Role1` ON `s1`.`role_id` = `s.Role1`.`role_id`
        WHERE `s1`.`user_name` = @__model_UserName_0
        ORDER BY `s1`.`user_id`
        LIMIT 1
    ) AS `t1`
) AS `t2` ON `s.Teacher`.`user_id` = `t2`.`user_id`
ORDER BY `t2`.`user_id`
2019-07-03 21:28:02.997 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__model_UserName_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Staff`.`staff_id`, `s.Staff`.`dob`, `s.Staff`.`email`, `s.Staff`.`expiry_date`, `s.Staff`.`first_name`, `s.Staff`.`gender`, `s.Staff`.`home_phone`, `s.Staff`.`id_number`, `s.Staff`.`id_photo`, `s.Staff`.`id_type`, `s.Staff`.`ird_number`, `s.Staff`.`is_activate`, `s.Staff`.`last_name`, `s.Staff`.`mobile_phone`, `s.Staff`.`photo`, `s.Staff`.`user_id`, `s.Staff`.`visa`
FROM `ablemusic`.`staff` AS `s.Staff`
INNER JOIN (
    SELECT DISTINCT `t3`.*
    FROM (
        SELECT `s2`.`user_id`
        FROM `ablemusic`.`user` AS `s2`
        LEFT JOIN `ablemusic`.`role` AS `s.Role2` ON `s2`.`role_id` = `s.Role2`.`role_id`
        WHERE `s2`.`user_name` = @__model_UserName_0
        ORDER BY `s2`.`user_id`
        LIMIT 1
    ) AS `t3`
) AS `t4` ON `s.Staff`.`user_id` = `t4`.`user_id`
ORDER BY `t4`.`user_id`, `s.Staff`.`staff_id`
2019-07-03 21:28:03.029 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__model_UserName_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Staff.StaffOrg`.`staff_org_id`, `s.Staff.StaffOrg`.`is_activate`, `s.Staff.StaffOrg`.`org_id`, `s.Staff.StaffOrg`.`staff_id`, `s.Org`.`org_id`, `s.Org`.`abbr`, `s.Org`.`address`, `s.Org`.`email`, `s.Org`.`is_activate`, `s.Org`.`is_headoffice`, `s.Org`.`localtion_x`, `s.Org`.`localtion_y`, `s.Org`.`org_name`, `s.Org`.`phone`
FROM `ablemusic`.`staff_org` AS `s.Staff.StaffOrg`
LEFT JOIN `ablemusic`.`org` AS `s.Org` ON `s.Staff.StaffOrg`.`org_id` = `s.Org`.`org_id`
INNER JOIN (
    SELECT DISTINCT `s.Staff0`.`staff_id`, `t6`.`user_id`
    FROM `ablemusic`.`staff` AS `s.Staff0`
    INNER JOIN (
        SELECT DISTINCT `t5`.*
        FROM (
            SELECT `s3`.`user_id`
            FROM `ablemusic`.`user` AS `s3`
            LEFT JOIN `ablemusic`.`role` AS `s.Role3` ON `s3`.`role_id` = `s.Role3`.`role_id`
            WHERE `s3`.`user_name` = @__model_UserName_0
            ORDER BY `s3`.`user_id`
            LIMIT 1
        ) AS `t5`
    ) AS `t6` ON `s.Staff0`.`user_id` = `t6`.`user_id`
) AS `t7` ON `s.Staff.StaffOrg`.`staff_id` = `t7`.`staff_id`
ORDER BY `t7`.`user_id`, `t7`.`staff_id`
2019-07-03 21:28:03.031 +12:00 [INF] Executed action method Pegasus_backend.Controllers.Authorization.LoginController.Login (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 402.79510000000005ms.
2019-07-03 21:28:03.031 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:28:03.032 +12:00 [INF] Executed action Pegasus_backend.Controllers.Authorization.LoginController.Login (Pegasus_backend) in 404.9379ms
2019-07-03 21:28:03.032 +12:00 [INF] Request finished in 405.939ms 200 application/json; charset=utf-8
2019-07-03 21:28:03.043 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/page  
2019-07-03 21:28:03.044 +12:00 [INF] Policy execution successful.
2019-07-03 21:28:03.044 +12:00 [INF] Route matched with {action = "GetRolePage", controller = "Page"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRolePage() on controller Pegasus_backend.Controllers.PageController (Pegasus_backend).
2019-07-03 21:28:03.045 +12:00 [INF] Executing action method Pegasus_backend.Controllers.PageController.GetRolePage (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:28:03.047 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:28:03.143 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`role_id` AS `RoleId`, `s.Page`.`url`
FROM `ablemusic`.`role_access` AS `s`
LEFT JOIN `ablemusic`.`page` AS `s.Page` ON `s`.`page_id` = `s.Page`.`page_id`
2019-07-03 21:28:03.143 +12:00 [INF] Executed action method Pegasus_backend.Controllers.PageController.GetRolePage (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 97.92710000000001ms.
2019-07-03 21:28:03.144 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:28:03.144 +12:00 [INF] Executed action Pegasus_backend.Controllers.PageController.GetRolePage (Pegasus_backend) in 99.226700000000008ms
2019-07-03 21:28:03.144 +12:00 [INF] Request finished in 100.7457ms 200 application/json; charset=utf-8
2019-07-03 21:28:03.178 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Chat/GetStaffChattingList/1  
2019-07-03 21:28:03.178 +12:00 [INF] Policy execution successful.
2019-07-03 21:28:03.179 +12:00 [INF] Route matched with {action = "GetStaffChattingList", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStaffChattingList(Int32) on controller Pegasus_backend.Controllers.MobileControllers.ChatController (Pegasus_backend).
2019-07-03 21:28:03.179 +12:00 [INF] Executing action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetStaffChattingList (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:28:03.180 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/todolist/158  
2019-07-03 21:28:03.180 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:28:03.180 +12:00 [INF] Policy execution successful.
2019-07-03 21:28:03.180 +12:00 [INF] Request finished in 0.3604ms 204 
2019-07-03 21:28:03.182 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/dashboard/5  
2019-07-03 21:28:03.182 +12:00 [INF] Policy execution successful.
2019-07-03 21:28:03.182 +12:00 [INF] Route matched with {action = "Get", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.String) on controller Pegasus_backend.Controllers.DashboardController (Pegasus_backend).
2019-07-03 21:28:03.182 +12:00 [INF] Executing action method Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:28:03.183 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:28:03.183 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/dashboard/5  
2019-07-03 21:28:03.183 +12:00 [INF] Policy execution successful.
2019-07-03 21:28:03.183 +12:00 [INF] Route matched with {action = "Get", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.String) on controller Pegasus_backend.Controllers.DashboardController (Pegasus_backend).
2019-07-03 21:28:03.184 +12:00 [INF] Executing action method Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:28:03.184 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:28:03.239 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/staff/Photos/123190610032313190.jpg  
2019-07-03 21:28:03.240 +12:00 [INF] Request finished in 0.7385ms 404 
2019-07-03 21:28:03.276 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
=======
2019-07-03 11:43:27.985 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__staffId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`org_id`
FROM `ablemusic`.`staff_org` AS `x`
WHERE `x`.`staff_id` = @__staffId_0
LIMIT 1
2019-07-03 11:43:28.004 +12:00 [WRN] Query: '(from Lesson x in DbSet<Lesson> where (Nullable<int>)(int)[x].OrgId == (Nullable<int>)__orgIdOfStaff...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 11:43:28.007 +12:00 [WRN] The Include operation for navigation '[x].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 11:43:28.246 +12:00 [INF] Executed DbCommand (88ms) [Parameters=[@__orgIdOfStaff_0='?' (DbType = Int16), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT `t`.*
FROM (
    SELECT `x.Learner`.`learner_id`, `x.Learner`.`address`, `x.Learner`.`contact_num`, `x.Learner`.`created_at`, `x.Learner`.`dob`, `x.Learner`.`email`, `x.Learner`.`enroll_date`, `x.Learner`.`first_name`, `x.Learner`.`form_url`, `x.Learner`.`g5_certification`, `x.Learner`.`gender`, `x.Learner`.`is_abrsm_g5`, `x.Learner`.`is_active`, `x.Learner`.`is_under_18`, `x.Learner`.`last_name`, `x.Learner`.`learner_level`, `x.Learner`.`level_type`, `x.Learner`.`middle_name`, `x.Learner`.`note`, `x.Learner`.`org_id`, `x.Learner`.`otherfile_url`, `x.Learner`.`payment_period`, `x.Learner`.`photo`, `x.Learner`.`referrer`, `x.Learner`.`referrer_learner_id`, `x.Learner`.`user_id`
    FROM `ablemusic`.`lesson` AS `x`
    LEFT JOIN `ablemusic`.`learner` AS `x.Learner` ON `x`.`learner_id` = `x.Learner`.`learner_id`
    WHERE `x`.`org_id` = @__orgIdOfStaff_0
    LIMIT @__p_1
) AS `t`
2019-07-03 11:43:28.319 +12:00 [WRN] Query: '(from Learner x in DbSet<Learner> where (Nullable<int>)[x].OrgId == (Nullable<int>)__orgIdOfStaff_0 ...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 11:43:28.508 +12:00 [INF] Executed DbCommand (78ms) [Parameters=[@__orgIdOfStaff_0='?' (DbType = Int16), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_id`, `x`.`address`, `x`.`contact_num`, `x`.`created_at`, `x`.`dob`, `x`.`email`, `x`.`enroll_date`, `x`.`first_name`, `x`.`form_url`, `x`.`g5_certification`, `x`.`gender`, `x`.`is_abrsm_g5`, `x`.`is_active`, `x`.`is_under_18`, `x`.`last_name`, `x`.`learner_level`, `x`.`level_type`, `x`.`middle_name`, `x`.`note`, `x`.`org_id`, `x`.`otherfile_url`, `x`.`payment_period`, `x`.`photo`, `x`.`referrer`, `x`.`referrer_learner_id`, `x`.`user_id`
FROM `ablemusic`.`learner` AS `x`
WHERE `x`.`org_id` = @__orgIdOfStaff_0
LIMIT @__p_1
2019-07-03 11:43:28.513 +12:00 [WRN] Query: '(from Staff x in DbSet<Staff> where (Nullable<int>)(int)[x].StaffId != __staffId_0 select [x]).Take(...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 11:43:28.791 +12:00 [INF] Executed DbCommand (105ms) [Parameters=[@__staffId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`staff_id`, `x`.`dob`, `x`.`email`, `x`.`expiry_date`, `x`.`first_name`, `x`.`gender`, `x`.`home_phone`, `x`.`id_number`, `x`.`id_photo`, `x`.`id_type`, `x`.`ird_number`, `x`.`is_activate`, `x`.`last_name`, `x`.`mobile_phone`, `x`.`photo`, `x`.`user_id`, `x`.`visa`
FROM `ablemusic`.`staff` AS `x`
WHERE `x`.`staff_id` <> @__staffId_0
LIMIT @__p_1
2019-07-03 11:43:28.802 +12:00 [WRN] Query: '(from Teacher x in DbSet<Teacher> select new Teacher{ { 
    TeacherId = [x].TeacherId, , 
    Fir...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 11:43:28.976 +12:00 [INF] Executed DbCommand (64ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`teacher_id` AS `TeacherId`, `x`.`first_name` AS `FirstName`, `x`.`last_name` AS `LastName`, `x`.`email`
FROM `ablemusic`.`teacher` AS `x`
LIMIT @__p_0
2019-07-03 11:43:55.227 +12:00 [INF] Executed action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkResult in 49998.402ms.
2019-07-03 11:43:55.231 +12:00 [INF] Executing HttpStatusCodeResult, setting HTTP status code 200
2019-07-03 11:43:55.231 +12:00 [INF] Executed action Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) in 50029.2365ms
2019-07-03 11:43:55.232 +12:00 [INF] Request finished in 50061.3554ms 200 
2019-07-03 11:43:55.246 +12:00 [INF] Connection id "0HLNV8RV2AE6E", Request id "0HLNV8RV2AE6E:00000002": the application completed without reading the entire request body.
2019-07-03 11:45:23.177 +12:00 [INF] User profile is available. Using 'C:\Users\lgx95\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-07-03 11:45:24.036 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/values  
2019-07-03 11:45:24.036 +12:00 [INF] Request starting HTTP/1.1 DEBUG http://localhost:5000/  0
2019-07-03 11:45:24.070 +12:00 [INF] Request finished in 36.0292ms 200 
2019-07-03 11:45:24.111 +12:00 [WRN] Failed to determine the https port for redirect.
2019-07-03 11:45:24.325 +12:00 [INF] Route matched with {action = "Get", controller = "Values"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get() on controller Pegasus_backend.Controllers.ValuesController (Pegasus_backend).
2019-07-03 11:45:24.486 +12:00 [INF] Executing action method Pegasus_backend.Controllers.ValuesController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-03 11:45:24.611 +12:00 [ERR] ValuesController LogErrorToFile: System.Exception: Exception of type 'System.Exception' was thrown.
   at Pegasus_backend.Controllers.ValuesController.Get() in C:\angular\pegasusBackend\Controllers\ValuesController.cs:line 26
2019-07-03 11:45:24.611 +12:00 [INF] ValuesController LogInfoToFile: hello
2019-07-03 11:45:24.616 +12:00 [INF] Executed action method Pegasus_backend.Controllers.ValuesController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 117.76660000000001ms.
2019-07-03 11:45:24.627 +12:00 [INF] Executing ObjectResult, writing value of type 'System.DateTime'.
2019-07-03 11:45:24.694 +12:00 [INF] Executed action Pegasus_backend.Controllers.ValuesController.Get (Pegasus_backend) in 365.35920000000004ms
2019-07-03 11:45:24.699 +12:00 [INF] Request finished in 666.9507ms 200 application/json; charset=utf-8
2019-07-03 11:45:26.911 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Chat/GetChattingList/1 application/json 65
2019-07-03 11:45:26.943 +12:00 [INF] Route matched with {action = "GetChattingList", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChattingList(Int32) on controller Pegasus_backend.Controllers.MobileControllers.ChatController (Pegasus_backend).
2019-07-03 11:45:26.959 +12:00 [INF] Executing action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) - Validation state: "Valid"
2019-07-03 11:45:31.843 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 11:45:32.996 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`user_id`, `x`.`created_at`, `x`.`is_activate`, `x`.`password`, `x`.`role_id`, `x`.`unread_message_id`, `x`.`user_name`, `x.Role`.`role_id`, `x.Role`.`role_name`
FROM `ablemusic`.`user` AS `x`
LEFT JOIN `ablemusic`.`role` AS `x.Role` ON `x`.`role_id` = `x.Role`.`role_id`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
2019-07-03 11:45:33.322 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
>>>>>>> 70179401b82cb6ed928ca587a5b8d762b7e7cca6
SELECT `x`.`staff_id`, `x`.`dob`, `x`.`email`, `x`.`expiry_date`, `x`.`first_name`, `x`.`gender`, `x`.`home_phone`, `x`.`id_number`, `x`.`id_photo`, `x`.`id_type`, `x`.`ird_number`, `x`.`is_activate`, `x`.`last_name`, `x`.`mobile_phone`, `x`.`photo`, `x`.`user_id`, `x`.`visa`
FROM `ablemusic`.`staff` AS `x`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
<<<<<<< HEAD
2019-07-03 21:28:03.280 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:28:03.282 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/todolist/158  
2019-07-03 21:28:03.283 +12:00 [INF] Policy execution successful.
2019-07-03 21:28:03.283 +12:00 [INF] Successfully validated the token.
2019-07-03 21:28:03.283 +12:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:28:03.284 +12:00 [INF] Route matched with {action = "Get", controller = "TodoList"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int16) on controller Pegasus_backend.Controllers.TodoListController (Pegasus_backend).
2019-07-03 21:28:03.284 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TodoListController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:28:03.284 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:28:03.289 +12:00 [WRN] The LINQ expression 'where ([t].TodoDate == Convert(value(Pegasus_backend.Controllers.TodoListController).toNZTimezone(DateTime.UtcNow).Date, Nullable`1))' could not be translated and will be evaluated locally.
2019-07-03 21:28:03.413 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__staffDetial_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`org_id`
FROM `ablemusic`.`staff_org` AS `x`
WHERE `x`.`staff_id` = @__staffDetial_StaffId_0
LIMIT 1
2019-07-03 21:28:03.416 +12:00 [INF] Executed DbCommand (47ms) [Parameters=[@__userId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`list_id`, `t`.`created_at`, `t`.`learner_id`, `t`.`lesson_id`, `t`.`list_content`, `t`.`list_name`, `t`.`process_flag`, `t`.`processed_at`, `t`.`teacher_id`, `t`.`todo_date`, `t`.`user_id`
FROM `ablemusic`.`todo_list` AS `t`
WHERE `t`.`user_id` = @__userId_0
2019-07-03 21:28:03.417 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TodoListController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 132.374ms.
2019-07-03 21:28:03.417 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.TodoList, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:28:03.417 +12:00 [INF] Executed action Pegasus_backend.Controllers.TodoListController.Get (Pegasus_backend) in 133.1027ms
2019-07-03 21:28:03.417 +12:00 [INF] Request finished in 134.7204ms 200 application/json; charset=utf-8
2019-07-03 21:28:03.480 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:28:03.504 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:28:03.531 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`staff_id`, `x`.`dob`, `x`.`email`, `x`.`expiry_date`, `x`.`first_name`, `x`.`gender`, `x`.`home_phone`, `x`.`id_number`, `x`.`id_photo`, `x`.`id_type`, `x`.`ird_number`, `x`.`is_activate`, `x`.`last_name`, `x`.`mobile_phone`, `x`.`photo`, `x`.`user_id`, `x`.`visa`
FROM `ablemusic`.`staff` AS `x`
WHERE (`x`.`user_id` <> @__id_0) OR `x`.`user_id` IS NULL
LIMIT @__p_1
2019-07-03 21:28:03.652 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`teacher_id` AS `TeacherId`, `x`.`first_name` AS `FirstName`, `x`.`last_name` AS `LastName`, `x`.`email`
FROM `ablemusic`.`teacher` AS `x`
LIMIT @__p_0
2019-07-03 21:28:03.690 +12:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`org_id` IN (5)
2019-07-03 21:28:03.722 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`org_id` IN (5)
2019-07-03 21:28:03.825 +12:00 [INF] Executed DbCommand (104ms) [Parameters=[@__orgIdOfStaff_0='?' (DbType = Int16), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x.Learner`.`learner_id`, `x.Learner`.`address`, `x.Learner`.`contact_num`, `x.Learner`.`created_at`, `x.Learner`.`dob`, `x.Learner`.`email`, `x.Learner`.`enroll_date`, `x.Learner`.`first_name`, `x.Learner`.`form_url`, `x.Learner`.`g5_certification`, `x.Learner`.`gender`, `x.Learner`.`is_abrsm_g5`, `x.Learner`.`is_active`, `x.Learner`.`is_under_18`, `x.Learner`.`last_name`, `x.Learner`.`learner_level`, `x.Learner`.`level_type`, `x.Learner`.`middle_name`, `x.Learner`.`note`, `x.Learner`.`org_id`, `x.Learner`.`otherfile_url`, `x.Learner`.`payment_period`, `x.Learner`.`photo`, `x.Learner`.`referrer`, `x.Learner`.`referrer_learner_id`, `x.Learner`.`user_id`, `x`.`lesson_id` AS `LessonId`, `x`.`learner_id` AS `LearnerId`
FROM `ablemusic`.`lesson` AS `x`
LEFT JOIN `ablemusic`.`learner` AS `x.Learner` ON `x`.`learner_id` = `x.Learner`.`learner_id`
WHERE `x`.`org_id` = @__orgIdOfStaff_0
LIMIT @__p_1
2019-07-03 21:28:03.889 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`waiting_id`, `w`.`begin_date`, `w`.`concert_fee`, `w`.`concert_fee_name`, `w`.`course_instance_id`, `w`.`course_name`, `w`.`created_at`, `w`.`due_date`, `w`.`end_date`, `w`.`group_course_instance_id`, `w`.`invoice_num`, `w`.`is_activate`, `w`.`is_confirmed`, `w`.`is_email_sent`, `w`.`is_paid`, `w`.`learner_id`, `w`.`learner_name`, `w`.`lesson_fee`, `w`.`lesson_note_fee_name`, `w`.`lesson_quantity`, `w`.`note_fee`, `w`.`other1_fee`, `w`.`other1_fee_name`, `w`.`other2_fee`, `w`.`other2_fee_name`, `w`.`other3_fee`, `w`.`other3_fee_name`, `w`.`owing_fee`, `w`.`paid_fee`, `w`.`term_id`, `w`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `w`
INNER JOIN `ablemusic`.`learner` AS `l` ON `w`.`learner_id` = `l`.`learner_id`
WHERE `l`.`org_id` IN (5) AND (`w`.`is_confirmed` = 0)
2019-07-03 21:28:03.894 +12:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`waiting_id`, `w`.`begin_date`, `w`.`concert_fee`, `w`.`concert_fee_name`, `w`.`course_instance_id`, `w`.`course_name`, `w`.`created_at`, `w`.`due_date`, `w`.`end_date`, `w`.`group_course_instance_id`, `w`.`invoice_num`, `w`.`is_activate`, `w`.`is_confirmed`, `w`.`is_email_sent`, `w`.`is_paid`, `w`.`learner_id`, `w`.`learner_name`, `w`.`lesson_fee`, `w`.`lesson_note_fee_name`, `w`.`lesson_quantity`, `w`.`note_fee`, `w`.`other1_fee`, `w`.`other1_fee_name`, `w`.`other2_fee`, `w`.`other2_fee_name`, `w`.`other3_fee`, `w`.`other3_fee_name`, `w`.`owing_fee`, `w`.`paid_fee`, `w`.`term_id`, `w`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `w`
INNER JOIN `ablemusic`.`learner` AS `l` ON `w`.`learner_id` = `l`.`learner_id`
WHERE `l`.`org_id` IN (5) AND (`w`.`is_confirmed` = 0)
2019-07-03 21:28:03.966 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[@__orgIdOfStaff_0='?' (DbType = Int16), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_id`, `x`.`address`, `x`.`contact_num`, `x`.`created_at`, `x`.`dob`, `x`.`email`, `x`.`enroll_date`, `x`.`first_name`, `x`.`form_url`, `x`.`g5_certification`, `x`.`gender`, `x`.`is_abrsm_g5`, `x`.`is_active`, `x`.`is_under_18`, `x`.`last_name`, `x`.`learner_level`, `x`.`level_type`, `x`.`middle_name`, `x`.`note`, `x`.`org_id`, `x`.`otherfile_url`, `x`.`payment_period`, `x`.`photo`, `x`.`referrer`, `x`.`referrer_learner_id`, `x`.`user_id`
FROM `ablemusic`.`learner` AS `x`
WHERE `x`.`org_id` = @__orgIdOfStaff_0
LIMIT @__p_1
2019-07-03 21:28:03.966 +12:00 [INF] Executed action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetStaffChattingList (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 787.2553ms.
2019-07-03 21:28:03.967 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Tuple`4[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Staff, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Teacher, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lesson, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Learner, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:28:03.968 +12:00 [INF] Executed action Pegasus_backend.Controllers.MobileControllers.ChatController.GetStaffChattingList (Pegasus_backend) in 789.0582ms
2019-07-03 21:28:03.968 +12:00 [INF] Request finished in 789.7809ms 200 application/json; charset=utf-8
2019-07-03 21:28:04.165 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`begin_time` IS NOT NULL AND (`l`.`is_canceled` = 1)) AND `l`.`org_id` IN (5)
2019-07-03 21:28:04.165 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`begin_time` IS NOT NULL AND (`l`.`is_canceled` = 1)) AND `l`.`org_id` IN (5)
2019-07-03 21:28:04.265 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE ((`l`.`begin_time` IS NOT NULL AND `l`.`org_id` IN (5)) AND ((`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL)) AND (`l`.`is_changed` = 1)
2019-07-03 21:28:04.266 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE ((`l`.`begin_time` IS NOT NULL AND `l`.`org_id` IN (5)) AND ((`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL)) AND (`l`.`is_changed` = 1)
2019-07-03 21:28:04.365 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`amendment_id`, `a`.`amend_type`, `a`.`begin_date`, `a`.`begin_time`, `a`.`course_instance_id`, `a`.`course_schedule_id`, `a`.`created_at`, `a`.`day_of_week`, `a`.`end_date`, `a`.`end_time`, `a`.`is_temporary`, `a`.`learner_id`, `a`.`org_id`, `a`.`reason`, `a`.`room_id`, `a`.`teacher_id`
FROM `ablemusic`.`amendment` AS `a`
WHERE `a`.`org_id` IN (5)
2019-07-03 21:28:04.365 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`amendment_id`, `a`.`amend_type`, `a`.`begin_date`, `a`.`begin_time`, `a`.`course_instance_id`, `a`.`course_schedule_id`, `a`.`created_at`, `a`.`day_of_week`, `a`.`end_date`, `a`.`end_time`, `a`.`is_temporary`, `a`.`learner_id`, `a`.`org_id`, `a`.`reason`, `a`.`room_id`, `a`.`teacher_id`
FROM `ablemusic`.`amendment` AS `a`
WHERE `a`.`org_id` IN (5)
2019-07-03 21:28:04.460 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`amendment_id`, `a`.`amend_type`, `a`.`begin_date`, `a`.`begin_time`, `a`.`course_instance_id`, `a`.`course_schedule_id`, `a`.`created_at`, `a`.`day_of_week`, `a`.`end_date`, `a`.`end_time`, `a`.`is_temporary`, `a`.`learner_id`, `a`.`org_id`, `a`.`reason`, `a`.`room_id`, `a`.`teacher_id`
FROM `ablemusic`.`amendment` AS `a`
WHERE `a`.`org_id` IN (5)
2019-07-03 21:28:04.461 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`amendment_id`, `a`.`amend_type`, `a`.`begin_date`, `a`.`begin_time`, `a`.`course_instance_id`, `a`.`course_schedule_id`, `a`.`created_at`, `a`.`day_of_week`, `a`.`end_date`, `a`.`end_time`, `a`.`is_temporary`, `a`.`learner_id`, `a`.`org_id`, `a`.`reason`, `a`.`room_id`, `a`.`teacher_id`
FROM `ablemusic`.`amendment` AS `a`
WHERE `a`.`org_id` IN (5)
2019-07-03 21:28:04.568 +12:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:28:04.573 +12:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:28:04.754 +12:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE False = True
2019-07-03 21:28:04.765 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE False = True
2019-07-03 21:28:04.853 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:28:04.864 +12:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:28:05.034 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE False = True
2019-07-03 21:28:05.054 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE False = True
2019-07-03 21:28:05.145 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:28:05.156 +12:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:28:05.334 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE False = True
2019-07-03 21:28:05.344 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE False = True
2019-07-03 21:28:05.434 +12:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
2019-07-03 21:28:05.445 +12:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
2019-07-03 21:28:05.761 +12:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`org_id` IN (5)
2019-07-03 21:28:05.794 +12:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`org_id` IN (5)
2019-07-03 21:28:05.816 +12:00 [INF] Executed action method Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2633.7535000000003ms.
2019-07-03 21:28:05.816 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:28:05.817 +12:00 [INF] Executed action Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend) in 2635.0523000000003ms
2019-07-03 21:28:05.817 +12:00 [INF] Request finished in 2635.8177ms 200 application/json; charset=utf-8
2019-07-03 21:28:05.828 +12:00 [INF] Executed action method Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2644.4769ms.
2019-07-03 21:28:05.829 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:28:05.829 +12:00 [INF] Executed action Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend) in 2645.7521ms
2019-07-03 21:28:05.830 +12:00 [INF] Request finished in 2646.6318ms 200 application/json; charset=utf-8
2019-07-03 21:28:33.397 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/login  
2019-07-03 21:28:33.397 +12:00 [INF] Policy execution successful.
2019-07-03 21:28:33.397 +12:00 [INF] Request finished in 0.4785ms 204 
2019-07-03 21:28:33.414 +12:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/login application/json 55
2019-07-03 21:28:33.414 +12:00 [INF] Policy execution successful.
2019-07-03 21:28:33.415 +12:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Pegasus_backend.Models.UsrAndPass) on controller Pegasus_backend.Controllers.Authorization.LoginController (Pegasus_backend).
2019-07-03 21:28:33.415 +12:00 [INF] Executing action method Pegasus_backend.Controllers.Authorization.LoginController.Login (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:28:33.416 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:28:33.537 +12:00 [INF] Executed DbCommand (43ms) [Parameters=[@__model_UserName_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`user_id`, `s`.`created_at`, `s`.`is_activate`, `s`.`password`, `s`.`role_id`, `s`.`unread_message_id`, `s`.`user_name`, `s.Role`.`role_id`, `s.Role`.`role_name`
FROM `ablemusic`.`user` AS `s`
LEFT JOIN `ablemusic`.`role` AS `s.Role` ON `s`.`role_id` = `s.Role`.`role_id`
WHERE `s`.`user_name` = @__model_UserName_0
ORDER BY `s`.`user_id`
LIMIT 1
2019-07-03 21:28:33.568 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[@__model_UserName_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Learner`.`learner_id`, `s.Learner`.`address`, `s.Learner`.`contact_num`, `s.Learner`.`created_at`, `s.Learner`.`dob`, `s.Learner`.`email`, `s.Learner`.`enroll_date`, `s.Learner`.`first_name`, `s.Learner`.`form_url`, `s.Learner`.`g5_certification`, `s.Learner`.`gender`, `s.Learner`.`is_abrsm_g5`, `s.Learner`.`is_active`, `s.Learner`.`is_under_18`, `s.Learner`.`last_name`, `s.Learner`.`learner_level`, `s.Learner`.`level_type`, `s.Learner`.`middle_name`, `s.Learner`.`note`, `s.Learner`.`org_id`, `s.Learner`.`otherfile_url`, `s.Learner`.`payment_period`, `s.Learner`.`photo`, `s.Learner`.`referrer`, `s.Learner`.`referrer_learner_id`, `s.Learner`.`user_id`
FROM `ablemusic`.`learner` AS `s.Learner`
INNER JOIN (
    SELECT DISTINCT `t`.*
    FROM (
        SELECT `s0`.`user_id`
        FROM `ablemusic`.`user` AS `s0`
        LEFT JOIN `ablemusic`.`role` AS `s.Role0` ON `s0`.`role_id` = `s.Role0`.`role_id`
        WHERE `s0`.`user_name` = @__model_UserName_0
        ORDER BY `s0`.`user_id`
        LIMIT 1
    ) AS `t`
) AS `t0` ON `s.Learner`.`user_id` = `t0`.`user_id`
ORDER BY `t0`.`user_id`
2019-07-03 21:28:33.666 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[@__model_UserName_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Teacher`.`teacher_id`, `s.Teacher`.`ability`, `s.Teacher`.`comment`, `s.Teacher`.`cv_url`, `s.Teacher`.`dob`, `s.Teacher`.`email`, `s.Teacher`.`expiry_date`, `s.Teacher`.`first_name`, `s.Teacher`.`form_url`, `s.Teacher`.`gender`, `s.Teacher`.`home_phone`, `s.Teacher`.`id_number`, `s.Teacher`.`id_photo`, `s.Teacher`.`id_type`, `s.Teacher`.`invoice_template`, `s.Teacher`.`ird_number`, `s.Teacher`.`is_activate`, `s.Teacher`.`is_contract`, `s.Teacher`.`is_left`, `s.Teacher`.`last_name`, `s.Teacher`.`level`, `s.Teacher`.`minimum_hours`, `s.Teacher`.`mobile_phone`, `s.Teacher`.`otherfile_url`, `s.Teacher`.`photo`, `s.Teacher`.`user_id`, `s.Teacher`.`visa`
FROM `ablemusic`.`teacher` AS `s.Teacher`
INNER JOIN (
    SELECT DISTINCT `t1`.*
    FROM (
        SELECT `s1`.`user_id`
        FROM `ablemusic`.`user` AS `s1`
        LEFT JOIN `ablemusic`.`role` AS `s.Role1` ON `s1`.`role_id` = `s.Role1`.`role_id`
        WHERE `s1`.`user_name` = @__model_UserName_0
        ORDER BY `s1`.`user_id`
        LIMIT 1
    ) AS `t1`
) AS `t2` ON `s.Teacher`.`user_id` = `t2`.`user_id`
ORDER BY `t2`.`user_id`
2019-07-03 21:28:33.788 +12:00 [INF] Executed DbCommand (44ms) [Parameters=[@__model_UserName_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Staff`.`staff_id`, `s.Staff`.`dob`, `s.Staff`.`email`, `s.Staff`.`expiry_date`, `s.Staff`.`first_name`, `s.Staff`.`gender`, `s.Staff`.`home_phone`, `s.Staff`.`id_number`, `s.Staff`.`id_photo`, `s.Staff`.`id_type`, `s.Staff`.`ird_number`, `s.Staff`.`is_activate`, `s.Staff`.`last_name`, `s.Staff`.`mobile_phone`, `s.Staff`.`photo`, `s.Staff`.`user_id`, `s.Staff`.`visa`
FROM `ablemusic`.`staff` AS `s.Staff`
INNER JOIN (
    SELECT DISTINCT `t3`.*
    FROM (
        SELECT `s2`.`user_id`
        FROM `ablemusic`.`user` AS `s2`
        LEFT JOIN `ablemusic`.`role` AS `s.Role2` ON `s2`.`role_id` = `s.Role2`.`role_id`
        WHERE `s2`.`user_name` = @__model_UserName_0
        ORDER BY `s2`.`user_id`
        LIMIT 1
    ) AS `t3`
) AS `t4` ON `s.Staff`.`user_id` = `t4`.`user_id`
ORDER BY `t4`.`user_id`, `s.Staff`.`staff_id`
2019-07-03 21:28:33.858 +12:00 [INF] Executed DbCommand (69ms) [Parameters=[@__model_UserName_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Staff.StaffOrg`.`staff_org_id`, `s.Staff.StaffOrg`.`is_activate`, `s.Staff.StaffOrg`.`org_id`, `s.Staff.StaffOrg`.`staff_id`, `s.Org`.`org_id`, `s.Org`.`abbr`, `s.Org`.`address`, `s.Org`.`email`, `s.Org`.`is_activate`, `s.Org`.`is_headoffice`, `s.Org`.`localtion_x`, `s.Org`.`localtion_y`, `s.Org`.`org_name`, `s.Org`.`phone`
FROM `ablemusic`.`staff_org` AS `s.Staff.StaffOrg`
LEFT JOIN `ablemusic`.`org` AS `s.Org` ON `s.Staff.StaffOrg`.`org_id` = `s.Org`.`org_id`
INNER JOIN (
    SELECT DISTINCT `s.Staff0`.`staff_id`, `t6`.`user_id`
    FROM `ablemusic`.`staff` AS `s.Staff0`
    INNER JOIN (
        SELECT DISTINCT `t5`.*
        FROM (
            SELECT `s3`.`user_id`
            FROM `ablemusic`.`user` AS `s3`
            LEFT JOIN `ablemusic`.`role` AS `s.Role3` ON `s3`.`role_id` = `s.Role3`.`role_id`
            WHERE `s3`.`user_name` = @__model_UserName_0
            ORDER BY `s3`.`user_id`
            LIMIT 1
        ) AS `t5`
    ) AS `t6` ON `s.Staff0`.`user_id` = `t6`.`user_id`
) AS `t7` ON `s.Staff.StaffOrg`.`staff_id` = `t7`.`staff_id`
ORDER BY `t7`.`user_id`, `t7`.`staff_id`
2019-07-03 21:28:33.859 +12:00 [INF] Executed action method Pegasus_backend.Controllers.Authorization.LoginController.Login (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 443.50640000000004ms.
2019-07-03 21:28:33.859 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:28:33.860 +12:00 [INF] Executed action Pegasus_backend.Controllers.Authorization.LoginController.Login (Pegasus_backend) in 445.1322ms
2019-07-03 21:28:33.860 +12:00 [INF] Request finished in 446.3364ms 200 application/json; charset=utf-8
2019-07-03 21:28:33.880 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/page  
2019-07-03 21:28:33.880 +12:00 [INF] Policy execution successful.
2019-07-03 21:28:33.880 +12:00 [INF] Route matched with {action = "GetRolePage", controller = "Page"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRolePage() on controller Pegasus_backend.Controllers.PageController (Pegasus_backend).
2019-07-03 21:28:33.881 +12:00 [INF] Executing action method Pegasus_backend.Controllers.PageController.GetRolePage (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:28:33.883 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:28:33.990 +12:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`role_id` AS `RoleId`, `s.Page`.`url`
FROM `ablemusic`.`role_access` AS `s`
LEFT JOIN `ablemusic`.`page` AS `s.Page` ON `s`.`page_id` = `s.Page`.`page_id`
2019-07-03 21:28:33.991 +12:00 [INF] Executed action method Pegasus_backend.Controllers.PageController.GetRolePage (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 109.2945ms.
2019-07-03 21:28:33.991 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:28:33.992 +12:00 [INF] Executed action Pegasus_backend.Controllers.PageController.GetRolePage (Pegasus_backend) in 111.05640000000001ms
2019-07-03 21:28:33.992 +12:00 [INF] Request finished in 112.5809ms 200 application/json; charset=utf-8
2019-07-03 21:28:34.021 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Chat/GetStaffChattingList/1  
2019-07-03 21:28:34.021 +12:00 [INF] Policy execution successful.
2019-07-03 21:28:34.022 +12:00 [INF] Route matched with {action = "GetStaffChattingList", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStaffChattingList(Int32) on controller Pegasus_backend.Controllers.MobileControllers.ChatController (Pegasus_backend).
2019-07-03 21:28:34.022 +12:00 [INF] Executing action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetStaffChattingList (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:28:34.023 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:28:34.025 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/todolist/158  
2019-07-03 21:28:34.025 +12:00 [INF] Policy execution successful.
2019-07-03 21:28:34.025 +12:00 [INF] Request finished in 0.2933ms 204 
2019-07-03 21:28:34.031 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/dashboard/5  
2019-07-03 21:28:34.031 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/dashboard/5  
2019-07-03 21:28:34.032 +12:00 [INF] Policy execution successful.
2019-07-03 21:28:34.032 +12:00 [INF] Policy execution successful.
2019-07-03 21:28:34.038 +12:00 [INF] Route matched with {action = "Get", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.String) on controller Pegasus_backend.Controllers.DashboardController (Pegasus_backend).
2019-07-03 21:28:34.038 +12:00 [INF] Route matched with {action = "Get", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.String) on controller Pegasus_backend.Controllers.DashboardController (Pegasus_backend).
2019-07-03 21:28:34.038 +12:00 [INF] Executing action method Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:28:34.038 +12:00 [INF] Executing action method Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:28:34.039 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:28:34.039 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:28:34.083 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/staff/Photos/123190610032313190.jpg  
2019-07-03 21:28:34.089 +12:00 [INF] Request finished in 6.7066ms 404 
2019-07-03 21:28:34.124 +12:00 [INF] Executed DbCommand (36ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
=======
2019-07-03 11:45:33.560 +12:00 [INF] Executed DbCommand (67ms) [Parameters=[@__staffId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`org_id`
FROM `ablemusic`.`staff_org` AS `x`
WHERE `x`.`staff_id` = @__staffId_0
LIMIT 1
2019-07-03 11:45:33.580 +12:00 [WRN] Query: '(from Lesson x in DbSet<Lesson> where (Nullable<int>)(int)[x].OrgId == (Nullable<int>)__orgIdOfStaff...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 11:45:33.583 +12:00 [WRN] The Include operation for navigation '[x].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 11:45:33.806 +12:00 [INF] Executed DbCommand (64ms) [Parameters=[@__orgIdOfStaff_0='?' (DbType = Int16), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT `t`.*
FROM (
    SELECT `x.Learner`.`learner_id`, `x.Learner`.`address`, `x.Learner`.`contact_num`, `x.Learner`.`created_at`, `x.Learner`.`dob`, `x.Learner`.`email`, `x.Learner`.`enroll_date`, `x.Learner`.`first_name`, `x.Learner`.`form_url`, `x.Learner`.`g5_certification`, `x.Learner`.`gender`, `x.Learner`.`is_abrsm_g5`, `x.Learner`.`is_active`, `x.Learner`.`is_under_18`, `x.Learner`.`last_name`, `x.Learner`.`learner_level`, `x.Learner`.`level_type`, `x.Learner`.`middle_name`, `x.Learner`.`note`, `x.Learner`.`org_id`, `x.Learner`.`otherfile_url`, `x.Learner`.`payment_period`, `x.Learner`.`photo`, `x.Learner`.`referrer`, `x.Learner`.`referrer_learner_id`, `x.Learner`.`user_id`
    FROM `ablemusic`.`lesson` AS `x`
    LEFT JOIN `ablemusic`.`learner` AS `x.Learner` ON `x`.`learner_id` = `x.Learner`.`learner_id`
    WHERE `x`.`org_id` = @__orgIdOfStaff_0
    LIMIT @__p_1
) AS `t`
2019-07-03 11:45:33.895 +12:00 [WRN] Query: '(from Learner x in DbSet<Learner> where (Nullable<int>)[x].OrgId == (Nullable<int>)__orgIdOfStaff_0 ...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 11:45:34.062 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[@__orgIdOfStaff_0='?' (DbType = Int16), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_id`, `x`.`address`, `x`.`contact_num`, `x`.`created_at`, `x`.`dob`, `x`.`email`, `x`.`enroll_date`, `x`.`first_name`, `x`.`form_url`, `x`.`g5_certification`, `x`.`gender`, `x`.`is_abrsm_g5`, `x`.`is_active`, `x`.`is_under_18`, `x`.`last_name`, `x`.`learner_level`, `x`.`level_type`, `x`.`middle_name`, `x`.`note`, `x`.`org_id`, `x`.`otherfile_url`, `x`.`payment_period`, `x`.`photo`, `x`.`referrer`, `x`.`referrer_learner_id`, `x`.`user_id`
FROM `ablemusic`.`learner` AS `x`
WHERE `x`.`org_id` = @__orgIdOfStaff_0
LIMIT @__p_1
2019-07-03 11:45:34.067 +12:00 [WRN] Query: '(from Staff x in DbSet<Staff> where (Nullable<int>)(int)[x].StaffId != __staffId_0 select [x]).Take(...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 11:45:34.251 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__staffId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`staff_id`, `x`.`dob`, `x`.`email`, `x`.`expiry_date`, `x`.`first_name`, `x`.`gender`, `x`.`home_phone`, `x`.`id_number`, `x`.`id_photo`, `x`.`id_type`, `x`.`ird_number`, `x`.`is_activate`, `x`.`last_name`, `x`.`mobile_phone`, `x`.`photo`, `x`.`user_id`, `x`.`visa`
FROM `ablemusic`.`staff` AS `x`
WHERE `x`.`staff_id` <> @__staffId_0
LIMIT @__p_1
2019-07-03 11:45:34.259 +12:00 [WRN] Query: '(from Teacher x in DbSet<Teacher> select new Teacher{ { 
    TeacherId = [x].TeacherId, , 
    Fir...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 11:45:34.414 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`teacher_id` AS `TeacherId`, `x`.`first_name` AS `FirstName`, `x`.`last_name` AS `LastName`, `x`.`email`
FROM `ablemusic`.`teacher` AS `x`
LIMIT @__p_0
2019-07-03 11:45:34.420 +12:00 [INF] Executed action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 7460.8152ms.
2019-07-03 11:45:34.421 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[Pegasus_backend.Models.ChatListModel, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-03 11:45:34.558 +12:00 [INF] Executed action Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) in 7615.0105ms
2019-07-03 11:45:34.559 +12:00 [INF] Request finished in 7648.0902ms 200 application/json; charset=utf-8
2019-07-03 11:45:34.568 +12:00 [INF] Connection id "0HLNV8TD1O4RF", Request id "0HLNV8TD1O4RF:00000002": the application completed without reading the entire request body.
2019-07-03 12:06:51.449 +12:00 [INF] User profile is available. Using 'C:\Users\lgx95\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-07-03 12:06:52.214 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Chat/GetChattingList/1 application/json 65
2019-07-03 12:06:52.214 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/values  
2019-07-03 12:06:52.214 +12:00 [INF] Request starting HTTP/1.1 DEBUG http://localhost:5000/  0
2019-07-03 12:06:52.241 +12:00 [INF] Request finished in 27.7728ms 200 
2019-07-03 12:06:52.282 +12:00 [WRN] Failed to determine the https port for redirect.
2019-07-03 12:06:52.554 +12:00 [INF] Route matched with {action = "Get", controller = "Values"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get() on controller Pegasus_backend.Controllers.ValuesController (Pegasus_backend).
2019-07-03 12:06:52.565 +12:00 [INF] Route matched with {action = "GetChattingList", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChattingList(Int32) on controller Pegasus_backend.Controllers.MobileControllers.ChatController (Pegasus_backend).
2019-07-03 12:06:52.783 +12:00 [INF] Executing action method Pegasus_backend.Controllers.ValuesController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-03 12:06:52.857 +12:00 [INF] Executing action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) - Validation state: "Valid"
2019-07-03 12:06:52.932 +12:00 [ERR] ValuesController LogErrorToFile: System.Exception: Exception of type 'System.Exception' was thrown.
   at Pegasus_backend.Controllers.ValuesController.Get() in C:\angular\pegasusBackend\Controllers\ValuesController.cs:line 30
2019-07-03 12:06:52.933 +12:00 [INF] ValuesController LogInfoToFile: hello
2019-07-03 12:06:52.937 +12:00 [INF] Executed action method Pegasus_backend.Controllers.ValuesController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 142.929ms.
2019-07-03 12:06:52.947 +12:00 [INF] Executing ObjectResult, writing value of type 'System.DateTime'.
2019-07-03 12:06:53.005 +12:00 [INF] Executed action Pegasus_backend.Controllers.ValuesController.Get (Pegasus_backend) in 446.6508ms
2019-07-03 12:06:53.012 +12:00 [INF] Request finished in 802.0211ms 200 application/json; charset=utf-8
2019-07-03 12:06:54.287 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 12:06:55.651 +12:00 [INF] Executed DbCommand (61ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`user_id`, `x`.`created_at`, `x`.`is_activate`, `x`.`password`, `x`.`role_id`, `x`.`unread_message_id`, `x`.`user_name`, `x.Role`.`role_id`, `x.Role`.`role_name`
FROM `ablemusic`.`user` AS `x`
LEFT JOIN `ablemusic`.`role` AS `x.Role` ON `x`.`role_id` = `x.Role`.`role_id`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
2019-07-03 12:06:56.071 +12:00 [INF] Executed DbCommand (131ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
>>>>>>> 70179401b82cb6ed928ca587a5b8d762b7e7cca6
SELECT `x`.`staff_id`, `x`.`dob`, `x`.`email`, `x`.`expiry_date`, `x`.`first_name`, `x`.`gender`, `x`.`home_phone`, `x`.`id_number`, `x`.`id_photo`, `x`.`id_type`, `x`.`ird_number`, `x`.`is_activate`, `x`.`last_name`, `x`.`mobile_phone`, `x`.`photo`, `x`.`user_id`, `x`.`visa`
FROM `ablemusic`.`staff` AS `x`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
<<<<<<< HEAD
2019-07-03 21:28:34.136 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:28:34.141 +12:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:28:34.155 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/todolist/158  
2019-07-03 21:28:34.156 +12:00 [INF] Policy execution successful.
2019-07-03 21:28:34.156 +12:00 [INF] Successfully validated the token.
2019-07-03 21:28:34.156 +12:00 [INF] Route matched with {action = "Get", controller = "TodoList"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int16) on controller Pegasus_backend.Controllers.TodoListController (Pegasus_backend).
2019-07-03 21:28:34.157 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TodoListController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:28:34.158 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:28:34.164 +12:00 [WRN] The LINQ expression 'where ([t].TodoDate == Convert(value(Pegasus_backend.Controllers.TodoListController).toNZTimezone(DateTime.UtcNow).Date, Nullable`1))' could not be translated and will be evaluated locally.
2019-07-03 21:28:34.231 +12:00 [INF] Executed DbCommand (36ms) [Parameters=[@__staffDetial_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`org_id`
FROM `ablemusic`.`staff_org` AS `x`
WHERE `x`.`staff_id` = @__staffDetial_StaffId_0
LIMIT 1
2019-07-03 21:28:34.264 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__userId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`list_id`, `t`.`created_at`, `t`.`learner_id`, `t`.`lesson_id`, `t`.`list_content`, `t`.`list_name`, `t`.`process_flag`, `t`.`processed_at`, `t`.`teacher_id`, `t`.`todo_date`, `t`.`user_id`
FROM `ablemusic`.`todo_list` AS `t`
WHERE `t`.`user_id` = @__userId_0
2019-07-03 21:28:34.265 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TodoListController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 107.33040000000001ms.
2019-07-03 21:28:34.265 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.TodoList, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:28:34.266 +12:00 [INF] Executed action Pegasus_backend.Controllers.TodoListController.Get (Pegasus_backend) in 109.41170000000001ms
2019-07-03 21:28:34.266 +12:00 [INF] Request finished in 111.041ms 200 application/json; charset=utf-8
2019-07-03 21:28:34.329 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`staff_id`, `x`.`dob`, `x`.`email`, `x`.`expiry_date`, `x`.`first_name`, `x`.`gender`, `x`.`home_phone`, `x`.`id_number`, `x`.`id_photo`, `x`.`id_type`, `x`.`ird_number`, `x`.`is_activate`, `x`.`last_name`, `x`.`mobile_phone`, `x`.`photo`, `x`.`user_id`, `x`.`visa`
FROM `ablemusic`.`staff` AS `x`
WHERE (`x`.`user_id` <> @__id_0) OR `x`.`user_id` IS NULL
LIMIT @__p_1
2019-07-03 21:28:34.330 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:28:34.349 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:28:34.467 +12:00 [INF] Executed DbCommand (45ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`teacher_id` AS `TeacherId`, `x`.`first_name` AS `FirstName`, `x`.`last_name` AS `LastName`, `x`.`email`
FROM `ablemusic`.`teacher` AS `x`
LIMIT @__p_0
2019-07-03 21:28:34.532 +12:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`org_id` IN (5)
2019-07-03 21:28:34.559 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`org_id` IN (5)
2019-07-03 21:28:34.583 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__orgIdOfStaff_0='?' (DbType = Int16), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x.Learner`.`learner_id`, `x.Learner`.`address`, `x.Learner`.`contact_num`, `x.Learner`.`created_at`, `x.Learner`.`dob`, `x.Learner`.`email`, `x.Learner`.`enroll_date`, `x.Learner`.`first_name`, `x.Learner`.`form_url`, `x.Learner`.`g5_certification`, `x.Learner`.`gender`, `x.Learner`.`is_abrsm_g5`, `x.Learner`.`is_active`, `x.Learner`.`is_under_18`, `x.Learner`.`last_name`, `x.Learner`.`learner_level`, `x.Learner`.`level_type`, `x.Learner`.`middle_name`, `x.Learner`.`note`, `x.Learner`.`org_id`, `x.Learner`.`otherfile_url`, `x.Learner`.`payment_period`, `x.Learner`.`photo`, `x.Learner`.`referrer`, `x.Learner`.`referrer_learner_id`, `x.Learner`.`user_id`, `x`.`lesson_id` AS `LessonId`, `x`.`learner_id` AS `LearnerId`
FROM `ablemusic`.`lesson` AS `x`
LEFT JOIN `ablemusic`.`learner` AS `x.Learner` ON `x`.`learner_id` = `x.Learner`.`learner_id`
WHERE `x`.`org_id` = @__orgIdOfStaff_0
LIMIT @__p_1
2019-07-03 21:28:34.681 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[@__orgIdOfStaff_0='?' (DbType = Int16), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_id`, `x`.`address`, `x`.`contact_num`, `x`.`created_at`, `x`.`dob`, `x`.`email`, `x`.`enroll_date`, `x`.`first_name`, `x`.`form_url`, `x`.`g5_certification`, `x`.`gender`, `x`.`is_abrsm_g5`, `x`.`is_active`, `x`.`is_under_18`, `x`.`last_name`, `x`.`learner_level`, `x`.`level_type`, `x`.`middle_name`, `x`.`note`, `x`.`org_id`, `x`.`otherfile_url`, `x`.`payment_period`, `x`.`photo`, `x`.`referrer`, `x`.`referrer_learner_id`, `x`.`user_id`
FROM `ablemusic`.`learner` AS `x`
WHERE `x`.`org_id` = @__orgIdOfStaff_0
LIMIT @__p_1
2019-07-03 21:28:34.681 +12:00 [INF] Executed action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetStaffChattingList (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 659.20850000000007ms.
2019-07-03 21:28:34.682 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Tuple`4[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Staff, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Teacher, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lesson, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Learner, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:28:34.682 +12:00 [INF] Executed action Pegasus_backend.Controllers.MobileControllers.ChatController.GetStaffChattingList (Pegasus_backend) in 660.31990000000008ms
2019-07-03 21:28:34.682 +12:00 [INF] Request finished in 661.1436ms 200 application/json; charset=utf-8
2019-07-03 21:28:34.695 +12:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`waiting_id`, `w`.`begin_date`, `w`.`concert_fee`, `w`.`concert_fee_name`, `w`.`course_instance_id`, `w`.`course_name`, `w`.`created_at`, `w`.`due_date`, `w`.`end_date`, `w`.`group_course_instance_id`, `w`.`invoice_num`, `w`.`is_activate`, `w`.`is_confirmed`, `w`.`is_email_sent`, `w`.`is_paid`, `w`.`learner_id`, `w`.`learner_name`, `w`.`lesson_fee`, `w`.`lesson_note_fee_name`, `w`.`lesson_quantity`, `w`.`note_fee`, `w`.`other1_fee`, `w`.`other1_fee_name`, `w`.`other2_fee`, `w`.`other2_fee_name`, `w`.`other3_fee`, `w`.`other3_fee_name`, `w`.`owing_fee`, `w`.`paid_fee`, `w`.`term_id`, `w`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `w`
INNER JOIN `ablemusic`.`learner` AS `l` ON `w`.`learner_id` = `l`.`learner_id`
WHERE `l`.`org_id` IN (5) AND (`w`.`is_confirmed` = 0)
2019-07-03 21:28:34.700 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`waiting_id`, `w`.`begin_date`, `w`.`concert_fee`, `w`.`concert_fee_name`, `w`.`course_instance_id`, `w`.`course_name`, `w`.`created_at`, `w`.`due_date`, `w`.`end_date`, `w`.`group_course_instance_id`, `w`.`invoice_num`, `w`.`is_activate`, `w`.`is_confirmed`, `w`.`is_email_sent`, `w`.`is_paid`, `w`.`learner_id`, `w`.`learner_name`, `w`.`lesson_fee`, `w`.`lesson_note_fee_name`, `w`.`lesson_quantity`, `w`.`note_fee`, `w`.`other1_fee`, `w`.`other1_fee_name`, `w`.`other2_fee`, `w`.`other2_fee_name`, `w`.`other3_fee`, `w`.`other3_fee_name`, `w`.`owing_fee`, `w`.`paid_fee`, `w`.`term_id`, `w`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `w`
INNER JOIN `ablemusic`.`learner` AS `l` ON `w`.`learner_id` = `l`.`learner_id`
WHERE `l`.`org_id` IN (5) AND (`w`.`is_confirmed` = 0)
2019-07-03 21:28:34.936 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`begin_time` IS NOT NULL AND (`l`.`is_canceled` = 1)) AND `l`.`org_id` IN (5)
2019-07-03 21:28:34.937 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`begin_time` IS NOT NULL AND (`l`.`is_canceled` = 1)) AND `l`.`org_id` IN (5)
2019-07-03 21:28:35.036 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE ((`l`.`begin_time` IS NOT NULL AND `l`.`org_id` IN (5)) AND ((`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL)) AND (`l`.`is_changed` = 1)
2019-07-03 21:28:35.037 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE ((`l`.`begin_time` IS NOT NULL AND `l`.`org_id` IN (5)) AND ((`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL)) AND (`l`.`is_changed` = 1)
2019-07-03 21:28:35.135 +12:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`amendment_id`, `a`.`amend_type`, `a`.`begin_date`, `a`.`begin_time`, `a`.`course_instance_id`, `a`.`course_schedule_id`, `a`.`created_at`, `a`.`day_of_week`, `a`.`end_date`, `a`.`end_time`, `a`.`is_temporary`, `a`.`learner_id`, `a`.`org_id`, `a`.`reason`, `a`.`room_id`, `a`.`teacher_id`
FROM `ablemusic`.`amendment` AS `a`
WHERE `a`.`org_id` IN (5)
2019-07-03 21:28:35.135 +12:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`amendment_id`, `a`.`amend_type`, `a`.`begin_date`, `a`.`begin_time`, `a`.`course_instance_id`, `a`.`course_schedule_id`, `a`.`created_at`, `a`.`day_of_week`, `a`.`end_date`, `a`.`end_time`, `a`.`is_temporary`, `a`.`learner_id`, `a`.`org_id`, `a`.`reason`, `a`.`room_id`, `a`.`teacher_id`
FROM `ablemusic`.`amendment` AS `a`
WHERE `a`.`org_id` IN (5)
2019-07-03 21:28:35.233 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`amendment_id`, `a`.`amend_type`, `a`.`begin_date`, `a`.`begin_time`, `a`.`course_instance_id`, `a`.`course_schedule_id`, `a`.`created_at`, `a`.`day_of_week`, `a`.`end_date`, `a`.`end_time`, `a`.`is_temporary`, `a`.`learner_id`, `a`.`org_id`, `a`.`reason`, `a`.`room_id`, `a`.`teacher_id`
FROM `ablemusic`.`amendment` AS `a`
WHERE `a`.`org_id` IN (5)
2019-07-03 21:28:35.233 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`amendment_id`, `a`.`amend_type`, `a`.`begin_date`, `a`.`begin_time`, `a`.`course_instance_id`, `a`.`course_schedule_id`, `a`.`created_at`, `a`.`day_of_week`, `a`.`end_date`, `a`.`end_time`, `a`.`is_temporary`, `a`.`learner_id`, `a`.`org_id`, `a`.`reason`, `a`.`room_id`, `a`.`teacher_id`
FROM `ablemusic`.`amendment` AS `a`
WHERE `a`.`org_id` IN (5)
2019-07-03 21:28:35.332 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:28:35.333 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:28:35.602 +12:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE False = True
2019-07-03 21:28:35.606 +12:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE False = True
2019-07-03 21:28:35.701 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:28:35.715 +12:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:28:35.909 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE False = True
2019-07-03 21:28:35.942 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE False = True
2019-07-03 21:28:36.006 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:28:36.041 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:28:36.194 +12:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE False = True
2019-07-03 21:28:36.245 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE False = True
2019-07-03 21:28:36.292 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
2019-07-03 21:28:36.345 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
2019-07-03 21:28:36.633 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`org_id` IN (5)
2019-07-03 21:28:36.656 +12:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`org_id` IN (5)
2019-07-03 21:28:36.679 +12:00 [INF] Executed action method Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2640.4546ms.
2019-07-03 21:28:36.679 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:28:36.680 +12:00 [INF] Executed action Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend) in 2641.9556000000002ms
2019-07-03 21:28:36.680 +12:00 [INF] Request finished in 2649.4666ms 200 application/json; charset=utf-8
2019-07-03 21:28:36.703 +12:00 [INF] Executed action method Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2663.9801ms.
2019-07-03 21:28:36.703 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:28:36.703 +12:00 [INF] Executed action Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend) in 2665.3985000000002ms
2019-07-03 21:28:36.704 +12:00 [INF] Request finished in 2672.6799ms 200 application/json; charset=utf-8
2019-07-03 21:28:56.288 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/login  
2019-07-03 21:28:56.288 +12:00 [INF] Policy execution successful.
2019-07-03 21:28:56.288 +12:00 [INF] Request finished in 0.3741ms 204 
2019-07-03 21:28:56.303 +12:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/login application/json 41
2019-07-03 21:28:56.303 +12:00 [INF] Policy execution successful.
2019-07-03 21:28:56.303 +12:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Pegasus_backend.Models.UsrAndPass) on controller Pegasus_backend.Controllers.Authorization.LoginController (Pegasus_backend).
2019-07-03 21:28:56.304 +12:00 [INF] Executing action method Pegasus_backend.Controllers.Authorization.LoginController.Login (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:28:56.305 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:28:56.406 +12:00 [INF] Executed DbCommand (36ms) [Parameters=[@__model_UserName_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`user_id`, `s`.`created_at`, `s`.`is_activate`, `s`.`password`, `s`.`role_id`, `s`.`unread_message_id`, `s`.`user_name`, `s.Role`.`role_id`, `s.Role`.`role_name`
FROM `ablemusic`.`user` AS `s`
LEFT JOIN `ablemusic`.`role` AS `s.Role` ON `s`.`role_id` = `s.Role`.`role_id`
WHERE `s`.`user_name` = @__model_UserName_0
ORDER BY `s`.`user_id`
LIMIT 1
2019-07-03 21:28:56.446 +12:00 [INF] Executed DbCommand (39ms) [Parameters=[@__model_UserName_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Learner`.`learner_id`, `s.Learner`.`address`, `s.Learner`.`contact_num`, `s.Learner`.`created_at`, `s.Learner`.`dob`, `s.Learner`.`email`, `s.Learner`.`enroll_date`, `s.Learner`.`first_name`, `s.Learner`.`form_url`, `s.Learner`.`g5_certification`, `s.Learner`.`gender`, `s.Learner`.`is_abrsm_g5`, `s.Learner`.`is_active`, `s.Learner`.`is_under_18`, `s.Learner`.`last_name`, `s.Learner`.`learner_level`, `s.Learner`.`level_type`, `s.Learner`.`middle_name`, `s.Learner`.`note`, `s.Learner`.`org_id`, `s.Learner`.`otherfile_url`, `s.Learner`.`payment_period`, `s.Learner`.`photo`, `s.Learner`.`referrer`, `s.Learner`.`referrer_learner_id`, `s.Learner`.`user_id`
FROM `ablemusic`.`learner` AS `s.Learner`
INNER JOIN (
    SELECT DISTINCT `t`.*
    FROM (
        SELECT `s0`.`user_id`
        FROM `ablemusic`.`user` AS `s0`
        LEFT JOIN `ablemusic`.`role` AS `s.Role0` ON `s0`.`role_id` = `s.Role0`.`role_id`
        WHERE `s0`.`user_name` = @__model_UserName_0
        ORDER BY `s0`.`user_id`
        LIMIT 1
    ) AS `t`
) AS `t0` ON `s.Learner`.`user_id` = `t0`.`user_id`
ORDER BY `t0`.`user_id`
2019-07-03 21:28:56.560 +12:00 [INF] Executed DbCommand (37ms) [Parameters=[@__model_UserName_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Teacher`.`teacher_id`, `s.Teacher`.`ability`, `s.Teacher`.`comment`, `s.Teacher`.`cv_url`, `s.Teacher`.`dob`, `s.Teacher`.`email`, `s.Teacher`.`expiry_date`, `s.Teacher`.`first_name`, `s.Teacher`.`form_url`, `s.Teacher`.`gender`, `s.Teacher`.`home_phone`, `s.Teacher`.`id_number`, `s.Teacher`.`id_photo`, `s.Teacher`.`id_type`, `s.Teacher`.`invoice_template`, `s.Teacher`.`ird_number`, `s.Teacher`.`is_activate`, `s.Teacher`.`is_contract`, `s.Teacher`.`is_left`, `s.Teacher`.`last_name`, `s.Teacher`.`level`, `s.Teacher`.`minimum_hours`, `s.Teacher`.`mobile_phone`, `s.Teacher`.`otherfile_url`, `s.Teacher`.`photo`, `s.Teacher`.`user_id`, `s.Teacher`.`visa`
FROM `ablemusic`.`teacher` AS `s.Teacher`
INNER JOIN (
    SELECT DISTINCT `t1`.*
    FROM (
        SELECT `s1`.`user_id`
        FROM `ablemusic`.`user` AS `s1`
        LEFT JOIN `ablemusic`.`role` AS `s.Role1` ON `s1`.`role_id` = `s.Role1`.`role_id`
        WHERE `s1`.`user_name` = @__model_UserName_0
        ORDER BY `s1`.`user_id`
        LIMIT 1
    ) AS `t1`
) AS `t2` ON `s.Teacher`.`user_id` = `t2`.`user_id`
ORDER BY `t2`.`user_id`
2019-07-03 21:28:56.662 +12:00 [INF] Executed DbCommand (40ms) [Parameters=[@__model_UserName_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Staff`.`staff_id`, `s.Staff`.`dob`, `s.Staff`.`email`, `s.Staff`.`expiry_date`, `s.Staff`.`first_name`, `s.Staff`.`gender`, `s.Staff`.`home_phone`, `s.Staff`.`id_number`, `s.Staff`.`id_photo`, `s.Staff`.`id_type`, `s.Staff`.`ird_number`, `s.Staff`.`is_activate`, `s.Staff`.`last_name`, `s.Staff`.`mobile_phone`, `s.Staff`.`photo`, `s.Staff`.`user_id`, `s.Staff`.`visa`
FROM `ablemusic`.`staff` AS `s.Staff`
INNER JOIN (
    SELECT DISTINCT `t3`.*
    FROM (
        SELECT `s2`.`user_id`
        FROM `ablemusic`.`user` AS `s2`
        LEFT JOIN `ablemusic`.`role` AS `s.Role2` ON `s2`.`role_id` = `s.Role2`.`role_id`
        WHERE `s2`.`user_name` = @__model_UserName_0
        ORDER BY `s2`.`user_id`
        LIMIT 1
    ) AS `t3`
) AS `t4` ON `s.Staff`.`user_id` = `t4`.`user_id`
ORDER BY `t4`.`user_id`, `s.Staff`.`staff_id`
2019-07-03 21:28:56.703 +12:00 [INF] Executed DbCommand (40ms) [Parameters=[@__model_UserName_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Staff.StaffOrg`.`staff_org_id`, `s.Staff.StaffOrg`.`is_activate`, `s.Staff.StaffOrg`.`org_id`, `s.Staff.StaffOrg`.`staff_id`, `s.Org`.`org_id`, `s.Org`.`abbr`, `s.Org`.`address`, `s.Org`.`email`, `s.Org`.`is_activate`, `s.Org`.`is_headoffice`, `s.Org`.`localtion_x`, `s.Org`.`localtion_y`, `s.Org`.`org_name`, `s.Org`.`phone`
FROM `ablemusic`.`staff_org` AS `s.Staff.StaffOrg`
LEFT JOIN `ablemusic`.`org` AS `s.Org` ON `s.Staff.StaffOrg`.`org_id` = `s.Org`.`org_id`
INNER JOIN (
    SELECT DISTINCT `s.Staff0`.`staff_id`, `t6`.`user_id`
    FROM `ablemusic`.`staff` AS `s.Staff0`
    INNER JOIN (
        SELECT DISTINCT `t5`.*
        FROM (
            SELECT `s3`.`user_id`
            FROM `ablemusic`.`user` AS `s3`
            LEFT JOIN `ablemusic`.`role` AS `s.Role3` ON `s3`.`role_id` = `s.Role3`.`role_id`
            WHERE `s3`.`user_name` = @__model_UserName_0
            ORDER BY `s3`.`user_id`
            LIMIT 1
        ) AS `t5`
    ) AS `t6` ON `s.Staff0`.`user_id` = `t6`.`user_id`
) AS `t7` ON `s.Staff.StaffOrg`.`staff_id` = `t7`.`staff_id`
ORDER BY `t7`.`user_id`, `t7`.`staff_id`
2019-07-03 21:28:56.704 +12:00 [INF] Executed action method Pegasus_backend.Controllers.Authorization.LoginController.Login (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 400.009ms.
2019-07-03 21:28:56.705 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:28:56.705 +12:00 [INF] Executed action Pegasus_backend.Controllers.Authorization.LoginController.Login (Pegasus_backend) in 401.4613ms
2019-07-03 21:28:56.705 +12:00 [INF] Request finished in 402.4063ms 200 application/json; charset=utf-8
2019-07-03 21:28:56.718 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/page  
2019-07-03 21:28:56.719 +12:00 [INF] Policy execution successful.
2019-07-03 21:28:56.720 +12:00 [INF] Route matched with {action = "GetRolePage", controller = "Page"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRolePage() on controller Pegasus_backend.Controllers.PageController (Pegasus_backend).
2019-07-03 21:28:56.720 +12:00 [INF] Executing action method Pegasus_backend.Controllers.PageController.GetRolePage (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:28:56.722 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:28:56.820 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`role_id` AS `RoleId`, `s.Page`.`url`
FROM `ablemusic`.`role_access` AS `s`
LEFT JOIN `ablemusic`.`page` AS `s.Page` ON `s`.`page_id` = `s.Page`.`page_id`
2019-07-03 21:28:56.820 +12:00 [INF] Executed action method Pegasus_backend.Controllers.PageController.GetRolePage (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 99.3058ms.
2019-07-03 21:28:56.820 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:28:56.821 +12:00 [INF] Executed action Pegasus_backend.Controllers.PageController.GetRolePage (Pegasus_backend) in 100.7491ms
2019-07-03 21:28:56.821 +12:00 [INF] Request finished in 102.3647ms 200 application/json; charset=utf-8
2019-07-03 21:28:56.855 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Chat/GetStaffChattingList/1  
2019-07-03 21:28:56.855 +12:00 [INF] Policy execution successful.
2019-07-03 21:28:56.855 +12:00 [INF] Route matched with {action = "GetStaffChattingList", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStaffChattingList(Int32) on controller Pegasus_backend.Controllers.MobileControllers.ChatController (Pegasus_backend).
2019-07-03 21:28:56.856 +12:00 [INF] Executing action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetStaffChattingList (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:28:56.856 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:28:56.857 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/todolist/3  
2019-07-03 21:28:56.857 +12:00 [INF] Policy execution successful.
2019-07-03 21:28:56.857 +12:00 [INF] Request finished in 0.3707ms 204 
2019-07-03 21:28:56.864 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/dashboard/1  
2019-07-03 21:28:56.864 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/dashboard/1  
2019-07-03 21:28:56.864 +12:00 [INF] Policy execution successful.
2019-07-03 21:28:56.864 +12:00 [INF] Policy execution successful.
2019-07-03 21:28:56.864 +12:00 [INF] Route matched with {action = "Get", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.String) on controller Pegasus_backend.Controllers.DashboardController (Pegasus_backend).
2019-07-03 21:28:56.864 +12:00 [INF] Route matched with {action = "Get", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.String) on controller Pegasus_backend.Controllers.DashboardController (Pegasus_backend).
2019-07-03 21:28:56.865 +12:00 [INF] Executing action method Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:28:56.865 +12:00 [INF] Executing action method Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:28:56.865 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:28:56.865 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:28:56.917 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/staff/Photos/2190613092457108.jpg  
2019-07-03 21:28:56.918 +12:00 [INF] Request finished in 0.5974ms 404 
2019-07-03 21:28:56.954 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
=======
2019-07-03 12:06:56.380 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__staffId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`org_id`
FROM `ablemusic`.`staff_org` AS `x`
WHERE `x`.`staff_id` = @__staffId_0
LIMIT 1
2019-07-03 12:06:56.403 +12:00 [WRN] Query: '(from Lesson x in DbSet<Lesson> where (Nullable<int>)(int)[x].OrgId == (Nullable<int>)__orgIdOfStaff...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 12:06:56.407 +12:00 [WRN] The Include operation for navigation '[x].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 12:06:56.638 +12:00 [INF] Executed DbCommand (61ms) [Parameters=[@__orgIdOfStaff_0='?' (DbType = Int16), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT `t`.*
FROM (
    SELECT `x.Learner`.`first_name` AS `FirstName`, `x.Learner`.`last_name` AS `LastName`, `x.Learner`.`user_id` AS `UserId`, `x.Learner`.`photo`
    FROM `ablemusic`.`lesson` AS `x`
    LEFT JOIN `ablemusic`.`learner` AS `x.Learner` ON `x`.`learner_id` = `x.Learner`.`learner_id`
    WHERE `x`.`org_id` = @__orgIdOfStaff_0
    LIMIT @__p_1
) AS `t`
2019-07-03 12:06:56.648 +12:00 [WRN] Query: '(from Learner x in DbSet<Learner> where (Nullable<int>)[x].OrgId == (Nullable<int>)__orgIdOfStaff_0 ...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 12:06:56.846 +12:00 [INF] Executed DbCommand (75ms) [Parameters=[@__orgIdOfStaff_0='?' (DbType = Int16), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`first_name` AS `FirstName`, `x`.`last_name` AS `LastName`, `x`.`user_id` AS `UserId`, `x`.`photo`
FROM `ablemusic`.`learner` AS `x`
WHERE `x`.`org_id` = @__orgIdOfStaff_0
LIMIT @__p_1
2019-07-03 12:06:56.853 +12:00 [WRN] Query: '(from Staff x in DbSet<Staff> where (Nullable<int>)(int)[x].StaffId != __staffId_0 select new Staff{...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 12:06:57.021 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__staffId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`first_name` AS `FirstName`, `x`.`last_name` AS `LastName`, `x`.`user_id` AS `UserId`, `x`.`photo`
FROM `ablemusic`.`staff` AS `x`
WHERE `x`.`staff_id` <> @__staffId_0
LIMIT @__p_1
2019-07-03 12:06:57.030 +12:00 [WRN] Query: '(from Teacher x in DbSet<Teacher> select new Teacher{ { 
    TeacherId = [x].TeacherId, , 
    Fir...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 12:06:57.281 +12:00 [INF] Executed DbCommand (68ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`teacher_id` AS `TeacherId`, `x`.`first_name` AS `FirstName`, `x`.`last_name` AS `LastName`, `x`.`photo`, `x`.`user_id` AS `UserId`
FROM `ablemusic`.`teacher` AS `x`
LIMIT @__p_0
2019-07-03 12:06:57.291 +12:00 [INF] Executed action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4433.8304ms.
2019-07-03 12:06:57.292 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[Pegasus_backend.Models.ChatListModel, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-03 12:06:57.441 +12:00 [INF] Executed action Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) in 4875.584ms
2019-07-03 12:06:57.442 +12:00 [INF] Request finished in 5231.9252ms 200 application/json; charset=utf-8
2019-07-03 12:06:57.458 +12:00 [INF] Connection id "0HLNV99CUUDVC", Request id "0HLNV99CUUDVC:00000001": the application completed without reading the entire request body.
2019-07-03 12:19:28.832 +12:00 [INF] User profile is available. Using 'C:\Users\lgx95\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-07-03 12:19:29.217 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Chat/GetChattingList/1 application/json 65
2019-07-03 12:19:29.258 +12:00 [WRN] Failed to determine the https port for redirect.
2019-07-03 12:19:29.419 +12:00 [INF] Route matched with {action = "GetChattingList", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChattingList(Int32) on controller Pegasus_backend.Controllers.MobileControllers.ChatController (Pegasus_backend).
2019-07-03 12:19:29.557 +12:00 [INF] Executing action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) - Validation state: "Valid"
2019-07-03 12:19:30.545 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 12:19:36.760 +12:00 [INF] User profile is available. Using 'C:\Users\lgx95\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-07-03 12:19:37.519 +12:00 [INF] Request starting HTTP/1.1 DEBUG http://localhost:5000/  0
2019-07-03 12:19:37.519 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/values  
2019-07-03 12:19:37.537 +12:00 [INF] Request finished in 18.8061ms 200 
2019-07-03 12:19:37.564 +12:00 [WRN] Failed to determine the https port for redirect.
2019-07-03 12:19:37.771 +12:00 [INF] Route matched with {action = "Get", controller = "Values"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get() on controller Pegasus_backend.Controllers.ValuesController (Pegasus_backend).
2019-07-03 12:19:37.918 +12:00 [INF] Executing action method Pegasus_backend.Controllers.ValuesController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-03 12:19:38.033 +12:00 [ERR] ValuesController LogErrorToFile: System.Exception: Exception of type 'System.Exception' was thrown.
   at Pegasus_backend.Controllers.ValuesController.Get() in C:\angular\pegasusBackend\Controllers\ValuesController.cs:line 30
2019-07-03 12:19:38.033 +12:00 [INF] ValuesController LogInfoToFile: hello
2019-07-03 12:19:38.038 +12:00 [INF] Executed action method Pegasus_backend.Controllers.ValuesController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 109.04570000000001ms.
2019-07-03 12:19:38.047 +12:00 [INF] Executing ObjectResult, writing value of type 'System.DateTime'.
2019-07-03 12:19:38.093 +12:00 [INF] Executed action Pegasus_backend.Controllers.ValuesController.Get (Pegasus_backend) in 317.5937ms
2019-07-03 12:19:38.097 +12:00 [INF] Request finished in 580.5026ms 200 application/json; charset=utf-8
2019-07-03 12:19:39.032 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Chat/GetChattingList/1 application/json 65
2019-07-03 12:19:39.053 +12:00 [INF] Route matched with {action = "GetChattingList", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChattingList(Int32) on controller Pegasus_backend.Controllers.MobileControllers.ChatController (Pegasus_backend).
2019-07-03 12:19:39.072 +12:00 [INF] Executing action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) - Validation state: "Valid"
2019-07-03 12:19:40.066 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 12:19:42.535 +12:00 [INF] Executed DbCommand (93ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`user_id`, `x`.`created_at`, `x`.`is_activate`, `x`.`password`, `x`.`role_id`, `x`.`unread_message_id`, `x`.`user_name`, `x.Role`.`role_id`, `x.Role`.`role_name`
FROM `ablemusic`.`user` AS `x`
LEFT JOIN `ablemusic`.`role` AS `x.Role` ON `x`.`role_id` = `x.Role`.`role_id`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
2019-07-03 12:19:42.967 +12:00 [INF] Executed DbCommand (92ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
>>>>>>> 70179401b82cb6ed928ca587a5b8d762b7e7cca6
SELECT `x`.`staff_id`, `x`.`dob`, `x`.`email`, `x`.`expiry_date`, `x`.`first_name`, `x`.`gender`, `x`.`home_phone`, `x`.`id_number`, `x`.`id_photo`, `x`.`id_type`, `x`.`ird_number`, `x`.`is_activate`, `x`.`last_name`, `x`.`mobile_phone`, `x`.`photo`, `x`.`user_id`, `x`.`visa`
FROM `ablemusic`.`staff` AS `x`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
<<<<<<< HEAD
2019-07-03 21:28:56.961 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:28:56.965 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/todolist/3  
2019-07-03 21:28:56.965 +12:00 [INF] Policy execution successful.
2019-07-03 21:28:56.966 +12:00 [INF] Successfully validated the token.
2019-07-03 21:28:56.966 +12:00 [INF] Route matched with {action = "Get", controller = "TodoList"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int16) on controller Pegasus_backend.Controllers.TodoListController (Pegasus_backend).
2019-07-03 21:28:56.966 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TodoListController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:28:56.967 +12:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:28:56.967 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:28:56.973 +12:00 [WRN] The LINQ expression 'where ([t].TodoDate == Convert(value(Pegasus_backend.Controllers.TodoListController).toNZTimezone(DateTime.UtcNow).Date, Nullable`1))' could not be translated and will be evaluated locally.
2019-07-03 21:28:57.066 +12:00 [INF] Executed DbCommand (36ms) [Parameters=[@__staffDetial_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`org_id`
FROM `ablemusic`.`staff_org` AS `x`
WHERE `x`.`staff_id` = @__staffDetial_StaffId_0
LIMIT 1
2019-07-03 21:28:57.073 +12:00 [INF] Executed DbCommand (38ms) [Parameters=[@__userId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`list_id`, `t`.`created_at`, `t`.`learner_id`, `t`.`lesson_id`, `t`.`list_content`, `t`.`list_name`, `t`.`process_flag`, `t`.`processed_at`, `t`.`teacher_id`, `t`.`todo_date`, `t`.`user_id`
FROM `ablemusic`.`todo_list` AS `t`
WHERE `t`.`user_id` = @__userId_0
2019-07-03 21:28:57.161 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:28:57.167 +12:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:28:57.179 +12:00 [INF] Executed DbCommand (46ms) [Parameters=[@__id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`staff_id`, `x`.`dob`, `x`.`email`, `x`.`expiry_date`, `x`.`first_name`, `x`.`gender`, `x`.`home_phone`, `x`.`id_number`, `x`.`id_photo`, `x`.`id_type`, `x`.`ird_number`, `x`.`is_activate`, `x`.`last_name`, `x`.`mobile_phone`, `x`.`photo`, `x`.`user_id`, `x`.`visa`
FROM `ablemusic`.`staff` AS `x`
WHERE (`x`.`user_id` <> @__id_0) OR `x`.`user_id` IS NULL
LIMIT @__p_1
2019-07-03 21:28:57.296 +12:00 [INF] Executed DbCommand (30ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`teacher_id` AS `TeacherId`, `x`.`first_name` AS `FirstName`, `x`.`last_name` AS `LastName`, `x`.`email`
FROM `ablemusic`.`teacher` AS `x`
LIMIT @__p_0
2019-07-03 21:28:57.407 +12:00 [INF] Executed DbCommand (35ms) [Parameters=[@__orgIdOfStaff_0='?' (DbType = Int16), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x.Learner`.`learner_id`, `x.Learner`.`address`, `x.Learner`.`contact_num`, `x.Learner`.`created_at`, `x.Learner`.`dob`, `x.Learner`.`email`, `x.Learner`.`enroll_date`, `x.Learner`.`first_name`, `x.Learner`.`form_url`, `x.Learner`.`g5_certification`, `x.Learner`.`gender`, `x.Learner`.`is_abrsm_g5`, `x.Learner`.`is_active`, `x.Learner`.`is_under_18`, `x.Learner`.`last_name`, `x.Learner`.`learner_level`, `x.Learner`.`level_type`, `x.Learner`.`middle_name`, `x.Learner`.`note`, `x.Learner`.`org_id`, `x.Learner`.`otherfile_url`, `x.Learner`.`payment_period`, `x.Learner`.`photo`, `x.Learner`.`referrer`, `x.Learner`.`referrer_learner_id`, `x.Learner`.`user_id`, `x`.`lesson_id` AS `LessonId`, `x`.`learner_id` AS `LearnerId`
FROM `ablemusic`.`lesson` AS `x`
LEFT JOIN `ablemusic`.`learner` AS `x.Learner` ON `x`.`learner_id` = `x.Learner`.`learner_id`
WHERE `x`.`org_id` = @__orgIdOfStaff_0
LIMIT @__p_1
2019-07-03 21:28:57.473 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`org_id` IN (1)
2019-07-03 21:28:57.492 +12:00 [INF] Executed DbCommand (70ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`org_id` IN (1)
2019-07-03 21:28:57.509 +12:00 [INF] Executed DbCommand (38ms) [Parameters=[@__orgIdOfStaff_0='?' (DbType = Int16), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_id`, `x`.`address`, `x`.`contact_num`, `x`.`created_at`, `x`.`dob`, `x`.`email`, `x`.`enroll_date`, `x`.`first_name`, `x`.`form_url`, `x`.`g5_certification`, `x`.`gender`, `x`.`is_abrsm_g5`, `x`.`is_active`, `x`.`is_under_18`, `x`.`last_name`, `x`.`learner_level`, `x`.`level_type`, `x`.`middle_name`, `x`.`note`, `x`.`org_id`, `x`.`otherfile_url`, `x`.`payment_period`, `x`.`photo`, `x`.`referrer`, `x`.`referrer_learner_id`, `x`.`user_id`
FROM `ablemusic`.`learner` AS `x`
WHERE `x`.`org_id` = @__orgIdOfStaff_0
LIMIT @__p_1
2019-07-03 21:28:57.510 +12:00 [INF] Executed action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetStaffChattingList (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 653.7279ms.
2019-07-03 21:28:57.510 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Tuple`4[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Staff, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Teacher, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lesson, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Learner, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:28:57.510 +12:00 [INF] Executed action Pegasus_backend.Controllers.MobileControllers.ChatController.GetStaffChattingList (Pegasus_backend) in 655.24520000000007ms
2019-07-03 21:28:57.511 +12:00 [INF] Request finished in 656.0898ms 200 application/json; charset=utf-8
2019-07-03 21:28:57.756 +12:00 [INF] Executed DbCommand (80ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`waiting_id`, `w`.`begin_date`, `w`.`concert_fee`, `w`.`concert_fee_name`, `w`.`course_instance_id`, `w`.`course_name`, `w`.`created_at`, `w`.`due_date`, `w`.`end_date`, `w`.`group_course_instance_id`, `w`.`invoice_num`, `w`.`is_activate`, `w`.`is_confirmed`, `w`.`is_email_sent`, `w`.`is_paid`, `w`.`learner_id`, `w`.`learner_name`, `w`.`lesson_fee`, `w`.`lesson_note_fee_name`, `w`.`lesson_quantity`, `w`.`note_fee`, `w`.`other1_fee`, `w`.`other1_fee_name`, `w`.`other2_fee`, `w`.`other2_fee_name`, `w`.`other3_fee`, `w`.`other3_fee_name`, `w`.`owing_fee`, `w`.`paid_fee`, `w`.`term_id`, `w`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `w`
INNER JOIN `ablemusic`.`learner` AS `l` ON `w`.`learner_id` = `l`.`learner_id`
WHERE `l`.`org_id` IN (1) AND (`w`.`is_confirmed` = 0)
2019-07-03 21:28:57.921 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TodoListController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 954.6475ms.
2019-07-03 21:28:57.921 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.TodoList, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:28:57.925 +12:00 [INF] Executed action Pegasus_backend.Controllers.TodoListController.Get (Pegasus_backend) in 958.5715ms
2019-07-03 21:28:57.925 +12:00 [INF] Request finished in 959.7244ms 200 application/json; charset=utf-8
2019-07-03 21:28:58.127 +12:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`waiting_id`, `w`.`begin_date`, `w`.`concert_fee`, `w`.`concert_fee_name`, `w`.`course_instance_id`, `w`.`course_name`, `w`.`created_at`, `w`.`due_date`, `w`.`end_date`, `w`.`group_course_instance_id`, `w`.`invoice_num`, `w`.`is_activate`, `w`.`is_confirmed`, `w`.`is_email_sent`, `w`.`is_paid`, `w`.`learner_id`, `w`.`learner_name`, `w`.`lesson_fee`, `w`.`lesson_note_fee_name`, `w`.`lesson_quantity`, `w`.`note_fee`, `w`.`other1_fee`, `w`.`other1_fee_name`, `w`.`other2_fee`, `w`.`other2_fee_name`, `w`.`other3_fee`, `w`.`other3_fee_name`, `w`.`owing_fee`, `w`.`paid_fee`, `w`.`term_id`, `w`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `w`
INNER JOIN `ablemusic`.`learner` AS `l` ON `w`.`learner_id` = `l`.`learner_id`
WHERE `l`.`org_id` IN (1) AND (`w`.`is_confirmed` = 0)
2019-07-03 21:28:58.383 +12:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`begin_time` IS NOT NULL AND (`l`.`is_canceled` = 1)) AND `l`.`org_id` IN (1)
2019-07-03 21:28:58.630 +12:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE ((`l`.`begin_time` IS NOT NULL AND `l`.`org_id` IN (1)) AND ((`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL)) AND (`l`.`is_changed` = 1)
2019-07-03 21:28:58.773 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`amendment_id`, `a`.`amend_type`, `a`.`begin_date`, `a`.`begin_time`, `a`.`course_instance_id`, `a`.`course_schedule_id`, `a`.`created_at`, `a`.`day_of_week`, `a`.`end_date`, `a`.`end_time`, `a`.`is_temporary`, `a`.`learner_id`, `a`.`org_id`, `a`.`reason`, `a`.`room_id`, `a`.`teacher_id`
FROM `ablemusic`.`amendment` AS `a`
WHERE `a`.`org_id` IN (1)
2019-07-03 21:28:58.821 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`begin_time` IS NOT NULL AND (`l`.`is_canceled` = 1)) AND `l`.`org_id` IN (1)
2019-07-03 21:28:58.874 +12:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`amendment_id`, `a`.`amend_type`, `a`.`begin_date`, `a`.`begin_time`, `a`.`course_instance_id`, `a`.`course_schedule_id`, `a`.`created_at`, `a`.`day_of_week`, `a`.`end_date`, `a`.`end_time`, `a`.`is_temporary`, `a`.`learner_id`, `a`.`org_id`, `a`.`reason`, `a`.`room_id`, `a`.`teacher_id`
FROM `ablemusic`.`amendment` AS `a`
WHERE `a`.`org_id` IN (1)
2019-07-03 21:28:58.979 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:28:59.030 +12:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE ((`l`.`begin_time` IS NOT NULL AND `l`.`org_id` IN (1)) AND ((`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL)) AND (`l`.`is_changed` = 1)
2019-07-03 21:28:59.137 +12:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`amendment_id`, `a`.`amend_type`, `a`.`begin_date`, `a`.`begin_time`, `a`.`course_instance_id`, `a`.`course_schedule_id`, `a`.`created_at`, `a`.`day_of_week`, `a`.`end_date`, `a`.`end_time`, `a`.`is_temporary`, `a`.`learner_id`, `a`.`org_id`, `a`.`reason`, `a`.`room_id`, `a`.`teacher_id`
FROM `ablemusic`.`amendment` AS `a`
WHERE `a`.`org_id` IN (1)
2019-07-03 21:28:59.159 +12:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE `l`.`learner_id` IN (182, 10057, 10058, 10059, 10065, 3, 10070, 10066)
2019-07-03 21:28:59.236 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`amendment_id`, `a`.`amend_type`, `a`.`begin_date`, `a`.`begin_time`, `a`.`course_instance_id`, `a`.`course_schedule_id`, `a`.`created_at`, `a`.`day_of_week`, `a`.`end_date`, `a`.`end_time`, `a`.`is_temporary`, `a`.`learner_id`, `a`.`org_id`, `a`.`reason`, `a`.`room_id`, `a`.`teacher_id`
FROM `ablemusic`.`amendment` AS `a`
WHERE `a`.`org_id` IN (1)
2019-07-03 21:28:59.336 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:28:59.353 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:28:59.525 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE `l`.`learner_id` IN (182, 10057, 10058, 10059, 10065, 3, 10070, 10066)
2019-07-03 21:28:59.546 +12:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE `l`.`learner_id` IN (182, 10057, 10058, 10059, 10065, 3, 10070, 10066)
2019-07-03 21:28:59.744 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:28:59.764 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:28:59.949 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE `l`.`learner_id` IN (182, 10057, 10058, 10059, 10065, 3, 10070, 10066)
2019-07-03 21:28:59.981 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE `l`.`learner_id` IN (182, 10057, 10058, 10059, 10065, 3, 10070, 10066)
2019-07-03 21:29:00.217 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:29:00.240 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
2019-07-03 21:29:00.453 +12:00 [INF] Executed DbCommand (86ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE `l`.`learner_id` IN (182, 10057, 10058, 10059, 10065, 3, 10070, 10066)
2019-07-03 21:29:00.569 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`org_id` IN (1)
2019-07-03 21:29:00.616 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
2019-07-03 21:29:00.641 +12:00 [INF] Executed action method Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3775.7712ms.
2019-07-03 21:29:00.641 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:29:00.641 +12:00 [INF] Executed action Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend) in 3776.5747ms
2019-07-03 21:29:00.641 +12:00 [INF] Request finished in 3777.5719ms 200 application/json; charset=utf-8
2019-07-03 21:29:00.854 +12:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`org_id` IN (1)
2019-07-03 21:29:00.916 +12:00 [INF] Executed action method Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4051.1173000000003ms.
2019-07-03 21:29:00.916 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:29:00.917 +12:00 [INF] Executed action Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend) in 4052.2732ms
2019-07-03 21:29:00.917 +12:00 [INF] Request finished in 4053.17ms 200 application/json; charset=utf-8
2019-07-03 21:29:38.074 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/login  
2019-07-03 21:29:38.074 +12:00 [INF] Policy execution successful.
2019-07-03 21:29:38.074 +12:00 [INF] Request finished in 0.3502ms 204 
2019-07-03 21:29:38.095 +12:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/login application/json 41
2019-07-03 21:29:38.095 +12:00 [INF] Policy execution successful.
2019-07-03 21:29:38.095 +12:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Pegasus_backend.Models.UsrAndPass) on controller Pegasus_backend.Controllers.Authorization.LoginController (Pegasus_backend).
2019-07-03 21:29:38.096 +12:00 [INF] Executing action method Pegasus_backend.Controllers.Authorization.LoginController.Login (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:29:38.098 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:29:38.196 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__model_UserName_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`user_id`, `s`.`created_at`, `s`.`is_activate`, `s`.`password`, `s`.`role_id`, `s`.`unread_message_id`, `s`.`user_name`, `s.Role`.`role_id`, `s.Role`.`role_name`
FROM `ablemusic`.`user` AS `s`
LEFT JOIN `ablemusic`.`role` AS `s.Role` ON `s`.`role_id` = `s.Role`.`role_id`
WHERE `s`.`user_name` = @__model_UserName_0
ORDER BY `s`.`user_id`
LIMIT 1
2019-07-03 21:29:38.233 +12:00 [INF] Executed DbCommand (36ms) [Parameters=[@__model_UserName_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Learner`.`learner_id`, `s.Learner`.`address`, `s.Learner`.`contact_num`, `s.Learner`.`created_at`, `s.Learner`.`dob`, `s.Learner`.`email`, `s.Learner`.`enroll_date`, `s.Learner`.`first_name`, `s.Learner`.`form_url`, `s.Learner`.`g5_certification`, `s.Learner`.`gender`, `s.Learner`.`is_abrsm_g5`, `s.Learner`.`is_active`, `s.Learner`.`is_under_18`, `s.Learner`.`last_name`, `s.Learner`.`learner_level`, `s.Learner`.`level_type`, `s.Learner`.`middle_name`, `s.Learner`.`note`, `s.Learner`.`org_id`, `s.Learner`.`otherfile_url`, `s.Learner`.`payment_period`, `s.Learner`.`photo`, `s.Learner`.`referrer`, `s.Learner`.`referrer_learner_id`, `s.Learner`.`user_id`
FROM `ablemusic`.`learner` AS `s.Learner`
INNER JOIN (
    SELECT DISTINCT `t`.*
    FROM (
        SELECT `s0`.`user_id`
        FROM `ablemusic`.`user` AS `s0`
        LEFT JOIN `ablemusic`.`role` AS `s.Role0` ON `s0`.`role_id` = `s.Role0`.`role_id`
        WHERE `s0`.`user_name` = @__model_UserName_0
        ORDER BY `s0`.`user_id`
        LIMIT 1
    ) AS `t`
) AS `t0` ON `s.Learner`.`user_id` = `t0`.`user_id`
ORDER BY `t0`.`user_id`
2019-07-03 21:29:38.328 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__model_UserName_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Teacher`.`teacher_id`, `s.Teacher`.`ability`, `s.Teacher`.`comment`, `s.Teacher`.`cv_url`, `s.Teacher`.`dob`, `s.Teacher`.`email`, `s.Teacher`.`expiry_date`, `s.Teacher`.`first_name`, `s.Teacher`.`form_url`, `s.Teacher`.`gender`, `s.Teacher`.`home_phone`, `s.Teacher`.`id_number`, `s.Teacher`.`id_photo`, `s.Teacher`.`id_type`, `s.Teacher`.`invoice_template`, `s.Teacher`.`ird_number`, `s.Teacher`.`is_activate`, `s.Teacher`.`is_contract`, `s.Teacher`.`is_left`, `s.Teacher`.`last_name`, `s.Teacher`.`level`, `s.Teacher`.`minimum_hours`, `s.Teacher`.`mobile_phone`, `s.Teacher`.`otherfile_url`, `s.Teacher`.`photo`, `s.Teacher`.`user_id`, `s.Teacher`.`visa`
FROM `ablemusic`.`teacher` AS `s.Teacher`
INNER JOIN (
    SELECT DISTINCT `t1`.*
    FROM (
        SELECT `s1`.`user_id`
        FROM `ablemusic`.`user` AS `s1`
        LEFT JOIN `ablemusic`.`role` AS `s.Role1` ON `s1`.`role_id` = `s.Role1`.`role_id`
        WHERE `s1`.`user_name` = @__model_UserName_0
        ORDER BY `s1`.`user_id`
        LIMIT 1
    ) AS `t1`
) AS `t2` ON `s.Teacher`.`user_id` = `t2`.`user_id`
ORDER BY `t2`.`user_id`
2019-07-03 21:29:38.423 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__model_UserName_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Staff`.`staff_id`, `s.Staff`.`dob`, `s.Staff`.`email`, `s.Staff`.`expiry_date`, `s.Staff`.`first_name`, `s.Staff`.`gender`, `s.Staff`.`home_phone`, `s.Staff`.`id_number`, `s.Staff`.`id_photo`, `s.Staff`.`id_type`, `s.Staff`.`ird_number`, `s.Staff`.`is_activate`, `s.Staff`.`last_name`, `s.Staff`.`mobile_phone`, `s.Staff`.`photo`, `s.Staff`.`user_id`, `s.Staff`.`visa`
FROM `ablemusic`.`staff` AS `s.Staff`
INNER JOIN (
    SELECT DISTINCT `t3`.*
    FROM (
        SELECT `s2`.`user_id`
        FROM `ablemusic`.`user` AS `s2`
        LEFT JOIN `ablemusic`.`role` AS `s.Role2` ON `s2`.`role_id` = `s.Role2`.`role_id`
        WHERE `s2`.`user_name` = @__model_UserName_0
        ORDER BY `s2`.`user_id`
        LIMIT 1
    ) AS `t3`
) AS `t4` ON `s.Staff`.`user_id` = `t4`.`user_id`
ORDER BY `t4`.`user_id`, `s.Staff`.`staff_id`
2019-07-03 21:29:38.456 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__model_UserName_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Staff.StaffOrg`.`staff_org_id`, `s.Staff.StaffOrg`.`is_activate`, `s.Staff.StaffOrg`.`org_id`, `s.Staff.StaffOrg`.`staff_id`, `s.Org`.`org_id`, `s.Org`.`abbr`, `s.Org`.`address`, `s.Org`.`email`, `s.Org`.`is_activate`, `s.Org`.`is_headoffice`, `s.Org`.`localtion_x`, `s.Org`.`localtion_y`, `s.Org`.`org_name`, `s.Org`.`phone`
FROM `ablemusic`.`staff_org` AS `s.Staff.StaffOrg`
LEFT JOIN `ablemusic`.`org` AS `s.Org` ON `s.Staff.StaffOrg`.`org_id` = `s.Org`.`org_id`
INNER JOIN (
    SELECT DISTINCT `s.Staff0`.`staff_id`, `t6`.`user_id`
    FROM `ablemusic`.`staff` AS `s.Staff0`
    INNER JOIN (
        SELECT DISTINCT `t5`.*
        FROM (
            SELECT `s3`.`user_id`
            FROM `ablemusic`.`user` AS `s3`
            LEFT JOIN `ablemusic`.`role` AS `s.Role3` ON `s3`.`role_id` = `s.Role3`.`role_id`
            WHERE `s3`.`user_name` = @__model_UserName_0
            ORDER BY `s3`.`user_id`
            LIMIT 1
        ) AS `t5`
    ) AS `t6` ON `s.Staff0`.`user_id` = `t6`.`user_id`
) AS `t7` ON `s.Staff.StaffOrg`.`staff_id` = `t7`.`staff_id`
ORDER BY `t7`.`user_id`, `t7`.`staff_id`
2019-07-03 21:29:38.457 +12:00 [INF] Executed action method Pegasus_backend.Controllers.Authorization.LoginController.Login (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 360.425ms.
2019-07-03 21:29:38.458 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:29:38.458 +12:00 [INF] Executed action Pegasus_backend.Controllers.Authorization.LoginController.Login (Pegasus_backend) in 362.8869ms
2019-07-03 21:29:38.459 +12:00 [INF] Request finished in 364.1407ms 200 application/json; charset=utf-8
2019-07-03 21:29:38.471 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/page  
2019-07-03 21:29:38.472 +12:00 [INF] Policy execution successful.
2019-07-03 21:29:38.472 +12:00 [INF] Route matched with {action = "GetRolePage", controller = "Page"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRolePage() on controller Pegasus_backend.Controllers.PageController (Pegasus_backend).
2019-07-03 21:29:38.473 +12:00 [INF] Executing action method Pegasus_backend.Controllers.PageController.GetRolePage (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:29:38.475 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:29:38.570 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`role_id` AS `RoleId`, `s.Page`.`url`
FROM `ablemusic`.`role_access` AS `s`
LEFT JOIN `ablemusic`.`page` AS `s.Page` ON `s`.`page_id` = `s.Page`.`page_id`
2019-07-03 21:29:38.571 +12:00 [INF] Executed action method Pegasus_backend.Controllers.PageController.GetRolePage (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 97.316ms.
2019-07-03 21:29:38.571 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:29:38.571 +12:00 [INF] Executed action Pegasus_backend.Controllers.PageController.GetRolePage (Pegasus_backend) in 98.445000000000007ms
2019-07-03 21:29:38.571 +12:00 [INF] Request finished in 100.1465ms 200 application/json; charset=utf-8
2019-07-03 21:29:38.592 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Chat/GetStaffChattingList/1  
2019-07-03 21:29:38.592 +12:00 [INF] Policy execution successful.
2019-07-03 21:29:38.592 +12:00 [INF] Route matched with {action = "GetStaffChattingList", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStaffChattingList(Int32) on controller Pegasus_backend.Controllers.MobileControllers.ChatController (Pegasus_backend).
2019-07-03 21:29:38.593 +12:00 [INF] Executing action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetStaffChattingList (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:29:38.594 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:29:38.596 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/todolist/3  
2019-07-03 21:29:38.596 +12:00 [INF] Policy execution successful.
2019-07-03 21:29:38.596 +12:00 [INF] Request finished in 0.3865ms 204 
2019-07-03 21:29:38.603 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/dashboard/1  
2019-07-03 21:29:38.603 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/dashboard/1  
2019-07-03 21:29:38.603 +12:00 [INF] Policy execution successful.
2019-07-03 21:29:38.603 +12:00 [INF] Policy execution successful.
2019-07-03 21:29:38.603 +12:00 [INF] Route matched with {action = "Get", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.String) on controller Pegasus_backend.Controllers.DashboardController (Pegasus_backend).
2019-07-03 21:29:38.603 +12:00 [INF] Route matched with {action = "Get", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.String) on controller Pegasus_backend.Controllers.DashboardController (Pegasus_backend).
2019-07-03 21:29:38.603 +12:00 [INF] Executing action method Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:29:38.603 +12:00 [INF] Executing action method Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:29:38.604 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:29:38.604 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:29:38.658 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/staff/Photos/2190613092457108.jpg  
2019-07-03 21:29:38.666 +12:00 [INF] Request finished in 8.6596ms 404 
2019-07-03 21:29:38.692 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
=======
2019-07-03 12:19:43.309 +12:00 [INF] Executed DbCommand (94ms) [Parameters=[@__staffId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`org_id`
FROM `ablemusic`.`staff_org` AS `x`
WHERE `x`.`staff_id` = @__staffId_0
LIMIT 1
2019-07-03 12:19:43.327 +12:00 [WRN] Query: '(from Lesson x in DbSet<Lesson> where (Nullable<int>)(int)[x].OrgId == (Nullable<int>)__orgIdOfStaff...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 12:19:43.330 +12:00 [WRN] The Include operation for navigation '[x].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 12:19:43.648 +12:00 [INF] Executed DbCommand (102ms) [Parameters=[@__orgIdOfStaff_0='?' (DbType = Int16), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT `t`.*
FROM (
    SELECT `x`.`learner_id` AS `LearnerId`, `x.Learner`.`first_name` AS `FirstName`, `x.Learner`.`last_name` AS `LastName`, `x.Learner`.`user_id` AS `UserId`, `x.Learner`.`photo`
    FROM `ablemusic`.`lesson` AS `x`
    LEFT JOIN `ablemusic`.`learner` AS `x.Learner` ON `x`.`learner_id` = `x.Learner`.`learner_id`
    WHERE `x`.`org_id` = @__orgIdOfStaff_0
    LIMIT @__p_1
) AS `t`
2019-07-03 12:19:43.672 +12:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'Pegasus_backend.pegasusContext.ablemusicContext'.
System.InvalidOperationException: Nullable object must have a value.
   at lambda_method(Closure , TransparentIdentifier`2 )
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.MoveNextCore(CancellationToken cancellationToken)
   at System.Linq.AsyncEnumerable.AsyncIterator`1.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
System.InvalidOperationException: Nullable object must have a value.
   at lambda_method(Closure , TransparentIdentifier`2 )
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.MoveNextCore(CancellationToken cancellationToken)
   at System.Linq.AsyncEnumerable.AsyncIterator`1.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
2019-07-03 12:19:43.777 +12:00 [INF] Executed action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 4704.1706ms.
2019-07-03 12:19:43.777 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[Pegasus_backend.Models.ChatListModel, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-03 12:19:43.796 +12:00 [INF] Executed action Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) in 4743.2759000000005ms
2019-07-03 12:19:43.797 +12:00 [INF] Request finished in 4765.1526ms 400 application/json; charset=utf-8
2019-07-03 12:19:43.808 +12:00 [INF] Connection id "0HLNV9GH1A5GB", Request id "0HLNV9GH1A5GB:00000002": the application completed without reading the entire request body.
2019-07-03 12:20:38.347 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Chat/GetChattingList/1 application/json 65
2019-07-03 12:20:38.348 +12:00 [INF] Route matched with {action = "GetChattingList", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChattingList(Int32) on controller Pegasus_backend.Controllers.MobileControllers.ChatController (Pegasus_backend).
2019-07-03 12:20:38.350 +12:00 [INF] Executing action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) - Validation state: "Valid"
2019-07-03 12:20:38.357 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 12:20:38.606 +12:00 [INF] Executed DbCommand (86ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`user_id`, `x`.`created_at`, `x`.`is_activate`, `x`.`password`, `x`.`role_id`, `x`.`unread_message_id`, `x`.`user_name`, `x.Role`.`role_id`, `x.Role`.`role_name`
FROM `ablemusic`.`user` AS `x`
LEFT JOIN `ablemusic`.`role` AS `x.Role` ON `x`.`role_id` = `x.Role`.`role_id`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
2019-07-03 12:20:38.853 +12:00 [INF] Executed DbCommand (83ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`staff_id`, `x`.`dob`, `x`.`email`, `x`.`expiry_date`, `x`.`first_name`, `x`.`gender`, `x`.`home_phone`, `x`.`id_number`, `x`.`id_photo`, `x`.`id_type`, `x`.`ird_number`, `x`.`is_activate`, `x`.`last_name`, `x`.`mobile_phone`, `x`.`photo`, `x`.`user_id`, `x`.`visa`
FROM `ablemusic`.`staff` AS `x`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
2019-07-03 12:20:39.077 +12:00 [INF] Executed DbCommand (74ms) [Parameters=[@__staffId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`org_id`
FROM `ablemusic`.`staff_org` AS `x`
WHERE `x`.`staff_id` = @__staffId_0
LIMIT 1
2019-07-03 12:20:39.312 +12:00 [INF] Executed DbCommand (82ms) [Parameters=[@__orgIdOfStaff_0='?' (DbType = Int16), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT `t`.*
FROM (
    SELECT `x`.`learner_id` AS `LearnerId`, `x.Learner`.`first_name` AS `FirstName`, `x.Learner`.`last_name` AS `LastName`, `x.Learner`.`user_id` AS `UserId`, `x.Learner`.`photo`
    FROM `ablemusic`.`lesson` AS `x`
    LEFT JOIN `ablemusic`.`learner` AS `x.Learner` ON `x`.`learner_id` = `x.Learner`.`learner_id`
    WHERE `x`.`org_id` = @__orgIdOfStaff_0
    LIMIT @__p_1
) AS `t`
2019-07-03 12:20:39.314 +12:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'Pegasus_backend.pegasusContext.ablemusicContext'.
System.InvalidOperationException: Nullable object must have a value.
   at lambda_method(Closure , TransparentIdentifier`2 )
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.MoveNextCore(CancellationToken cancellationToken)
   at System.Linq.AsyncEnumerable.AsyncIterator`1.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
System.InvalidOperationException: Nullable object must have a value.
   at lambda_method(Closure , TransparentIdentifier`2 )
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.MoveNextCore(CancellationToken cancellationToken)
   at System.Linq.AsyncEnumerable.AsyncIterator`1.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
2019-07-03 12:20:39.393 +12:00 [INF] Executed action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1042.3359ms.
2019-07-03 12:20:39.393 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[Pegasus_backend.Models.ChatListModel, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-03 12:20:39.394 +12:00 [INF] Executed action Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) in 1044.9228ms
2019-07-03 12:20:39.394 +12:00 [INF] Request finished in 1062.4139ms 400 application/json; charset=utf-8
2019-07-03 12:20:39.394 +12:00 [INF] Connection id "0HLNV9GH1A5GB", Request id "0HLNV9GH1A5GB:00000003": the application completed without reading the entire request body.
2019-07-03 12:20:55.855 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Chat/GetChattingList/1 application/json 65
2019-07-03 12:20:55.856 +12:00 [INF] Route matched with {action = "GetChattingList", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChattingList(Int32) on controller Pegasus_backend.Controllers.MobileControllers.ChatController (Pegasus_backend).
2019-07-03 12:20:55.857 +12:00 [INF] Executing action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) - Validation state: "Valid"
2019-07-03 12:20:55.858 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 12:20:56.094 +12:00 [INF] Executed DbCommand (80ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`user_id`, `x`.`created_at`, `x`.`is_activate`, `x`.`password`, `x`.`role_id`, `x`.`unread_message_id`, `x`.`user_name`, `x.Role`.`role_id`, `x.Role`.`role_name`
FROM `ablemusic`.`user` AS `x`
LEFT JOIN `ablemusic`.`role` AS `x.Role` ON `x`.`role_id` = `x.Role`.`role_id`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
2019-07-03 12:20:56.318 +12:00 [INF] Executed DbCommand (62ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
>>>>>>> 70179401b82cb6ed928ca587a5b8d762b7e7cca6
SELECT `x`.`staff_id`, `x`.`dob`, `x`.`email`, `x`.`expiry_date`, `x`.`first_name`, `x`.`gender`, `x`.`home_phone`, `x`.`id_number`, `x`.`id_photo`, `x`.`id_type`, `x`.`ird_number`, `x`.`is_activate`, `x`.`last_name`, `x`.`mobile_phone`, `x`.`photo`, `x`.`user_id`, `x`.`visa`
FROM `ablemusic`.`staff` AS `x`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
<<<<<<< HEAD
2019-07-03 21:29:38.699 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:29:38.700 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:29:38.720 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/todolist/3  
2019-07-03 21:29:38.720 +12:00 [INF] Policy execution successful.
2019-07-03 21:29:38.721 +12:00 [INF] Successfully validated the token.
2019-07-03 21:29:38.721 +12:00 [INF] Route matched with {action = "Get", controller = "TodoList"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int16) on controller Pegasus_backend.Controllers.TodoListController (Pegasus_backend).
2019-07-03 21:29:38.721 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TodoListController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:29:38.722 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:29:38.729 +12:00 [WRN] The LINQ expression 'where ([t].TodoDate == Convert(value(Pegasus_backend.Controllers.TodoListController).toNZTimezone(DateTime.UtcNow).Date, Nullable`1))' could not be translated and will be evaluated locally.
2019-07-03 21:29:38.796 +12:00 [INF] Executed DbCommand (41ms) [Parameters=[@__staffDetial_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`org_id`
FROM `ablemusic`.`staff_org` AS `x`
WHERE `x`.`staff_id` = @__staffDetial_StaffId_0
LIMIT 1
2019-07-03 21:29:38.832 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`list_id`, `t`.`created_at`, `t`.`learner_id`, `t`.`lesson_id`, `t`.`list_content`, `t`.`list_name`, `t`.`process_flag`, `t`.`processed_at`, `t`.`teacher_id`, `t`.`todo_date`, `t`.`user_id`
FROM `ablemusic`.`todo_list` AS `t`
WHERE `t`.`user_id` = @__userId_0
2019-07-03 21:29:38.892 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:29:38.892 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[@__id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`staff_id`, `x`.`dob`, `x`.`email`, `x`.`expiry_date`, `x`.`first_name`, `x`.`gender`, `x`.`home_phone`, `x`.`id_number`, `x`.`id_photo`, `x`.`id_type`, `x`.`ird_number`, `x`.`is_activate`, `x`.`last_name`, `x`.`mobile_phone`, `x`.`photo`, `x`.`user_id`, `x`.`visa`
FROM `ablemusic`.`staff` AS `x`
WHERE (`x`.`user_id` <> @__id_0) OR `x`.`user_id` IS NULL
LIMIT @__p_1
2019-07-03 21:29:38.901 +12:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:29:38.995 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`teacher_id` AS `TeacherId`, `x`.`first_name` AS `FirstName`, `x`.`last_name` AS `LastName`, `x`.`email`
FROM `ablemusic`.`teacher` AS `x`
LIMIT @__p_0
2019-07-03 21:29:39.106 +12:00 [INF] Executed DbCommand (40ms) [Parameters=[@__orgIdOfStaff_0='?' (DbType = Int16), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x.Learner`.`learner_id`, `x.Learner`.`address`, `x.Learner`.`contact_num`, `x.Learner`.`created_at`, `x.Learner`.`dob`, `x.Learner`.`email`, `x.Learner`.`enroll_date`, `x.Learner`.`first_name`, `x.Learner`.`form_url`, `x.Learner`.`g5_certification`, `x.Learner`.`gender`, `x.Learner`.`is_abrsm_g5`, `x.Learner`.`is_active`, `x.Learner`.`is_under_18`, `x.Learner`.`last_name`, `x.Learner`.`learner_level`, `x.Learner`.`level_type`, `x.Learner`.`middle_name`, `x.Learner`.`note`, `x.Learner`.`org_id`, `x.Learner`.`otherfile_url`, `x.Learner`.`payment_period`, `x.Learner`.`photo`, `x.Learner`.`referrer`, `x.Learner`.`referrer_learner_id`, `x.Learner`.`user_id`, `x`.`lesson_id` AS `LessonId`, `x`.`learner_id` AS `LearnerId`
FROM `ablemusic`.`lesson` AS `x`
LEFT JOIN `ablemusic`.`learner` AS `x.Learner` ON `x`.`learner_id` = `x.Learner`.`learner_id`
WHERE `x`.`org_id` = @__orgIdOfStaff_0
LIMIT @__p_1
2019-07-03 21:29:39.181 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`org_id` IN (1)
2019-07-03 21:29:39.206 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`org_id` IN (1)
2019-07-03 21:29:39.226 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__orgIdOfStaff_0='?' (DbType = Int16), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_id`, `x`.`address`, `x`.`contact_num`, `x`.`created_at`, `x`.`dob`, `x`.`email`, `x`.`enroll_date`, `x`.`first_name`, `x`.`form_url`, `x`.`g5_certification`, `x`.`gender`, `x`.`is_abrsm_g5`, `x`.`is_active`, `x`.`is_under_18`, `x`.`last_name`, `x`.`learner_level`, `x`.`level_type`, `x`.`middle_name`, `x`.`note`, `x`.`org_id`, `x`.`otherfile_url`, `x`.`payment_period`, `x`.`photo`, `x`.`referrer`, `x`.`referrer_learner_id`, `x`.`user_id`
FROM `ablemusic`.`learner` AS `x`
WHERE `x`.`org_id` = @__orgIdOfStaff_0
LIMIT @__p_1
2019-07-03 21:29:39.228 +12:00 [INF] Executed action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetStaffChattingList (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 634.6011ms.
2019-07-03 21:29:39.228 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Tuple`4[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Staff, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Teacher, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lesson, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Learner, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:29:39.231 +12:00 [INF] Executed action Pegasus_backend.Controllers.MobileControllers.ChatController.GetStaffChattingList (Pegasus_backend) in 638.4053ms
2019-07-03 21:29:39.231 +12:00 [INF] Request finished in 639.6109ms 200 application/json; charset=utf-8
2019-07-03 21:29:39.548 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`waiting_id`, `w`.`begin_date`, `w`.`concert_fee`, `w`.`concert_fee_name`, `w`.`course_instance_id`, `w`.`course_name`, `w`.`created_at`, `w`.`due_date`, `w`.`end_date`, `w`.`group_course_instance_id`, `w`.`invoice_num`, `w`.`is_activate`, `w`.`is_confirmed`, `w`.`is_email_sent`, `w`.`is_paid`, `w`.`learner_id`, `w`.`learner_name`, `w`.`lesson_fee`, `w`.`lesson_note_fee_name`, `w`.`lesson_quantity`, `w`.`note_fee`, `w`.`other1_fee`, `w`.`other1_fee_name`, `w`.`other2_fee`, `w`.`other2_fee_name`, `w`.`other3_fee`, `w`.`other3_fee_name`, `w`.`owing_fee`, `w`.`paid_fee`, `w`.`term_id`, `w`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `w`
INNER JOIN `ablemusic`.`learner` AS `l` ON `w`.`learner_id` = `l`.`learner_id`
WHERE `l`.`org_id` IN (1) AND (`w`.`is_confirmed` = 0)
2019-07-03 21:29:39.746 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`waiting_id`, `w`.`begin_date`, `w`.`concert_fee`, `w`.`concert_fee_name`, `w`.`course_instance_id`, `w`.`course_name`, `w`.`created_at`, `w`.`due_date`, `w`.`end_date`, `w`.`group_course_instance_id`, `w`.`invoice_num`, `w`.`is_activate`, `w`.`is_confirmed`, `w`.`is_email_sent`, `w`.`is_paid`, `w`.`learner_id`, `w`.`learner_name`, `w`.`lesson_fee`, `w`.`lesson_note_fee_name`, `w`.`lesson_quantity`, `w`.`note_fee`, `w`.`other1_fee`, `w`.`other1_fee_name`, `w`.`other2_fee`, `w`.`other2_fee_name`, `w`.`other3_fee`, `w`.`other3_fee_name`, `w`.`owing_fee`, `w`.`paid_fee`, `w`.`term_id`, `w`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `w`
INNER JOIN `ablemusic`.`learner` AS `l` ON `w`.`learner_id` = `l`.`learner_id`
WHERE `l`.`org_id` IN (1) AND (`w`.`is_confirmed` = 0)
2019-07-03 21:29:40.098 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TodoListController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1376.2492ms.
2019-07-03 21:29:40.098 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.TodoList, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:29:40.099 +12:00 [INF] Executed action Pegasus_backend.Controllers.TodoListController.Get (Pegasus_backend) in 1378.2445ms
2019-07-03 21:29:40.100 +12:00 [INF] Request finished in 1379.8871ms 200 application/json; charset=utf-8
2019-07-03 21:29:40.163 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`begin_time` IS NOT NULL AND (`l`.`is_canceled` = 1)) AND `l`.`org_id` IN (1)
2019-07-03 21:29:40.388 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE ((`l`.`begin_time` IS NOT NULL AND `l`.`org_id` IN (1)) AND ((`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL)) AND (`l`.`is_changed` = 1)
2019-07-03 21:29:40.484 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`amendment_id`, `a`.`amend_type`, `a`.`begin_date`, `a`.`begin_time`, `a`.`course_instance_id`, `a`.`course_schedule_id`, `a`.`created_at`, `a`.`day_of_week`, `a`.`end_date`, `a`.`end_time`, `a`.`is_temporary`, `a`.`learner_id`, `a`.`org_id`, `a`.`reason`, `a`.`room_id`, `a`.`teacher_id`
FROM `ablemusic`.`amendment` AS `a`
WHERE `a`.`org_id` IN (1)
2019-07-03 21:29:40.579 +12:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`begin_time` IS NOT NULL AND (`l`.`is_canceled` = 1)) AND `l`.`org_id` IN (1)
2019-07-03 21:29:40.580 +12:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`amendment_id`, `a`.`amend_type`, `a`.`begin_date`, `a`.`begin_time`, `a`.`course_instance_id`, `a`.`course_schedule_id`, `a`.`created_at`, `a`.`day_of_week`, `a`.`end_date`, `a`.`end_time`, `a`.`is_temporary`, `a`.`learner_id`, `a`.`org_id`, `a`.`reason`, `a`.`room_id`, `a`.`teacher_id`
FROM `ablemusic`.`amendment` AS `a`
WHERE `a`.`org_id` IN (1)
2019-07-03 21:29:40.692 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:29:40.788 +12:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE ((`l`.`begin_time` IS NOT NULL AND `l`.`org_id` IN (1)) AND ((`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL)) AND (`l`.`is_changed` = 1)
2019-07-03 21:29:40.865 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE `l`.`learner_id` IN (182, 10057, 10058, 10059, 10065, 3, 10070, 10066)
2019-07-03 21:29:40.884 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`amendment_id`, `a`.`amend_type`, `a`.`begin_date`, `a`.`begin_time`, `a`.`course_instance_id`, `a`.`course_schedule_id`, `a`.`created_at`, `a`.`day_of_week`, `a`.`end_date`, `a`.`end_time`, `a`.`is_temporary`, `a`.`learner_id`, `a`.`org_id`, `a`.`reason`, `a`.`room_id`, `a`.`teacher_id`
FROM `ablemusic`.`amendment` AS `a`
WHERE `a`.`org_id` IN (1)
2019-07-03 21:29:40.984 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`amendment_id`, `a`.`amend_type`, `a`.`begin_date`, `a`.`begin_time`, `a`.`course_instance_id`, `a`.`course_schedule_id`, `a`.`created_at`, `a`.`day_of_week`, `a`.`end_date`, `a`.`end_time`, `a`.`is_temporary`, `a`.`learner_id`, `a`.`org_id`, `a`.`reason`, `a`.`room_id`, `a`.`teacher_id`
FROM `ablemusic`.`amendment` AS `a`
WHERE `a`.`org_id` IN (1)
2019-07-03 21:29:41.032 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:29:41.083 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:29:41.226 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE `l`.`learner_id` IN (182, 10057, 10058, 10059, 10065, 3, 10070, 10066)
2019-07-03 21:29:41.266 +12:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE `l`.`learner_id` IN (182, 10057, 10058, 10059, 10065, 3, 10070, 10066)
2019-07-03 21:29:41.425 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:29:41.463 +12:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:29:41.635 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE `l`.`learner_id` IN (182, 10057, 10058, 10059, 10065, 3, 10070, 10066)
2019-07-03 21:29:41.665 +12:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE `l`.`learner_id` IN (182, 10057, 10058, 10059, 10065, 3, 10070, 10066)
2019-07-03 21:29:41.843 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
2019-07-03 21:29:41.875 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:29:42.132 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`org_id` IN (1)
2019-07-03 21:29:42.195 +12:00 [INF] Executed action method Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3591.9419000000003ms.
2019-07-03 21:29:42.196 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:29:42.196 +12:00 [INF] Executed action Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend) in 3593.2697000000003ms
2019-07-03 21:29:42.197 +12:00 [INF] Request finished in 3594.1686ms 200 application/json; charset=utf-8
2019-07-03 21:29:42.336 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE `l`.`learner_id` IN (182, 10057, 10058, 10059, 10065, 3, 10070, 10066)
2019-07-03 21:29:42.495 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
2019-07-03 21:29:42.764 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`org_id` IN (1)
2019-07-03 21:29:42.835 +12:00 [INF] Executed action method Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4231.8663000000006ms.
2019-07-03 21:29:42.836 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:29:42.836 +12:00 [INF] Executed action Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend) in 4233.1056ms
2019-07-03 21:29:42.837 +12:00 [INF] Request finished in 4233.9981ms 200 application/json; charset=utf-8
2019-07-03 21:32:33.653 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lookups  
2019-07-03 21:32:33.662 +12:00 [INF] Policy execution successful.
2019-07-03 21:32:33.672 +12:00 [INF] Request finished in 16.9441ms 204 
2019-07-03 21:32:33.672 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/navitems  
2019-07-03 21:32:33.672 +12:00 [INF] Policy execution successful.
2019-07-03 21:32:33.676 +12:00 [INF] Request finished in 3.2897ms 204 
2019-07-03 21:32:33.703 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/dashboard/1  
2019-07-03 21:32:33.703 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/dashboard/1  
2019-07-03 21:32:33.703 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/todolist/3  
2019-07-03 21:32:33.703 +12:00 [INF] Policy execution successful.
2019-07-03 21:32:33.703 +12:00 [INF] Policy execution successful.
2019-07-03 21:32:33.703 +12:00 [INF] Policy execution successful.
2019-07-03 21:32:33.704 +12:00 [INF] Request finished in 0.3912ms 204 
2019-07-03 21:32:33.704 +12:00 [INF] Route matched with {action = "Get", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.String) on controller Pegasus_backend.Controllers.DashboardController (Pegasus_backend).
2019-07-03 21:32:33.704 +12:00 [INF] Route matched with {action = "Get", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.String) on controller Pegasus_backend.Controllers.DashboardController (Pegasus_backend).
2019-07-03 21:32:33.704 +12:00 [INF] Executing action method Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:32:33.704 +12:00 [INF] Executing action method Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:32:33.705 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:32:33.705 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:32:33.805 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:32:33.814 +12:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:32:33.830 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/staff/Photos/2190613092457108.jpg  
2019-07-03 21:32:33.831 +12:00 [INF] Request finished in 0.842ms 404 
2019-07-03 21:32:33.994 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:32:34.009 +12:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:32:34.093 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups  
2019-07-03 21:32:34.093 +12:00 [INF] Policy execution successful.
2019-07-03 21:32:34.093 +12:00 [INF] Successfully validated the token.
2019-07-03 21:32:34.100 +12:00 [INF] Route matched with {action = "GetLookups", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookups() on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-03 21:32:34.134 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:32:34.138 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:32:34.183 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`org_id` IN (1)
2019-07-03 21:32:34.199 +12:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`org_id` IN (1)
2019-07-03 21:32:34.260 +12:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
2019-07-03 21:32:34.274 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 139.27ms.
2019-07-03 21:32:34.274 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:32:34.283 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend) in 182.4633ms
2019-07-03 21:32:34.283 +12:00 [INF] Request finished in 190.8176ms 200 application/json; charset=utf-8
2019-07-03 21:32:34.446 +12:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`waiting_id`, `w`.`begin_date`, `w`.`concert_fee`, `w`.`concert_fee_name`, `w`.`course_instance_id`, `w`.`course_name`, `w`.`created_at`, `w`.`due_date`, `w`.`end_date`, `w`.`group_course_instance_id`, `w`.`invoice_num`, `w`.`is_activate`, `w`.`is_confirmed`, `w`.`is_email_sent`, `w`.`is_paid`, `w`.`learner_id`, `w`.`learner_name`, `w`.`lesson_fee`, `w`.`lesson_note_fee_name`, `w`.`lesson_quantity`, `w`.`note_fee`, `w`.`other1_fee`, `w`.`other1_fee_name`, `w`.`other2_fee`, `w`.`other2_fee_name`, `w`.`other3_fee`, `w`.`other3_fee_name`, `w`.`owing_fee`, `w`.`paid_fee`, `w`.`term_id`, `w`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `w`
INNER JOIN `ablemusic`.`learner` AS `l` ON `w`.`learner_id` = `l`.`learner_id`
WHERE `l`.`org_id` IN (1) AND (`w`.`is_confirmed` = 0)
2019-07-03 21:32:34.455 +12:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`waiting_id`, `w`.`begin_date`, `w`.`concert_fee`, `w`.`concert_fee_name`, `w`.`course_instance_id`, `w`.`course_name`, `w`.`created_at`, `w`.`due_date`, `w`.`end_date`, `w`.`group_course_instance_id`, `w`.`invoice_num`, `w`.`is_activate`, `w`.`is_confirmed`, `w`.`is_email_sent`, `w`.`is_paid`, `w`.`learner_id`, `w`.`learner_name`, `w`.`lesson_fee`, `w`.`lesson_note_fee_name`, `w`.`lesson_quantity`, `w`.`note_fee`, `w`.`other1_fee`, `w`.`other1_fee_name`, `w`.`other2_fee`, `w`.`other2_fee_name`, `w`.`other3_fee`, `w`.`other3_fee_name`, `w`.`owing_fee`, `w`.`paid_fee`, `w`.`term_id`, `w`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `w`
INNER JOIN `ablemusic`.`learner` AS `l` ON `w`.`learner_id` = `l`.`learner_id`
WHERE `l`.`org_id` IN (1) AND (`w`.`is_confirmed` = 0)
2019-07-03 21:32:34.541 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/navitems  
2019-07-03 21:32:34.541 +12:00 [INF] Policy execution successful.
2019-07-03 21:32:34.542 +12:00 [INF] Successfully validated the token.
2019-07-03 21:32:34.543 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/todolist/3  
2019-07-03 21:32:34.544 +12:00 [INF] Policy execution successful.
2019-07-03 21:32:34.544 +12:00 [INF] Successfully validated the token.
2019-07-03 21:32:34.544 +12:00 [INF] Route matched with {action = "Get", controller = "TodoList"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int16) on controller Pegasus_backend.Controllers.TodoListController (Pegasus_backend).
2019-07-03 21:32:34.545 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TodoListController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:32:34.546 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:32:34.549 +12:00 [INF] Route matched with {action = "GetNavItems", controller = "NavItems"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNavItems() on controller Pegasus_backend.Controllers.NavItemsController (Pegasus_backend).
2019-07-03 21:32:34.552 +12:00 [WRN] The LINQ expression 'where ([t].TodoDate == Convert(value(Pegasus_backend.Controllers.TodoListController).toNZTimezone(DateTime.UtcNow).Date, Nullable`1))' could not be translated and will be evaluated locally.
2019-07-03 21:32:34.561 +12:00 [INF] Authorization was successful.
2019-07-03 21:32:34.562 +12:00 [INF] Executing action method Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:32:34.567 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:32:34.784 +12:00 [INF] Executed DbCommand (35ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`user_id`, `s`.`created_at`, `s`.`is_activate`, `s`.`password`, `s`.`role_id`, `s`.`unread_message_id`, `s`.`user_name`
FROM `ablemusic`.`user` AS `s`
WHERE `s`.`user_id` = @__userId_0
LIMIT 1
2019-07-03 21:32:35.058 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`list_id`, `t`.`created_at`, `t`.`learner_id`, `t`.`lesson_id`, `t`.`list_content`, `t`.`list_name`, `t`.`process_flag`, `t`.`processed_at`, `t`.`teacher_id`, `t`.`todo_date`, `t`.`user_id`
FROM `ablemusic`.`todo_list` AS `t`
WHERE `t`.`user_id` = @__userId_0
2019-07-03 21:32:35.065 +12:00 [INF] Executed DbCommand (39ms) [Parameters=[@__roleId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`page_id`
FROM `ablemusic`.`role_access` AS `s`
WHERE `s`.`role_id` = @__roleId_0
2019-07-03 21:32:35.243 +12:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`page_group_id`, `s`.`display_order`, `s`.`icon`, `s`.`page_group_name`
FROM `ablemusic`.`page_group` AS `s`
ORDER BY `s`.`page_group_id`
2019-07-03 21:32:35.284 +12:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`begin_time` IS NOT NULL AND (`l`.`is_canceled` = 1)) AND `l`.`org_id` IN (1)
2019-07-03 21:32:35.284 +12:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`begin_time` IS NOT NULL AND (`l`.`is_canceled` = 1)) AND `l`.`org_id` IN (1)
2019-07-03 21:32:35.330 +12:00 [INF] Executed DbCommand (66ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Page`.`page_id`, `s.Page`.`display_order`, `s.Page`.`icon`, `s.Page`.`is_activate`, `s.Page`.`page_group_id`, `s.Page`.`page_name`, `s.Page`.`para`, `s.Page`.`para_flag`, `s.Page`.`url`
FROM `ablemusic`.`page` AS `s.Page`
INNER JOIN (
    SELECT `s0`.`page_group_id`
    FROM `ablemusic`.`page_group` AS `s0`
) AS `t` ON `s.Page`.`page_group_id` = `t`.`page_group_id`
ORDER BY `t`.`page_group_id`
2019-07-03 21:32:35.348 +12:00 [INF] Executed action method Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 785.45030000000008ms.
2019-07-03 21:32:35.348 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:32:35.357 +12:00 [INF] Executed action Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend) in 808.12520000000006ms
2019-07-03 21:32:35.357 +12:00 [INF] Request finished in 816.0497ms 200 application/json; charset=utf-8
2019-07-03 21:32:35.638 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE ((`l`.`begin_time` IS NOT NULL AND `l`.`org_id` IN (1)) AND ((`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL)) AND (`l`.`is_changed` = 1)
2019-07-03 21:32:35.734 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`amendment_id`, `a`.`amend_type`, `a`.`begin_date`, `a`.`begin_time`, `a`.`course_instance_id`, `a`.`course_schedule_id`, `a`.`created_at`, `a`.`day_of_week`, `a`.`end_date`, `a`.`end_time`, `a`.`is_temporary`, `a`.`learner_id`, `a`.`org_id`, `a`.`reason`, `a`.`room_id`, `a`.`teacher_id`
FROM `ablemusic`.`amendment` AS `a`
WHERE `a`.`org_id` IN (1)
2019-07-03 21:32:35.831 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`amendment_id`, `a`.`amend_type`, `a`.`begin_date`, `a`.`begin_time`, `a`.`course_instance_id`, `a`.`course_schedule_id`, `a`.`created_at`, `a`.`day_of_week`, `a`.`end_date`, `a`.`end_time`, `a`.`is_temporary`, `a`.`learner_id`, `a`.`org_id`, `a`.`reason`, `a`.`room_id`, `a`.`teacher_id`
FROM `ablemusic`.`amendment` AS `a`
WHERE `a`.`org_id` IN (1)
2019-07-03 21:32:35.832 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TodoListController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1286.5796ms.
2019-07-03 21:32:35.832 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.TodoList, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:32:35.833 +12:00 [INF] Executed action Pegasus_backend.Controllers.TodoListController.Get (Pegasus_backend) in 1288.525ms
2019-07-03 21:32:35.833 +12:00 [INF] Request finished in 1289.6283ms 200 application/json; charset=utf-8
2019-07-03 21:32:35.961 +12:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:32:35.998 +12:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE ((`l`.`begin_time` IS NOT NULL AND `l`.`org_id` IN (1)) AND ((`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL)) AND (`l`.`is_changed` = 1)
2019-07-03 21:32:36.111 +12:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`amendment_id`, `a`.`amend_type`, `a`.`begin_date`, `a`.`begin_time`, `a`.`course_instance_id`, `a`.`course_schedule_id`, `a`.`created_at`, `a`.`day_of_week`, `a`.`end_date`, `a`.`end_time`, `a`.`is_temporary`, `a`.`learner_id`, `a`.`org_id`, `a`.`reason`, `a`.`room_id`, `a`.`teacher_id`
FROM `ablemusic`.`amendment` AS `a`
WHERE `a`.`org_id` IN (1)
2019-07-03 21:32:36.135 +12:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE `l`.`learner_id` IN (182, 10057, 10058, 10059, 10065, 3, 10070, 10066)
2019-07-03 21:32:36.242 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`amendment_id`, `a`.`amend_type`, `a`.`begin_date`, `a`.`begin_time`, `a`.`course_instance_id`, `a`.`course_schedule_id`, `a`.`created_at`, `a`.`day_of_week`, `a`.`end_date`, `a`.`end_time`, `a`.`is_temporary`, `a`.`learner_id`, `a`.`org_id`, `a`.`reason`, `a`.`room_id`, `a`.`teacher_id`
FROM `ablemusic`.`amendment` AS `a`
WHERE `a`.`org_id` IN (1)
2019-07-03 21:32:36.349 +12:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:32:36.351 +12:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:32:36.553 +12:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE `l`.`learner_id` IN (182, 10057, 10058, 10059, 10065, 3, 10070, 10066)
2019-07-03 21:32:36.584 +12:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE `l`.`learner_id` IN (182, 10057, 10058, 10059, 10065, 3, 10070, 10066)
2019-07-03 21:32:36.743 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:32:36.820 +12:00 [INF] Executed DbCommand (47ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:32:36.920 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE `l`.`learner_id` IN (182, 10057, 10058, 10059, 10065, 3, 10070, 10066)
2019-07-03 21:32:37.007 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE `l`.`learner_id` IN (182, 10057, 10058, 10059, 10065, 3, 10070, 10066)
2019-07-03 21:32:37.088 +12:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
2019-07-03 21:32:37.206 +12:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:32:37.323 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`org_id` IN (1)
2019-07-03 21:32:37.375 +12:00 [INF] Executed action method Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3670.4729ms.
2019-07-03 21:32:37.375 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:32:37.375 +12:00 [INF] Executed action Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend) in 3671.5103000000004ms
2019-07-03 21:32:37.375 +12:00 [INF] Request finished in 3672.3125ms 200 application/json; charset=utf-8
2019-07-03 21:32:37.387 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE `l`.`learner_id` IN (182, 10057, 10058, 10059, 10065, 3, 10070, 10066)
2019-07-03 21:32:37.583 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
2019-07-03 21:32:37.794 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`org_id` IN (1)
2019-07-03 21:32:37.882 +12:00 [INF] Executed action method Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4177.7499ms.
2019-07-03 21:32:37.883 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:32:37.883 +12:00 [INF] Executed action Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend) in 4179.1453ms
2019-07-03 21:32:37.883 +12:00 [INF] Request finished in 4180.1361ms 200 application/json; charset=utf-8
2019-07-03 21:32:48.732 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/login  
2019-07-03 21:32:48.732 +12:00 [INF] Policy execution successful.
2019-07-03 21:32:48.732 +12:00 [INF] Request finished in 0.3566ms 204 
2019-07-03 21:32:48.737 +12:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/login application/json 55
2019-07-03 21:32:48.737 +12:00 [INF] Policy execution successful.
2019-07-03 21:32:48.738 +12:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Pegasus_backend.Models.UsrAndPass) on controller Pegasus_backend.Controllers.Authorization.LoginController (Pegasus_backend).
2019-07-03 21:32:48.739 +12:00 [INF] Executing action method Pegasus_backend.Controllers.Authorization.LoginController.Login (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:32:48.740 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:32:48.950 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[@__model_UserName_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`user_id`, `s`.`created_at`, `s`.`is_activate`, `s`.`password`, `s`.`role_id`, `s`.`unread_message_id`, `s`.`user_name`, `s.Role`.`role_id`, `s.Role`.`role_name`
FROM `ablemusic`.`user` AS `s`
LEFT JOIN `ablemusic`.`role` AS `s.Role` ON `s`.`role_id` = `s.Role`.`role_id`
WHERE `s`.`user_name` = @__model_UserName_0
ORDER BY `s`.`user_id`
LIMIT 1
2019-07-03 21:32:48.991 +12:00 [INF] Executed DbCommand (40ms) [Parameters=[@__model_UserName_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Learner`.`learner_id`, `s.Learner`.`address`, `s.Learner`.`contact_num`, `s.Learner`.`created_at`, `s.Learner`.`dob`, `s.Learner`.`email`, `s.Learner`.`enroll_date`, `s.Learner`.`first_name`, `s.Learner`.`form_url`, `s.Learner`.`g5_certification`, `s.Learner`.`gender`, `s.Learner`.`is_abrsm_g5`, `s.Learner`.`is_active`, `s.Learner`.`is_under_18`, `s.Learner`.`last_name`, `s.Learner`.`learner_level`, `s.Learner`.`level_type`, `s.Learner`.`middle_name`, `s.Learner`.`note`, `s.Learner`.`org_id`, `s.Learner`.`otherfile_url`, `s.Learner`.`payment_period`, `s.Learner`.`photo`, `s.Learner`.`referrer`, `s.Learner`.`referrer_learner_id`, `s.Learner`.`user_id`
FROM `ablemusic`.`learner` AS `s.Learner`
INNER JOIN (
    SELECT DISTINCT `t`.*
    FROM (
        SELECT `s0`.`user_id`
        FROM `ablemusic`.`user` AS `s0`
        LEFT JOIN `ablemusic`.`role` AS `s.Role0` ON `s0`.`role_id` = `s.Role0`.`role_id`
        WHERE `s0`.`user_name` = @__model_UserName_0
        ORDER BY `s0`.`user_id`
        LIMIT 1
    ) AS `t`
) AS `t0` ON `s.Learner`.`user_id` = `t0`.`user_id`
ORDER BY `t0`.`user_id`
2019-07-03 21:32:49.124 +12:00 [INF] Executed DbCommand (66ms) [Parameters=[@__model_UserName_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Teacher`.`teacher_id`, `s.Teacher`.`ability`, `s.Teacher`.`comment`, `s.Teacher`.`cv_url`, `s.Teacher`.`dob`, `s.Teacher`.`email`, `s.Teacher`.`expiry_date`, `s.Teacher`.`first_name`, `s.Teacher`.`form_url`, `s.Teacher`.`gender`, `s.Teacher`.`home_phone`, `s.Teacher`.`id_number`, `s.Teacher`.`id_photo`, `s.Teacher`.`id_type`, `s.Teacher`.`invoice_template`, `s.Teacher`.`ird_number`, `s.Teacher`.`is_activate`, `s.Teacher`.`is_contract`, `s.Teacher`.`is_left`, `s.Teacher`.`last_name`, `s.Teacher`.`level`, `s.Teacher`.`minimum_hours`, `s.Teacher`.`mobile_phone`, `s.Teacher`.`otherfile_url`, `s.Teacher`.`photo`, `s.Teacher`.`user_id`, `s.Teacher`.`visa`
FROM `ablemusic`.`teacher` AS `s.Teacher`
INNER JOIN (
    SELECT DISTINCT `t1`.*
    FROM (
        SELECT `s1`.`user_id`
        FROM `ablemusic`.`user` AS `s1`
        LEFT JOIN `ablemusic`.`role` AS `s.Role1` ON `s1`.`role_id` = `s.Role1`.`role_id`
        WHERE `s1`.`user_name` = @__model_UserName_0
        ORDER BY `s1`.`user_id`
        LIMIT 1
    ) AS `t1`
) AS `t2` ON `s.Teacher`.`user_id` = `t2`.`user_id`
ORDER BY `t2`.`user_id`
2019-07-03 21:32:49.275 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__model_UserName_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Staff`.`staff_id`, `s.Staff`.`dob`, `s.Staff`.`email`, `s.Staff`.`expiry_date`, `s.Staff`.`first_name`, `s.Staff`.`gender`, `s.Staff`.`home_phone`, `s.Staff`.`id_number`, `s.Staff`.`id_photo`, `s.Staff`.`id_type`, `s.Staff`.`ird_number`, `s.Staff`.`is_activate`, `s.Staff`.`last_name`, `s.Staff`.`mobile_phone`, `s.Staff`.`photo`, `s.Staff`.`user_id`, `s.Staff`.`visa`
FROM `ablemusic`.`staff` AS `s.Staff`
INNER JOIN (
    SELECT DISTINCT `t3`.*
    FROM (
        SELECT `s2`.`user_id`
        FROM `ablemusic`.`user` AS `s2`
        LEFT JOIN `ablemusic`.`role` AS `s.Role2` ON `s2`.`role_id` = `s.Role2`.`role_id`
        WHERE `s2`.`user_name` = @__model_UserName_0
        ORDER BY `s2`.`user_id`
        LIMIT 1
    ) AS `t3`
) AS `t4` ON `s.Staff`.`user_id` = `t4`.`user_id`
ORDER BY `t4`.`user_id`, `s.Staff`.`staff_id`
2019-07-03 21:32:49.312 +12:00 [INF] Executed DbCommand (36ms) [Parameters=[@__model_UserName_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Staff.StaffOrg`.`staff_org_id`, `s.Staff.StaffOrg`.`is_activate`, `s.Staff.StaffOrg`.`org_id`, `s.Staff.StaffOrg`.`staff_id`, `s.Org`.`org_id`, `s.Org`.`abbr`, `s.Org`.`address`, `s.Org`.`email`, `s.Org`.`is_activate`, `s.Org`.`is_headoffice`, `s.Org`.`localtion_x`, `s.Org`.`localtion_y`, `s.Org`.`org_name`, `s.Org`.`phone`
FROM `ablemusic`.`staff_org` AS `s.Staff.StaffOrg`
LEFT JOIN `ablemusic`.`org` AS `s.Org` ON `s.Staff.StaffOrg`.`org_id` = `s.Org`.`org_id`
INNER JOIN (
    SELECT DISTINCT `s.Staff0`.`staff_id`, `t6`.`user_id`
    FROM `ablemusic`.`staff` AS `s.Staff0`
    INNER JOIN (
        SELECT DISTINCT `t5`.*
        FROM (
            SELECT `s3`.`user_id`
            FROM `ablemusic`.`user` AS `s3`
            LEFT JOIN `ablemusic`.`role` AS `s.Role3` ON `s3`.`role_id` = `s.Role3`.`role_id`
            WHERE `s3`.`user_name` = @__model_UserName_0
            ORDER BY `s3`.`user_id`
            LIMIT 1
        ) AS `t5`
    ) AS `t6` ON `s.Staff0`.`user_id` = `t6`.`user_id`
) AS `t7` ON `s.Staff.StaffOrg`.`staff_id` = `t7`.`staff_id`
ORDER BY `t7`.`user_id`, `t7`.`staff_id`
2019-07-03 21:32:49.313 +12:00 [INF] Executed action method Pegasus_backend.Controllers.Authorization.LoginController.Login (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 574.2374ms.
2019-07-03 21:32:49.314 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:32:49.314 +12:00 [INF] Executed action Pegasus_backend.Controllers.Authorization.LoginController.Login (Pegasus_backend) in 575.9351ms
2019-07-03 21:32:49.314 +12:00 [INF] Request finished in 577.2681ms 200 application/json; charset=utf-8
2019-07-03 21:32:49.329 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/page  
2019-07-03 21:32:49.329 +12:00 [INF] Policy execution successful.
2019-07-03 21:32:49.330 +12:00 [INF] Route matched with {action = "GetRolePage", controller = "Page"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRolePage() on controller Pegasus_backend.Controllers.PageController (Pegasus_backend).
2019-07-03 21:32:49.331 +12:00 [INF] Executing action method Pegasus_backend.Controllers.PageController.GetRolePage (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:32:49.331 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:32:49.453 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`role_id` AS `RoleId`, `s.Page`.`url`
FROM `ablemusic`.`role_access` AS `s`
LEFT JOIN `ablemusic`.`page` AS `s.Page` ON `s`.`page_id` = `s.Page`.`page_id`
2019-07-03 21:32:49.454 +12:00 [INF] Executed action method Pegasus_backend.Controllers.PageController.GetRolePage (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 123.152ms.
2019-07-03 21:32:49.454 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:32:49.454 +12:00 [INF] Executed action Pegasus_backend.Controllers.PageController.GetRolePage (Pegasus_backend) in 124.13260000000001ms
2019-07-03 21:32:49.454 +12:00 [INF] Request finished in 125.6148ms 200 application/json; charset=utf-8
2019-07-03 21:32:49.481 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Chat/GetStaffChattingList/1  
2019-07-03 21:32:49.482 +12:00 [INF] Policy execution successful.
2019-07-03 21:32:49.482 +12:00 [INF] Route matched with {action = "GetStaffChattingList", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStaffChattingList(Int32) on controller Pegasus_backend.Controllers.MobileControllers.ChatController (Pegasus_backend).
2019-07-03 21:32:49.482 +12:00 [INF] Executing action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetStaffChattingList (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:32:49.483 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:32:49.523 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/todolist/158  
2019-07-03 21:32:49.523 +12:00 [INF] Policy execution successful.
2019-07-03 21:32:49.523 +12:00 [INF] Request finished in 0.4041ms 204 
2019-07-03 21:32:49.525 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/dashboard/5  
2019-07-03 21:32:49.525 +12:00 [INF] Policy execution successful.
2019-07-03 21:32:49.526 +12:00 [INF] Route matched with {action = "Get", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.String) on controller Pegasus_backend.Controllers.DashboardController (Pegasus_backend).
2019-07-03 21:32:49.526 +12:00 [INF] Executing action method Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:32:49.527 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/dashboard/5  
2019-07-03 21:32:49.527 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:32:49.527 +12:00 [INF] Policy execution successful.
2019-07-03 21:32:49.527 +12:00 [INF] Route matched with {action = "Get", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.String) on controller Pegasus_backend.Controllers.DashboardController (Pegasus_backend).
2019-07-03 21:32:49.528 +12:00 [INF] Executing action method Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:32:49.528 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:32:49.579 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
=======
2019-07-03 12:20:56.556 +12:00 [INF] Executed DbCommand (81ms) [Parameters=[@__staffId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`org_id`
FROM `ablemusic`.`staff_org` AS `x`
WHERE `x`.`staff_id` = @__staffId_0
LIMIT 1
2019-07-03 12:20:56.795 +12:00 [INF] Executed DbCommand (85ms) [Parameters=[@__orgIdOfStaff_0='?' (DbType = Int16), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT `t`.*
FROM (
    SELECT `x`.`learner_id` AS `LearnerId`, `x.Learner`.`first_name` AS `FirstName`, `x.Learner`.`last_name` AS `LastName`, `x.Learner`.`user_id` AS `UserId`, `x.Learner`.`photo`
    FROM `ablemusic`.`lesson` AS `x`
    LEFT JOIN `ablemusic`.`learner` AS `x.Learner` ON `x`.`learner_id` = `x.Learner`.`learner_id`
    WHERE `x`.`org_id` = @__orgIdOfStaff_0
    LIMIT @__p_1
) AS `t`
2019-07-03 12:20:56.797 +12:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'Pegasus_backend.pegasusContext.ablemusicContext'.
System.InvalidOperationException: Nullable object must have a value.
   at lambda_method(Closure , TransparentIdentifier`2 )
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.MoveNextCore(CancellationToken cancellationToken)
   at System.Linq.AsyncEnumerable.AsyncIterator`1.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
System.InvalidOperationException: Nullable object must have a value.
   at lambda_method(Closure , TransparentIdentifier`2 )
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.MoveNextCore(CancellationToken cancellationToken)
   at System.Linq.AsyncEnumerable.AsyncIterator`1.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
2019-07-03 12:20:56.875 +12:00 [INF] Executed action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1018.4390000000001ms.
2019-07-03 12:20:56.876 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[Pegasus_backend.Models.ChatListModel, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-03 12:20:56.876 +12:00 [INF] Executed action Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) in 1019.6311000000001ms
2019-07-03 12:20:56.876 +12:00 [INF] Request finished in 1021.192ms 400 application/json; charset=utf-8
2019-07-03 12:20:56.876 +12:00 [INF] Connection id "0HLNV9GH1A5GB", Request id "0HLNV9GH1A5GB:00000004": the application completed without reading the entire request body.
2019-07-03 12:21:18.920 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Chat/GetChattingList/10065 application/json 65
2019-07-03 12:21:18.922 +12:00 [INF] Route matched with {action = "GetChattingList", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChattingList(Int32) on controller Pegasus_backend.Controllers.MobileControllers.ChatController (Pegasus_backend).
2019-07-03 12:21:18.923 +12:00 [INF] Executing action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) - Validation state: "Valid"
2019-07-03 12:21:18.924 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 12:21:19.161 +12:00 [INF] Executed DbCommand (79ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`user_id`, `x`.`created_at`, `x`.`is_activate`, `x`.`password`, `x`.`role_id`, `x`.`unread_message_id`, `x`.`user_name`, `x.Role`.`role_id`, `x.Role`.`role_name`
FROM `ablemusic`.`user` AS `x`
LEFT JOIN `ablemusic`.`role` AS `x.Role` ON `x`.`role_id` = `x.Role`.`role_id`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
2019-07-03 12:21:19.422 +12:00 [INF] Executed DbCommand (109ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`staff_id`, `x`.`dob`, `x`.`email`, `x`.`expiry_date`, `x`.`first_name`, `x`.`gender`, `x`.`home_phone`, `x`.`id_number`, `x`.`id_photo`, `x`.`id_type`, `x`.`ird_number`, `x`.`is_activate`, `x`.`last_name`, `x`.`mobile_phone`, `x`.`photo`, `x`.`user_id`, `x`.`visa`
FROM `ablemusic`.`staff` AS `x`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
2019-07-03 12:21:19.654 +12:00 [INF] Executed DbCommand (83ms) [Parameters=[@__staffId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`org_id`
FROM `ablemusic`.`staff_org` AS `x`
WHERE `x`.`staff_id` = @__staffId_0
LIMIT 1
2019-07-03 12:21:19.876 +12:00 [INF] Executed DbCommand (92ms) [Parameters=[@__orgIdOfStaff_0='?' (DbType = Int16), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT `t`.*
FROM (
    SELECT `x`.`learner_id` AS `LearnerId`, `x.Learner`.`first_name` AS `FirstName`, `x.Learner`.`last_name` AS `LastName`, `x.Learner`.`user_id` AS `UserId`, `x.Learner`.`photo`
    FROM `ablemusic`.`lesson` AS `x`
    LEFT JOIN `ablemusic`.`learner` AS `x.Learner` ON `x`.`learner_id` = `x.Learner`.`learner_id`
    WHERE `x`.`org_id` = @__orgIdOfStaff_0
    LIMIT @__p_1
) AS `t`
2019-07-03 12:21:19.878 +12:00 [ERR] An exception occurred in the database while iterating the results of a query for context type 'Pegasus_backend.pegasusContext.ablemusicContext'.
System.InvalidOperationException: Nullable object must have a value.
   at lambda_method(Closure , TransparentIdentifier`2 )
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.MoveNextCore(CancellationToken cancellationToken)
   at System.Linq.AsyncEnumerable.AsyncIterator`1.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
System.InvalidOperationException: Nullable object must have a value.
   at lambda_method(Closure , TransparentIdentifier`2 )
   at System.Linq.AsyncEnumerable.SelectEnumerableAsyncIterator`2.MoveNextCore(CancellationToken cancellationToken)
   at System.Linq.AsyncEnumerable.AsyncIterator`1.MoveNext(CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.AsyncLinqOperatorProvider.ExceptionInterceptor`1.EnumeratorExceptionInterceptor.MoveNext(CancellationToken cancellationToken)
2019-07-03 12:21:19.955 +12:00 [INF] Executed action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 1031.5164ms.
2019-07-03 12:21:19.955 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[Pegasus_backend.Models.ChatListModel, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-03 12:21:19.955 +12:00 [INF] Executed action Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) in 1032.8389ms
2019-07-03 12:21:19.955 +12:00 [INF] Request finished in 1035.5657ms 400 application/json; charset=utf-8
2019-07-03 12:21:19.956 +12:00 [INF] Connection id "0HLNV9GH1A5GB", Request id "0HLNV9GH1A5GB:00000005": the application completed without reading the entire request body.
2019-07-03 12:23:56.692 +12:00 [INF] User profile is available. Using 'C:\Users\lgx95\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-07-03 12:23:57.339 +12:00 [INF] Request starting HTTP/1.1 DEBUG http://localhost:5000/  0
2019-07-03 12:23:57.339 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/values  
2019-07-03 12:23:57.358 +12:00 [INF] Request finished in 20.2914ms 200 
2019-07-03 12:23:57.386 +12:00 [WRN] Failed to determine the https port for redirect.
2019-07-03 12:23:57.603 +12:00 [INF] Route matched with {action = "Get", controller = "Values"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get() on controller Pegasus_backend.Controllers.ValuesController (Pegasus_backend).
2019-07-03 12:23:57.783 +12:00 [INF] Executing action method Pegasus_backend.Controllers.ValuesController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-03 12:23:57.908 +12:00 [ERR] ValuesController LogErrorToFile: System.Exception: Exception of type 'System.Exception' was thrown.
   at Pegasus_backend.Controllers.ValuesController.Get() in C:\angular\pegasusBackend\Controllers\ValuesController.cs:line 30
2019-07-03 12:23:57.908 +12:00 [INF] ValuesController LogInfoToFile: hello
2019-07-03 12:23:57.912 +12:00 [INF] Executed action method Pegasus_backend.Controllers.ValuesController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 118.83600000000001ms.
2019-07-03 12:23:57.922 +12:00 [INF] Executing ObjectResult, writing value of type 'System.DateTime'.
2019-07-03 12:23:57.981 +12:00 [INF] Executed action Pegasus_backend.Controllers.ValuesController.Get (Pegasus_backend) in 374.7824ms
2019-07-03 12:23:57.989 +12:00 [INF] Request finished in 652.5711ms 200 application/json; charset=utf-8
2019-07-03 12:24:01.895 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Chat/GetChattingList/10065 application/json 65
2019-07-03 12:24:01.920 +12:00 [INF] Route matched with {action = "GetChattingList", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChattingList(Int32) on controller Pegasus_backend.Controllers.MobileControllers.ChatController (Pegasus_backend).
2019-07-03 12:24:01.938 +12:00 [INF] Executing action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) - Validation state: "Valid"
2019-07-03 12:24:02.991 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 12:24:04.188 +12:00 [INF] Executed DbCommand (63ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`user_id`, `x`.`created_at`, `x`.`is_activate`, `x`.`password`, `x`.`role_id`, `x`.`unread_message_id`, `x`.`user_name`, `x.Role`.`role_id`, `x.Role`.`role_name`
FROM `ablemusic`.`user` AS `x`
LEFT JOIN `ablemusic`.`role` AS `x.Role` ON `x`.`role_id` = `x.Role`.`role_id`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
2019-07-03 12:24:04.501 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
>>>>>>> 70179401b82cb6ed928ca587a5b8d762b7e7cca6
SELECT `x`.`staff_id`, `x`.`dob`, `x`.`email`, `x`.`expiry_date`, `x`.`first_name`, `x`.`gender`, `x`.`home_phone`, `x`.`id_number`, `x`.`id_photo`, `x`.`id_type`, `x`.`ird_number`, `x`.`is_activate`, `x`.`last_name`, `x`.`mobile_phone`, `x`.`photo`, `x`.`user_id`, `x`.`visa`
FROM `ablemusic`.`staff` AS `x`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
<<<<<<< HEAD
2019-07-03 21:32:49.623 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:32:49.627 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:32:49.640 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/staff/Photos/123190610032313190.jpg  
2019-07-03 21:32:49.641 +12:00 [INF] Request finished in 0.5781ms 404 
2019-07-03 21:32:49.677 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__staffDetial_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`org_id`
FROM `ablemusic`.`staff_org` AS `x`
WHERE `x`.`staff_id` = @__staffDetial_StaffId_0
LIMIT 1
2019-07-03 21:32:49.778 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`staff_id`, `x`.`dob`, `x`.`email`, `x`.`expiry_date`, `x`.`first_name`, `x`.`gender`, `x`.`home_phone`, `x`.`id_number`, `x`.`id_photo`, `x`.`id_type`, `x`.`ird_number`, `x`.`is_activate`, `x`.`last_name`, `x`.`mobile_phone`, `x`.`photo`, `x`.`user_id`, `x`.`visa`
FROM `ablemusic`.`staff` AS `x`
WHERE (`x`.`user_id` <> @__id_0) OR `x`.`user_id` IS NULL
LIMIT @__p_1
2019-07-03 21:32:49.815 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/todolist/158  
2019-07-03 21:32:49.815 +12:00 [INF] Policy execution successful.
2019-07-03 21:32:49.815 +12:00 [INF] Successfully validated the token.
2019-07-03 21:32:49.815 +12:00 [INF] Route matched with {action = "Get", controller = "TodoList"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int16) on controller Pegasus_backend.Controllers.TodoListController (Pegasus_backend).
2019-07-03 21:32:49.816 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TodoListController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:32:49.816 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:32:49.822 +12:00 [WRN] The LINQ expression 'where ([t].TodoDate == Convert(value(Pegasus_backend.Controllers.TodoListController).toNZTimezone(DateTime.UtcNow).Date, Nullable`1))' could not be translated and will be evaluated locally.
2019-07-03 21:32:49.823 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:32:49.823 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:32:50.039 +12:00 [INF] Executed DbCommand (179ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`teacher_id` AS `TeacherId`, `x`.`first_name` AS `FirstName`, `x`.`last_name` AS `LastName`, `x`.`email`
FROM `ablemusic`.`teacher` AS `x`
LIMIT @__p_0
2019-07-03 21:32:50.171 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`org_id` IN (5)
2019-07-03 21:32:50.178 +12:00 [INF] Executed DbCommand (41ms) [Parameters=[@__userId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`list_id`, `t`.`created_at`, `t`.`learner_id`, `t`.`lesson_id`, `t`.`list_content`, `t`.`list_name`, `t`.`process_flag`, `t`.`processed_at`, `t`.`teacher_id`, `t`.`todo_date`, `t`.`user_id`
FROM `ablemusic`.`todo_list` AS `t`
WHERE `t`.`user_id` = @__userId_0
2019-07-03 21:32:50.179 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TodoListController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 362.80600000000004ms.
2019-07-03 21:32:50.179 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.TodoList, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:32:50.179 +12:00 [INF] Executed action Pegasus_backend.Controllers.TodoListController.Get (Pegasus_backend) in 364.0111ms
2019-07-03 21:32:50.180 +12:00 [INF] Request finished in 365.2376ms 200 application/json; charset=utf-8
2019-07-03 21:32:50.186 +12:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`org_id` IN (5)
2019-07-03 21:32:50.225 +12:00 [INF] Executed DbCommand (48ms) [Parameters=[@__orgIdOfStaff_0='?' (DbType = Int16), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x.Learner`.`learner_id`, `x.Learner`.`address`, `x.Learner`.`contact_num`, `x.Learner`.`created_at`, `x.Learner`.`dob`, `x.Learner`.`email`, `x.Learner`.`enroll_date`, `x.Learner`.`first_name`, `x.Learner`.`form_url`, `x.Learner`.`g5_certification`, `x.Learner`.`gender`, `x.Learner`.`is_abrsm_g5`, `x.Learner`.`is_active`, `x.Learner`.`is_under_18`, `x.Learner`.`last_name`, `x.Learner`.`learner_level`, `x.Learner`.`level_type`, `x.Learner`.`middle_name`, `x.Learner`.`note`, `x.Learner`.`org_id`, `x.Learner`.`otherfile_url`, `x.Learner`.`payment_period`, `x.Learner`.`photo`, `x.Learner`.`referrer`, `x.Learner`.`referrer_learner_id`, `x.Learner`.`user_id`, `x`.`lesson_id` AS `LessonId`, `x`.`learner_id` AS `LearnerId`
FROM `ablemusic`.`lesson` AS `x`
LEFT JOIN `ablemusic`.`learner` AS `x.Learner` ON `x`.`learner_id` = `x.Learner`.`learner_id`
WHERE `x`.`org_id` = @__orgIdOfStaff_0
LIMIT @__p_1
2019-07-03 21:32:50.325 +12:00 [INF] Executed DbCommand (35ms) [Parameters=[@__orgIdOfStaff_0='?' (DbType = Int16), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_id`, `x`.`address`, `x`.`contact_num`, `x`.`created_at`, `x`.`dob`, `x`.`email`, `x`.`enroll_date`, `x`.`first_name`, `x`.`form_url`, `x`.`g5_certification`, `x`.`gender`, `x`.`is_abrsm_g5`, `x`.`is_active`, `x`.`is_under_18`, `x`.`last_name`, `x`.`learner_level`, `x`.`level_type`, `x`.`middle_name`, `x`.`note`, `x`.`org_id`, `x`.`otherfile_url`, `x`.`payment_period`, `x`.`photo`, `x`.`referrer`, `x`.`referrer_learner_id`, `x`.`user_id`
FROM `ablemusic`.`learner` AS `x`
WHERE `x`.`org_id` = @__orgIdOfStaff_0
LIMIT @__p_1
2019-07-03 21:32:50.325 +12:00 [INF] Executed action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetStaffChattingList (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 842.7722ms.
2019-07-03 21:32:50.326 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Tuple`4[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Staff, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Teacher, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lesson, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Learner, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:32:50.327 +12:00 [INF] Executed action Pegasus_backend.Controllers.MobileControllers.ChatController.GetStaffChattingList (Pegasus_backend) in 845.03140000000008ms
2019-07-03 21:32:50.327 +12:00 [INF] Request finished in 846.0145ms 200 application/json; charset=utf-8
2019-07-03 21:32:50.331 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`waiting_id`, `w`.`begin_date`, `w`.`concert_fee`, `w`.`concert_fee_name`, `w`.`course_instance_id`, `w`.`course_name`, `w`.`created_at`, `w`.`due_date`, `w`.`end_date`, `w`.`group_course_instance_id`, `w`.`invoice_num`, `w`.`is_activate`, `w`.`is_confirmed`, `w`.`is_email_sent`, `w`.`is_paid`, `w`.`learner_id`, `w`.`learner_name`, `w`.`lesson_fee`, `w`.`lesson_note_fee_name`, `w`.`lesson_quantity`, `w`.`note_fee`, `w`.`other1_fee`, `w`.`other1_fee_name`, `w`.`other2_fee`, `w`.`other2_fee_name`, `w`.`other3_fee`, `w`.`other3_fee_name`, `w`.`owing_fee`, `w`.`paid_fee`, `w`.`term_id`, `w`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `w`
INNER JOIN `ablemusic`.`learner` AS `l` ON `w`.`learner_id` = `l`.`learner_id`
WHERE `l`.`org_id` IN (5) AND (`w`.`is_confirmed` = 0)
2019-07-03 21:32:50.337 +12:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`waiting_id`, `w`.`begin_date`, `w`.`concert_fee`, `w`.`concert_fee_name`, `w`.`course_instance_id`, `w`.`course_name`, `w`.`created_at`, `w`.`due_date`, `w`.`end_date`, `w`.`group_course_instance_id`, `w`.`invoice_num`, `w`.`is_activate`, `w`.`is_confirmed`, `w`.`is_email_sent`, `w`.`is_paid`, `w`.`learner_id`, `w`.`learner_name`, `w`.`lesson_fee`, `w`.`lesson_note_fee_name`, `w`.`lesson_quantity`, `w`.`note_fee`, `w`.`other1_fee`, `w`.`other1_fee_name`, `w`.`other2_fee`, `w`.`other2_fee_name`, `w`.`other3_fee`, `w`.`other3_fee_name`, `w`.`owing_fee`, `w`.`paid_fee`, `w`.`term_id`, `w`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `w`
INNER JOIN `ablemusic`.`learner` AS `l` ON `w`.`learner_id` = `l`.`learner_id`
WHERE `l`.`org_id` IN (5) AND (`w`.`is_confirmed` = 0)
2019-07-03 21:32:50.603 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`begin_time` IS NOT NULL AND (`l`.`is_canceled` = 1)) AND `l`.`org_id` IN (5)
2019-07-03 21:32:50.626 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`begin_time` IS NOT NULL AND (`l`.`is_canceled` = 1)) AND `l`.`org_id` IN (5)
2019-07-03 21:32:50.705 +12:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE ((`l`.`begin_time` IS NOT NULL AND `l`.`org_id` IN (5)) AND ((`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL)) AND (`l`.`is_changed` = 1)
2019-07-03 21:32:50.754 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE ((`l`.`begin_time` IS NOT NULL AND `l`.`org_id` IN (5)) AND ((`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL)) AND (`l`.`is_changed` = 1)
2019-07-03 21:32:50.842 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`amendment_id`, `a`.`amend_type`, `a`.`begin_date`, `a`.`begin_time`, `a`.`course_instance_id`, `a`.`course_schedule_id`, `a`.`created_at`, `a`.`day_of_week`, `a`.`end_date`, `a`.`end_time`, `a`.`is_temporary`, `a`.`learner_id`, `a`.`org_id`, `a`.`reason`, `a`.`room_id`, `a`.`teacher_id`
FROM `ablemusic`.`amendment` AS `a`
WHERE `a`.`org_id` IN (5)
2019-07-03 21:32:50.909 +12:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`amendment_id`, `a`.`amend_type`, `a`.`begin_date`, `a`.`begin_time`, `a`.`course_instance_id`, `a`.`course_schedule_id`, `a`.`created_at`, `a`.`day_of_week`, `a`.`end_date`, `a`.`end_time`, `a`.`is_temporary`, `a`.`learner_id`, `a`.`org_id`, `a`.`reason`, `a`.`room_id`, `a`.`teacher_id`
FROM `ablemusic`.`amendment` AS `a`
WHERE `a`.`org_id` IN (5)
2019-07-03 21:32:50.990 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`amendment_id`, `a`.`amend_type`, `a`.`begin_date`, `a`.`begin_time`, `a`.`course_instance_id`, `a`.`course_schedule_id`, `a`.`created_at`, `a`.`day_of_week`, `a`.`end_date`, `a`.`end_time`, `a`.`is_temporary`, `a`.`learner_id`, `a`.`org_id`, `a`.`reason`, `a`.`room_id`, `a`.`teacher_id`
FROM `ablemusic`.`amendment` AS `a`
WHERE `a`.`org_id` IN (5)
2019-07-03 21:32:51.023 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`amendment_id`, `a`.`amend_type`, `a`.`begin_date`, `a`.`begin_time`, `a`.`course_instance_id`, `a`.`course_schedule_id`, `a`.`created_at`, `a`.`day_of_week`, `a`.`end_date`, `a`.`end_time`, `a`.`is_temporary`, `a`.`learner_id`, `a`.`org_id`, `a`.`reason`, `a`.`room_id`, `a`.`teacher_id`
FROM `ablemusic`.`amendment` AS `a`
WHERE `a`.`org_id` IN (5)
2019-07-03 21:32:51.087 +12:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:32:51.128 +12:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:32:51.272 +12:00 [INF] Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE False = True
2019-07-03 21:32:51.312 +12:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE False = True
2019-07-03 21:32:51.379 +12:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:32:51.441 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:32:51.577 +12:00 [INF] Executed DbCommand (65ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE False = True
2019-07-03 21:32:51.628 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE False = True
2019-07-03 21:32:51.730 +12:00 [INF] Executed DbCommand (64ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:32:51.758 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:32:51.958 +12:00 [INF] Executed DbCommand (84ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE False = True
2019-07-03 21:32:51.991 +12:00 [INF] Executed DbCommand (70ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE False = True
2019-07-03 21:32:52.057 +12:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
2019-07-03 21:32:52.091 +12:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
2019-07-03 21:32:52.356 +12:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`org_id` IN (5)
2019-07-03 21:32:52.386 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`org_id` IN (5)
2019-07-03 21:32:52.410 +12:00 [INF] Executed action method Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2883.5853ms.
2019-07-03 21:32:52.410 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:32:52.410 +12:00 [INF] Executed action Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend) in 2884.6839ms
2019-07-03 21:32:52.411 +12:00 [INF] Request finished in 2885.4403ms 200 application/json; charset=utf-8
2019-07-03 21:32:52.438 +12:00 [INF] Executed action method Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2910.1666ms.
2019-07-03 21:32:52.438 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:32:52.439 +12:00 [INF] Executed action Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend) in 2911.3285ms
2019-07-03 21:32:52.439 +12:00 [INF] Request finished in 2912.1817ms 200 application/json; charset=utf-8
2019-07-03 21:33:10.349 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/nihao  
2019-07-03 21:33:10.350 +12:00 [INF] Policy execution successful.
2019-07-03 21:33:10.356 +12:00 [INF] Route matched with {action = "GetLearner", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearner(System.String) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-03 21:33:10.779 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:33:10.782 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:33:10.939 +12:00 [INF] Executed DbCommand (35ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`learner_id`, `s`.`address`, `s`.`contact_num`, `s`.`created_at`, `s`.`dob`, `s`.`email`, `s`.`enroll_date`, `s`.`first_name`, `s`.`form_url`, `s`.`g5_certification`, `s`.`gender`, `s`.`is_abrsm_g5`, `s`.`is_active`, `s`.`is_under_18`, `s`.`last_name`, `s`.`learner_level`, `s`.`level_type`, `s`.`middle_name`, `s`.`note`, `s`.`org_id`, `s`.`otherfile_url`, `s`.`payment_period`, `s`.`photo`, `s`.`referrer`, `s`.`referrer_learner_id`, `s`.`user_id`
FROM `ablemusic`.`learner` AS `s`
WHERE (`s`.`is_active` = 1) AND `s`.`first_name` LIKE concat('%', @__name_0, '%')
ORDER BY `s`.`learner_id`
2019-07-03 21:33:10.990 +12:00 [INF] Executed DbCommand (40ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.LearnerOthers`.`learner_others_id`, `s.LearnerOthers`.`learner_id`, `s.LearnerOthers`.`learner_level`, `s.LearnerOthers`.`others_type`, `s.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `s.LearnerOthers`
INNER JOIN (
    SELECT `s0`.`learner_id`
    FROM `ablemusic`.`learner` AS `s0`
    WHERE (`s0`.`is_active` = 1) AND `s0`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t` ON `s.LearnerOthers`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-03 21:33:11.037 +12:00 [INF] Executed DbCommand (38ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Parent`.`parent_id`, `s.Parent`.`contact_num`, `s.Parent`.`created_at`, `s.Parent`.`email`, `s.Parent`.`first_name`, `s.Parent`.`last_name`, `s.Parent`.`learner_id`, `s.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `s.Parent`
INNER JOIN (
    SELECT `s1`.`learner_id`
    FROM `ablemusic`.`learner` AS `s1`
    WHERE (`s1`.`is_active` = 1) AND `s1`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t0` ON `s.Parent`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-03 21:33:11.103 +12:00 [INF] Executed DbCommand (39ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.One2oneCourseInstance`.`course_instance_id`, `s.One2oneCourseInstance`.`begin_date`, `s.One2oneCourseInstance`.`course_id`, `s.One2oneCourseInstance`.`end_date`, `s.One2oneCourseInstance`.`invoice_date`, `s.One2oneCourseInstance`.`learner_id`, `s.One2oneCourseInstance`.`org_id`, `s.One2oneCourseInstance`.`room_id`, `s.One2oneCourseInstance`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `s.One2oneCourseInstance`
INNER JOIN (
    SELECT `s2`.`learner_id`
    FROM `ablemusic`.`learner` AS `s2`
    WHERE (`s2`.`is_active` = 1) AND `s2`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t1` ON `s.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`
2019-07-03 21:33:11.163 +12:00 [INF] Executed DbCommand (37ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.LearnerGroupCourse`.`learner_group_course_id`, `s.LearnerGroupCourse`.`begin_date`, `s.LearnerGroupCourse`.`comment`, `s.LearnerGroupCourse`.`created_at`, `s.LearnerGroupCourse`.`end_date`, `s.LearnerGroupCourse`.`group_course_instance_id`, `s.LearnerGroupCourse`.`invoice_date`, `s.LearnerGroupCourse`.`is_activate`, `s.LearnerGroupCourse`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `s.LearnerGroupCourse`
INNER JOIN (
    SELECT `s3`.`learner_id`
    FROM `ablemusic`.`learner` AS `s3`
    WHERE (`s3`.`is_active` = 1) AND `s3`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t2` ON `s.LearnerGroupCourse`.`learner_id` = `t2`.`learner_id`
ORDER BY `t2`.`learner_id`
2019-07-03 21:33:11.174 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 395.56850000000003ms.
2019-07-03 21:33:11.175 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.IEnumerable`1[[Pegasus_backend.pegasusContext.Learner, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:33:11.187 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) in 830.9246ms
2019-07-03 21:33:11.187 +12:00 [INF] Request finished in 837.981ms 200 application/json; charset=utf-8
2019-07-03 21:33:12.335 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/nihao  
2019-07-03 21:33:12.335 +12:00 [INF] Policy execution successful.
2019-07-03 21:33:12.335 +12:00 [INF] Route matched with {action = "GetLearner", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearner(System.String) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-03 21:33:12.336 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:33:12.337 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:33:12.465 +12:00 [INF] Executed DbCommand (64ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`learner_id`, `s`.`address`, `s`.`contact_num`, `s`.`created_at`, `s`.`dob`, `s`.`email`, `s`.`enroll_date`, `s`.`first_name`, `s`.`form_url`, `s`.`g5_certification`, `s`.`gender`, `s`.`is_abrsm_g5`, `s`.`is_active`, `s`.`is_under_18`, `s`.`last_name`, `s`.`learner_level`, `s`.`level_type`, `s`.`middle_name`, `s`.`note`, `s`.`org_id`, `s`.`otherfile_url`, `s`.`payment_period`, `s`.`photo`, `s`.`referrer`, `s`.`referrer_learner_id`, `s`.`user_id`
FROM `ablemusic`.`learner` AS `s`
WHERE (`s`.`is_active` = 1) AND `s`.`first_name` LIKE concat('%', @__name_0, '%')
ORDER BY `s`.`learner_id`
2019-07-03 21:33:12.499 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.LearnerOthers`.`learner_others_id`, `s.LearnerOthers`.`learner_id`, `s.LearnerOthers`.`learner_level`, `s.LearnerOthers`.`others_type`, `s.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `s.LearnerOthers`
INNER JOIN (
    SELECT `s0`.`learner_id`
    FROM `ablemusic`.`learner` AS `s0`
    WHERE (`s0`.`is_active` = 1) AND `s0`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t` ON `s.LearnerOthers`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-03 21:33:12.606 +12:00 [INF] Executed DbCommand (106ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Parent`.`parent_id`, `s.Parent`.`contact_num`, `s.Parent`.`created_at`, `s.Parent`.`email`, `s.Parent`.`first_name`, `s.Parent`.`last_name`, `s.Parent`.`learner_id`, `s.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `s.Parent`
INNER JOIN (
    SELECT `s1`.`learner_id`
    FROM `ablemusic`.`learner` AS `s1`
    WHERE (`s1`.`is_active` = 1) AND `s1`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t0` ON `s.Parent`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-03 21:33:12.638 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.One2oneCourseInstance`.`course_instance_id`, `s.One2oneCourseInstance`.`begin_date`, `s.One2oneCourseInstance`.`course_id`, `s.One2oneCourseInstance`.`end_date`, `s.One2oneCourseInstance`.`invoice_date`, `s.One2oneCourseInstance`.`learner_id`, `s.One2oneCourseInstance`.`org_id`, `s.One2oneCourseInstance`.`room_id`, `s.One2oneCourseInstance`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `s.One2oneCourseInstance`
INNER JOIN (
    SELECT `s2`.`learner_id`
    FROM `ablemusic`.`learner` AS `s2`
    WHERE (`s2`.`is_active` = 1) AND `s2`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t1` ON `s.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`
2019-07-03 21:33:12.675 +12:00 [INF] Executed DbCommand (36ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.LearnerGroupCourse`.`learner_group_course_id`, `s.LearnerGroupCourse`.`begin_date`, `s.LearnerGroupCourse`.`comment`, `s.LearnerGroupCourse`.`created_at`, `s.LearnerGroupCourse`.`end_date`, `s.LearnerGroupCourse`.`group_course_instance_id`, `s.LearnerGroupCourse`.`invoice_date`, `s.LearnerGroupCourse`.`is_activate`, `s.LearnerGroupCourse`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `s.LearnerGroupCourse`
INNER JOIN (
    SELECT `s3`.`learner_id`
    FROM `ablemusic`.`learner` AS `s3`
    WHERE (`s3`.`is_active` = 1) AND `s3`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t2` ON `s.LearnerGroupCourse`.`learner_id` = `t2`.`learner_id`
ORDER BY `t2`.`learner_id`
2019-07-03 21:33:12.676 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 339.4687ms.
2019-07-03 21:33:12.676 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.IEnumerable`1[[Pegasus_backend.pegasusContext.Learner, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:33:12.677 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) in 341.2113ms
2019-07-03 21:33:12.677 +12:00 [INF] Request finished in 342.2817ms 200 application/json; charset=utf-8
2019-07-03 21:33:16.043 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/invoice/10073  
2019-07-03 21:33:16.043 +12:00 [INF] Policy execution successful.
2019-07-03 21:33:16.047 +12:00 [INF] Route matched with {action = "GetInvoice", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Pegasus_backend.pegasusContext.Invoice]] GetInvoice(Int32) on controller Pegasus_backend.Controllers.InvoiceController (Pegasus_backend).
2019-07-03 21:33:16.048 +12:00 [INF] Executing action method Pegasus_backend.Controllers.InvoiceController.GetInvoice (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:33:16.052 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:33:16.184 +12:00 [INF] Executed DbCommand (42ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`invoice_id`, `s`.`begin_date`, `s`.`concert_fee`, `s`.`concert_fee_name`, `s`.`course_instance_id`, `s`.`course_name`, `s`.`created_at`, `s`.`due_date`, `s`.`end_date`, `s`.`group_course_instance_id`, `s`.`invoice_num`, `s`.`is_active`, `s`.`is_paid`, `s`.`learner_id`, `s`.`learner_name`, `s`.`lesson_fee`, `s`.`lesson_note_fee_name`, `s`.`lesson_quantity`, `s`.`note_fee`, `s`.`other1_fee`, `s`.`other1_fee_name`, `s`.`other2_fee`, `s`.`other2_fee_name`, `s`.`other3_fee`, `s`.`other3_fee_name`, `s`.`owing_fee`, `s`.`paid_fee`, `s`.`term_id`, `s`.`total_fee`, `s.Term`.`term_id`, `s.Term`.`begin_date`, `s.Term`.`end_date`, `s.Term`.`term_name`, `s.Term`.`term_type`, `s.Term`.`week_quantity`
FROM `ablemusic`.`invoice` AS `s`
LEFT JOIN `ablemusic`.`term` AS `s.Term` ON `s`.`term_id` = `s.Term`.`term_id`
WHERE ((`s`.`learner_id` = @__id_0) AND (`s`.`is_active` = 1)) AND (`s`.`is_paid` = 0)
2019-07-03 21:33:16.229 +12:00 [INF] Executed action method Pegasus_backend.Controllers.InvoiceController.GetInvoice (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 180.73270000000002ms.
2019-07-03 21:33:16.229 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Invoice, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:33:16.242 +12:00 [INF] Executed action Pegasus_backend.Controllers.InvoiceController.GetInvoice (Pegasus_backend) in 194.4016ms
2019-07-03 21:33:16.242 +12:00 [INF] Request finished in 199.3511ms 200 application/json; charset=utf-8
2019-07-03 21:33:26.827 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/payment/payInvoice  
2019-07-03 21:33:26.827 +12:00 [INF] Policy execution successful.
2019-07-03 21:33:26.828 +12:00 [INF] Request finished in 0.5285ms 204 
2019-07-03 21:33:26.844 +12:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/payment/payInvoice application/json 82
2019-07-03 21:33:26.844 +12:00 [INF] Policy execution successful.
2019-07-03 21:33:26.849 +12:00 [INF] Route matched with {action = "SavePaymentDetails", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SavePaymentDetails(Pegasus_backend.Models.InvoicePay) on controller Pegasus_backend.Controllers.PaymentController (Pegasus_backend).
2019-07-03 21:33:26.857 +12:00 [INF] Executing action method Pegasus_backend.Controllers.PaymentController.SavePaymentDetails (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:33:44.425 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:33:47.766 +12:00 [INF] Executed DbCommand (46ms) [Parameters=[@__details_InvoiceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`invoice_id`, `s`.`begin_date`, `s`.`concert_fee`, `s`.`concert_fee_name`, `s`.`course_instance_id`, `s`.`course_name`, `s`.`created_at`, `s`.`due_date`, `s`.`end_date`, `s`.`group_course_instance_id`, `s`.`invoice_num`, `s`.`is_active`, `s`.`is_paid`, `s`.`learner_id`, `s`.`learner_name`, `s`.`lesson_fee`, `s`.`lesson_note_fee_name`, `s`.`lesson_quantity`, `s`.`note_fee`, `s`.`other1_fee`, `s`.`other1_fee_name`, `s`.`other2_fee`, `s`.`other2_fee_name`, `s`.`other3_fee`, `s`.`other3_fee_name`, `s`.`owing_fee`, `s`.`paid_fee`, `s`.`term_id`, `s`.`total_fee`
FROM `ablemusic`.`invoice` AS `s`
WHERE `s`.`invoice_id` = @__details_InvoiceId_0
LIMIT 1
2019-07-03 21:34:12.190 +12:00 [INF] Executed DbCommand (44ms) [Parameters=[@p28='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = Decimal), @p2='?' (Size = -1), @p3='?' (DbType = AnsiString), @p4='?' (Size = -1), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = Int32), @p9='?' (Size = -1), @p10='?' (DbType = Int16), @p11='?' (DbType = Int16), @p12='?' (DbType = Int32), @p13='?' (Size = -1), @p14='?' (DbType = Decimal), @p15='?' (Size = -1), @p16='?' (DbType = Int32), @p17='?' (DbType = Decimal), @p18='?' (DbType = Decimal), @p19='?' (Size = -1), @p20='?' (DbType = Decimal), @p21='?' (Size = -1), @p22='?' (DbType = Decimal), @p23='?' (Size = -1), @p24='?' (DbType = Decimal), @p25='?' (DbType = Decimal), @p26='?' (DbType = Int16), @p27='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`invoice` SET `begin_date` = @p0, `concert_fee` = @p1, `concert_fee_name` = @p2, `course_instance_id` = @p3, `course_name` = @p4, `created_at` = @p5, `due_date` = @p6, `end_date` = @p7, `group_course_instance_id` = @p8, `invoice_num` = @p9, `is_active` = @p10, `is_paid` = @p11, `learner_id` = @p12, `learner_name` = @p13, `lesson_fee` = @p14, `lesson_note_fee_name` = @p15, `lesson_quantity` = @p16, `note_fee` = @p17, `other1_fee` = @p18, `other1_fee_name` = @p19, `other2_fee` = @p20, `other2_fee_name` = @p21, `other3_fee` = @p22, `other3_fee_name` = @p23, `owing_fee` = @p24, `paid_fee` = @p25, `term_id` = @p26, `total_fee` = @p27
WHERE `invoice_id` = @p28;
SELECT ROW_COUNT();
2019-07-03 21:35:02.924 +12:00 [INF] Executed DbCommand (44ms) [Parameters=[@p0='?' (DbType = AnsiString), @p1='?' (DbType = Decimal), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (DbType = AnsiString), @p7='?' (DbType = Int32), @p8='?' (DbType = Byte), @p9='?' (DbType = Byte), @p10='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`payment` (`after_balance`, `amount`, `before_balance`, `comment`, `created_at`, `invoice_id`, `is_confirmed`, `learner_id`, `payment_method`, `payment_type`, `staff_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
SELECT `payment_id`
FROM `ablemusic`.`payment`
WHERE ROW_COUNT() = 1
 AND `payment_id`=LAST_INSERT_ID();
2019-07-03 21:35:06.492 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[@__details_LearnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`learner_id`, `s`.`balance`, `s`.`updated_at`
FROM `ablemusic`.`fund` AS `s`
WHERE `s`.`learner_id` = @__details_LearnerId_0
LIMIT 1
2019-07-03 21:35:51.148 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Decimal), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`fund` SET `balance` = @p0, `updated_at` = @p1
WHERE `learner_id` = @p2;
SELECT ROW_COUNT();
2019-07-03 21:36:45.090 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[@__invoice_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`invoice_id`, `x`.`begin_date`, `x`.`concert_fee`, `x`.`concert_fee_name`, `x`.`course_instance_id`, `x`.`course_name`, `x`.`created_at`, `x`.`due_date`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_num`, `x`.`is_active`, `x`.`is_paid`, `x`.`learner_id`, `x`.`learner_name`, `x`.`lesson_fee`, `x`.`lesson_note_fee_name`, `x`.`lesson_quantity`, `x`.`note_fee`, `x`.`other1_fee`, `x`.`other1_fee_name`, `x`.`other2_fee`, `x`.`other2_fee_name`, `x`.`other3_fee`, `x`.`other3_fee_name`, `x`.`owing_fee`, `x`.`paid_fee`, `x`.`term_id`, `x`.`total_fee`
FROM `ablemusic`.`invoice` AS `x`
WHERE `x`.`invoice_id` = @__invoice_id_0
LIMIT 1
2019-07-03 21:37:34.907 +12:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_schedule_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`day_of_week`, `x`.`end_time`, `x`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `x`
WHERE `x`.`course_instance_id` IS NULL
ORDER BY `x`.`day_of_week`
2019-07-03 21:38:11.500 +12:00 [INF] Executed DbCommand (36ms) [Parameters=[@__invoice_EndDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`amendment_id`, `x`.`amend_type`, `x`.`begin_date`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`course_schedule_id`, `x`.`created_at`, `x`.`day_of_week`, `x`.`end_date`, `x`.`end_time`, `x`.`is_temporary`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`amendment` AS `x`
WHERE `x`.`course_instance_id` IS NULL AND (`x`.`begin_date` <= @__invoice_EndDate_1)
ORDER BY `x`.`created_at`
2019-07-03 21:38:40.624 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` IS NULL
LIMIT 1
2019-07-03 21:57:43.343 +12:00 [INF] User profile is available. Using 'C:\Users\Learnspace\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-07-03 21:57:44.655 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2019-07-03 21:57:44.688 +12:00 [WRN] Failed to determine the https port for redirect.
2019-07-03 21:57:44.883 +12:00 [INF] Request finished in 229.5053ms 404 
2019-07-03 21:59:04.904 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/navitems  
2019-07-03 21:59:04.904 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lookups  
2019-07-03 21:59:04.919 +12:00 [INF] Policy execution successful.
2019-07-03 21:59:04.919 +12:00 [INF] Policy execution successful.
2019-07-03 21:59:04.920 +12:00 [INF] Request finished in 15.5458ms 204 
2019-07-03 21:59:04.920 +12:00 [INF] Request finished in 15.5449ms 204 
2019-07-03 21:59:04.943 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/dashboard/5  
2019-07-03 21:59:04.951 +12:00 [INF] Policy execution successful.
2019-07-03 21:59:04.959 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Chat/GetStaffChattingList/1  
2019-07-03 21:59:04.959 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/todolist/158  
2019-07-03 21:59:04.966 +12:00 [INF] Policy execution successful.
2019-07-03 21:59:04.971 +12:00 [INF] Policy execution successful.
2019-07-03 21:59:04.972 +12:00 [INF] Request finished in 13.8211ms 204 
2019-07-03 21:59:05.006 +12:00 [INF] Route matched with {action = "Get", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.String) on controller Pegasus_backend.Controllers.DashboardController (Pegasus_backend).
2019-07-03 21:59:05.006 +12:00 [INF] Route matched with {action = "GetStaffChattingList", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStaffChattingList(Int32) on controller Pegasus_backend.Controllers.MobileControllers.ChatController (Pegasus_backend).
2019-07-03 21:59:05.099 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/images/staff/Photos/123190610032313190.jpg  
2019-07-03 21:59:05.102 +12:00 [INF] Request finished in 3.285ms 404 
2019-07-03 21:59:05.166 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups  
2019-07-03 21:59:05.166 +12:00 [INF] Policy execution successful.
2019-07-03 21:59:05.227 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/navitems  
2019-07-03 21:59:05.227 +12:00 [INF] Policy execution successful.
2019-07-03 21:59:05.229 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/todolist/158  
2019-07-03 21:59:05.229 +12:00 [INF] Policy execution successful.
2019-07-03 21:59:05.248 +12:00 [INF] Successfully validated the token.
2019-07-03 21:59:05.248 +12:00 [INF] Successfully validated the token.
2019-07-03 21:59:05.248 +12:00 [INF] Successfully validated the token.
2019-07-03 21:59:05.257 +12:00 [INF] Route matched with {action = "GetLookups", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookups() on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-03 21:59:05.257 +12:00 [INF] Route matched with {action = "GetNavItems", controller = "NavItems"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNavItems() on controller Pegasus_backend.Controllers.NavItemsController (Pegasus_backend).
2019-07-03 21:59:05.257 +12:00 [INF] Route matched with {action = "Get", controller = "TodoList"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int16) on controller Pegasus_backend.Controllers.TodoListController (Pegasus_backend).
2019-07-03 21:59:05.258 +12:00 [INF] Executing action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetStaffChattingList (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:59:05.258 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:59:05.258 +12:00 [INF] Executing action method Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:59:05.260 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TodoListController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:59:05.292 +12:00 [INF] Authorization was successful.
2019-07-03 21:59:05.293 +12:00 [INF] Executing action method Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:59:06.346 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:59:06.346 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:59:06.346 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:59:06.346 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:59:06.346 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:59:06.440 +12:00 [WRN] The LINQ expression 'where ([t].TodoDate == Convert(value(Pegasus_backend.Controllers.TodoListController).toNZTimezone(DateTime.UtcNow).Date, Nullable`1))' could not be translated and will be evaluated locally.
2019-07-03 21:59:06.441 +12:00 [WRN] The LINQ expression 'where ((([l].BeginTime != null) AndAlso (Convert([l].BeginTime, DateTime).Date == ___today_Date_0)) AndAlso {___orgIds_1 => Contains(Convert([l].OrgId, Int32))})' could not be translated and will be evaluated locally.
2019-07-03 21:59:06.446 +12:00 [WRN] The LINQ expression 'Contains(Convert([l].OrgId, Int32))' could not be translated and will be evaluated locally.
2019-07-03 21:59:07.656 +12:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:59:07.671 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
=======
2019-07-03 12:24:04.731 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__staffId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`org_id`
FROM `ablemusic`.`staff_org` AS `x`
WHERE `x`.`staff_id` = @__staffId_0
LIMIT 1
2019-07-03 12:24:04.751 +12:00 [WRN] Query: '(from Lesson x in DbSet<Lesson> where (Nullable<int>)(int)[x].OrgId == (Nullable<int>)__orgIdOfStaff...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 12:24:04.754 +12:00 [WRN] The Include operation for navigation '[x].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 12:24:04.949 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@__orgIdOfStaff_0='?' (DbType = Int16), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT `t`.*
FROM (
    SELECT `x`.`learner_id` AS `LearnerId`, `x.Learner`.`first_name` AS `FirstName`, `x.Learner`.`last_name` AS `LastName`, `x.Learner`.`user_id` AS `UserId`, `x.Learner`.`photo`
    FROM `ablemusic`.`lesson` AS `x`
    LEFT JOIN `ablemusic`.`learner` AS `x.Learner` ON `x`.`learner_id` = `x.Learner`.`learner_id`
    WHERE `x`.`org_id` = @__orgIdOfStaff_0
    LIMIT @__p_1
) AS `t`
2019-07-03 12:24:04.963 +12:00 [WRN] Query: '(from Learner x in DbSet<Learner> where (Nullable<int>)[x].OrgId == (Nullable<int>)__orgIdOfStaff_0 ...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 12:24:05.129 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__orgIdOfStaff_0='?' (DbType = Int16), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT `t`.*
FROM (
    SELECT `x`.`learner_id` AS `LearnerId`, `x`.`first_name` AS `FirstName`, `x`.`last_name` AS `LastName`, `x`.`user_id` AS `UserId`, `x`.`photo`
    FROM `ablemusic`.`learner` AS `x`
    WHERE `x`.`org_id` = @__orgIdOfStaff_0
    LIMIT @__p_1
) AS `t`
2019-07-03 12:24:05.138 +12:00 [WRN] Query: '(from Staff x in DbSet<Staff> where (Nullable<int>)(int)[x].StaffId != __staffId_0 select new Staff{...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 12:24:05.321 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__staffId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`first_name` AS `FirstName`, `x`.`last_name` AS `LastName`, `x`.`user_id` AS `UserId`, `x`.`photo`
FROM `ablemusic`.`staff` AS `x`
WHERE `x`.`staff_id` <> @__staffId_0
LIMIT @__p_1
2019-07-03 12:24:05.330 +12:00 [WRN] Query: '(from Teacher x in DbSet<Teacher> select new Teacher{ { 
    TeacherId = [x].TeacherId, , 
    Fir...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 12:24:05.498 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`teacher_id` AS `TeacherId`, `x`.`first_name` AS `FirstName`, `x`.`last_name` AS `LastName`, `x`.`photo`, `x`.`user_id` AS `UserId`
FROM `ablemusic`.`teacher` AS `x`
LIMIT @__p_0
2019-07-03 12:24:05.507 +12:00 [INF] Executed action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3569.1609000000003ms.
2019-07-03 12:24:05.508 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[Pegasus_backend.Models.ChatListModel, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-03 12:24:05.647 +12:00 [INF] Executed action Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) in 3727.1679000000004ms
2019-07-03 12:24:05.648 +12:00 [INF] Request finished in 3752.9066ms 200 application/json; charset=utf-8
2019-07-03 12:24:05.664 +12:00 [INF] Connection id "0HLNV9IUF8OA3", Request id "0HLNV9IUF8OA3:00000002": the application completed without reading the entire request body.
2019-07-03 12:26:04.545 +12:00 [INF] User profile is available. Using 'C:\Users\lgx95\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-07-03 12:26:05.175 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/values  
2019-07-03 12:26:05.175 +12:00 [INF] Request starting HTTP/1.1 DEBUG http://localhost:5000/  0
2019-07-03 12:26:05.195 +12:00 [INF] Request finished in 20.3141ms 200 
2019-07-03 12:26:05.221 +12:00 [WRN] Failed to determine the https port for redirect.
2019-07-03 12:26:05.516 +12:00 [INF] Route matched with {action = "Get", controller = "Values"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get() on controller Pegasus_backend.Controllers.ValuesController (Pegasus_backend).
2019-07-03 12:26:05.683 +12:00 [INF] Executing action method Pegasus_backend.Controllers.ValuesController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-03 12:26:05.812 +12:00 [ERR] ValuesController LogErrorToFile: System.Exception: Exception of type 'System.Exception' was thrown.
   at Pegasus_backend.Controllers.ValuesController.Get() in C:\angular\pegasusBackend\Controllers\ValuesController.cs:line 30
2019-07-03 12:26:05.813 +12:00 [INF] ValuesController LogInfoToFile: hello
2019-07-03 12:26:05.818 +12:00 [INF] Executed action method Pegasus_backend.Controllers.ValuesController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 125.12ms.
2019-07-03 12:26:05.827 +12:00 [INF] Executing ObjectResult, writing value of type 'System.DateTime'.
2019-07-03 12:26:05.884 +12:00 [INF] Executed action Pegasus_backend.Controllers.ValuesController.Get (Pegasus_backend) in 361.3808ms
2019-07-03 12:26:05.888 +12:00 [INF] Request finished in 715.4525ms 200 application/json; charset=utf-8
2019-07-03 12:26:11.979 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Chat/GetChattingList/10065 application/json 65
2019-07-03 12:26:12.002 +12:00 [INF] Route matched with {action = "GetChattingList", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChattingList(Int32) on controller Pegasus_backend.Controllers.MobileControllers.ChatController (Pegasus_backend).
2019-07-03 12:26:12.024 +12:00 [INF] Executing action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) - Validation state: "Valid"
2019-07-03 12:26:13.036 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 12:26:14.153 +12:00 [INF] Executed DbCommand (61ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`user_id`, `x`.`created_at`, `x`.`is_activate`, `x`.`password`, `x`.`role_id`, `x`.`unread_message_id`, `x`.`user_name`, `x.Role`.`role_id`, `x.Role`.`role_name`
FROM `ablemusic`.`user` AS `x`
LEFT JOIN `ablemusic`.`role` AS `x.Role` ON `x`.`role_id` = `x.Role`.`role_id`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
2019-07-03 12:26:14.483 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
>>>>>>> 70179401b82cb6ed928ca587a5b8d762b7e7cca6
SELECT `x`.`staff_id`, `x`.`dob`, `x`.`email`, `x`.`expiry_date`, `x`.`first_name`, `x`.`gender`, `x`.`home_phone`, `x`.`id_number`, `x`.`id_photo`, `x`.`id_type`, `x`.`ird_number`, `x`.`is_activate`, `x`.`last_name`, `x`.`mobile_phone`, `x`.`photo`, `x`.`user_id`, `x`.`visa`
FROM `ablemusic`.`staff` AS `x`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
<<<<<<< HEAD
2019-07-03 21:59:07.671 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__userId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`list_id`, `t`.`created_at`, `t`.`learner_id`, `t`.`lesson_id`, `t`.`list_content`, `t`.`list_name`, `t`.`process_flag`, `t`.`processed_at`, `t`.`teacher_id`, `t`.`todo_date`, `t`.`user_id`
FROM `ablemusic`.`todo_list` AS `t`
WHERE `t`.`user_id` = @__userId_0
2019-07-03 21:59:07.671 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`user_id`, `s`.`created_at`, `s`.`is_activate`, `s`.`password`, `s`.`role_id`, `s`.`unread_message_id`, `s`.`user_name`
FROM `ablemusic`.`user` AS `s`
WHERE `s`.`user_id` = @__userId_0
LIMIT 1
2019-07-03 21:59:07.698 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TodoListController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2428.1312000000003ms.
2019-07-03 21:59:07.707 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.TodoList, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:59:07.727 +12:00 [INF] Executed action Pegasus_backend.Controllers.TodoListController.Get (Pegasus_backend) in 2466.6418000000003ms
2019-07-03 21:59:07.730 +12:00 [INF] Request finished in 2500.4973ms 200 application/json; charset=utf-8
2019-07-03 21:59:07.751 +12:00 [WRN] The LINQ expression 'where (((([l].BeginTime != null) AndAlso (Convert([l].BeginTime, DateTime).Date == ___today_Date_0)) AndAlso (Convert([l].IsTrial, Nullable`1) == 1)) AndAlso {___orgIds_1 => Contains(Convert([l].OrgId, Int32))})' could not be translated and will be evaluated locally.
2019-07-03 21:59:07.752 +12:00 [WRN] The LINQ expression 'Contains(Convert([l].OrgId, Int32))' could not be translated and will be evaluated locally.
2019-07-03 21:59:07.854 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:59:07.873 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[@__roleId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`page_id`
FROM `ablemusic`.`role_access` AS `s`
WHERE `s`.`role_id` = @__roleId_0
2019-07-03 21:59:07.890 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[@__staffDetial_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`org_id`
FROM `ablemusic`.`staff_org` AS `x`
WHERE `x`.`staff_id` = @__staffDetial_StaffId_0
LIMIT 1
2019-07-03 21:59:07.904 +12:00 [WRN] Query: '(from Staff x in DbSet<Staff> where (Nullable<int>)[x].UserId != (Nullable<int>)__id_0 select [x]).T...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 21:59:07.931 +12:00 [WRN] The LINQ expression 'where (([l].EnrollDate != null) AndAlso (___today_Date_0 == Convert([l].EnrollDate, DateTime).Date))' could not be translated and will be evaluated locally.
2019-07-03 21:59:08.014 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__id_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`staff_id`, `x`.`dob`, `x`.`email`, `x`.`expiry_date`, `x`.`first_name`, `x`.`gender`, `x`.`home_phone`, `x`.`id_number`, `x`.`id_photo`, `x`.`id_type`, `x`.`ird_number`, `x`.`is_activate`, `x`.`last_name`, `x`.`mobile_phone`, `x`.`photo`, `x`.`user_id`, `x`.`visa`
FROM `ablemusic`.`staff` AS `x`
WHERE (`x`.`user_id` <> @__id_0) OR `x`.`user_id` IS NULL
LIMIT @__p_1
2019-07-03 21:59:08.022 +12:00 [WRN] Query: '(from Teacher x in DbSet<Teacher> select new Teacher{ { 
    TeacherId = [x].TeacherId, , 
    Fir...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 21:59:08.034 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`org_id` IN (5)
2019-07-03 21:59:08.069 +12:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`page_group_id`, `s`.`display_order`, `s`.`icon`, `s`.`page_group_name`
FROM `ablemusic`.`page_group` AS `s`
ORDER BY `s`.`page_group_id`
2019-07-03 21:59:08.121 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Page`.`page_id`, `s.Page`.`display_order`, `s.Page`.`icon`, `s.Page`.`is_activate`, `s.Page`.`page_group_id`, `s.Page`.`page_name`, `s.Page`.`para`, `s.Page`.`para_flag`, `s.Page`.`url`
FROM `ablemusic`.`page` AS `s.Page`
INNER JOIN (
    SELECT `s0`.`page_group_id`
    FROM `ablemusic`.`page_group` AS `s0`
) AS `t` ON `s.Page`.`page_group_id` = `t`.`page_group_id`
ORDER BY `t`.`page_group_id`
2019-07-03 21:59:08.133 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`teacher_id` AS `TeacherId`, `x`.`first_name` AS `FirstName`, `x`.`last_name` AS `LastName`, `x`.`email`
FROM `ablemusic`.`teacher` AS `x`
LIMIT @__p_0
2019-07-03 21:59:08.134 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
2019-07-03 21:59:08.142 +12:00 [WRN] Query: '(from Lesson x in DbSet<Lesson> where (Nullable<int>)(int)[x].OrgId == (Nullable<int>)__orgIdOfStaff...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 21:59:08.144 +12:00 [WRN] The Include operation for navigation '[x].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 21:59:08.153 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2886.3149000000003ms.
2019-07-03 21:59:08.153 +12:00 [INF] Executed action method Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2860.1004000000003ms.
2019-07-03 21:59:08.153 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:59:08.153 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:59:08.161 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend) in 2903.8949000000002ms
2019-07-03 21:59:08.161 +12:00 [INF] Request finished in 2995.0971ms 200 application/json; charset=utf-8
2019-07-03 21:59:08.171 +12:00 [INF] Executed action Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend) in 2911.9597000000003ms
2019-07-03 21:59:08.171 +12:00 [INF] Request finished in 2944.3278ms 200 application/json; charset=utf-8
2019-07-03 21:59:08.207 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`waiting_id`, `w`.`begin_date`, `w`.`concert_fee`, `w`.`concert_fee_name`, `w`.`course_instance_id`, `w`.`course_name`, `w`.`created_at`, `w`.`due_date`, `w`.`end_date`, `w`.`group_course_instance_id`, `w`.`invoice_num`, `w`.`is_activate`, `w`.`is_confirmed`, `w`.`is_email_sent`, `w`.`is_paid`, `w`.`learner_id`, `w`.`learner_name`, `w`.`lesson_fee`, `w`.`lesson_note_fee_name`, `w`.`lesson_quantity`, `w`.`note_fee`, `w`.`other1_fee`, `w`.`other1_fee_name`, `w`.`other2_fee`, `w`.`other2_fee_name`, `w`.`other3_fee`, `w`.`other3_fee_name`, `w`.`owing_fee`, `w`.`paid_fee`, `w`.`term_id`, `w`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `w`
INNER JOIN `ablemusic`.`learner` AS `l` ON `w`.`learner_id` = `l`.`learner_id`
WHERE `l`.`org_id` IN (5) AND (`w`.`is_confirmed` = 0)
2019-07-03 21:59:08.290 +12:00 [WRN] The LINQ expression 'where (Convert([l].BeginTime, DateTime).Date == ___today_Date_1)' could not be translated and will be evaluated locally.
2019-07-03 21:59:08.292 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[@__orgIdOfStaff_0='?' (DbType = Int16), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x.Learner`.`learner_id`, `x.Learner`.`address`, `x.Learner`.`contact_num`, `x.Learner`.`created_at`, `x.Learner`.`dob`, `x.Learner`.`email`, `x.Learner`.`enroll_date`, `x.Learner`.`first_name`, `x.Learner`.`form_url`, `x.Learner`.`g5_certification`, `x.Learner`.`gender`, `x.Learner`.`is_abrsm_g5`, `x.Learner`.`is_active`, `x.Learner`.`is_under_18`, `x.Learner`.`last_name`, `x.Learner`.`learner_level`, `x.Learner`.`level_type`, `x.Learner`.`middle_name`, `x.Learner`.`note`, `x.Learner`.`org_id`, `x.Learner`.`otherfile_url`, `x.Learner`.`payment_period`, `x.Learner`.`photo`, `x.Learner`.`referrer`, `x.Learner`.`referrer_learner_id`, `x.Learner`.`user_id`, `x`.`lesson_id` AS `LessonId`, `x`.`learner_id` AS `LearnerId`
FROM `ablemusic`.`lesson` AS `x`
LEFT JOIN `ablemusic`.`learner` AS `x.Learner` ON `x`.`learner_id` = `x.Learner`.`learner_id`
WHERE `x`.`org_id` = @__orgIdOfStaff_0
LIMIT @__p_1
2019-07-03 21:59:08.311 +12:00 [WRN] Query: '(from Learner x in DbSet<Learner> where (Nullable<int>)[x].OrgId == (Nullable<int>)__orgIdOfStaff_0 ...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 21:59:08.391 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`begin_time` IS NOT NULL AND (`l`.`is_canceled` = 1)) AND `l`.`org_id` IN (5)
2019-07-03 21:59:08.410 +12:00 [WRN] The LINQ expression 'where (Convert([l].BeginTime, DateTime).Date == ___today_Date_1)' could not be translated and will be evaluated locally.
2019-07-03 21:59:08.431 +12:00 [INF] Executed DbCommand (40ms) [Parameters=[@__orgIdOfStaff_0='?' (DbType = Int16), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_id`, `x`.`address`, `x`.`contact_num`, `x`.`created_at`, `x`.`dob`, `x`.`email`, `x`.`enroll_date`, `x`.`first_name`, `x`.`form_url`, `x`.`g5_certification`, `x`.`gender`, `x`.`is_abrsm_g5`, `x`.`is_active`, `x`.`is_under_18`, `x`.`last_name`, `x`.`learner_level`, `x`.`level_type`, `x`.`middle_name`, `x`.`note`, `x`.`org_id`, `x`.`otherfile_url`, `x`.`payment_period`, `x`.`photo`, `x`.`referrer`, `x`.`referrer_learner_id`, `x`.`user_id`
FROM `ablemusic`.`learner` AS `x`
WHERE `x`.`org_id` = @__orgIdOfStaff_0
LIMIT @__p_1
2019-07-03 21:59:08.432 +12:00 [INF] Executed action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetStaffChattingList (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3165.6885ms.
2019-07-03 21:59:08.433 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Tuple`4[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Staff, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Teacher, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lesson, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Learner, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:59:08.515 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE ((`l`.`begin_time` IS NOT NULL AND `l`.`org_id` IN (5)) AND ((`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL)) AND (`l`.`is_changed` = 1)
2019-07-03 21:59:08.526 +12:00 [WRN] The LINQ expression 'where ((([a].EndDate != null) AndAlso (Convert([a].AmendType, Nullable`1) == 1)) AndAlso (___today_Date_0 == Convert([a].EndDate, DateTime).Date))' could not be translated and will be evaluated locally.
2019-07-03 21:59:08.584 +12:00 [INF] Executed action Pegasus_backend.Controllers.MobileControllers.ChatController.GetStaffChattingList (Pegasus_backend) in 3577.7842ms
2019-07-03 21:59:08.584 +12:00 [INF] Request finished in 3626.3311ms 200 application/json; charset=utf-8
2019-07-03 21:59:08.631 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`amendment_id`, `a`.`amend_type`, `a`.`begin_date`, `a`.`begin_time`, `a`.`course_instance_id`, `a`.`course_schedule_id`, `a`.`created_at`, `a`.`day_of_week`, `a`.`end_date`, `a`.`end_time`, `a`.`is_temporary`, `a`.`learner_id`, `a`.`org_id`, `a`.`reason`, `a`.`room_id`, `a`.`teacher_id`
FROM `ablemusic`.`amendment` AS `a`
WHERE `a`.`org_id` IN (5)
2019-07-03 21:59:08.656 +12:00 [WRN] The LINQ expression 'where ((([a].EndDate != null) AndAlso (Convert([a].AmendType, Nullable`1) == 2)) AndAlso (___today_Date_0 == Convert([a].EndDate, DateTime).Date))' could not be translated and will be evaluated locally.
2019-07-03 21:59:08.754 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`amendment_id`, `a`.`amend_type`, `a`.`begin_date`, `a`.`begin_time`, `a`.`course_instance_id`, `a`.`course_schedule_id`, `a`.`created_at`, `a`.`day_of_week`, `a`.`end_date`, `a`.`end_time`, `a`.`is_temporary`, `a`.`learner_id`, `a`.`org_id`, `a`.`reason`, `a`.`room_id`, `a`.`teacher_id`
FROM `ablemusic`.`amendment` AS `a`
WHERE `a`.`org_id` IN (5)
2019-07-03 21:59:08.859 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:59:08.932 +12:00 [WRN] The LINQ expression 'where (Convert([l].BeginTime, DateTime).Date >= ___today_Date_1)' could not be translated and will be evaluated locally.
2019-07-03 21:59:09.048 +12:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE False = True
2019-07-03 21:59:09.171 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:59:09.315 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE False = True
2019-07-03 21:59:09.410 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:59:09.558 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE False = True
2019-07-03 21:59:09.567 +12:00 [WRN] The LINQ expression 'where ((((([l].BeginTime != null) AndAlso (Convert([l].IsCanceled, Nullable`1) != 1)) AndAlso {___orgIds_0 => Contains(Convert([l].OrgId, Int32))}) AndAlso (Convert([l].BeginTime, DateTime).Date >= __beginDate_Date_1)) AndAlso (Convert([l].BeginTime, DateTime).Date <= __endDate_Date_2))' could not be translated and will be evaluated locally.
2019-07-03 21:59:09.567 +12:00 [WRN] The LINQ expression 'Contains(Convert([l].OrgId, Int32))' could not be translated and will be evaluated locally.
2019-07-03 21:59:09.667 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
2019-07-03 21:59:09.792 +12:00 [WRN] The LINQ expression 'where ((([l].EnrollDate != null) AndAlso (Convert([l].EnrollDate, DateTime).Date >= __beginTime_Date_0)) AndAlso (Convert([l].EnrollDate, DateTime).Date <= ___today_Date_1))' could not be translated and will be evaluated locally.
2019-07-03 21:59:09.892 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`org_id` IN (5)
2019-07-03 21:59:09.920 +12:00 [INF] Executed action method Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4653.3448ms.
2019-07-03 21:59:09.920 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:59:09.941 +12:00 [INF] Executed action Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend) in 4934.7056ms
2019-07-03 21:59:09.941 +12:00 [INF] Request finished in 4998.3903ms 200 application/json; charset=utf-8
2019-07-03 21:59:09.945 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/dashboard/5  
2019-07-03 21:59:09.946 +12:00 [INF] Policy execution successful.
2019-07-03 21:59:09.959 +12:00 [INF] Route matched with {action = "Get", controller = "Dashboard"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(System.String) on controller Pegasus_backend.Controllers.DashboardController (Pegasus_backend).
2019-07-03 21:59:09.960 +12:00 [INF] Executing action method Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:59:09.961 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:59:10.058 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:59:10.206 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:59:10.354 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`org_id` IN (5)
2019-07-03 21:59:10.478 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`waiting_id`, `w`.`begin_date`, `w`.`concert_fee`, `w`.`concert_fee_name`, `w`.`course_instance_id`, `w`.`course_name`, `w`.`created_at`, `w`.`due_date`, `w`.`end_date`, `w`.`group_course_instance_id`, `w`.`invoice_num`, `w`.`is_activate`, `w`.`is_confirmed`, `w`.`is_email_sent`, `w`.`is_paid`, `w`.`learner_id`, `w`.`learner_name`, `w`.`lesson_fee`, `w`.`lesson_note_fee_name`, `w`.`lesson_quantity`, `w`.`note_fee`, `w`.`other1_fee`, `w`.`other1_fee_name`, `w`.`other2_fee`, `w`.`other2_fee_name`, `w`.`other3_fee`, `w`.`other3_fee_name`, `w`.`owing_fee`, `w`.`paid_fee`, `w`.`term_id`, `w`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `w`
INNER JOIN `ablemusic`.`learner` AS `l` ON `w`.`learner_id` = `l`.`learner_id`
WHERE `l`.`org_id` IN (5) AND (`w`.`is_confirmed` = 0)
2019-07-03 21:59:10.646 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`begin_time` IS NOT NULL AND (`l`.`is_canceled` = 1)) AND `l`.`org_id` IN (5)
2019-07-03 21:59:10.750 +12:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE ((`l`.`begin_time` IS NOT NULL AND `l`.`org_id` IN (5)) AND ((`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL)) AND (`l`.`is_changed` = 1)
2019-07-03 21:59:10.846 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`amendment_id`, `a`.`amend_type`, `a`.`begin_date`, `a`.`begin_time`, `a`.`course_instance_id`, `a`.`course_schedule_id`, `a`.`created_at`, `a`.`day_of_week`, `a`.`end_date`, `a`.`end_time`, `a`.`is_temporary`, `a`.`learner_id`, `a`.`org_id`, `a`.`reason`, `a`.`room_id`, `a`.`teacher_id`
FROM `ablemusic`.`amendment` AS `a`
WHERE `a`.`org_id` IN (5)
2019-07-03 21:59:10.941 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `a`.`amendment_id`, `a`.`amend_type`, `a`.`begin_date`, `a`.`begin_time`, `a`.`course_instance_id`, `a`.`course_schedule_id`, `a`.`created_at`, `a`.`day_of_week`, `a`.`end_date`, `a`.`end_time`, `a`.`is_temporary`, `a`.`learner_id`, `a`.`org_id`, `a`.`reason`, `a`.`room_id`, `a`.`teacher_id`
FROM `ablemusic`.`amendment` AS `a`
WHERE `a`.`org_id` IN (5)
2019-07-03 21:59:11.039 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:59:11.186 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE False = True
2019-07-03 21:59:11.283 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:59:11.432 +12:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE False = True
2019-07-03 21:59:11.530 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
WHERE (`l`.`is_canceled` <> 1) OR `l`.`is_canceled` IS NULL
2019-07-03 21:59:11.679 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`learner_id`, `lr`.`address`, `lr`.`contact_num`, `lr`.`created_at`, `lr`.`dob`, `lr`.`email`, `lr`.`enroll_date`, `lr`.`first_name`, `lr`.`form_url`, `lr`.`g5_certification`, `lr`.`gender`, `lr`.`is_abrsm_g5`, `lr`.`is_active`, `lr`.`is_under_18`, `lr`.`last_name`, `lr`.`learner_level`, `lr`.`level_type`, `lr`.`middle_name`, `lr`.`note`, `lr`.`org_id`, `lr`.`otherfile_url`, `lr`.`payment_period`, `lr`.`photo`, `lr`.`referrer`, `lr`.`referrer_learner_id`, `lr`.`user_id`, `l`.`begin_time`
FROM `ablemusic`.`lesson` AS `l`
INNER JOIN `ablemusic`.`learner` AS `lr` ON `l`.`learner_id` = `lr`.`learner_id`
WHERE False = True
2019-07-03 21:59:11.776 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lesson_id`, `l`.`begin_time`, `l`.`course_instance_id`, `l`.`created_at`, `l`.`end_time`, `l`.`group_course_instance_id`, `l`.`invoice_id`, `l`.`is_canceled`, `l`.`is_changed`, `l`.`is_confirm`, `l`.`is_trial`, `l`.`learner_id`, `l`.`org_id`, `l`.`reason`, `l`.`room_id`, `l`.`teacher_id`, `l`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `l`
2019-07-03 21:59:11.986 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`org_id` IN (5)
2019-07-03 21:59:12.010 +12:00 [INF] Executed action method Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2049.9948ms.
2019-07-03 21:59:12.010 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:59:12.011 +12:00 [INF] Executed action Pegasus_backend.Controllers.DashboardController.Get (Pegasus_backend) in 2051.5351ms
2019-07-03 21:59:12.011 +12:00 [INF] Request finished in 2065.9528ms 200 application/json; charset=utf-8
2019-07-03 21:59:15.342 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/nihao  
2019-07-03 21:59:15.342 +12:00 [INF] Policy execution successful.
2019-07-03 21:59:15.347 +12:00 [INF] Route matched with {action = "GetLearner", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearner(System.String) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-03 21:59:15.792 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:59:15.796 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:59:15.966 +12:00 [INF] Executed DbCommand (35ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`learner_id`, `s`.`address`, `s`.`contact_num`, `s`.`created_at`, `s`.`dob`, `s`.`email`, `s`.`enroll_date`, `s`.`first_name`, `s`.`form_url`, `s`.`g5_certification`, `s`.`gender`, `s`.`is_abrsm_g5`, `s`.`is_active`, `s`.`is_under_18`, `s`.`last_name`, `s`.`learner_level`, `s`.`level_type`, `s`.`middle_name`, `s`.`note`, `s`.`org_id`, `s`.`otherfile_url`, `s`.`payment_period`, `s`.`photo`, `s`.`referrer`, `s`.`referrer_learner_id`, `s`.`user_id`
FROM `ablemusic`.`learner` AS `s`
WHERE (`s`.`is_active` = 1) AND `s`.`first_name` LIKE concat('%', @__name_0, '%')
ORDER BY `s`.`learner_id`
2019-07-03 21:59:16.014 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.LearnerOthers`.`learner_others_id`, `s.LearnerOthers`.`learner_id`, `s.LearnerOthers`.`learner_level`, `s.LearnerOthers`.`others_type`, `s.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `s.LearnerOthers`
INNER JOIN (
    SELECT `s0`.`learner_id`
    FROM `ablemusic`.`learner` AS `s0`
    WHERE (`s0`.`is_active` = 1) AND `s0`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t` ON `s.LearnerOthers`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-03 21:59:16.056 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Parent`.`parent_id`, `s.Parent`.`contact_num`, `s.Parent`.`created_at`, `s.Parent`.`email`, `s.Parent`.`first_name`, `s.Parent`.`last_name`, `s.Parent`.`learner_id`, `s.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `s.Parent`
INNER JOIN (
    SELECT `s1`.`learner_id`
    FROM `ablemusic`.`learner` AS `s1`
    WHERE (`s1`.`is_active` = 1) AND `s1`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t0` ON `s.Parent`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-03 21:59:16.118 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.One2oneCourseInstance`.`course_instance_id`, `s.One2oneCourseInstance`.`begin_date`, `s.One2oneCourseInstance`.`course_id`, `s.One2oneCourseInstance`.`end_date`, `s.One2oneCourseInstance`.`invoice_date`, `s.One2oneCourseInstance`.`learner_id`, `s.One2oneCourseInstance`.`org_id`, `s.One2oneCourseInstance`.`room_id`, `s.One2oneCourseInstance`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `s.One2oneCourseInstance`
INNER JOIN (
    SELECT `s2`.`learner_id`
    FROM `ablemusic`.`learner` AS `s2`
    WHERE (`s2`.`is_active` = 1) AND `s2`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t1` ON `s.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`
2019-07-03 21:59:16.182 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.LearnerGroupCourse`.`learner_group_course_id`, `s.LearnerGroupCourse`.`begin_date`, `s.LearnerGroupCourse`.`comment`, `s.LearnerGroupCourse`.`created_at`, `s.LearnerGroupCourse`.`end_date`, `s.LearnerGroupCourse`.`group_course_instance_id`, `s.LearnerGroupCourse`.`invoice_date`, `s.LearnerGroupCourse`.`is_activate`, `s.LearnerGroupCourse`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `s.LearnerGroupCourse`
INNER JOIN (
    SELECT `s3`.`learner_id`
    FROM `ablemusic`.`learner` AS `s3`
    WHERE (`s3`.`is_active` = 1) AND `s3`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t2` ON `s.LearnerGroupCourse`.`learner_id` = `t2`.`learner_id`
ORDER BY `t2`.`learner_id`
2019-07-03 21:59:16.194 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 401.5092ms.
2019-07-03 21:59:16.194 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.IEnumerable`1[[Pegasus_backend.pegasusContext.Learner, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:59:16.207 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) in 859.553ms
2019-07-03 21:59:16.207 +12:00 [INF] Request finished in 865.572ms 200 application/json; charset=utf-8
2019-07-03 21:59:19.319 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/invoice/10073  
2019-07-03 21:59:19.320 +12:00 [INF] Policy execution successful.
2019-07-03 21:59:19.322 +12:00 [INF] Route matched with {action = "GetInvoice", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Pegasus_backend.pegasusContext.Invoice]] GetInvoice(Int32) on controller Pegasus_backend.Controllers.InvoiceController (Pegasus_backend).
2019-07-03 21:59:19.323 +12:00 [INF] Executing action method Pegasus_backend.Controllers.InvoiceController.GetInvoice (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:59:19.326 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:59:19.463 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`invoice_id`, `s`.`begin_date`, `s`.`concert_fee`, `s`.`concert_fee_name`, `s`.`course_instance_id`, `s`.`course_name`, `s`.`created_at`, `s`.`due_date`, `s`.`end_date`, `s`.`group_course_instance_id`, `s`.`invoice_num`, `s`.`is_active`, `s`.`is_paid`, `s`.`learner_id`, `s`.`learner_name`, `s`.`lesson_fee`, `s`.`lesson_note_fee_name`, `s`.`lesson_quantity`, `s`.`note_fee`, `s`.`other1_fee`, `s`.`other1_fee_name`, `s`.`other2_fee`, `s`.`other2_fee_name`, `s`.`other3_fee`, `s`.`other3_fee_name`, `s`.`owing_fee`, `s`.`paid_fee`, `s`.`term_id`, `s`.`total_fee`, `s.Term`.`term_id`, `s.Term`.`begin_date`, `s.Term`.`end_date`, `s.Term`.`term_name`, `s.Term`.`term_type`, `s.Term`.`week_quantity`
FROM `ablemusic`.`invoice` AS `s`
LEFT JOIN `ablemusic`.`term` AS `s.Term` ON `s`.`term_id` = `s.Term`.`term_id`
WHERE ((`s`.`learner_id` = @__id_0) AND (`s`.`is_active` = 1)) AND (`s`.`is_paid` = 0)
2019-07-03 21:59:19.510 +12:00 [INF] Executed action method Pegasus_backend.Controllers.InvoiceController.GetInvoice (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 187.1357ms.
2019-07-03 21:59:19.510 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Invoice, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 21:59:19.525 +12:00 [INF] Executed action Pegasus_backend.Controllers.InvoiceController.GetInvoice (Pegasus_backend) in 202.56640000000002ms
2019-07-03 21:59:19.525 +12:00 [INF] Request finished in 205.6369ms 200 application/json; charset=utf-8
2019-07-03 21:59:24.890 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/payment/payInvoice  
2019-07-03 21:59:24.890 +12:00 [INF] Policy execution successful.
2019-07-03 21:59:24.890 +12:00 [INF] Request finished in 0.4297ms 204 
2019-07-03 21:59:24.905 +12:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/payment/payInvoice application/json 82
2019-07-03 21:59:24.906 +12:00 [INF] Policy execution successful.
2019-07-03 21:59:24.910 +12:00 [INF] Route matched with {action = "SavePaymentDetails", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SavePaymentDetails(Pegasus_backend.Models.InvoicePay) on controller Pegasus_backend.Controllers.PaymentController (Pegasus_backend).
2019-07-03 21:59:24.943 +12:00 [INF] Executing action method Pegasus_backend.Controllers.PaymentController.SavePaymentDetails (Pegasus_backend) - Validation state: "Valid"
2019-07-03 21:59:30.458 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 21:59:41.161 +12:00 [INF] Executed DbCommand (39ms) [Parameters=[@__details_InvoiceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`invoice_id`, `s`.`begin_date`, `s`.`concert_fee`, `s`.`concert_fee_name`, `s`.`course_instance_id`, `s`.`course_name`, `s`.`created_at`, `s`.`due_date`, `s`.`end_date`, `s`.`group_course_instance_id`, `s`.`invoice_num`, `s`.`is_active`, `s`.`is_paid`, `s`.`learner_id`, `s`.`learner_name`, `s`.`lesson_fee`, `s`.`lesson_note_fee_name`, `s`.`lesson_quantity`, `s`.`note_fee`, `s`.`other1_fee`, `s`.`other1_fee_name`, `s`.`other2_fee`, `s`.`other2_fee_name`, `s`.`other3_fee`, `s`.`other3_fee_name`, `s`.`owing_fee`, `s`.`paid_fee`, `s`.`term_id`, `s`.`total_fee`
FROM `ablemusic`.`invoice` AS `s`
WHERE `s`.`invoice_id` = @__details_InvoiceId_0
LIMIT 1
2019-07-03 21:59:41.287 +12:00 [INF] Executed DbCommand (35ms) [Parameters=[@p28='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = Decimal), @p2='?' (Size = -1), @p3='?' (DbType = AnsiString), @p4='?' (Size = -1), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = Int32), @p9='?' (Size = -1), @p10='?' (DbType = Int16), @p11='?' (DbType = Int16), @p12='?' (DbType = Int32), @p13='?' (Size = -1), @p14='?' (DbType = Decimal), @p15='?' (Size = -1), @p16='?' (DbType = Int32), @p17='?' (DbType = Decimal), @p18='?' (DbType = Decimal), @p19='?' (Size = -1), @p20='?' (DbType = Decimal), @p21='?' (Size = -1), @p22='?' (DbType = Decimal), @p23='?' (Size = -1), @p24='?' (DbType = Decimal), @p25='?' (DbType = Decimal), @p26='?' (DbType = Int16), @p27='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`invoice` SET `begin_date` = @p0, `concert_fee` = @p1, `concert_fee_name` = @p2, `course_instance_id` = @p3, `course_name` = @p4, `created_at` = @p5, `due_date` = @p6, `end_date` = @p7, `group_course_instance_id` = @p8, `invoice_num` = @p9, `is_active` = @p10, `is_paid` = @p11, `learner_id` = @p12, `learner_name` = @p13, `lesson_fee` = @p14, `lesson_note_fee_name` = @p15, `lesson_quantity` = @p16, `note_fee` = @p17, `other1_fee` = @p18, `other1_fee_name` = @p19, `other2_fee` = @p20, `other2_fee_name` = @p21, `other3_fee` = @p22, `other3_fee_name` = @p23, `owing_fee` = @p24, `paid_fee` = @p25, `term_id` = @p26, `total_fee` = @p27
WHERE `invoice_id` = @p28;
SELECT ROW_COUNT();
2019-07-03 21:59:41.398 +12:00 [INF] Executed DbCommand (37ms) [Parameters=[@p0='?' (DbType = AnsiString), @p1='?' (DbType = Decimal), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (DbType = AnsiString), @p7='?' (DbType = Int32), @p8='?' (DbType = Byte), @p9='?' (DbType = Byte), @p10='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`payment` (`after_balance`, `amount`, `before_balance`, `comment`, `created_at`, `invoice_id`, `is_confirmed`, `learner_id`, `payment_method`, `payment_type`, `staff_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
SELECT `payment_id`
FROM `ablemusic`.`payment`
WHERE ROW_COUNT() = 1
 AND `payment_id`=LAST_INSERT_ID();
2019-07-03 21:59:41.451 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[@__details_LearnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`learner_id`, `s`.`balance`, `s`.`updated_at`
FROM `ablemusic`.`fund` AS `s`
WHERE `s`.`learner_id` = @__details_LearnerId_0
LIMIT 1
2019-07-03 21:59:41.498 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Decimal), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`fund` SET `balance` = @p0, `updated_at` = @p1
WHERE `learner_id` = @p2;
SELECT ROW_COUNT();
2019-07-03 21:59:50.799 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[@__invoice_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`invoice_id`, `x`.`begin_date`, `x`.`concert_fee`, `x`.`concert_fee_name`, `x`.`course_instance_id`, `x`.`course_name`, `x`.`created_at`, `x`.`due_date`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_num`, `x`.`is_active`, `x`.`is_paid`, `x`.`learner_id`, `x`.`learner_name`, `x`.`lesson_fee`, `x`.`lesson_note_fee_name`, `x`.`lesson_quantity`, `x`.`note_fee`, `x`.`other1_fee`, `x`.`other1_fee_name`, `x`.`other2_fee`, `x`.`other2_fee_name`, `x`.`other3_fee`, `x`.`other3_fee_name`, `x`.`owing_fee`, `x`.`paid_fee`, `x`.`term_id`, `x`.`total_fee`
FROM `ablemusic`.`invoice` AS `x`
WHERE `x`.`invoice_id` = @__invoice_id_0
LIMIT 1
2019-07-03 22:00:02.501 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_schedule_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`day_of_week`, `x`.`end_time`, `x`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `x`
WHERE `x`.`course_instance_id` IS NULL
ORDER BY `x`.`day_of_week`
2019-07-03 22:00:44.874 +12:00 [INF] User profile is available. Using 'C:\Users\Learnspace\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-07-03 22:00:45.822 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2019-07-03 22:00:45.857 +12:00 [WRN] Failed to determine the https port for redirect.
2019-07-03 22:00:46.062 +12:00 [INF] Request finished in 241.4162ms 404 
2019-07-03 22:00:58.782 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/payment/payInvoice  
2019-07-03 22:00:58.783 +12:00 [INF] Policy execution successful.
2019-07-03 22:00:58.784 +12:00 [INF] Request finished in 2.1629ms 204 
2019-07-03 22:00:58.794 +12:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/payment/payInvoice application/json 82
2019-07-03 22:00:58.794 +12:00 [INF] Policy execution successful.
2019-07-03 22:00:58.828 +12:00 [INF] Route matched with {action = "SavePaymentDetails", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SavePaymentDetails(Pegasus_backend.Models.InvoicePay) on controller Pegasus_backend.Controllers.PaymentController (Pegasus_backend).
2019-07-03 22:00:59.444 +12:00 [INF] Executing action method Pegasus_backend.Controllers.PaymentController.SavePaymentDetails (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:01:03.558 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:01:04.524 +12:00 [INF] Executed DbCommand (37ms) [Parameters=[@__details_InvoiceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`invoice_id`, `s`.`begin_date`, `s`.`concert_fee`, `s`.`concert_fee_name`, `s`.`course_instance_id`, `s`.`course_name`, `s`.`created_at`, `s`.`due_date`, `s`.`end_date`, `s`.`group_course_instance_id`, `s`.`invoice_num`, `s`.`is_active`, `s`.`is_paid`, `s`.`learner_id`, `s`.`learner_name`, `s`.`lesson_fee`, `s`.`lesson_note_fee_name`, `s`.`lesson_quantity`, `s`.`note_fee`, `s`.`other1_fee`, `s`.`other1_fee_name`, `s`.`other2_fee`, `s`.`other2_fee_name`, `s`.`other3_fee`, `s`.`other3_fee_name`, `s`.`owing_fee`, `s`.`paid_fee`, `s`.`term_id`, `s`.`total_fee`
FROM `ablemusic`.`invoice` AS `s`
WHERE `s`.`invoice_id` = @__details_InvoiceId_0
LIMIT 1
2019-07-03 22:01:04.790 +12:00 [INF] Executed DbCommand (38ms) [Parameters=[@p28='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = Decimal), @p2='?' (Size = -1), @p3='?' (DbType = AnsiString), @p4='?' (Size = -1), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = Int32), @p9='?' (Size = -1), @p10='?' (DbType = Int16), @p11='?' (DbType = Int16), @p12='?' (DbType = Int32), @p13='?' (Size = -1), @p14='?' (DbType = Decimal), @p15='?' (Size = -1), @p16='?' (DbType = Int32), @p17='?' (DbType = Decimal), @p18='?' (DbType = Decimal), @p19='?' (Size = -1), @p20='?' (DbType = Decimal), @p21='?' (Size = -1), @p22='?' (DbType = Decimal), @p23='?' (Size = -1), @p24='?' (DbType = Decimal), @p25='?' (DbType = Decimal), @p26='?' (DbType = Int16), @p27='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`invoice` SET `begin_date` = @p0, `concert_fee` = @p1, `concert_fee_name` = @p2, `course_instance_id` = @p3, `course_name` = @p4, `created_at` = @p5, `due_date` = @p6, `end_date` = @p7, `group_course_instance_id` = @p8, `invoice_num` = @p9, `is_active` = @p10, `is_paid` = @p11, `learner_id` = @p12, `learner_name` = @p13, `lesson_fee` = @p14, `lesson_note_fee_name` = @p15, `lesson_quantity` = @p16, `note_fee` = @p17, `other1_fee` = @p18, `other1_fee_name` = @p19, `other2_fee` = @p20, `other2_fee_name` = @p21, `other3_fee` = @p22, `other3_fee_name` = @p23, `owing_fee` = @p24, `paid_fee` = @p25, `term_id` = @p26, `total_fee` = @p27
WHERE `invoice_id` = @p28;
SELECT ROW_COUNT();
2019-07-03 22:01:04.909 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@p0='?' (DbType = AnsiString), @p1='?' (DbType = Decimal), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (DbType = AnsiString), @p7='?' (DbType = Int32), @p8='?' (DbType = Byte), @p9='?' (DbType = Byte), @p10='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`payment` (`after_balance`, `amount`, `before_balance`, `comment`, `created_at`, `invoice_id`, `is_confirmed`, `learner_id`, `payment_method`, `payment_type`, `staff_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
SELECT `payment_id`
FROM `ablemusic`.`payment`
WHERE ROW_COUNT() = 1
 AND `payment_id`=LAST_INSERT_ID();
2019-07-03 22:01:04.965 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__details_LearnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`learner_id`, `s`.`balance`, `s`.`updated_at`
FROM `ablemusic`.`fund` AS `s`
WHERE `s`.`learner_id` = @__details_LearnerId_0
LIMIT 1
2019-07-03 22:01:05.009 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Decimal), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`fund` SET `balance` = @p0, `updated_at` = @p1
WHERE `learner_id` = @p2;
SELECT ROW_COUNT();
2019-07-03 22:02:00.113 +12:00 [INF] User profile is available. Using 'C:\Users\Learnspace\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-07-03 22:02:01.051 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2019-07-03 22:02:01.085 +12:00 [WRN] Failed to determine the https port for redirect.
2019-07-03 22:02:01.283 +12:00 [INF] Request finished in 233.3096ms 404 
2019-07-03 22:02:11.255 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/payment/payInvoice  
2019-07-03 22:02:11.257 +12:00 [INF] Policy execution successful.
2019-07-03 22:02:11.258 +12:00 [INF] Request finished in 3.0464ms 204 
2019-07-03 22:02:11.265 +12:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/payment/payInvoice application/json 82
2019-07-03 22:02:11.265 +12:00 [INF] Policy execution successful.
2019-07-03 22:02:11.302 +12:00 [INF] Route matched with {action = "SavePaymentDetails", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SavePaymentDetails(Pegasus_backend.Models.InvoicePay) on controller Pegasus_backend.Controllers.PaymentController (Pegasus_backend).
2019-07-03 22:02:11.949 +12:00 [INF] Executing action method Pegasus_backend.Controllers.PaymentController.SavePaymentDetails (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:02:15.446 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:02:16.460 +12:00 [INF] Executed DbCommand (37ms) [Parameters=[@__details_InvoiceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`invoice_id`, `s`.`begin_date`, `s`.`concert_fee`, `s`.`concert_fee_name`, `s`.`course_instance_id`, `s`.`course_name`, `s`.`created_at`, `s`.`due_date`, `s`.`end_date`, `s`.`group_course_instance_id`, `s`.`invoice_num`, `s`.`is_active`, `s`.`is_paid`, `s`.`learner_id`, `s`.`learner_name`, `s`.`lesson_fee`, `s`.`lesson_note_fee_name`, `s`.`lesson_quantity`, `s`.`note_fee`, `s`.`other1_fee`, `s`.`other1_fee_name`, `s`.`other2_fee`, `s`.`other2_fee_name`, `s`.`other3_fee`, `s`.`other3_fee_name`, `s`.`owing_fee`, `s`.`paid_fee`, `s`.`term_id`, `s`.`total_fee`
FROM `ablemusic`.`invoice` AS `s`
WHERE `s`.`invoice_id` = @__details_InvoiceId_0
LIMIT 1
2019-07-03 22:02:16.731 +12:00 [INF] Executed DbCommand (40ms) [Parameters=[@p28='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = Decimal), @p2='?' (Size = -1), @p3='?' (DbType = AnsiString), @p4='?' (Size = -1), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = Int32), @p9='?' (Size = -1), @p10='?' (DbType = Int16), @p11='?' (DbType = Int16), @p12='?' (DbType = Int32), @p13='?' (Size = -1), @p14='?' (DbType = Decimal), @p15='?' (Size = -1), @p16='?' (DbType = Int32), @p17='?' (DbType = Decimal), @p18='?' (DbType = Decimal), @p19='?' (Size = -1), @p20='?' (DbType = Decimal), @p21='?' (Size = -1), @p22='?' (DbType = Decimal), @p23='?' (Size = -1), @p24='?' (DbType = Decimal), @p25='?' (DbType = Decimal), @p26='?' (DbType = Int16), @p27='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`invoice` SET `begin_date` = @p0, `concert_fee` = @p1, `concert_fee_name` = @p2, `course_instance_id` = @p3, `course_name` = @p4, `created_at` = @p5, `due_date` = @p6, `end_date` = @p7, `group_course_instance_id` = @p8, `invoice_num` = @p9, `is_active` = @p10, `is_paid` = @p11, `learner_id` = @p12, `learner_name` = @p13, `lesson_fee` = @p14, `lesson_note_fee_name` = @p15, `lesson_quantity` = @p16, `note_fee` = @p17, `other1_fee` = @p18, `other1_fee_name` = @p19, `other2_fee` = @p20, `other2_fee_name` = @p21, `other3_fee` = @p22, `other3_fee_name` = @p23, `owing_fee` = @p24, `paid_fee` = @p25, `term_id` = @p26, `total_fee` = @p27
WHERE `invoice_id` = @p28;
SELECT ROW_COUNT();
2019-07-03 22:02:16.841 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@p0='?' (DbType = AnsiString), @p1='?' (DbType = Decimal), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (DbType = AnsiString), @p7='?' (DbType = Int32), @p8='?' (DbType = Byte), @p9='?' (DbType = Byte), @p10='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`payment` (`after_balance`, `amount`, `before_balance`, `comment`, `created_at`, `invoice_id`, `is_confirmed`, `learner_id`, `payment_method`, `payment_type`, `staff_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
SELECT `payment_id`
FROM `ablemusic`.`payment`
WHERE ROW_COUNT() = 1
 AND `payment_id`=LAST_INSERT_ID();
2019-07-03 22:02:16.901 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__details_LearnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`learner_id`, `s`.`balance`, `s`.`updated_at`
FROM `ablemusic`.`fund` AS `s`
WHERE `s`.`learner_id` = @__details_LearnerId_0
LIMIT 1
2019-07-03 22:02:16.944 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Decimal), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`fund` SET `balance` = @p0, `updated_at` = @p1
WHERE `learner_id` = @p2;
SELECT ROW_COUNT();
2019-07-03 22:02:31.894 +12:00 [INF] Executed DbCommand (38ms) [Parameters=[@__invoice_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`invoice_id`, `x`.`begin_date`, `x`.`concert_fee`, `x`.`concert_fee_name`, `x`.`course_instance_id`, `x`.`course_name`, `x`.`created_at`, `x`.`due_date`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_num`, `x`.`is_active`, `x`.`is_paid`, `x`.`learner_id`, `x`.`learner_name`, `x`.`lesson_fee`, `x`.`lesson_note_fee_name`, `x`.`lesson_quantity`, `x`.`note_fee`, `x`.`other1_fee`, `x`.`other1_fee_name`, `x`.`other2_fee`, `x`.`other2_fee_name`, `x`.`other3_fee`, `x`.`other3_fee_name`, `x`.`owing_fee`, `x`.`paid_fee`, `x`.`term_id`, `x`.`total_fee`
FROM `ablemusic`.`invoice` AS `x`
WHERE `x`.`invoice_id` = @__invoice_id_0
LIMIT 1
2019-07-03 22:02:34.056 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_schedule_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`day_of_week`, `x`.`end_time`, `x`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `x`
WHERE `x`.`course_instance_id` IS NULL
ORDER BY `x`.`day_of_week`
2019-07-03 22:02:52.728 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[@__invoice_EndDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`amendment_id`, `x`.`amend_type`, `x`.`begin_date`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`course_schedule_id`, `x`.`created_at`, `x`.`day_of_week`, `x`.`end_date`, `x`.`end_time`, `x`.`is_temporary`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`amendment` AS `x`
WHERE `x`.`course_instance_id` IS NULL AND (`x`.`begin_date` <= @__invoice_EndDate_1)
ORDER BY `x`.`created_at`
2019-07-03 22:02:59.269 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` IS NULL
LIMIT 1
2019-07-03 22:04:15.129 +12:00 [INF] User profile is available. Using 'C:\Users\Learnspace\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-07-03 22:04:16.051 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2019-07-03 22:04:16.085 +12:00 [WRN] Failed to determine the https port for redirect.
2019-07-03 22:04:16.281 +12:00 [INF] Request finished in 231.6478ms 404 
2019-07-03 22:04:33.693 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/payment/payInvoice  
2019-07-03 22:04:33.695 +12:00 [INF] Policy execution successful.
2019-07-03 22:04:33.696 +12:00 [INF] Request finished in 3.3804ms 204 
2019-07-03 22:04:33.703 +12:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/payment/payInvoice application/json 82
2019-07-03 22:04:33.704 +12:00 [INF] Policy execution successful.
2019-07-03 22:04:33.742 +12:00 [INF] Route matched with {action = "SavePaymentDetails", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SavePaymentDetails(Pegasus_backend.Models.InvoicePay) on controller Pegasus_backend.Controllers.PaymentController (Pegasus_backend).
2019-07-03 22:04:34.374 +12:00 [INF] Executing action method Pegasus_backend.Controllers.PaymentController.SavePaymentDetails (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:04:38.497 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:04:39.543 +12:00 [INF] Executed DbCommand (40ms) [Parameters=[@__details_InvoiceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`invoice_id`, `s`.`begin_date`, `s`.`concert_fee`, `s`.`concert_fee_name`, `s`.`course_instance_id`, `s`.`course_name`, `s`.`created_at`, `s`.`due_date`, `s`.`end_date`, `s`.`group_course_instance_id`, `s`.`invoice_num`, `s`.`is_active`, `s`.`is_paid`, `s`.`learner_id`, `s`.`learner_name`, `s`.`lesson_fee`, `s`.`lesson_note_fee_name`, `s`.`lesson_quantity`, `s`.`note_fee`, `s`.`other1_fee`, `s`.`other1_fee_name`, `s`.`other2_fee`, `s`.`other2_fee_name`, `s`.`other3_fee`, `s`.`other3_fee_name`, `s`.`owing_fee`, `s`.`paid_fee`, `s`.`term_id`, `s`.`total_fee`
FROM `ablemusic`.`invoice` AS `s`
WHERE `s`.`invoice_id` = @__details_InvoiceId_0
LIMIT 1
2019-07-03 22:04:39.814 +12:00 [INF] Executed DbCommand (41ms) [Parameters=[@p28='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = Decimal), @p2='?' (Size = -1), @p3='?' (DbType = AnsiString), @p4='?' (Size = -1), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = Int32), @p9='?' (Size = -1), @p10='?' (DbType = Int16), @p11='?' (DbType = Int16), @p12='?' (DbType = Int32), @p13='?' (Size = -1), @p14='?' (DbType = Decimal), @p15='?' (Size = -1), @p16='?' (DbType = Int32), @p17='?' (DbType = Decimal), @p18='?' (DbType = Decimal), @p19='?' (Size = -1), @p20='?' (DbType = Decimal), @p21='?' (Size = -1), @p22='?' (DbType = Decimal), @p23='?' (Size = -1), @p24='?' (DbType = Decimal), @p25='?' (DbType = Decimal), @p26='?' (DbType = Int16), @p27='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`invoice` SET `begin_date` = @p0, `concert_fee` = @p1, `concert_fee_name` = @p2, `course_instance_id` = @p3, `course_name` = @p4, `created_at` = @p5, `due_date` = @p6, `end_date` = @p7, `group_course_instance_id` = @p8, `invoice_num` = @p9, `is_active` = @p10, `is_paid` = @p11, `learner_id` = @p12, `learner_name` = @p13, `lesson_fee` = @p14, `lesson_note_fee_name` = @p15, `lesson_quantity` = @p16, `note_fee` = @p17, `other1_fee` = @p18, `other1_fee_name` = @p19, `other2_fee` = @p20, `other2_fee_name` = @p21, `other3_fee` = @p22, `other3_fee_name` = @p23, `owing_fee` = @p24, `paid_fee` = @p25, `term_id` = @p26, `total_fee` = @p27
WHERE `invoice_id` = @p28;
SELECT ROW_COUNT();
2019-07-03 22:04:39.937 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@p0='?' (DbType = AnsiString), @p1='?' (DbType = Decimal), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (DbType = AnsiString), @p7='?' (DbType = Int32), @p8='?' (DbType = Byte), @p9='?' (DbType = Byte), @p10='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`payment` (`after_balance`, `amount`, `before_balance`, `comment`, `created_at`, `invoice_id`, `is_confirmed`, `learner_id`, `payment_method`, `payment_type`, `staff_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
SELECT `payment_id`
FROM `ablemusic`.`payment`
WHERE ROW_COUNT() = 1
 AND `payment_id`=LAST_INSERT_ID();
2019-07-03 22:04:39.992 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[@__details_LearnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`learner_id`, `s`.`balance`, `s`.`updated_at`
FROM `ablemusic`.`fund` AS `s`
WHERE `s`.`learner_id` = @__details_LearnerId_0
LIMIT 1
2019-07-03 22:04:40.051 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Decimal), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`fund` SET `balance` = @p0, `updated_at` = @p1
WHERE `learner_id` = @p2;
SELECT ROW_COUNT();
2019-07-03 22:04:48.241 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[@__invoice_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`invoice_id`, `x`.`begin_date`, `x`.`concert_fee`, `x`.`concert_fee_name`, `x`.`course_instance_id`, `x`.`course_name`, `x`.`created_at`, `x`.`due_date`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_num`, `x`.`is_active`, `x`.`is_paid`, `x`.`learner_id`, `x`.`learner_name`, `x`.`lesson_fee`, `x`.`lesson_note_fee_name`, `x`.`lesson_quantity`, `x`.`note_fee`, `x`.`other1_fee`, `x`.`other1_fee_name`, `x`.`other2_fee`, `x`.`other2_fee_name`, `x`.`other3_fee`, `x`.`other3_fee_name`, `x`.`owing_fee`, `x`.`paid_fee`, `x`.`term_id`, `x`.`total_fee`
FROM `ablemusic`.`invoice` AS `x`
WHERE `x`.`invoice_id` = @__invoice_id_0
LIMIT 1
2019-07-03 22:04:53.923 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_schedule_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`day_of_week`, `x`.`end_time`, `x`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `x`
WHERE `x`.`course_instance_id` IS NULL
ORDER BY `x`.`day_of_week`
2019-07-03 22:04:54.844 +12:00 [INF] Executed DbCommand (30ms) [Parameters=[@__invoice_EndDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`amendment_id`, `x`.`amend_type`, `x`.`begin_date`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`course_schedule_id`, `x`.`created_at`, `x`.`day_of_week`, `x`.`end_date`, `x`.`end_time`, `x`.`is_temporary`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`amendment` AS `x`
WHERE `x`.`course_instance_id` IS NULL AND (`x`.`begin_date` <= @__invoice_EndDate_1)
ORDER BY `x`.`created_at`
2019-07-03 22:04:57.922 +12:00 [INF] Executed DbCommand (36ms) [Parameters=[@__invoice_GroupCourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`group_course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`is_activate`, `x`.`is_started`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`group_course_instance` AS `x`
WHERE `x`.`group_course_instance_id` = @__invoice_GroupCourseInstanceId_0
LIMIT 1
2019-07-03 22:04:59.829 +12:00 [INF] Executed DbCommand (36ms) [Parameters=[@__invoice_GroupCourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_schedule_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`day_of_week`, `x`.`end_time`, `x`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `x`
WHERE `x`.`group_course_instance_id` = @__invoice_GroupCourseInstanceId_0
ORDER BY `x`.`day_of_week`
2019-07-03 22:05:41.291 +12:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`holiday_date`
FROM `ablemusic`.`holiday` AS `x`
2019-07-03 22:05:45.521 +12:00 [INF] Executed DbCommand (43ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = AnsiString), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (DbType = Int16), @p7='?' (DbType = AnsiString), @p8='?' (DbType = Byte), @p9='?' (DbType = Byte), @p10='?' (DbType = Int32), @p11='?' (DbType = Int16), @p12='?' (Size = -1), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_trial`, `learner_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-03 22:05:45.570 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[@p16='?' (DbType = AnsiString), @p17='?' (DbType = DateTime), @p18='?' (DbType = AnsiString), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson_remain` (`course_instance_id`, `expiry_date`, `group_course_instance_id`, `learner_id`, `quantity`, `term_id`)
VALUES (@p16, @p17, @p18, @p19, @p20, @p21);
SELECT `lesson_remain_id`
FROM `ablemusic`.`lesson_remain`
WHERE ROW_COUNT() = 1
 AND `lesson_remain_id`=LAST_INSERT_ID();
2019-07-03 22:05:45.615 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = AnsiString), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (DbType = Int16), @p7='?' (DbType = AnsiString), @p8='?' (DbType = Byte), @p9='?' (DbType = Byte), @p10='?' (DbType = Int32), @p11='?' (DbType = Int16), @p12='?' (Size = -1), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_trial`, `learner_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-03 22:05:45.651 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = AnsiString), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (DbType = Int16), @p7='?' (DbType = AnsiString), @p8='?' (DbType = Byte), @p9='?' (DbType = Byte), @p10='?' (DbType = Int32), @p11='?' (DbType = Int16), @p12='?' (Size = -1), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_trial`, `learner_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-03 22:05:45.705 +12:00 [INF] Executed action method Pegasus_backend.Controllers.PaymentController.SavePaymentDetails (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 71321.760300000009ms.
2019-07-03 22:05:45.716 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:05:45.732 +12:00 [INF] Executed action Pegasus_backend.Controllers.PaymentController.SavePaymentDetails (Pegasus_backend) in 71987.2008ms
2019-07-03 22:05:45.735 +12:00 [INF] Request finished in 72031.674ms 200 application/json; charset=utf-8
2019-07-03 22:05:51.730 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/invoice/NaN  
2019-07-03 22:05:51.731 +12:00 [INF] Policy execution successful.
2019-07-03 22:05:51.735 +12:00 [INF] Route matched with {action = "GetInvoice", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Pegasus_backend.pegasusContext.Invoice]] GetInvoice(Int32) on controller Pegasus_backend.Controllers.InvoiceController (Pegasus_backend).
2019-07-03 22:05:51.750 +12:00 [INF] Executing action method Pegasus_backend.Controllers.InvoiceController.GetInvoice (Pegasus_backend) - Validation state: "Invalid"
2019-07-03 22:05:51.754 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:05:51.921 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`invoice_id`, `s`.`begin_date`, `s`.`concert_fee`, `s`.`concert_fee_name`, `s`.`course_instance_id`, `s`.`course_name`, `s`.`created_at`, `s`.`due_date`, `s`.`end_date`, `s`.`group_course_instance_id`, `s`.`invoice_num`, `s`.`is_active`, `s`.`is_paid`, `s`.`learner_id`, `s`.`learner_name`, `s`.`lesson_fee`, `s`.`lesson_note_fee_name`, `s`.`lesson_quantity`, `s`.`note_fee`, `s`.`other1_fee`, `s`.`other1_fee_name`, `s`.`other2_fee`, `s`.`other2_fee_name`, `s`.`other3_fee`, `s`.`other3_fee_name`, `s`.`owing_fee`, `s`.`paid_fee`, `s`.`term_id`, `s`.`total_fee`, `s.Term`.`term_id`, `s.Term`.`begin_date`, `s.Term`.`end_date`, `s.Term`.`term_name`, `s.Term`.`term_type`, `s.Term`.`week_quantity`
FROM `ablemusic`.`invoice` AS `s`
LEFT JOIN `ablemusic`.`term` AS `s.Term` ON `s`.`term_id` = `s.Term`.`term_id`
WHERE ((`s`.`learner_id` = @__id_0) AND (`s`.`is_active` = 1)) AND (`s`.`is_paid` = 0)
2019-07-03 22:05:51.936 +12:00 [INF] Executed action method Pegasus_backend.Controllers.InvoiceController.GetInvoice (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 185.7022ms.
2019-07-03 22:05:51.937 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Invoice, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:05:51.942 +12:00 [INF] Executed action Pegasus_backend.Controllers.InvoiceController.GetInvoice (Pegasus_backend) in 206.8364ms
2019-07-03 22:05:51.942 +12:00 [INF] Request finished in 211.5096ms 400 application/json; charset=utf-8
2019-07-03 22:06:03.982 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/nihao  
2019-07-03 22:06:03.982 +12:00 [INF] Policy execution successful.
2019-07-03 22:06:03.988 +12:00 [INF] Route matched with {action = "GetLearner", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearner(System.String) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-03 22:06:03.988 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:06:03.992 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:06:04.180 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`learner_id`, `s`.`address`, `s`.`contact_num`, `s`.`created_at`, `s`.`dob`, `s`.`email`, `s`.`enroll_date`, `s`.`first_name`, `s`.`form_url`, `s`.`g5_certification`, `s`.`gender`, `s`.`is_abrsm_g5`, `s`.`is_active`, `s`.`is_under_18`, `s`.`last_name`, `s`.`learner_level`, `s`.`level_type`, `s`.`middle_name`, `s`.`note`, `s`.`org_id`, `s`.`otherfile_url`, `s`.`payment_period`, `s`.`photo`, `s`.`referrer`, `s`.`referrer_learner_id`, `s`.`user_id`
FROM `ablemusic`.`learner` AS `s`
WHERE (`s`.`is_active` = 1) AND `s`.`first_name` LIKE concat('%', @__name_0, '%')
ORDER BY `s`.`learner_id`
2019-07-03 22:06:04.250 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.LearnerOthers`.`learner_others_id`, `s.LearnerOthers`.`learner_id`, `s.LearnerOthers`.`learner_level`, `s.LearnerOthers`.`others_type`, `s.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `s.LearnerOthers`
INNER JOIN (
    SELECT `s0`.`learner_id`
    FROM `ablemusic`.`learner` AS `s0`
    WHERE (`s0`.`is_active` = 1) AND `s0`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t` ON `s.LearnerOthers`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-03 22:06:04.295 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Parent`.`parent_id`, `s.Parent`.`contact_num`, `s.Parent`.`created_at`, `s.Parent`.`email`, `s.Parent`.`first_name`, `s.Parent`.`last_name`, `s.Parent`.`learner_id`, `s.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `s.Parent`
INNER JOIN (
    SELECT `s1`.`learner_id`
    FROM `ablemusic`.`learner` AS `s1`
    WHERE (`s1`.`is_active` = 1) AND `s1`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t0` ON `s.Parent`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-03 22:06:04.356 +12:00 [INF] Executed DbCommand (37ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.One2oneCourseInstance`.`course_instance_id`, `s.One2oneCourseInstance`.`begin_date`, `s.One2oneCourseInstance`.`course_id`, `s.One2oneCourseInstance`.`end_date`, `s.One2oneCourseInstance`.`invoice_date`, `s.One2oneCourseInstance`.`learner_id`, `s.One2oneCourseInstance`.`org_id`, `s.One2oneCourseInstance`.`room_id`, `s.One2oneCourseInstance`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `s.One2oneCourseInstance`
INNER JOIN (
    SELECT `s2`.`learner_id`
    FROM `ablemusic`.`learner` AS `s2`
    WHERE (`s2`.`is_active` = 1) AND `s2`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t1` ON `s.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`
2019-07-03 22:06:04.403 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.LearnerGroupCourse`.`learner_group_course_id`, `s.LearnerGroupCourse`.`begin_date`, `s.LearnerGroupCourse`.`comment`, `s.LearnerGroupCourse`.`created_at`, `s.LearnerGroupCourse`.`end_date`, `s.LearnerGroupCourse`.`group_course_instance_id`, `s.LearnerGroupCourse`.`invoice_date`, `s.LearnerGroupCourse`.`is_activate`, `s.LearnerGroupCourse`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `s.LearnerGroupCourse`
INNER JOIN (
    SELECT `s3`.`learner_id`
    FROM `ablemusic`.`learner` AS `s3`
    WHERE (`s3`.`is_active` = 1) AND `s3`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t2` ON `s.LearnerGroupCourse`.`learner_id` = `t2`.`learner_id`
ORDER BY `t2`.`learner_id`
2019-07-03 22:06:04.416 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 427.3623ms.
2019-07-03 22:06:04.416 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.IEnumerable`1[[Pegasus_backend.pegasusContext.Learner, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:06:04.488 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) in 500.3711ms
2019-07-03 22:06:04.488 +12:00 [INF] Request finished in 506.5753ms 200 application/json; charset=utf-8
2019-07-03 22:06:07.591 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/invoice/10073  
2019-07-03 22:06:07.591 +12:00 [INF] Policy execution successful.
2019-07-03 22:06:07.592 +12:00 [INF] Route matched with {action = "GetInvoice", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Pegasus_backend.pegasusContext.Invoice]] GetInvoice(Int32) on controller Pegasus_backend.Controllers.InvoiceController (Pegasus_backend).
2019-07-03 22:06:07.592 +12:00 [INF] Executing action method Pegasus_backend.Controllers.InvoiceController.GetInvoice (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:06:07.593 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:06:07.694 +12:00 [INF] Executed DbCommand (35ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`invoice_id`, `s`.`begin_date`, `s`.`concert_fee`, `s`.`concert_fee_name`, `s`.`course_instance_id`, `s`.`course_name`, `s`.`created_at`, `s`.`due_date`, `s`.`end_date`, `s`.`group_course_instance_id`, `s`.`invoice_num`, `s`.`is_active`, `s`.`is_paid`, `s`.`learner_id`, `s`.`learner_name`, `s`.`lesson_fee`, `s`.`lesson_note_fee_name`, `s`.`lesson_quantity`, `s`.`note_fee`, `s`.`other1_fee`, `s`.`other1_fee_name`, `s`.`other2_fee`, `s`.`other2_fee_name`, `s`.`other3_fee`, `s`.`other3_fee_name`, `s`.`owing_fee`, `s`.`paid_fee`, `s`.`term_id`, `s`.`total_fee`, `s.Term`.`term_id`, `s.Term`.`begin_date`, `s.Term`.`end_date`, `s.Term`.`term_name`, `s.Term`.`term_type`, `s.Term`.`week_quantity`
FROM `ablemusic`.`invoice` AS `s`
LEFT JOIN `ablemusic`.`term` AS `s.Term` ON `s`.`term_id` = `s.Term`.`term_id`
WHERE ((`s`.`learner_id` = @__id_0) AND (`s`.`is_active` = 1)) AND (`s`.`is_paid` = 0)
2019-07-03 22:06:07.695 +12:00 [INF] Executed action method Pegasus_backend.Controllers.InvoiceController.GetInvoice (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 102.06790000000001ms.
2019-07-03 22:06:07.695 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Invoice, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:06:07.695 +12:00 [INF] Executed action Pegasus_backend.Controllers.InvoiceController.GetInvoice (Pegasus_backend) in 103.3435ms
2019-07-03 22:06:07.696 +12:00 [INF] Request finished in 104.5602ms 400 application/json; charset=utf-8
2019-07-03 22:06:09.657 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/nihao  
2019-07-03 22:06:09.657 +12:00 [INF] Policy execution successful.
2019-07-03 22:06:09.657 +12:00 [INF] Route matched with {action = "GetLearner", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearner(System.String) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-03 22:06:09.658 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:06:09.659 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:06:09.756 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`learner_id`, `s`.`address`, `s`.`contact_num`, `s`.`created_at`, `s`.`dob`, `s`.`email`, `s`.`enroll_date`, `s`.`first_name`, `s`.`form_url`, `s`.`g5_certification`, `s`.`gender`, `s`.`is_abrsm_g5`, `s`.`is_active`, `s`.`is_under_18`, `s`.`last_name`, `s`.`learner_level`, `s`.`level_type`, `s`.`middle_name`, `s`.`note`, `s`.`org_id`, `s`.`otherfile_url`, `s`.`payment_period`, `s`.`photo`, `s`.`referrer`, `s`.`referrer_learner_id`, `s`.`user_id`
FROM `ablemusic`.`learner` AS `s`
WHERE (`s`.`is_active` = 1) AND `s`.`first_name` LIKE concat('%', @__name_0, '%')
ORDER BY `s`.`learner_id`
2019-07-03 22:06:09.790 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.LearnerOthers`.`learner_others_id`, `s.LearnerOthers`.`learner_id`, `s.LearnerOthers`.`learner_level`, `s.LearnerOthers`.`others_type`, `s.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `s.LearnerOthers`
INNER JOIN (
    SELECT `s0`.`learner_id`
    FROM `ablemusic`.`learner` AS `s0`
    WHERE (`s0`.`is_active` = 1) AND `s0`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t` ON `s.LearnerOthers`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-03 22:06:09.823 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Parent`.`parent_id`, `s.Parent`.`contact_num`, `s.Parent`.`created_at`, `s.Parent`.`email`, `s.Parent`.`first_name`, `s.Parent`.`last_name`, `s.Parent`.`learner_id`, `s.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `s.Parent`
INNER JOIN (
    SELECT `s1`.`learner_id`
    FROM `ablemusic`.`learner` AS `s1`
    WHERE (`s1`.`is_active` = 1) AND `s1`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t0` ON `s.Parent`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-03 22:06:09.855 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.One2oneCourseInstance`.`course_instance_id`, `s.One2oneCourseInstance`.`begin_date`, `s.One2oneCourseInstance`.`course_id`, `s.One2oneCourseInstance`.`end_date`, `s.One2oneCourseInstance`.`invoice_date`, `s.One2oneCourseInstance`.`learner_id`, `s.One2oneCourseInstance`.`org_id`, `s.One2oneCourseInstance`.`room_id`, `s.One2oneCourseInstance`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `s.One2oneCourseInstance`
INNER JOIN (
    SELECT `s2`.`learner_id`
    FROM `ablemusic`.`learner` AS `s2`
    WHERE (`s2`.`is_active` = 1) AND `s2`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t1` ON `s.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`
2019-07-03 22:06:09.887 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.LearnerGroupCourse`.`learner_group_course_id`, `s.LearnerGroupCourse`.`begin_date`, `s.LearnerGroupCourse`.`comment`, `s.LearnerGroupCourse`.`created_at`, `s.LearnerGroupCourse`.`end_date`, `s.LearnerGroupCourse`.`group_course_instance_id`, `s.LearnerGroupCourse`.`invoice_date`, `s.LearnerGroupCourse`.`is_activate`, `s.LearnerGroupCourse`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `s.LearnerGroupCourse`
INNER JOIN (
    SELECT `s3`.`learner_id`
    FROM `ablemusic`.`learner` AS `s3`
    WHERE (`s3`.`is_active` = 1) AND `s3`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t2` ON `s.LearnerGroupCourse`.`learner_id` = `t2`.`learner_id`
ORDER BY `t2`.`learner_id`
2019-07-03 22:06:09.889 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 230.0548ms.
2019-07-03 22:06:09.889 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.IEnumerable`1[[Pegasus_backend.pegasusContext.Learner, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:06:09.890 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) in 232.11950000000002ms
2019-07-03 22:06:09.890 +12:00 [INF] Request finished in 233.1364ms 200 application/json; charset=utf-8
2019-07-03 22:06:12.736 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/invoice/10074  
2019-07-03 22:06:12.736 +12:00 [INF] Policy execution successful.
2019-07-03 22:06:12.737 +12:00 [INF] Route matched with {action = "GetInvoice", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Pegasus_backend.pegasusContext.Invoice]] GetInvoice(Int32) on controller Pegasus_backend.Controllers.InvoiceController (Pegasus_backend).
2019-07-03 22:06:12.737 +12:00 [INF] Executing action method Pegasus_backend.Controllers.InvoiceController.GetInvoice (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:06:12.737 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:06:12.837 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`invoice_id`, `s`.`begin_date`, `s`.`concert_fee`, `s`.`concert_fee_name`, `s`.`course_instance_id`, `s`.`course_name`, `s`.`created_at`, `s`.`due_date`, `s`.`end_date`, `s`.`group_course_instance_id`, `s`.`invoice_num`, `s`.`is_active`, `s`.`is_paid`, `s`.`learner_id`, `s`.`learner_name`, `s`.`lesson_fee`, `s`.`lesson_note_fee_name`, `s`.`lesson_quantity`, `s`.`note_fee`, `s`.`other1_fee`, `s`.`other1_fee_name`, `s`.`other2_fee`, `s`.`other2_fee_name`, `s`.`other3_fee`, `s`.`other3_fee_name`, `s`.`owing_fee`, `s`.`paid_fee`, `s`.`term_id`, `s`.`total_fee`, `s.Term`.`term_id`, `s.Term`.`begin_date`, `s.Term`.`end_date`, `s.Term`.`term_name`, `s.Term`.`term_type`, `s.Term`.`week_quantity`
FROM `ablemusic`.`invoice` AS `s`
LEFT JOIN `ablemusic`.`term` AS `s.Term` ON `s`.`term_id` = `s.Term`.`term_id`
WHERE ((`s`.`learner_id` = @__id_0) AND (`s`.`is_active` = 1)) AND (`s`.`is_paid` = 0)
2019-07-03 22:06:12.837 +12:00 [INF] Executed action method Pegasus_backend.Controllers.InvoiceController.GetInvoice (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 99.946ms.
2019-07-03 22:06:12.837 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Invoice, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:06:12.838 +12:00 [INF] Executed action Pegasus_backend.Controllers.InvoiceController.GetInvoice (Pegasus_backend) in 100.9377ms
2019-07-03 22:06:12.838 +12:00 [INF] Request finished in 101.6646ms 400 application/json; charset=utf-8
2019-07-03 22:06:18.671 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsBetweenDate/158/2019-06-27/2019-07-03  
2019-07-03 22:06:18.671 +12:00 [INF] Policy execution successful.
2019-07-03 22:06:18.676 +12:00 [INF] Route matched with {action = "GetLessonsBetweenDate", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsBetweenDate(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32]) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-03 22:06:18.677 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:06:18.687 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:06:18.795 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-03 22:06:18.923 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-03 22:06:18.949 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:06:18.949 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:06:18.950 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:06:18.950 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:06:18.950 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:06:18.950 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:06:19.009 +12:00 [WRN] The LINQ expression 'where ((__8__locals1_beginDate_Value_Date_0 <= Convert([s].EndTime, DateTime).Date) AndAlso (Convert([s].EndTime, DateTime).Date <= __8__locals1_endDate_Value_Date_1))' could not be translated and will be evaluated locally.
2019-07-03 22:06:19.147 +12:00 [INF] Executed DbCommand (35ms) [Parameters=[@__orgId_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`end_time` AS `EndTime`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.Teacher`.`first_name` AS `TeacherFirstName`, `s`.`begin_time` AS `BeginTime`, `s`.`lesson_id` AS `LessonId`, `s.Room`.`room_name` AS `Room`, `s.Org`.`org_name` AS `Branch`, `s`.`is_canceled` AS `IsCanceled`, `s`.`reason` AS `CancelReson`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_trial` AS `IsTrial`, `s.Learner`.`first_name` AS `Learner`, `s`.`learner_id` AS `LearnerId`, `s`.`room_id` AS `RoomId`, `s`.`teacher_id` AS `TeacherId`, `s`.`org_id` AS `OrgId`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE `s`.`org_id` = @__orgId_2
2019-07-03 22:06:19.169 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 491.5926ms.
2019-07-03 22:06:19.169 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:06:19.184 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend) in 508.27430000000004ms
2019-07-03 22:06:19.184 +12:00 [INF] Request finished in 513.8186ms 200 application/json; charset=utf-8
2019-07-03 22:06:24.525 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsBetweenDate/158/2019-06-01/2019-07-03  
2019-07-03 22:06:24.525 +12:00 [INF] Policy execution successful.
2019-07-03 22:06:24.526 +12:00 [INF] Route matched with {action = "GetLessonsBetweenDate", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsBetweenDate(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32]) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-03 22:06:24.526 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:06:24.527 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:06:24.623 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-03 22:06:24.722 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-03 22:06:24.730 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:06:24.730 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:06:24.730 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:06:24.730 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:06:24.730 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:06:24.730 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:06:24.757 +12:00 [WRN] The LINQ expression 'where ((__8__locals1_beginDate_Value_Date_0 <= Convert([s].EndTime, DateTime).Date) AndAlso (Convert([s].EndTime, DateTime).Date <= __8__locals1_endDate_Value_Date_1))' could not be translated and will be evaluated locally.
2019-07-03 22:06:24.868 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__orgId_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`end_time` AS `EndTime`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.Teacher`.`first_name` AS `TeacherFirstName`, `s`.`begin_time` AS `BeginTime`, `s`.`lesson_id` AS `LessonId`, `s.Room`.`room_name` AS `Room`, `s.Org`.`org_name` AS `Branch`, `s`.`is_canceled` AS `IsCanceled`, `s`.`reason` AS `CancelReson`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_trial` AS `IsTrial`, `s.Learner`.`first_name` AS `Learner`, `s`.`learner_id` AS `LearnerId`, `s`.`room_id` AS `RoomId`, `s`.`teacher_id` AS `TeacherId`, `s`.`org_id` AS `OrgId`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE `s`.`org_id` = @__orgId_2
2019-07-03 22:06:24.869 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 342.8693ms.
2019-07-03 22:06:24.869 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:06:24.875 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend) in 349.3834ms
2019-07-03 22:06:24.875 +12:00 [INF] Request finished in 350.2259ms 200 application/json; charset=utf-8
2019-07-03 22:06:38.922 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner  
2019-07-03 22:06:38.923 +12:00 [INF] Policy execution successful.
2019-07-03 22:06:38.929 +12:00 [INF] Route matched with {action = "GetLearner", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearner() on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-03 22:06:38.930 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:06:38.936 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:06:39.230 +12:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`is_active` = 1
ORDER BY `w`.`learner_id`
2019-07-03 22:06:39.302 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Parent`.`parent_id`, `w.Parent`.`contact_num`, `w.Parent`.`created_at`, `w.Parent`.`email`, `w.Parent`.`first_name`, `w.Parent`.`last_name`, `w.Parent`.`learner_id`, `w.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `w.Parent`
INNER JOIN (
    SELECT `w0`.`learner_id`
    FROM `ablemusic`.`learner` AS `w0`
    WHERE `w0`.`is_active` = 1
) AS `t` ON `w.Parent`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-03 22:06:39.341 +12:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerOthers`.`learner_others_id`, `w.LearnerOthers`.`learner_id`, `w.LearnerOthers`.`learner_level`, `w.LearnerOthers`.`others_type`, `w.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `w.LearnerOthers`
INNER JOIN (
    SELECT `w1`.`learner_id`
    FROM `ablemusic`.`learner` AS `w1`
    WHERE `w1`.`is_active` = 1
) AS `t0` ON `w.LearnerOthers`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-03 22:06:39.415 +12:00 [INF] Executed DbCommand (45ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance`.`course_instance_id`, `w.One2oneCourseInstance`.`begin_date`, `w.One2oneCourseInstance`.`course_id`, `w.One2oneCourseInstance`.`end_date`, `w.One2oneCourseInstance`.`invoice_date`, `w.One2oneCourseInstance`.`learner_id`, `w.One2oneCourseInstance`.`org_id`, `w.One2oneCourseInstance`.`room_id`, `w.One2oneCourseInstance`.`teacher_id`, `o.Teacher`.`teacher_id`, `o.Teacher`.`ability`, `o.Teacher`.`comment`, `o.Teacher`.`cv_url`, `o.Teacher`.`dob`, `o.Teacher`.`email`, `o.Teacher`.`expiry_date`, `o.Teacher`.`first_name`, `o.Teacher`.`form_url`, `o.Teacher`.`gender`, `o.Teacher`.`home_phone`, `o.Teacher`.`id_number`, `o.Teacher`.`id_photo`, `o.Teacher`.`id_type`, `o.Teacher`.`invoice_template`, `o.Teacher`.`ird_number`, `o.Teacher`.`is_activate`, `o.Teacher`.`is_contract`, `o.Teacher`.`is_left`, `o.Teacher`.`last_name`, `o.Teacher`.`level`, `o.Teacher`.`minimum_hours`, `o.Teacher`.`mobile_phone`, `o.Teacher`.`otherfile_url`, `o.Teacher`.`photo`, `o.Teacher`.`user_id`, `o.Teacher`.`visa`, `o.Room`.`room_id`, `o.Room`.`created_at`, `o.Room`.`is_activate`, `o.Room`.`org_id`, `o.Room`.`room_name`, `o.Course`.`course_id`, `o.Course`.`course_category_id`, `o.Course`.`course_name`, `o.Course`.`course_type`, `o.Course`.`duration`, `o.Course`.`level`, `o.Course`.`price`, `o.Course`.`teacher_level`, `o.Org`.`org_id`, `o.Org`.`abbr`, `o.Org`.`address`, `o.Org`.`email`, `o.Org`.`is_activate`, `o.Org`.`is_headoffice`, `o.Org`.`localtion_x`, `o.Org`.`localtion_y`, `o.Org`.`org_name`, `o.Org`.`phone`
FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance`
LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher` ON `w.One2oneCourseInstance`.`teacher_id` = `o.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `o.Room` ON `w.One2oneCourseInstance`.`room_id` = `o.Room`.`room_id`
LEFT JOIN `ablemusic`.`course` AS `o.Course` ON `w.One2oneCourseInstance`.`course_id` = `o.Course`.`course_id`
LEFT JOIN `ablemusic`.`org` AS `o.Org` ON `w.One2oneCourseInstance`.`org_id` = `o.Org`.`org_id`
INNER JOIN (
    SELECT `w2`.`learner_id`
    FROM `ablemusic`.`learner` AS `w2`
    WHERE `w2`.`is_active` = 1
) AS `t1` ON `w.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`, `w.One2oneCourseInstance`.`course_instance_id`
2019-07-03 22:06:39.565 +12:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.Amendment`.`amendment_id`, `w.One2oneCourseInstance.Amendment`.`amend_type`, `w.One2oneCourseInstance.Amendment`.`begin_date`, `w.One2oneCourseInstance.Amendment`.`begin_time`, `w.One2oneCourseInstance.Amendment`.`course_instance_id`, `w.One2oneCourseInstance.Amendment`.`course_schedule_id`, `w.One2oneCourseInstance.Amendment`.`created_at`, `w.One2oneCourseInstance.Amendment`.`day_of_week`, `w.One2oneCourseInstance.Amendment`.`end_date`, `w.One2oneCourseInstance.Amendment`.`end_time`, `w.One2oneCourseInstance.Amendment`.`is_temporary`, `w.One2oneCourseInstance.Amendment`.`learner_id`, `w.One2oneCourseInstance.Amendment`.`org_id`, `w.One2oneCourseInstance.Amendment`.`reason`, `w.One2oneCourseInstance.Amendment`.`room_id`, `w.One2oneCourseInstance.Amendment`.`teacher_id`, `a.Teacher`.`teacher_id`, `a.Teacher`.`ability`, `a.Teacher`.`comment`, `a.Teacher`.`cv_url`, `a.Teacher`.`dob`, `a.Teacher`.`email`, `a.Teacher`.`expiry_date`, `a.Teacher`.`first_name`, `a.Teacher`.`form_url`, `a.Teacher`.`gender`, `a.Teacher`.`home_phone`, `a.Teacher`.`id_number`, `a.Teacher`.`id_photo`, `a.Teacher`.`id_type`, `a.Teacher`.`invoice_template`, `a.Teacher`.`ird_number`, `a.Teacher`.`is_activate`, `a.Teacher`.`is_contract`, `a.Teacher`.`is_left`, `a.Teacher`.`last_name`, `a.Teacher`.`level`, `a.Teacher`.`minimum_hours`, `a.Teacher`.`mobile_phone`, `a.Teacher`.`otherfile_url`, `a.Teacher`.`photo`, `a.Teacher`.`user_id`, `a.Teacher`.`visa`, `a.Room`.`room_id`, `a.Room`.`created_at`, `a.Room`.`is_activate`, `a.Room`.`org_id`, `a.Room`.`room_name`
FROM `ablemusic`.`amendment` AS `w.One2oneCourseInstance.Amendment`
LEFT JOIN `ablemusic`.`teacher` AS `a.Teacher` ON `w.One2oneCourseInstance.Amendment`.`teacher_id` = `a.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `a.Room` ON `w.One2oneCourseInstance.Amendment`.`room_id` = `a.Room`.`room_id`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance0`.`course_instance_id`, `t2`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance0`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher0` ON `w.One2oneCourseInstance0`.`teacher_id` = `o.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room0` ON `w.One2oneCourseInstance0`.`room_id` = `o.Room0`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course0` ON `w.One2oneCourseInstance0`.`course_id` = `o.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org0` ON `w.One2oneCourseInstance0`.`org_id` = `o.Org0`.`org_id`
    INNER JOIN (
        SELECT `w3`.`learner_id`
        FROM `ablemusic`.`learner` AS `w3`
        WHERE `w3`.`is_active` = 1
    ) AS `t2` ON `w.One2oneCourseInstance0`.`learner_id` = `t2`.`learner_id`
) AS `t3` ON `w.One2oneCourseInstance.Amendment`.`course_instance_id` = `t3`.`course_instance_id`
ORDER BY `t3`.`learner_id`, `t3`.`course_instance_id`
2019-07-03 22:06:39.644 +12:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.CourseSchedule`.`course_schedule_id`, `w.One2oneCourseInstance.CourseSchedule`.`begin_time`, `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id`, `w.One2oneCourseInstance.CourseSchedule`.`day_of_week`, `w.One2oneCourseInstance.CourseSchedule`.`end_time`, `w.One2oneCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `w.One2oneCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance1`.`course_instance_id`, `t4`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance1`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher1` ON `w.One2oneCourseInstance1`.`teacher_id` = `o.Teacher1`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room1` ON `w.One2oneCourseInstance1`.`room_id` = `o.Room1`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course1` ON `w.One2oneCourseInstance1`.`course_id` = `o.Course1`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org1` ON `w.One2oneCourseInstance1`.`org_id` = `o.Org1`.`org_id`
    INNER JOIN (
        SELECT `w4`.`learner_id`
        FROM `ablemusic`.`learner` AS `w4`
        WHERE `w4`.`is_active` = 1
    ) AS `t4` ON `w.One2oneCourseInstance1`.`learner_id` = `t4`.`learner_id`
) AS `t5` ON `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id` = `t5`.`course_instance_id`
ORDER BY `t5`.`learner_id`, `t5`.`course_instance_id`
2019-07-03 22:06:39.701 +12:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerGroupCourse`.`learner_group_course_id`, `w.LearnerGroupCourse`.`begin_date`, `w.LearnerGroupCourse`.`comment`, `w.LearnerGroupCourse`.`created_at`, `w.LearnerGroupCourse`.`end_date`, `w.LearnerGroupCourse`.`group_course_instance_id`, `w.LearnerGroupCourse`.`invoice_date`, `w.LearnerGroupCourse`.`is_activate`, `w.LearnerGroupCourse`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`, `l.GroupCourseInstance`.`begin_date`, `l.GroupCourseInstance`.`course_id`, `l.GroupCourseInstance`.`end_date`, `l.GroupCourseInstance`.`invoice_date`, `l.GroupCourseInstance`.`is_activate`, `l.GroupCourseInstance`.`is_started`, `l.GroupCourseInstance`.`org_id`, `l.GroupCourseInstance`.`room_id`, `l.GroupCourseInstance`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`ability`, `l.GroupCourseInstance.Teacher`.`comment`, `l.GroupCourseInstance.Teacher`.`cv_url`, `l.GroupCourseInstance.Teacher`.`dob`, `l.GroupCourseInstance.Teacher`.`email`, `l.GroupCourseInstance.Teacher`.`expiry_date`, `l.GroupCourseInstance.Teacher`.`first_name`, `l.GroupCourseInstance.Teacher`.`form_url`, `l.GroupCourseInstance.Teacher`.`gender`, `l.GroupCourseInstance.Teacher`.`home_phone`, `l.GroupCourseInstance.Teacher`.`id_number`, `l.GroupCourseInstance.Teacher`.`id_photo`, `l.GroupCourseInstance.Teacher`.`id_type`, `l.GroupCourseInstance.Teacher`.`invoice_template`, `l.GroupCourseInstance.Teacher`.`ird_number`, `l.GroupCourseInstance.Teacher`.`is_activate`, `l.GroupCourseInstance.Teacher`.`is_contract`, `l.GroupCourseInstance.Teacher`.`is_left`, `l.GroupCourseInstance.Teacher`.`last_name`, `l.GroupCourseInstance.Teacher`.`level`, `l.GroupCourseInstance.Teacher`.`minimum_hours`, `l.GroupCourseInstance.Teacher`.`mobile_phone`, `l.GroupCourseInstance.Teacher`.`otherfile_url`, `l.GroupCourseInstance.Teacher`.`photo`, `l.GroupCourseInstance.Teacher`.`user_id`, `l.GroupCourseInstance.Teacher`.`visa`, `l.GroupCourseInstance.Course`.`course_id`, `l.GroupCourseInstance.Course`.`course_category_id`, `l.GroupCourseInstance.Course`.`course_name`, `l.GroupCourseInstance.Course`.`course_type`, `l.GroupCourseInstance.Course`.`duration`, `l.GroupCourseInstance.Course`.`level`, `l.GroupCourseInstance.Course`.`price`, `l.GroupCourseInstance.Course`.`teacher_level`, `l.GroupCourseInstance.Room`.`room_id`, `l.GroupCourseInstance.Room`.`created_at`, `l.GroupCourseInstance.Room`.`is_activate`, `l.GroupCourseInstance.Room`.`org_id`, `l.GroupCourseInstance.Room`.`room_name`
FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse`
LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance` ON `w.LearnerGroupCourse`.`group_course_instance_id` = `l.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher` ON `l.GroupCourseInstance`.`teacher_id` = `l.GroupCourseInstance.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course` ON `l.GroupCourseInstance`.`course_id` = `l.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room` ON `l.GroupCourseInstance`.`room_id` = `l.GroupCourseInstance.Room`.`room_id`
INNER JOIN (
    SELECT `w5`.`learner_id`
    FROM `ablemusic`.`learner` AS `w5`
    WHERE `w5`.`is_active` = 1
) AS `t6` ON `w.LearnerGroupCourse`.`learner_id` = `t6`.`learner_id`
ORDER BY `t6`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`
2019-07-03 22:06:39.790 +12:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l.GroupCourseInstance.CourseSchedule`.`course_schedule_id`, `l.GroupCourseInstance.CourseSchedule`.`begin_time`, `l.GroupCourseInstance.CourseSchedule`.`course_instance_id`, `l.GroupCourseInstance.CourseSchedule`.`day_of_week`, `l.GroupCourseInstance.CourseSchedule`.`end_time`, `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `l.GroupCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `l.GroupCourseInstance0`.`group_course_instance_id`, `t7`.`learner_id`
    FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse0`
    LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance0` ON `w.LearnerGroupCourse0`.`group_course_instance_id` = `l.GroupCourseInstance0`.`group_course_instance_id`
    LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher0` ON `l.GroupCourseInstance0`.`teacher_id` = `l.GroupCourseInstance.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course0` ON `l.GroupCourseInstance0`.`course_id` = `l.GroupCourseInstance.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room0` ON `l.GroupCourseInstance0`.`room_id` = `l.GroupCourseInstance.Room0`.`room_id`
    INNER JOIN (
        SELECT `w6`.`learner_id`
        FROM `ablemusic`.`learner` AS `w6`
        WHERE `w6`.`is_active` = 1
    ) AS `t7` ON `w.LearnerGroupCourse0`.`learner_id` = `t7`.`learner_id`
) AS `t8` ON `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id` = `t8`.`group_course_instance_id`
ORDER BY `t8`.`learner_id`, `t8`.`group_course_instance_id`
2019-07-03 22:06:40.046 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1116.1072000000001ms.
2019-07-03 22:06:40.046 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:06:40.119 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) in 1189.0707ms
2019-07-03 22:06:40.119 +12:00 [INF] Request finished in 1196.4957ms 200 application/json; charset=utf-8
2019-07-03 22:06:49.474 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/4  
2019-07-03 22:06:49.474 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/3  
2019-07-03 22:06:49.474 +12:00 [INF] Policy execution successful.
2019-07-03 22:06:49.474 +12:00 [INF] Policy execution successful.
2019-07-03 22:06:49.477 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/5  
2019-07-03 22:06:49.482 +12:00 [INF] Policy execution successful.
2019-07-03 22:06:49.483 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/2  
2019-07-03 22:06:49.500 +12:00 [INF] Policy execution successful.
2019-07-03 22:06:49.503 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner  
2019-07-03 22:06:49.510 +12:00 [INF] Policy execution successful.
2019-07-03 22:06:49.510 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/null  
2019-07-03 22:06:49.510 +12:00 [INF] Request finished in 0.3416ms 404 
2019-07-03 22:06:49.510 +12:00 [INF] Route matched with {action = "GetLearner", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearner() on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-03 22:06:49.511 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:06:49.511 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:06:49.514 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-03 22:06:49.514 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-03 22:06:49.514 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-03 22:06:49.514 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:06:49.514 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:06:49.514 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:06:49.522 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-03 22:06:49.523 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:06:49.525 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:06:49.525 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:06:49.525 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:06:49.525 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:06:49.611 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`is_active` = 1
ORDER BY `w`.`learner_id`
2019-07-03 22:06:49.697 +12:00 [INF] Executed DbCommand (41ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Parent`.`parent_id`, `w.Parent`.`contact_num`, `w.Parent`.`created_at`, `w.Parent`.`email`, `w.Parent`.`first_name`, `w.Parent`.`last_name`, `w.Parent`.`learner_id`, `w.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `w.Parent`
INNER JOIN (
    SELECT `w0`.`learner_id`
    FROM `ablemusic`.`learner` AS `w0`
    WHERE `w0`.`is_active` = 1
) AS `t` ON `w.Parent`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-03 22:06:49.767 +12:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerOthers`.`learner_others_id`, `w.LearnerOthers`.`learner_id`, `w.LearnerOthers`.`learner_level`, `w.LearnerOthers`.`others_type`, `w.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `w.LearnerOthers`
INNER JOIN (
    SELECT `w1`.`learner_id`
    FROM `ablemusic`.`learner` AS `w1`
    WHERE `w1`.`is_active` = 1
) AS `t0` ON `w.LearnerOthers`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-03 22:06:49.917 +12:00 [INF] Executed DbCommand (129ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance`.`course_instance_id`, `w.One2oneCourseInstance`.`begin_date`, `w.One2oneCourseInstance`.`course_id`, `w.One2oneCourseInstance`.`end_date`, `w.One2oneCourseInstance`.`invoice_date`, `w.One2oneCourseInstance`.`learner_id`, `w.One2oneCourseInstance`.`org_id`, `w.One2oneCourseInstance`.`room_id`, `w.One2oneCourseInstance`.`teacher_id`, `o.Teacher`.`teacher_id`, `o.Teacher`.`ability`, `o.Teacher`.`comment`, `o.Teacher`.`cv_url`, `o.Teacher`.`dob`, `o.Teacher`.`email`, `o.Teacher`.`expiry_date`, `o.Teacher`.`first_name`, `o.Teacher`.`form_url`, `o.Teacher`.`gender`, `o.Teacher`.`home_phone`, `o.Teacher`.`id_number`, `o.Teacher`.`id_photo`, `o.Teacher`.`id_type`, `o.Teacher`.`invoice_template`, `o.Teacher`.`ird_number`, `o.Teacher`.`is_activate`, `o.Teacher`.`is_contract`, `o.Teacher`.`is_left`, `o.Teacher`.`last_name`, `o.Teacher`.`level`, `o.Teacher`.`minimum_hours`, `o.Teacher`.`mobile_phone`, `o.Teacher`.`otherfile_url`, `o.Teacher`.`photo`, `o.Teacher`.`user_id`, `o.Teacher`.`visa`, `o.Room`.`room_id`, `o.Room`.`created_at`, `o.Room`.`is_activate`, `o.Room`.`org_id`, `o.Room`.`room_name`, `o.Course`.`course_id`, `o.Course`.`course_category_id`, `o.Course`.`course_name`, `o.Course`.`course_type`, `o.Course`.`duration`, `o.Course`.`level`, `o.Course`.`price`, `o.Course`.`teacher_level`, `o.Org`.`org_id`, `o.Org`.`abbr`, `o.Org`.`address`, `o.Org`.`email`, `o.Org`.`is_activate`, `o.Org`.`is_headoffice`, `o.Org`.`localtion_x`, `o.Org`.`localtion_y`, `o.Org`.`org_name`, `o.Org`.`phone`
FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance`
LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher` ON `w.One2oneCourseInstance`.`teacher_id` = `o.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `o.Room` ON `w.One2oneCourseInstance`.`room_id` = `o.Room`.`room_id`
LEFT JOIN `ablemusic`.`course` AS `o.Course` ON `w.One2oneCourseInstance`.`course_id` = `o.Course`.`course_id`
LEFT JOIN `ablemusic`.`org` AS `o.Org` ON `w.One2oneCourseInstance`.`org_id` = `o.Org`.`org_id`
INNER JOIN (
    SELECT `w2`.`learner_id`
    FROM `ablemusic`.`learner` AS `w2`
    WHERE `w2`.`is_active` = 1
) AS `t1` ON `w.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`, `w.One2oneCourseInstance`.`course_instance_id`
2019-07-03 22:06:50.216 +12:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.Amendment`.`amendment_id`, `w.One2oneCourseInstance.Amendment`.`amend_type`, `w.One2oneCourseInstance.Amendment`.`begin_date`, `w.One2oneCourseInstance.Amendment`.`begin_time`, `w.One2oneCourseInstance.Amendment`.`course_instance_id`, `w.One2oneCourseInstance.Amendment`.`course_schedule_id`, `w.One2oneCourseInstance.Amendment`.`created_at`, `w.One2oneCourseInstance.Amendment`.`day_of_week`, `w.One2oneCourseInstance.Amendment`.`end_date`, `w.One2oneCourseInstance.Amendment`.`end_time`, `w.One2oneCourseInstance.Amendment`.`is_temporary`, `w.One2oneCourseInstance.Amendment`.`learner_id`, `w.One2oneCourseInstance.Amendment`.`org_id`, `w.One2oneCourseInstance.Amendment`.`reason`, `w.One2oneCourseInstance.Amendment`.`room_id`, `w.One2oneCourseInstance.Amendment`.`teacher_id`, `a.Teacher`.`teacher_id`, `a.Teacher`.`ability`, `a.Teacher`.`comment`, `a.Teacher`.`cv_url`, `a.Teacher`.`dob`, `a.Teacher`.`email`, `a.Teacher`.`expiry_date`, `a.Teacher`.`first_name`, `a.Teacher`.`form_url`, `a.Teacher`.`gender`, `a.Teacher`.`home_phone`, `a.Teacher`.`id_number`, `a.Teacher`.`id_photo`, `a.Teacher`.`id_type`, `a.Teacher`.`invoice_template`, `a.Teacher`.`ird_number`, `a.Teacher`.`is_activate`, `a.Teacher`.`is_contract`, `a.Teacher`.`is_left`, `a.Teacher`.`last_name`, `a.Teacher`.`level`, `a.Teacher`.`minimum_hours`, `a.Teacher`.`mobile_phone`, `a.Teacher`.`otherfile_url`, `a.Teacher`.`photo`, `a.Teacher`.`user_id`, `a.Teacher`.`visa`, `a.Room`.`room_id`, `a.Room`.`created_at`, `a.Room`.`is_activate`, `a.Room`.`org_id`, `a.Room`.`room_name`
FROM `ablemusic`.`amendment` AS `w.One2oneCourseInstance.Amendment`
LEFT JOIN `ablemusic`.`teacher` AS `a.Teacher` ON `w.One2oneCourseInstance.Amendment`.`teacher_id` = `a.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `a.Room` ON `w.One2oneCourseInstance.Amendment`.`room_id` = `a.Room`.`room_id`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance0`.`course_instance_id`, `t2`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance0`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher0` ON `w.One2oneCourseInstance0`.`teacher_id` = `o.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room0` ON `w.One2oneCourseInstance0`.`room_id` = `o.Room0`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course0` ON `w.One2oneCourseInstance0`.`course_id` = `o.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org0` ON `w.One2oneCourseInstance0`.`org_id` = `o.Org0`.`org_id`
    INNER JOIN (
        SELECT `w3`.`learner_id`
        FROM `ablemusic`.`learner` AS `w3`
        WHERE `w3`.`is_active` = 1
    ) AS `t2` ON `w.One2oneCourseInstance0`.`learner_id` = `t2`.`learner_id`
) AS `t3` ON `w.One2oneCourseInstance.Amendment`.`course_instance_id` = `t3`.`course_instance_id`
ORDER BY `t3`.`learner_id`, `t3`.`course_instance_id`
2019-07-03 22:06:50.263 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.CourseSchedule`.`course_schedule_id`, `w.One2oneCourseInstance.CourseSchedule`.`begin_time`, `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id`, `w.One2oneCourseInstance.CourseSchedule`.`day_of_week`, `w.One2oneCourseInstance.CourseSchedule`.`end_time`, `w.One2oneCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `w.One2oneCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance1`.`course_instance_id`, `t4`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance1`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher1` ON `w.One2oneCourseInstance1`.`teacher_id` = `o.Teacher1`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room1` ON `w.One2oneCourseInstance1`.`room_id` = `o.Room1`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course1` ON `w.One2oneCourseInstance1`.`course_id` = `o.Course1`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org1` ON `w.One2oneCourseInstance1`.`org_id` = `o.Org1`.`org_id`
    INNER JOIN (
        SELECT `w4`.`learner_id`
        FROM `ablemusic`.`learner` AS `w4`
        WHERE `w4`.`is_active` = 1
    ) AS `t4` ON `w.One2oneCourseInstance1`.`learner_id` = `t4`.`learner_id`
) AS `t5` ON `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id` = `t5`.`course_instance_id`
ORDER BY `t5`.`learner_id`, `t5`.`course_instance_id`
2019-07-03 22:06:50.306 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-03 22:06:50.317 +12:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerGroupCourse`.`learner_group_course_id`, `w.LearnerGroupCourse`.`begin_date`, `w.LearnerGroupCourse`.`comment`, `w.LearnerGroupCourse`.`created_at`, `w.LearnerGroupCourse`.`end_date`, `w.LearnerGroupCourse`.`group_course_instance_id`, `w.LearnerGroupCourse`.`invoice_date`, `w.LearnerGroupCourse`.`is_activate`, `w.LearnerGroupCourse`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`, `l.GroupCourseInstance`.`begin_date`, `l.GroupCourseInstance`.`course_id`, `l.GroupCourseInstance`.`end_date`, `l.GroupCourseInstance`.`invoice_date`, `l.GroupCourseInstance`.`is_activate`, `l.GroupCourseInstance`.`is_started`, `l.GroupCourseInstance`.`org_id`, `l.GroupCourseInstance`.`room_id`, `l.GroupCourseInstance`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`ability`, `l.GroupCourseInstance.Teacher`.`comment`, `l.GroupCourseInstance.Teacher`.`cv_url`, `l.GroupCourseInstance.Teacher`.`dob`, `l.GroupCourseInstance.Teacher`.`email`, `l.GroupCourseInstance.Teacher`.`expiry_date`, `l.GroupCourseInstance.Teacher`.`first_name`, `l.GroupCourseInstance.Teacher`.`form_url`, `l.GroupCourseInstance.Teacher`.`gender`, `l.GroupCourseInstance.Teacher`.`home_phone`, `l.GroupCourseInstance.Teacher`.`id_number`, `l.GroupCourseInstance.Teacher`.`id_photo`, `l.GroupCourseInstance.Teacher`.`id_type`, `l.GroupCourseInstance.Teacher`.`invoice_template`, `l.GroupCourseInstance.Teacher`.`ird_number`, `l.GroupCourseInstance.Teacher`.`is_activate`, `l.GroupCourseInstance.Teacher`.`is_contract`, `l.GroupCourseInstance.Teacher`.`is_left`, `l.GroupCourseInstance.Teacher`.`last_name`, `l.GroupCourseInstance.Teacher`.`level`, `l.GroupCourseInstance.Teacher`.`minimum_hours`, `l.GroupCourseInstance.Teacher`.`mobile_phone`, `l.GroupCourseInstance.Teacher`.`otherfile_url`, `l.GroupCourseInstance.Teacher`.`photo`, `l.GroupCourseInstance.Teacher`.`user_id`, `l.GroupCourseInstance.Teacher`.`visa`, `l.GroupCourseInstance.Course`.`course_id`, `l.GroupCourseInstance.Course`.`course_category_id`, `l.GroupCourseInstance.Course`.`course_name`, `l.GroupCourseInstance.Course`.`course_type`, `l.GroupCourseInstance.Course`.`duration`, `l.GroupCourseInstance.Course`.`level`, `l.GroupCourseInstance.Course`.`price`, `l.GroupCourseInstance.Course`.`teacher_level`, `l.GroupCourseInstance.Room`.`room_id`, `l.GroupCourseInstance.Room`.`created_at`, `l.GroupCourseInstance.Room`.`is_activate`, `l.GroupCourseInstance.Room`.`org_id`, `l.GroupCourseInstance.Room`.`room_name`
FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse`
LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance` ON `w.LearnerGroupCourse`.`group_course_instance_id` = `l.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher` ON `l.GroupCourseInstance`.`teacher_id` = `l.GroupCourseInstance.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course` ON `l.GroupCourseInstance`.`course_id` = `l.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room` ON `l.GroupCourseInstance`.`room_id` = `l.GroupCourseInstance.Room`.`room_id`
INNER JOIN (
    SELECT `w5`.`learner_id`
    FROM `ablemusic`.`learner` AS `w5`
    WHERE `w5`.`is_active` = 1
) AS `t6` ON `w.LearnerGroupCourse`.`learner_id` = `t6`.`learner_id`
ORDER BY `t6`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`
2019-07-03 22:06:50.322 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 799.0401ms.
2019-07-03 22:06:50.322 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:06:50.327 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-03 22:06:50.329 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 814.0963ms.
2019-07-03 22:06:50.329 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:06:50.334 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-03 22:06:50.335 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 820.1268ms.
2019-07-03 22:06:50.335 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:06:50.337 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 822.4715ms
2019-07-03 22:06:50.337 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 814.81770000000006ms
2019-07-03 22:06:50.337 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 823.2994ms
2019-07-03 22:06:50.337 +12:00 [INF] Request finished in 859.8596ms 200 application/json; charset=utf-8
2019-07-03 22:06:50.337 +12:00 [INF] Request finished in 854.69ms 200 application/json; charset=utf-8
2019-07-03 22:06:50.337 +12:00 [INF] Request finished in 870.1515ms 200 application/json; charset=utf-8
2019-07-03 22:06:50.398 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l.GroupCourseInstance.CourseSchedule`.`course_schedule_id`, `l.GroupCourseInstance.CourseSchedule`.`begin_time`, `l.GroupCourseInstance.CourseSchedule`.`course_instance_id`, `l.GroupCourseInstance.CourseSchedule`.`day_of_week`, `l.GroupCourseInstance.CourseSchedule`.`end_time`, `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `l.GroupCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `l.GroupCourseInstance0`.`group_course_instance_id`, `t7`.`learner_id`
    FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse0`
    LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance0` ON `w.LearnerGroupCourse0`.`group_course_instance_id` = `l.GroupCourseInstance0`.`group_course_instance_id`
    LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher0` ON `l.GroupCourseInstance0`.`teacher_id` = `l.GroupCourseInstance.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course0` ON `l.GroupCourseInstance0`.`course_id` = `l.GroupCourseInstance.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room0` ON `l.GroupCourseInstance0`.`room_id` = `l.GroupCourseInstance.Room0`.`room_id`
    INNER JOIN (
        SELECT `w6`.`learner_id`
        FROM `ablemusic`.`learner` AS `w6`
        WHERE `w6`.`is_active` = 1
    ) AS `t7` ON `w.LearnerGroupCourse0`.`learner_id` = `t7`.`learner_id`
) AS `t8` ON `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id` = `t8`.`group_course_instance_id`
ORDER BY `t8`.`learner_id`, `t8`.`group_course_instance_id`
2019-07-03 22:06:50.434 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 923.17360000000008ms.
2019-07-03 22:06:50.434 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:06:50.441 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) in 930.1393ms
2019-07-03 22:06:50.441 +12:00 [INF] Request finished in 938.0831ms 200 application/json; charset=utf-8
2019-07-03 22:06:50.855 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-03 22:06:50.856 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1341.7715ms.
2019-07-03 22:06:50.857 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:06:50.857 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 1342.7525ms
2019-07-03 22:06:50.857 +12:00 [INF] Request finished in 1383.2718ms 200 application/json; charset=utf-8
2019-07-03 22:07:20.255 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/2  
2019-07-03 22:07:20.255 +12:00 [INF] Policy execution successful.
2019-07-03 22:07:20.258 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-03 22:07:20.274 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/4  
2019-07-03 22:07:20.274 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/3  
2019-07-03 22:07:20.274 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner  
2019-07-03 22:07:20.274 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/5  
2019-07-03 22:07:20.274 +12:00 [INF] Policy execution successful.
2019-07-03 22:07:20.274 +12:00 [INF] Policy execution successful.
2019-07-03 22:07:20.274 +12:00 [INF] Policy execution successful.
2019-07-03 22:07:20.274 +12:00 [INF] Policy execution successful.
2019-07-03 22:07:20.274 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:07:20.274 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-03 22:07:20.274 +12:00 [INF] Route matched with {action = "GetLearner", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearner() on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-03 22:07:20.274 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-03 22:07:20.275 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-03 22:07:20.275 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:07:20.275 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:07:20.275 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:07:20.275 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:07:20.275 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:07:20.275 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:07:20.276 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:07:20.276 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:07:20.276 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:07:20.290 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/null  
2019-07-03 22:07:20.291 +12:00 [INF] Request finished in 0.3429ms 404 
2019-07-03 22:07:20.370 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-03 22:07:20.370 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-03 22:07:20.370 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-03 22:07:20.370 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 95.3579ms.
2019-07-03 22:07:20.370 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 95.9985ms.
2019-07-03 22:07:20.371 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-03 22:07:20.371 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 95.5824ms.
2019-07-03 22:07:20.371 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:07:20.371 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:07:20.371 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:07:20.371 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 96.306400000000011ms
2019-07-03 22:07:20.371 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 96.0139ms.
2019-07-03 22:07:20.371 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 97.1031ms
2019-07-03 22:07:20.371 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 96.4984ms
2019-07-03 22:07:20.371 +12:00 [INF] Request finished in 97.2711ms 200 application/json; charset=utf-8
2019-07-03 22:07:20.371 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:07:20.371 +12:00 [INF] Request finished in 97.4961ms 200 application/json; charset=utf-8
2019-07-03 22:07:20.371 +12:00 [INF] Request finished in 116.1538ms 200 application/json; charset=utf-8
2019-07-03 22:07:20.371 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 96.8508ms
2019-07-03 22:07:20.372 +12:00 [INF] Request finished in 97.836ms 200 application/json; charset=utf-8
2019-07-03 22:07:20.375 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`is_active` = 1
ORDER BY `w`.`learner_id`
2019-07-03 22:07:20.458 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Parent`.`parent_id`, `w.Parent`.`contact_num`, `w.Parent`.`created_at`, `w.Parent`.`email`, `w.Parent`.`first_name`, `w.Parent`.`last_name`, `w.Parent`.`learner_id`, `w.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `w.Parent`
INNER JOIN (
    SELECT `w0`.`learner_id`
    FROM `ablemusic`.`learner` AS `w0`
    WHERE `w0`.`is_active` = 1
) AS `t` ON `w.Parent`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-03 22:07:20.491 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerOthers`.`learner_others_id`, `w.LearnerOthers`.`learner_id`, `w.LearnerOthers`.`learner_level`, `w.LearnerOthers`.`others_type`, `w.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `w.LearnerOthers`
INNER JOIN (
    SELECT `w1`.`learner_id`
    FROM `ablemusic`.`learner` AS `w1`
    WHERE `w1`.`is_active` = 1
) AS `t0` ON `w.LearnerOthers`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-03 22:07:20.531 +12:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance`.`course_instance_id`, `w.One2oneCourseInstance`.`begin_date`, `w.One2oneCourseInstance`.`course_id`, `w.One2oneCourseInstance`.`end_date`, `w.One2oneCourseInstance`.`invoice_date`, `w.One2oneCourseInstance`.`learner_id`, `w.One2oneCourseInstance`.`org_id`, `w.One2oneCourseInstance`.`room_id`, `w.One2oneCourseInstance`.`teacher_id`, `o.Teacher`.`teacher_id`, `o.Teacher`.`ability`, `o.Teacher`.`comment`, `o.Teacher`.`cv_url`, `o.Teacher`.`dob`, `o.Teacher`.`email`, `o.Teacher`.`expiry_date`, `o.Teacher`.`first_name`, `o.Teacher`.`form_url`, `o.Teacher`.`gender`, `o.Teacher`.`home_phone`, `o.Teacher`.`id_number`, `o.Teacher`.`id_photo`, `o.Teacher`.`id_type`, `o.Teacher`.`invoice_template`, `o.Teacher`.`ird_number`, `o.Teacher`.`is_activate`, `o.Teacher`.`is_contract`, `o.Teacher`.`is_left`, `o.Teacher`.`last_name`, `o.Teacher`.`level`, `o.Teacher`.`minimum_hours`, `o.Teacher`.`mobile_phone`, `o.Teacher`.`otherfile_url`, `o.Teacher`.`photo`, `o.Teacher`.`user_id`, `o.Teacher`.`visa`, `o.Room`.`room_id`, `o.Room`.`created_at`, `o.Room`.`is_activate`, `o.Room`.`org_id`, `o.Room`.`room_name`, `o.Course`.`course_id`, `o.Course`.`course_category_id`, `o.Course`.`course_name`, `o.Course`.`course_type`, `o.Course`.`duration`, `o.Course`.`level`, `o.Course`.`price`, `o.Course`.`teacher_level`, `o.Org`.`org_id`, `o.Org`.`abbr`, `o.Org`.`address`, `o.Org`.`email`, `o.Org`.`is_activate`, `o.Org`.`is_headoffice`, `o.Org`.`localtion_x`, `o.Org`.`localtion_y`, `o.Org`.`org_name`, `o.Org`.`phone`
FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance`
LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher` ON `w.One2oneCourseInstance`.`teacher_id` = `o.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `o.Room` ON `w.One2oneCourseInstance`.`room_id` = `o.Room`.`room_id`
LEFT JOIN `ablemusic`.`course` AS `o.Course` ON `w.One2oneCourseInstance`.`course_id` = `o.Course`.`course_id`
LEFT JOIN `ablemusic`.`org` AS `o.Org` ON `w.One2oneCourseInstance`.`org_id` = `o.Org`.`org_id`
INNER JOIN (
    SELECT `w2`.`learner_id`
    FROM `ablemusic`.`learner` AS `w2`
    WHERE `w2`.`is_active` = 1
) AS `t1` ON `w.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`, `w.One2oneCourseInstance`.`course_instance_id`
2019-07-03 22:07:20.678 +12:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.Amendment`.`amendment_id`, `w.One2oneCourseInstance.Amendment`.`amend_type`, `w.One2oneCourseInstance.Amendment`.`begin_date`, `w.One2oneCourseInstance.Amendment`.`begin_time`, `w.One2oneCourseInstance.Amendment`.`course_instance_id`, `w.One2oneCourseInstance.Amendment`.`course_schedule_id`, `w.One2oneCourseInstance.Amendment`.`created_at`, `w.One2oneCourseInstance.Amendment`.`day_of_week`, `w.One2oneCourseInstance.Amendment`.`end_date`, `w.One2oneCourseInstance.Amendment`.`end_time`, `w.One2oneCourseInstance.Amendment`.`is_temporary`, `w.One2oneCourseInstance.Amendment`.`learner_id`, `w.One2oneCourseInstance.Amendment`.`org_id`, `w.One2oneCourseInstance.Amendment`.`reason`, `w.One2oneCourseInstance.Amendment`.`room_id`, `w.One2oneCourseInstance.Amendment`.`teacher_id`, `a.Teacher`.`teacher_id`, `a.Teacher`.`ability`, `a.Teacher`.`comment`, `a.Teacher`.`cv_url`, `a.Teacher`.`dob`, `a.Teacher`.`email`, `a.Teacher`.`expiry_date`, `a.Teacher`.`first_name`, `a.Teacher`.`form_url`, `a.Teacher`.`gender`, `a.Teacher`.`home_phone`, `a.Teacher`.`id_number`, `a.Teacher`.`id_photo`, `a.Teacher`.`id_type`, `a.Teacher`.`invoice_template`, `a.Teacher`.`ird_number`, `a.Teacher`.`is_activate`, `a.Teacher`.`is_contract`, `a.Teacher`.`is_left`, `a.Teacher`.`last_name`, `a.Teacher`.`level`, `a.Teacher`.`minimum_hours`, `a.Teacher`.`mobile_phone`, `a.Teacher`.`otherfile_url`, `a.Teacher`.`photo`, `a.Teacher`.`user_id`, `a.Teacher`.`visa`, `a.Room`.`room_id`, `a.Room`.`created_at`, `a.Room`.`is_activate`, `a.Room`.`org_id`, `a.Room`.`room_name`
FROM `ablemusic`.`amendment` AS `w.One2oneCourseInstance.Amendment`
LEFT JOIN `ablemusic`.`teacher` AS `a.Teacher` ON `w.One2oneCourseInstance.Amendment`.`teacher_id` = `a.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `a.Room` ON `w.One2oneCourseInstance.Amendment`.`room_id` = `a.Room`.`room_id`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance0`.`course_instance_id`, `t2`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance0`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher0` ON `w.One2oneCourseInstance0`.`teacher_id` = `o.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room0` ON `w.One2oneCourseInstance0`.`room_id` = `o.Room0`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course0` ON `w.One2oneCourseInstance0`.`course_id` = `o.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org0` ON `w.One2oneCourseInstance0`.`org_id` = `o.Org0`.`org_id`
    INNER JOIN (
        SELECT `w3`.`learner_id`
        FROM `ablemusic`.`learner` AS `w3`
        WHERE `w3`.`is_active` = 1
    ) AS `t2` ON `w.One2oneCourseInstance0`.`learner_id` = `t2`.`learner_id`
) AS `t3` ON `w.One2oneCourseInstance.Amendment`.`course_instance_id` = `t3`.`course_instance_id`
ORDER BY `t3`.`learner_id`, `t3`.`course_instance_id`
2019-07-03 22:07:20.731 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.CourseSchedule`.`course_schedule_id`, `w.One2oneCourseInstance.CourseSchedule`.`begin_time`, `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id`, `w.One2oneCourseInstance.CourseSchedule`.`day_of_week`, `w.One2oneCourseInstance.CourseSchedule`.`end_time`, `w.One2oneCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `w.One2oneCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance1`.`course_instance_id`, `t4`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance1`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher1` ON `w.One2oneCourseInstance1`.`teacher_id` = `o.Teacher1`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room1` ON `w.One2oneCourseInstance1`.`room_id` = `o.Room1`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course1` ON `w.One2oneCourseInstance1`.`course_id` = `o.Course1`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org1` ON `w.One2oneCourseInstance1`.`org_id` = `o.Org1`.`org_id`
    INNER JOIN (
        SELECT `w4`.`learner_id`
        FROM `ablemusic`.`learner` AS `w4`
        WHERE `w4`.`is_active` = 1
    ) AS `t4` ON `w.One2oneCourseInstance1`.`learner_id` = `t4`.`learner_id`
) AS `t5` ON `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id` = `t5`.`course_instance_id`
ORDER BY `t5`.`learner_id`, `t5`.`course_instance_id`
2019-07-03 22:07:20.776 +12:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerGroupCourse`.`learner_group_course_id`, `w.LearnerGroupCourse`.`begin_date`, `w.LearnerGroupCourse`.`comment`, `w.LearnerGroupCourse`.`created_at`, `w.LearnerGroupCourse`.`end_date`, `w.LearnerGroupCourse`.`group_course_instance_id`, `w.LearnerGroupCourse`.`invoice_date`, `w.LearnerGroupCourse`.`is_activate`, `w.LearnerGroupCourse`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`, `l.GroupCourseInstance`.`begin_date`, `l.GroupCourseInstance`.`course_id`, `l.GroupCourseInstance`.`end_date`, `l.GroupCourseInstance`.`invoice_date`, `l.GroupCourseInstance`.`is_activate`, `l.GroupCourseInstance`.`is_started`, `l.GroupCourseInstance`.`org_id`, `l.GroupCourseInstance`.`room_id`, `l.GroupCourseInstance`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`ability`, `l.GroupCourseInstance.Teacher`.`comment`, `l.GroupCourseInstance.Teacher`.`cv_url`, `l.GroupCourseInstance.Teacher`.`dob`, `l.GroupCourseInstance.Teacher`.`email`, `l.GroupCourseInstance.Teacher`.`expiry_date`, `l.GroupCourseInstance.Teacher`.`first_name`, `l.GroupCourseInstance.Teacher`.`form_url`, `l.GroupCourseInstance.Teacher`.`gender`, `l.GroupCourseInstance.Teacher`.`home_phone`, `l.GroupCourseInstance.Teacher`.`id_number`, `l.GroupCourseInstance.Teacher`.`id_photo`, `l.GroupCourseInstance.Teacher`.`id_type`, `l.GroupCourseInstance.Teacher`.`invoice_template`, `l.GroupCourseInstance.Teacher`.`ird_number`, `l.GroupCourseInstance.Teacher`.`is_activate`, `l.GroupCourseInstance.Teacher`.`is_contract`, `l.GroupCourseInstance.Teacher`.`is_left`, `l.GroupCourseInstance.Teacher`.`last_name`, `l.GroupCourseInstance.Teacher`.`level`, `l.GroupCourseInstance.Teacher`.`minimum_hours`, `l.GroupCourseInstance.Teacher`.`mobile_phone`, `l.GroupCourseInstance.Teacher`.`otherfile_url`, `l.GroupCourseInstance.Teacher`.`photo`, `l.GroupCourseInstance.Teacher`.`user_id`, `l.GroupCourseInstance.Teacher`.`visa`, `l.GroupCourseInstance.Course`.`course_id`, `l.GroupCourseInstance.Course`.`course_category_id`, `l.GroupCourseInstance.Course`.`course_name`, `l.GroupCourseInstance.Course`.`course_type`, `l.GroupCourseInstance.Course`.`duration`, `l.GroupCourseInstance.Course`.`level`, `l.GroupCourseInstance.Course`.`price`, `l.GroupCourseInstance.Course`.`teacher_level`, `l.GroupCourseInstance.Room`.`room_id`, `l.GroupCourseInstance.Room`.`created_at`, `l.GroupCourseInstance.Room`.`is_activate`, `l.GroupCourseInstance.Room`.`org_id`, `l.GroupCourseInstance.Room`.`room_name`
FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse`
LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance` ON `w.LearnerGroupCourse`.`group_course_instance_id` = `l.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher` ON `l.GroupCourseInstance`.`teacher_id` = `l.GroupCourseInstance.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course` ON `l.GroupCourseInstance`.`course_id` = `l.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room` ON `l.GroupCourseInstance`.`room_id` = `l.GroupCourseInstance.Room`.`room_id`
INNER JOIN (
    SELECT `w5`.`learner_id`
    FROM `ablemusic`.`learner` AS `w5`
    WHERE `w5`.`is_active` = 1
) AS `t6` ON `w.LearnerGroupCourse`.`learner_id` = `t6`.`learner_id`
ORDER BY `t6`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`
2019-07-03 22:07:20.862 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l.GroupCourseInstance.CourseSchedule`.`course_schedule_id`, `l.GroupCourseInstance.CourseSchedule`.`begin_time`, `l.GroupCourseInstance.CourseSchedule`.`course_instance_id`, `l.GroupCourseInstance.CourseSchedule`.`day_of_week`, `l.GroupCourseInstance.CourseSchedule`.`end_time`, `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `l.GroupCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `l.GroupCourseInstance0`.`group_course_instance_id`, `t7`.`learner_id`
    FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse0`
    LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance0` ON `w.LearnerGroupCourse0`.`group_course_instance_id` = `l.GroupCourseInstance0`.`group_course_instance_id`
    LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher0` ON `l.GroupCourseInstance0`.`teacher_id` = `l.GroupCourseInstance.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course0` ON `l.GroupCourseInstance0`.`course_id` = `l.GroupCourseInstance.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room0` ON `l.GroupCourseInstance0`.`room_id` = `l.GroupCourseInstance.Room0`.`room_id`
    INNER JOIN (
        SELECT `w6`.`learner_id`
        FROM `ablemusic`.`learner` AS `w6`
        WHERE `w6`.`is_active` = 1
    ) AS `t7` ON `w.LearnerGroupCourse0`.`learner_id` = `t7`.`learner_id`
) AS `t8` ON `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id` = `t8`.`group_course_instance_id`
ORDER BY `t8`.`learner_id`, `t8`.`group_course_instance_id`
2019-07-03 22:07:20.896 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 620.50150000000008ms.
2019-07-03 22:07:20.896 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:07:20.902 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) in 627.2351ms
2019-07-03 22:07:20.902 +12:00 [INF] Request finished in 628.3042ms 200 application/json; charset=utf-8
2019-07-03 22:07:38.086 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/2  
2019-07-03 22:07:38.086 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/3  
2019-07-03 22:07:38.086 +12:00 [INF] Policy execution successful.
2019-07-03 22:07:38.086 +12:00 [INF] Policy execution successful.
2019-07-03 22:07:38.086 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-03 22:07:38.086 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-03 22:07:38.095 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:07:38.095 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:07:38.095 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/4  
2019-07-03 22:07:38.097 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/5  
2019-07-03 22:07:38.097 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:07:38.106 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:07:38.106 +12:00 [INF] Policy execution successful.
2019-07-03 22:07:38.106 +12:00 [INF] Policy execution successful.
2019-07-03 22:07:38.113 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/null  
2019-07-03 22:07:38.113 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner  
2019-07-03 22:07:38.115 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-03 22:07:38.115 +12:00 [INF] Policy execution successful.
2019-07-03 22:07:38.119 +12:00 [INF] Request finished in 6.2806ms 404 
2019-07-03 22:07:38.119 +12:00 [INF] Route matched with {action = "GetLearner", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearner() on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-03 22:07:38.119 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-03 22:07:38.120 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:07:38.120 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:07:38.128 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:07:38.127 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:07:38.134 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:07:38.135 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:07:38.210 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-03 22:07:38.211 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 114.9812ms.
2019-07-03 22:07:38.211 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:07:38.211 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 123.0678ms
2019-07-03 22:07:38.211 +12:00 [INF] Request finished in 125.9868ms 200 application/json; charset=utf-8
2019-07-03 22:07:38.213 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-03 22:07:38.215 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 118.9595ms.
2019-07-03 22:07:38.215 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:07:38.215 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 128.9059ms
2019-07-03 22:07:38.216 +12:00 [INF] Request finished in 130.1071ms 200 application/json; charset=utf-8
2019-07-03 22:07:38.230 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-03 22:07:38.230 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-03 22:07:38.230 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 109.00710000000001ms.
2019-07-03 22:07:38.230 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 95.8373ms.
2019-07-03 22:07:38.230 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:07:38.230 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:07:38.231 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 110.8575ms
2019-07-03 22:07:38.231 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 111.2903ms
2019-07-03 22:07:38.231 +12:00 [INF] Request finished in 135.3726ms 200 application/json; charset=utf-8
2019-07-03 22:07:38.231 +12:00 [INF] Request finished in 135.0749ms 200 application/json; charset=utf-8
2019-07-03 22:07:38.235 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`is_active` = 1
ORDER BY `w`.`learner_id`
2019-07-03 22:07:38.310 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Parent`.`parent_id`, `w.Parent`.`contact_num`, `w.Parent`.`created_at`, `w.Parent`.`email`, `w.Parent`.`first_name`, `w.Parent`.`last_name`, `w.Parent`.`learner_id`, `w.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `w.Parent`
INNER JOIN (
    SELECT `w0`.`learner_id`
    FROM `ablemusic`.`learner` AS `w0`
    WHERE `w0`.`is_active` = 1
) AS `t` ON `w.Parent`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-03 22:07:38.342 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerOthers`.`learner_others_id`, `w.LearnerOthers`.`learner_id`, `w.LearnerOthers`.`learner_level`, `w.LearnerOthers`.`others_type`, `w.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `w.LearnerOthers`
INNER JOIN (
    SELECT `w1`.`learner_id`
    FROM `ablemusic`.`learner` AS `w1`
    WHERE `w1`.`is_active` = 1
) AS `t0` ON `w.LearnerOthers`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-03 22:07:38.384 +12:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance`.`course_instance_id`, `w.One2oneCourseInstance`.`begin_date`, `w.One2oneCourseInstance`.`course_id`, `w.One2oneCourseInstance`.`end_date`, `w.One2oneCourseInstance`.`invoice_date`, `w.One2oneCourseInstance`.`learner_id`, `w.One2oneCourseInstance`.`org_id`, `w.One2oneCourseInstance`.`room_id`, `w.One2oneCourseInstance`.`teacher_id`, `o.Teacher`.`teacher_id`, `o.Teacher`.`ability`, `o.Teacher`.`comment`, `o.Teacher`.`cv_url`, `o.Teacher`.`dob`, `o.Teacher`.`email`, `o.Teacher`.`expiry_date`, `o.Teacher`.`first_name`, `o.Teacher`.`form_url`, `o.Teacher`.`gender`, `o.Teacher`.`home_phone`, `o.Teacher`.`id_number`, `o.Teacher`.`id_photo`, `o.Teacher`.`id_type`, `o.Teacher`.`invoice_template`, `o.Teacher`.`ird_number`, `o.Teacher`.`is_activate`, `o.Teacher`.`is_contract`, `o.Teacher`.`is_left`, `o.Teacher`.`last_name`, `o.Teacher`.`level`, `o.Teacher`.`minimum_hours`, `o.Teacher`.`mobile_phone`, `o.Teacher`.`otherfile_url`, `o.Teacher`.`photo`, `o.Teacher`.`user_id`, `o.Teacher`.`visa`, `o.Room`.`room_id`, `o.Room`.`created_at`, `o.Room`.`is_activate`, `o.Room`.`org_id`, `o.Room`.`room_name`, `o.Course`.`course_id`, `o.Course`.`course_category_id`, `o.Course`.`course_name`, `o.Course`.`course_type`, `o.Course`.`duration`, `o.Course`.`level`, `o.Course`.`price`, `o.Course`.`teacher_level`, `o.Org`.`org_id`, `o.Org`.`abbr`, `o.Org`.`address`, `o.Org`.`email`, `o.Org`.`is_activate`, `o.Org`.`is_headoffice`, `o.Org`.`localtion_x`, `o.Org`.`localtion_y`, `o.Org`.`org_name`, `o.Org`.`phone`
FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance`
LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher` ON `w.One2oneCourseInstance`.`teacher_id` = `o.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `o.Room` ON `w.One2oneCourseInstance`.`room_id` = `o.Room`.`room_id`
LEFT JOIN `ablemusic`.`course` AS `o.Course` ON `w.One2oneCourseInstance`.`course_id` = `o.Course`.`course_id`
LEFT JOIN `ablemusic`.`org` AS `o.Org` ON `w.One2oneCourseInstance`.`org_id` = `o.Org`.`org_id`
INNER JOIN (
    SELECT `w2`.`learner_id`
    FROM `ablemusic`.`learner` AS `w2`
    WHERE `w2`.`is_active` = 1
) AS `t1` ON `w.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`, `w.One2oneCourseInstance`.`course_instance_id`
2019-07-03 22:07:38.520 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.Amendment`.`amendment_id`, `w.One2oneCourseInstance.Amendment`.`amend_type`, `w.One2oneCourseInstance.Amendment`.`begin_date`, `w.One2oneCourseInstance.Amendment`.`begin_time`, `w.One2oneCourseInstance.Amendment`.`course_instance_id`, `w.One2oneCourseInstance.Amendment`.`course_schedule_id`, `w.One2oneCourseInstance.Amendment`.`created_at`, `w.One2oneCourseInstance.Amendment`.`day_of_week`, `w.One2oneCourseInstance.Amendment`.`end_date`, `w.One2oneCourseInstance.Amendment`.`end_time`, `w.One2oneCourseInstance.Amendment`.`is_temporary`, `w.One2oneCourseInstance.Amendment`.`learner_id`, `w.One2oneCourseInstance.Amendment`.`org_id`, `w.One2oneCourseInstance.Amendment`.`reason`, `w.One2oneCourseInstance.Amendment`.`room_id`, `w.One2oneCourseInstance.Amendment`.`teacher_id`, `a.Teacher`.`teacher_id`, `a.Teacher`.`ability`, `a.Teacher`.`comment`, `a.Teacher`.`cv_url`, `a.Teacher`.`dob`, `a.Teacher`.`email`, `a.Teacher`.`expiry_date`, `a.Teacher`.`first_name`, `a.Teacher`.`form_url`, `a.Teacher`.`gender`, `a.Teacher`.`home_phone`, `a.Teacher`.`id_number`, `a.Teacher`.`id_photo`, `a.Teacher`.`id_type`, `a.Teacher`.`invoice_template`, `a.Teacher`.`ird_number`, `a.Teacher`.`is_activate`, `a.Teacher`.`is_contract`, `a.Teacher`.`is_left`, `a.Teacher`.`last_name`, `a.Teacher`.`level`, `a.Teacher`.`minimum_hours`, `a.Teacher`.`mobile_phone`, `a.Teacher`.`otherfile_url`, `a.Teacher`.`photo`, `a.Teacher`.`user_id`, `a.Teacher`.`visa`, `a.Room`.`room_id`, `a.Room`.`created_at`, `a.Room`.`is_activate`, `a.Room`.`org_id`, `a.Room`.`room_name`
FROM `ablemusic`.`amendment` AS `w.One2oneCourseInstance.Amendment`
LEFT JOIN `ablemusic`.`teacher` AS `a.Teacher` ON `w.One2oneCourseInstance.Amendment`.`teacher_id` = `a.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `a.Room` ON `w.One2oneCourseInstance.Amendment`.`room_id` = `a.Room`.`room_id`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance0`.`course_instance_id`, `t2`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance0`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher0` ON `w.One2oneCourseInstance0`.`teacher_id` = `o.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room0` ON `w.One2oneCourseInstance0`.`room_id` = `o.Room0`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course0` ON `w.One2oneCourseInstance0`.`course_id` = `o.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org0` ON `w.One2oneCourseInstance0`.`org_id` = `o.Org0`.`org_id`
    INNER JOIN (
        SELECT `w3`.`learner_id`
        FROM `ablemusic`.`learner` AS `w3`
        WHERE `w3`.`is_active` = 1
    ) AS `t2` ON `w.One2oneCourseInstance0`.`learner_id` = `t2`.`learner_id`
) AS `t3` ON `w.One2oneCourseInstance.Amendment`.`course_instance_id` = `t3`.`course_instance_id`
ORDER BY `t3`.`learner_id`, `t3`.`course_instance_id`
2019-07-03 22:07:38.570 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.CourseSchedule`.`course_schedule_id`, `w.One2oneCourseInstance.CourseSchedule`.`begin_time`, `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id`, `w.One2oneCourseInstance.CourseSchedule`.`day_of_week`, `w.One2oneCourseInstance.CourseSchedule`.`end_time`, `w.One2oneCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `w.One2oneCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance1`.`course_instance_id`, `t4`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance1`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher1` ON `w.One2oneCourseInstance1`.`teacher_id` = `o.Teacher1`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room1` ON `w.One2oneCourseInstance1`.`room_id` = `o.Room1`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course1` ON `w.One2oneCourseInstance1`.`course_id` = `o.Course1`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org1` ON `w.One2oneCourseInstance1`.`org_id` = `o.Org1`.`org_id`
    INNER JOIN (
        SELECT `w4`.`learner_id`
        FROM `ablemusic`.`learner` AS `w4`
        WHERE `w4`.`is_active` = 1
    ) AS `t4` ON `w.One2oneCourseInstance1`.`learner_id` = `t4`.`learner_id`
) AS `t5` ON `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id` = `t5`.`course_instance_id`
ORDER BY `t5`.`learner_id`, `t5`.`course_instance_id`
2019-07-03 22:07:38.612 +12:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerGroupCourse`.`learner_group_course_id`, `w.LearnerGroupCourse`.`begin_date`, `w.LearnerGroupCourse`.`comment`, `w.LearnerGroupCourse`.`created_at`, `w.LearnerGroupCourse`.`end_date`, `w.LearnerGroupCourse`.`group_course_instance_id`, `w.LearnerGroupCourse`.`invoice_date`, `w.LearnerGroupCourse`.`is_activate`, `w.LearnerGroupCourse`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`, `l.GroupCourseInstance`.`begin_date`, `l.GroupCourseInstance`.`course_id`, `l.GroupCourseInstance`.`end_date`, `l.GroupCourseInstance`.`invoice_date`, `l.GroupCourseInstance`.`is_activate`, `l.GroupCourseInstance`.`is_started`, `l.GroupCourseInstance`.`org_id`, `l.GroupCourseInstance`.`room_id`, `l.GroupCourseInstance`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`ability`, `l.GroupCourseInstance.Teacher`.`comment`, `l.GroupCourseInstance.Teacher`.`cv_url`, `l.GroupCourseInstance.Teacher`.`dob`, `l.GroupCourseInstance.Teacher`.`email`, `l.GroupCourseInstance.Teacher`.`expiry_date`, `l.GroupCourseInstance.Teacher`.`first_name`, `l.GroupCourseInstance.Teacher`.`form_url`, `l.GroupCourseInstance.Teacher`.`gender`, `l.GroupCourseInstance.Teacher`.`home_phone`, `l.GroupCourseInstance.Teacher`.`id_number`, `l.GroupCourseInstance.Teacher`.`id_photo`, `l.GroupCourseInstance.Teacher`.`id_type`, `l.GroupCourseInstance.Teacher`.`invoice_template`, `l.GroupCourseInstance.Teacher`.`ird_number`, `l.GroupCourseInstance.Teacher`.`is_activate`, `l.GroupCourseInstance.Teacher`.`is_contract`, `l.GroupCourseInstance.Teacher`.`is_left`, `l.GroupCourseInstance.Teacher`.`last_name`, `l.GroupCourseInstance.Teacher`.`level`, `l.GroupCourseInstance.Teacher`.`minimum_hours`, `l.GroupCourseInstance.Teacher`.`mobile_phone`, `l.GroupCourseInstance.Teacher`.`otherfile_url`, `l.GroupCourseInstance.Teacher`.`photo`, `l.GroupCourseInstance.Teacher`.`user_id`, `l.GroupCourseInstance.Teacher`.`visa`, `l.GroupCourseInstance.Course`.`course_id`, `l.GroupCourseInstance.Course`.`course_category_id`, `l.GroupCourseInstance.Course`.`course_name`, `l.GroupCourseInstance.Course`.`course_type`, `l.GroupCourseInstance.Course`.`duration`, `l.GroupCourseInstance.Course`.`level`, `l.GroupCourseInstance.Course`.`price`, `l.GroupCourseInstance.Course`.`teacher_level`, `l.GroupCourseInstance.Room`.`room_id`, `l.GroupCourseInstance.Room`.`created_at`, `l.GroupCourseInstance.Room`.`is_activate`, `l.GroupCourseInstance.Room`.`org_id`, `l.GroupCourseInstance.Room`.`room_name`
FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse`
LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance` ON `w.LearnerGroupCourse`.`group_course_instance_id` = `l.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher` ON `l.GroupCourseInstance`.`teacher_id` = `l.GroupCourseInstance.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course` ON `l.GroupCourseInstance`.`course_id` = `l.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room` ON `l.GroupCourseInstance`.`room_id` = `l.GroupCourseInstance.Room`.`room_id`
INNER JOIN (
    SELECT `w5`.`learner_id`
    FROM `ablemusic`.`learner` AS `w5`
    WHERE `w5`.`is_active` = 1
) AS `t6` ON `w.LearnerGroupCourse`.`learner_id` = `t6`.`learner_id`
ORDER BY `t6`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`
2019-07-03 22:07:38.690 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l.GroupCourseInstance.CourseSchedule`.`course_schedule_id`, `l.GroupCourseInstance.CourseSchedule`.`begin_time`, `l.GroupCourseInstance.CourseSchedule`.`course_instance_id`, `l.GroupCourseInstance.CourseSchedule`.`day_of_week`, `l.GroupCourseInstance.CourseSchedule`.`end_time`, `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `l.GroupCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `l.GroupCourseInstance0`.`group_course_instance_id`, `t7`.`learner_id`
    FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse0`
    LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance0` ON `w.LearnerGroupCourse0`.`group_course_instance_id` = `l.GroupCourseInstance0`.`group_course_instance_id`
    LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher0` ON `l.GroupCourseInstance0`.`teacher_id` = `l.GroupCourseInstance.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course0` ON `l.GroupCourseInstance0`.`course_id` = `l.GroupCourseInstance.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room0` ON `l.GroupCourseInstance0`.`room_id` = `l.GroupCourseInstance.Room0`.`room_id`
    INNER JOIN (
        SELECT `w6`.`learner_id`
        FROM `ablemusic`.`learner` AS `w6`
        WHERE `w6`.`is_active` = 1
    ) AS `t7` ON `w.LearnerGroupCourse0`.`learner_id` = `t7`.`learner_id`
) AS `t8` ON `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id` = `t8`.`group_course_instance_id`
ORDER BY `t8`.`learner_id`, `t8`.`group_course_instance_id`
2019-07-03 22:07:38.726 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 604.322ms.
2019-07-03 22:07:38.726 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:07:38.733 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) in 613.27280000000007ms
2019-07-03 22:07:38.733 +12:00 [INF] Request finished in 620.0859ms 200 application/json; charset=utf-8
2019-07-03 22:08:27.026 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/1  
2019-07-03 22:08:27.026 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/GroupCourseInstance  
2019-07-03 22:08:27.026 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/4  
2019-07-03 22:08:27.026 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/3  
2019-07-03 22:08:27.034 +12:00 [INF] Policy execution successful.
2019-07-03 22:08:27.034 +12:00 [INF] Policy execution successful.
2019-07-03 22:08:27.034 +12:00 [INF] Policy execution successful.
2019-07-03 22:08:27.034 +12:00 [INF] Policy execution successful.
2019-07-03 22:08:27.035 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-03 22:08:27.035 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-03 22:08:27.035 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-03 22:08:27.043 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:08:27.044 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/5  
2019-07-03 22:08:27.044 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:08:27.049 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:08:27.049 +12:00 [INF] Policy execution successful.
2019-07-03 22:08:27.049 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups/2  
2019-07-03 22:08:27.049 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:08:27.049 +12:00 [INF] Policy execution successful.
2019-07-03 22:08:27.049 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-03 22:08:27.049 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:08:27.049 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:08:27.049 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-03 22:08:27.049 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:08:27.050 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:08:27.050 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:08:27.050 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:08:27.053 +12:00 [INF] Route matched with {action = "GetGroupCourseInstance", controller = "GroupCourseInstance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGroupCourseInstance() on controller Pegasus_backend.Controllers.GroupCourseInstanceController (Pegasus_backend).
2019-07-03 22:08:27.054 +12:00 [INF] Executing action method Pegasus_backend.Controllers.GroupCourseInstanceController.GetGroupCourseInstance (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:08:27.061 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:08:27.069 +12:00 [WRN] The Include operation for navigation '[c].CourseSchedule' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:08:27.069 +12:00 [WRN] The Include operation for navigation '[c].Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:08:27.069 +12:00 [WRN] The Include operation for navigation '[c].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:08:27.069 +12:00 [WRN] The Include operation for navigation '[c].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:08:27.069 +12:00 [WRN] The Include operation for navigation '[c].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:08:27.146 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-03 22:08:27.146 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-03 22:08:27.146 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 96.75630000000001ms.
2019-07-03 22:08:27.146 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-03 22:08:27.146 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 96.746400000000008ms.
2019-07-03 22:08:27.146 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:08:27.146 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-03 22:08:27.146 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-03 22:08:27.146 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:08:27.147 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 97.6068ms
2019-07-03 22:08:27.147 +12:00 [INF] Request finished in 103.252ms 200 application/json; charset=utf-8
2019-07-03 22:08:27.147 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 97.6359ms
2019-07-03 22:08:27.147 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 98.1722ms.
2019-07-03 22:08:27.147 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 98.1384ms.
2019-07-03 22:08:27.147 +12:00 [INF] Request finished in 98.3359ms 200 application/json; charset=utf-8
2019-07-03 22:08:27.147 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:08:27.147 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:08:27.147 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 103.5723ms.
2019-07-03 22:08:27.147 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 111.3797ms
2019-07-03 22:08:27.147 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 111.3472ms
2019-07-03 22:08:27.147 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:08:27.147 +12:00 [INF] Request finished in 121.1811ms 200 application/json; charset=utf-8
2019-07-03 22:08:27.147 +12:00 [INF] Request finished in 121.2478ms 200 application/json; charset=utf-8
2019-07-03 22:08:27.148 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 111.7012ms
2019-07-03 22:08:27.148 +12:00 [INF] Request finished in 121.6155ms 200 application/json; charset=utf-8
2019-07-03 22:08:27.166 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/orgs  
2019-07-03 22:08:27.171 +12:00 [INF] Policy execution successful.
2019-07-03 22:08:27.172 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/courses  
2019-07-03 22:08:27.172 +12:00 [INF] Policy execution successful.
2019-07-03 22:08:27.176 +12:00 [INF] Route matched with {action = "GetCourses", controller = "Courses"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[Pegasus_backend.pegasusContext.Course]]] GetCourses() on controller Pegasus_backend.Controllers.CoursesController (Pegasus_backend).
2019-07-03 22:08:27.177 +12:00 [INF] Executing action method Pegasus_backend.Controllers.CoursesController.GetCourses (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:08:27.177 +12:00 [INF] Route matched with {action = "GetOrg", controller = "Orgs"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetOrg() on controller Pegasus_backend.Controllers.OrgsController (Pegasus_backend).
2019-07-03 22:08:27.178 +12:00 [INF] Executing action method Pegasus_backend.Controllers.OrgsController.GetOrg (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:08:27.181 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:08:27.187 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:08:27.287 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`org_id`, `o`.`abbr`, `o`.`address`, `o`.`email`, `o`.`is_activate`, `o`.`is_headoffice`, `o`.`localtion_x`, `o`.`localtion_y`, `o`.`org_name`, `o`.`phone`
FROM `ablemusic`.`org` AS `o`
2019-07-03 22:08:27.291 +12:00 [INF] Executed action method Pegasus_backend.Controllers.OrgsController.GetOrg (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 113.2621ms.
2019-07-03 22:08:27.291 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Org, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:08:27.311 +12:00 [INF] Executed action Pegasus_backend.Controllers.OrgsController.GetOrg (Pegasus_backend) in 133.9502ms
2019-07-03 22:08:27.311 +12:00 [INF] Request finished in 145.0765ms 200 application/json; charset=utf-8
2019-07-03 22:08:27.312 +12:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`course_id` AS `CourseId`, `c`.`course_name` AS `CourseName`, `c`.`course_type` AS `CourseType`, `c`.`level`, `c`.`duration`, `c`.`price`, `c`.`course_category_id` AS `CourseCategoryId0`, `c`.`teacher_level` AS `TeacherLevel`, `cc`.`course_category_id` AS `CourseCategoryId`, `cc`.`course_category_name` AS `CourseCategoryName`
FROM `ablemusic`.`course` AS `c`
INNER JOIN `ablemusic`.`course_category` AS `cc` ON `c`.`course_category_id` = `cc`.`course_category_id`
2019-07-03 22:08:27.491 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`prop_name` AS `PropName`, `l`.`prop_value` AS `PropValue`, `l`.`lookup_type` AS `LookupType`
FROM `ablemusic`.`lookup` AS `l`
WHERE (((`l`.`lookup_type` = 1) OR (`l`.`lookup_type` = 4)) OR (`l`.`lookup_type` = 6)) OR (`l`.`lookup_type` = 8)
2019-07-03 22:08:27.497 +12:00 [INF] Executed action method Pegasus_backend.Controllers.CoursesController.GetCourses (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 320.2362ms.
2019-07-03 22:08:27.497 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:08:27.515 +12:00 [INF] Executed action Pegasus_backend.Controllers.CoursesController.GetCourses (Pegasus_backend) in 338.2174ms
2019-07-03 22:08:27.515 +12:00 [INF] Request finished in 343.1703ms 200 application/json; charset=utf-8
2019-07-03 22:08:27.576 +12:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c.Course.CourseCategory`.`course_category_id`, `c.Course.CourseCategory`.`course_category_name`, `c`.`course_id` AS `CourseId`, `c`.`group_course_instance_id` AS `GroupCourseInstanceId`, `c`.`begin_date` AS `BeginDate`, `c`.`end_date` AS `EndDate`, `c.Course`.`course_name` AS `CourseName`, `c.Course`.`course_type` AS `CourseType`, `c.Course`.`level`, `c.Course`.`duration`, `c.Course`.`price`, `c`.`org_id` AS `OrgId`, `c.Org`.`org_name` AS `OrgName`, `c`.`room_id` AS `RoomId`, `c.Room`.`room_name` AS `RoomName`, `c`.`teacher_id` AS `TeacherId`, `c.Teacher`.`first_name` AS `FirstName`, `c.Teacher`.`last_name` AS `LastName`
FROM `ablemusic`.`group_course_instance` AS `c`
LEFT JOIN `ablemusic`.`teacher` AS `c.Teacher` ON `c`.`teacher_id` = `c.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `c.Room` ON `c`.`room_id` = `c.Room`.`room_id`
LEFT JOIN `ablemusic`.`org` AS `c.Org` ON `c`.`org_id` = `c.Org`.`org_id`
INNER JOIN `ablemusic`.`course` AS `c.Course` ON `c`.`course_id` = `c.Course`.`course_id`
LEFT JOIN `ablemusic`.`course_category` AS `c.Course.CourseCategory` ON `c.Course`.`course_category_id` = `c.Course.CourseCategory`.`course_category_id`
WHERE `c`.`is_activate` = 1
2019-07-03 22:08:27.594 +12:00 [INF] Executed action method Pegasus_backend.Controllers.GroupCourseInstanceController.GetGroupCourseInstance (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 540.4162ms.
2019-07-03 22:08:27.594 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:08:27.702 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`course_schedule_id`, `w`.`begin_time`, `w`.`course_instance_id`, `w`.`day_of_week`, `w`.`end_time`, `w`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `w`
WHERE `w`.`group_course_instance_id` = @_outer_GroupCourseInstanceId
2019-07-03 22:08:27.815 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`course_schedule_id`, `w`.`begin_time`, `w`.`course_instance_id`, `w`.`day_of_week`, `w`.`end_time`, `w`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `w`
WHERE `w`.`group_course_instance_id` = @_outer_GroupCourseInstanceId
2019-07-03 22:08:27.915 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`course_schedule_id`, `w`.`begin_time`, `w`.`course_instance_id`, `w`.`day_of_week`, `w`.`end_time`, `w`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `w`
WHERE `w`.`group_course_instance_id` = @_outer_GroupCourseInstanceId
2019-07-03 22:08:28.010 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`course_schedule_id`, `w`.`begin_time`, `w`.`course_instance_id`, `w`.`day_of_week`, `w`.`end_time`, `w`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `w`
WHERE `w`.`group_course_instance_id` = @_outer_GroupCourseInstanceId
2019-07-03 22:08:28.106 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`course_schedule_id`, `w`.`begin_time`, `w`.`course_instance_id`, `w`.`day_of_week`, `w`.`end_time`, `w`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `w`
WHERE `w`.`group_course_instance_id` = @_outer_GroupCourseInstanceId
2019-07-03 22:08:28.202 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`course_schedule_id`, `w`.`begin_time`, `w`.`course_instance_id`, `w`.`day_of_week`, `w`.`end_time`, `w`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `w`
WHERE `w`.`group_course_instance_id` = @_outer_GroupCourseInstanceId
2019-07-03 22:08:28.299 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_GroupCourseInstanceId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`course_schedule_id`, `w`.`begin_time`, `w`.`course_instance_id`, `w`.`day_of_week`, `w`.`end_time`, `w`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `w`
WHERE `w`.`group_course_instance_id` = @_outer_GroupCourseInstanceId
2019-07-03 22:08:28.300 +12:00 [INF] Executed action Pegasus_backend.Controllers.GroupCourseInstanceController.GetGroupCourseInstance (Pegasus_backend) in 1246.5838ms
2019-07-03 22:08:28.300 +12:00 [INF] Request finished in 1273.9298ms 200 application/json; charset=utf-8
2019-07-03 22:08:32.519 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/TeacherFilter/16  
2019-07-03 22:08:32.519 +12:00 [INF] Policy execution successful.
2019-07-03 22:08:32.527 +12:00 [INF] Route matched with {action = "Get", controller = "TeacherFilter"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Pegasus_backend.Controllers.TeacherFilterController (Pegasus_backend).
2019-07-03 22:08:32.528 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TeacherFilterController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:08:32.571 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:08:32.677 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`org_id` AS `OrgId`, `o`.`org_name` AS `OrgName`
FROM `ablemusic`.`org` AS `o`
2019-07-03 22:08:32.786 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `r`.`room_id` AS `RoomId`, `r`.`room_name` AS `RoomName`, `r`.`org_id` AS `OrgId`
FROM `ablemusic`.`room` AS `r`
2019-07-03 22:08:32.893 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`prop_value` AS `PropValue`, `l`.`prop_name` AS `PropName`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = 1
2019-07-03 22:08:32.907 +12:00 [WRN] Query: '(from <>f__AnonymousType90<short, string, string, Nullable<short>, Nullable<byte>> <generated>_1 in ...' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-07-03 22:08:32.917 +12:00 [WRN] The LINQ expression 'GroupBy(new <>f__AnonymousType91`2(TeacherId = [t].TeacherId, TeacherAvailableOrgId = [ta].OrgId), new <>f__AnonymousType90`5(TeacherId = [t].TeacherId, TeacherFirstName = [t].FirstName, TeacherLastName = [t].LastName, TeacherAvailableOrgId = [ta].OrgId, TeacherLevelId = [t].Level))' could not be translated and will be evaluated locally.
2019-07-03 22:08:32.918 +12:00 [WRN] The LINQ expression 'FirstOrDefault()' could not be translated and will be evaluated locally.
2019-07-03 22:08:33.051 +12:00 [INF] Executed DbCommand (37ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`teacher_id` AS `TeacherId`, `t`.`first_name` AS `TeacherFirstName`, `t`.`last_name` AS `TeacherLastName`, `ta`.`org_id` AS `TeacherAvailableOrgId`, `t`.`level` AS `TeacherLevelId`
FROM `ablemusic`.`teacher` AS `t`
INNER JOIN `ablemusic`.`available_days` AS `ta` ON `t`.`teacher_id` = `ta`.`teacher_id`
INNER JOIN `ablemusic`.`teacher_course` AS `tc` ON `t`.`teacher_id` = `tc`.`teacher_id`
WHERE (`tc`.`course_id` = @__courseId_0) AND (`t`.`is_activate` = 1)
ORDER BY `t`.`teacher_id`, `ta`.`org_id`
2019-07-03 22:08:33.194 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TeacherFilterController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 665.8112ms.
2019-07-03 22:08:33.194 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:08:33.203 +12:00 [INF] Executed action Pegasus_backend.Controllers.TeacherFilterController.Get (Pegasus_backend) in 676.38190000000009ms
2019-07-03 22:08:33.203 +12:00 [INF] Request finished in 684.383ms 200 application/json; charset=utf-8
2019-07-03 22:08:43.746 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/TeacherFilter/19  
2019-07-03 22:08:43.746 +12:00 [INF] Policy execution successful.
2019-07-03 22:08:43.747 +12:00 [INF] Route matched with {action = "Get", controller = "TeacherFilter"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Pegasus_backend.Controllers.TeacherFilterController (Pegasus_backend).
2019-07-03 22:08:43.747 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TeacherFilterController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:08:43.748 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:08:43.849 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`org_id` AS `OrgId`, `o`.`org_name` AS `OrgName`
FROM `ablemusic`.`org` AS `o`
2019-07-03 22:08:43.946 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `r`.`room_id` AS `RoomId`, `r`.`room_name` AS `RoomName`, `r`.`org_id` AS `OrgId`
FROM `ablemusic`.`room` AS `r`
2019-07-03 22:08:44.041 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`prop_value` AS `PropValue`, `l`.`prop_name` AS `PropName`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = 1
2019-07-03 22:08:44.142 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`teacher_id` AS `TeacherId`, `t`.`first_name` AS `TeacherFirstName`, `t`.`last_name` AS `TeacherLastName`, `ta`.`org_id` AS `TeacherAvailableOrgId`, `t`.`level` AS `TeacherLevelId`
FROM `ablemusic`.`teacher` AS `t`
INNER JOIN `ablemusic`.`available_days` AS `ta` ON `t`.`teacher_id` = `ta`.`teacher_id`
INNER JOIN `ablemusic`.`teacher_course` AS `tc` ON `t`.`teacher_id` = `tc`.`teacher_id`
WHERE (`tc`.`course_id` = @__courseId_0) AND (`t`.`is_activate` = 1)
ORDER BY `t`.`teacher_id`, `ta`.`org_id`
2019-07-03 22:08:44.142 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TeacherFilterController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 394.7431ms.
2019-07-03 22:08:44.142 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:08:44.143 +12:00 [INF] Executed action Pegasus_backend.Controllers.TeacherFilterController.Get (Pegasus_backend) in 395.7262ms
2019-07-03 22:08:44.143 +12:00 [INF] Request finished in 396.6508ms 200 application/json; charset=utf-8
2019-07-03 22:08:56.500 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/TeacherFilter/21  
2019-07-03 22:08:56.500 +12:00 [INF] Policy execution successful.
2019-07-03 22:08:56.501 +12:00 [INF] Route matched with {action = "Get", controller = "TeacherFilter"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Pegasus_backend.Controllers.TeacherFilterController (Pegasus_backend).
2019-07-03 22:08:56.501 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TeacherFilterController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:08:56.501 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:08:56.598 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`org_id` AS `OrgId`, `o`.`org_name` AS `OrgName`
FROM `ablemusic`.`org` AS `o`
2019-07-03 22:08:56.694 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `r`.`room_id` AS `RoomId`, `r`.`room_name` AS `RoomName`, `r`.`org_id` AS `OrgId`
FROM `ablemusic`.`room` AS `r`
2019-07-03 22:08:56.789 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`prop_value` AS `PropValue`, `l`.`prop_name` AS `PropName`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = 1
2019-07-03 22:08:56.887 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`teacher_id` AS `TeacherId`, `t`.`first_name` AS `TeacherFirstName`, `t`.`last_name` AS `TeacherLastName`, `ta`.`org_id` AS `TeacherAvailableOrgId`, `t`.`level` AS `TeacherLevelId`
FROM `ablemusic`.`teacher` AS `t`
INNER JOIN `ablemusic`.`available_days` AS `ta` ON `t`.`teacher_id` = `ta`.`teacher_id`
INNER JOIN `ablemusic`.`teacher_course` AS `tc` ON `t`.`teacher_id` = `tc`.`teacher_id`
WHERE (`tc`.`course_id` = @__courseId_0) AND (`t`.`is_activate` = 1)
ORDER BY `t`.`teacher_id`, `ta`.`org_id`
2019-07-03 22:08:56.887 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TeacherFilterController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 385.7371ms.
2019-07-03 22:08:56.887 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:08:56.887 +12:00 [INF] Executed action Pegasus_backend.Controllers.TeacherFilterController.Get (Pegasus_backend) in 386.6039ms
2019-07-03 22:08:56.887 +12:00 [INF] Request finished in 387.2159ms 200 application/json; charset=utf-8
2019-07-03 22:09:06.863 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/TeacherFilter/24  
2019-07-03 22:09:06.863 +12:00 [INF] Policy execution successful.
2019-07-03 22:09:06.863 +12:00 [INF] Route matched with {action = "Get", controller = "TeacherFilter"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int32) on controller Pegasus_backend.Controllers.TeacherFilterController (Pegasus_backend).
2019-07-03 22:09:06.864 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TeacherFilterController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:09:06.864 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:09:06.961 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`org_id` AS `OrgId`, `o`.`org_name` AS `OrgName`
FROM `ablemusic`.`org` AS `o`
2019-07-03 22:09:07.058 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `r`.`room_id` AS `RoomId`, `r`.`room_name` AS `RoomName`, `r`.`org_id` AS `OrgId`
FROM `ablemusic`.`room` AS `r`
2019-07-03 22:09:07.153 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`prop_value` AS `PropValue`, `l`.`prop_name` AS `PropName`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = 1
2019-07-03 22:09:07.252 +12:00 [INF] Executed DbCommand (35ms) [Parameters=[@__courseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`teacher_id` AS `TeacherId`, `t`.`first_name` AS `TeacherFirstName`, `t`.`last_name` AS `TeacherLastName`, `ta`.`org_id` AS `TeacherAvailableOrgId`, `t`.`level` AS `TeacherLevelId`
FROM `ablemusic`.`teacher` AS `t`
INNER JOIN `ablemusic`.`available_days` AS `ta` ON `t`.`teacher_id` = `ta`.`teacher_id`
INNER JOIN `ablemusic`.`teacher_course` AS `tc` ON `t`.`teacher_id` = `tc`.`teacher_id`
WHERE (`tc`.`course_id` = @__courseId_0) AND (`t`.`is_activate` = 1)
ORDER BY `t`.`teacher_id`, `ta`.`org_id`
2019-07-03 22:09:07.253 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TeacherFilterController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 389.00640000000004ms.
2019-07-03 22:09:07.253 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:09:07.254 +12:00 [INF] Executed action Pegasus_backend.Controllers.TeacherFilterController.Get (Pegasus_backend) in 390.4569ms
2019-07-03 22:09:07.254 +12:00 [INF] Request finished in 391.2404ms 200 application/json; charset=utf-8
2019-07-03 22:09:27.630 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/OnetoOneCourseInstance  
2019-07-03 22:09:27.630 +12:00 [INF] Policy execution successful.
2019-07-03 22:09:27.631 +12:00 [INF] Request finished in 0.4682ms 204 
2019-07-03 22:09:27.639 +12:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/OnetoOneCourseInstance application/json 168
2019-07-03 22:09:27.639 +12:00 [INF] Policy execution successful.
2019-07-03 22:09:27.644 +12:00 [INF] Route matched with {action = "AddOnetoOneCourseInstance", controller = "OnetoOneCourseInstance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddOnetoOneCourseInstance(Pegasus_backend.Models.OnetoOneCourseInstancesModel) on controller Pegasus_backend.Controllers.OnetoOneCourseInstanceController (Pegasus_backend).
2019-07-03 22:09:27.681 +12:00 [INF] Executing action method Pegasus_backend.Controllers.OnetoOneCourseInstanceController.AddOnetoOneCourseInstance (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:09:27.682 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:09:27.875 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[@__courseInstance_CourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`course_id`, `s`.`course_category_id`, `s`.`course_name`, `s`.`course_type`, `s`.`duration`, `s`.`level`, `s`.`price`, `s`.`teacher_level`
FROM `ablemusic`.`course` AS `s`
WHERE @__courseInstance_CourseId_0 = `s`.`course_id`
LIMIT 1
2019-07-03 22:09:27.917 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__courseInstance_CourseId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`course_id`, `s`.`course_category_id`, `s`.`course_name`, `s`.`course_type`, `s`.`duration`, `s`.`level`, `s`.`price`, `s`.`teacher_level`
FROM `ablemusic`.`course` AS `s`
WHERE `s`.`course_id` = @__courseInstance_CourseId_0
LIMIT 1
2019-07-03 22:09:27.996 +12:00 [INF] Executed DbCommand (43ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = Int32), @p5='?' (DbType = Int16), @p6='?' (DbType = Int16), @p7='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`one2one_course_instance` (`begin_date`, `course_id`, `end_date`, `invoice_date`, `learner_id`, `org_id`, `room_id`, `teacher_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7);
SELECT `course_instance_id`
FROM `ablemusic`.`one2one_course_instance`
WHERE ROW_COUNT() = 1
 AND `course_instance_id`=LAST_INSERT_ID();
2019-07-03 22:09:28.043 +12:00 [INF] Executed DbCommand (39ms) [Parameters=[@p0='?' (DbType = Time), @p1='?' (DbType = Int32), @p2='?' (DbType = Byte), @p3='?' (DbType = Time), @p4='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`course_schedule` (`begin_time`, `course_instance_id`, `day_of_week`, `end_time`, `group_course_instance_id`)
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT `course_schedule_id`
FROM `ablemusic`.`course_schedule`
WHERE ROW_COUNT() = 1
 AND `course_schedule_id`=LAST_INSERT_ID();
2019-07-03 22:09:28.082 +12:00 [INF] Executed action method Pegasus_backend.Controllers.OnetoOneCourseInstanceController.AddOnetoOneCourseInstance (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 400.8245ms.
2019-07-03 22:09:28.082 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:09:28.082 +12:00 [INF] Executed action Pegasus_backend.Controllers.OnetoOneCourseInstanceController.AddOnetoOneCourseInstance (Pegasus_backend) in 438.45300000000003ms
2019-07-03 22:09:28.082 +12:00 [INF] Request finished in 443.0454ms 200 application/json; charset=utf-8
2019-07-03 22:09:28.101 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner  
2019-07-03 22:09:28.101 +12:00 [INF] Policy execution successful.
2019-07-03 22:09:28.101 +12:00 [INF] Route matched with {action = "GetLearner", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearner() on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-03 22:09:28.101 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:09:28.102 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:09:28.202 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w`.`learner_id`, `w`.`address`, `w`.`contact_num`, `w`.`created_at`, `w`.`dob`, `w`.`email`, `w`.`enroll_date`, `w`.`first_name`, `w`.`form_url`, `w`.`g5_certification`, `w`.`gender`, `w`.`is_abrsm_g5`, `w`.`is_active`, `w`.`is_under_18`, `w`.`last_name`, `w`.`learner_level`, `w`.`level_type`, `w`.`middle_name`, `w`.`note`, `w`.`org_id`, `w`.`otherfile_url`, `w`.`payment_period`, `w`.`photo`, `w`.`referrer`, `w`.`referrer_learner_id`, `w`.`user_id`
FROM `ablemusic`.`learner` AS `w`
WHERE `w`.`is_active` = 1
ORDER BY `w`.`learner_id`
2019-07-03 22:09:28.277 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.Parent`.`parent_id`, `w.Parent`.`contact_num`, `w.Parent`.`created_at`, `w.Parent`.`email`, `w.Parent`.`first_name`, `w.Parent`.`last_name`, `w.Parent`.`learner_id`, `w.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `w.Parent`
INNER JOIN (
    SELECT `w0`.`learner_id`
    FROM `ablemusic`.`learner` AS `w0`
    WHERE `w0`.`is_active` = 1
) AS `t` ON `w.Parent`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-03 22:09:28.309 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerOthers`.`learner_others_id`, `w.LearnerOthers`.`learner_id`, `w.LearnerOthers`.`learner_level`, `w.LearnerOthers`.`others_type`, `w.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `w.LearnerOthers`
INNER JOIN (
    SELECT `w1`.`learner_id`
    FROM `ablemusic`.`learner` AS `w1`
    WHERE `w1`.`is_active` = 1
) AS `t0` ON `w.LearnerOthers`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-03 22:09:28.353 +12:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance`.`course_instance_id`, `w.One2oneCourseInstance`.`begin_date`, `w.One2oneCourseInstance`.`course_id`, `w.One2oneCourseInstance`.`end_date`, `w.One2oneCourseInstance`.`invoice_date`, `w.One2oneCourseInstance`.`learner_id`, `w.One2oneCourseInstance`.`org_id`, `w.One2oneCourseInstance`.`room_id`, `w.One2oneCourseInstance`.`teacher_id`, `o.Teacher`.`teacher_id`, `o.Teacher`.`ability`, `o.Teacher`.`comment`, `o.Teacher`.`cv_url`, `o.Teacher`.`dob`, `o.Teacher`.`email`, `o.Teacher`.`expiry_date`, `o.Teacher`.`first_name`, `o.Teacher`.`form_url`, `o.Teacher`.`gender`, `o.Teacher`.`home_phone`, `o.Teacher`.`id_number`, `o.Teacher`.`id_photo`, `o.Teacher`.`id_type`, `o.Teacher`.`invoice_template`, `o.Teacher`.`ird_number`, `o.Teacher`.`is_activate`, `o.Teacher`.`is_contract`, `o.Teacher`.`is_left`, `o.Teacher`.`last_name`, `o.Teacher`.`level`, `o.Teacher`.`minimum_hours`, `o.Teacher`.`mobile_phone`, `o.Teacher`.`otherfile_url`, `o.Teacher`.`photo`, `o.Teacher`.`user_id`, `o.Teacher`.`visa`, `o.Room`.`room_id`, `o.Room`.`created_at`, `o.Room`.`is_activate`, `o.Room`.`org_id`, `o.Room`.`room_name`, `o.Course`.`course_id`, `o.Course`.`course_category_id`, `o.Course`.`course_name`, `o.Course`.`course_type`, `o.Course`.`duration`, `o.Course`.`level`, `o.Course`.`price`, `o.Course`.`teacher_level`, `o.Org`.`org_id`, `o.Org`.`abbr`, `o.Org`.`address`, `o.Org`.`email`, `o.Org`.`is_activate`, `o.Org`.`is_headoffice`, `o.Org`.`localtion_x`, `o.Org`.`localtion_y`, `o.Org`.`org_name`, `o.Org`.`phone`
FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance`
LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher` ON `w.One2oneCourseInstance`.`teacher_id` = `o.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `o.Room` ON `w.One2oneCourseInstance`.`room_id` = `o.Room`.`room_id`
LEFT JOIN `ablemusic`.`course` AS `o.Course` ON `w.One2oneCourseInstance`.`course_id` = `o.Course`.`course_id`
LEFT JOIN `ablemusic`.`org` AS `o.Org` ON `w.One2oneCourseInstance`.`org_id` = `o.Org`.`org_id`
INNER JOIN (
    SELECT `w2`.`learner_id`
    FROM `ablemusic`.`learner` AS `w2`
    WHERE `w2`.`is_active` = 1
) AS `t1` ON `w.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`, `w.One2oneCourseInstance`.`course_instance_id`
2019-07-03 22:09:28.501 +12:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.Amendment`.`amendment_id`, `w.One2oneCourseInstance.Amendment`.`amend_type`, `w.One2oneCourseInstance.Amendment`.`begin_date`, `w.One2oneCourseInstance.Amendment`.`begin_time`, `w.One2oneCourseInstance.Amendment`.`course_instance_id`, `w.One2oneCourseInstance.Amendment`.`course_schedule_id`, `w.One2oneCourseInstance.Amendment`.`created_at`, `w.One2oneCourseInstance.Amendment`.`day_of_week`, `w.One2oneCourseInstance.Amendment`.`end_date`, `w.One2oneCourseInstance.Amendment`.`end_time`, `w.One2oneCourseInstance.Amendment`.`is_temporary`, `w.One2oneCourseInstance.Amendment`.`learner_id`, `w.One2oneCourseInstance.Amendment`.`org_id`, `w.One2oneCourseInstance.Amendment`.`reason`, `w.One2oneCourseInstance.Amendment`.`room_id`, `w.One2oneCourseInstance.Amendment`.`teacher_id`, `a.Teacher`.`teacher_id`, `a.Teacher`.`ability`, `a.Teacher`.`comment`, `a.Teacher`.`cv_url`, `a.Teacher`.`dob`, `a.Teacher`.`email`, `a.Teacher`.`expiry_date`, `a.Teacher`.`first_name`, `a.Teacher`.`form_url`, `a.Teacher`.`gender`, `a.Teacher`.`home_phone`, `a.Teacher`.`id_number`, `a.Teacher`.`id_photo`, `a.Teacher`.`id_type`, `a.Teacher`.`invoice_template`, `a.Teacher`.`ird_number`, `a.Teacher`.`is_activate`, `a.Teacher`.`is_contract`, `a.Teacher`.`is_left`, `a.Teacher`.`last_name`, `a.Teacher`.`level`, `a.Teacher`.`minimum_hours`, `a.Teacher`.`mobile_phone`, `a.Teacher`.`otherfile_url`, `a.Teacher`.`photo`, `a.Teacher`.`user_id`, `a.Teacher`.`visa`, `a.Room`.`room_id`, `a.Room`.`created_at`, `a.Room`.`is_activate`, `a.Room`.`org_id`, `a.Room`.`room_name`
FROM `ablemusic`.`amendment` AS `w.One2oneCourseInstance.Amendment`
LEFT JOIN `ablemusic`.`teacher` AS `a.Teacher` ON `w.One2oneCourseInstance.Amendment`.`teacher_id` = `a.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `a.Room` ON `w.One2oneCourseInstance.Amendment`.`room_id` = `a.Room`.`room_id`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance0`.`course_instance_id`, `t2`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance0`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher0` ON `w.One2oneCourseInstance0`.`teacher_id` = `o.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room0` ON `w.One2oneCourseInstance0`.`room_id` = `o.Room0`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course0` ON `w.One2oneCourseInstance0`.`course_id` = `o.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org0` ON `w.One2oneCourseInstance0`.`org_id` = `o.Org0`.`org_id`
    INNER JOIN (
        SELECT `w3`.`learner_id`
        FROM `ablemusic`.`learner` AS `w3`
        WHERE `w3`.`is_active` = 1
    ) AS `t2` ON `w.One2oneCourseInstance0`.`learner_id` = `t2`.`learner_id`
) AS `t3` ON `w.One2oneCourseInstance.Amendment`.`course_instance_id` = `t3`.`course_instance_id`
ORDER BY `t3`.`learner_id`, `t3`.`course_instance_id`
2019-07-03 22:09:28.552 +12:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.One2oneCourseInstance.CourseSchedule`.`course_schedule_id`, `w.One2oneCourseInstance.CourseSchedule`.`begin_time`, `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id`, `w.One2oneCourseInstance.CourseSchedule`.`day_of_week`, `w.One2oneCourseInstance.CourseSchedule`.`end_time`, `w.One2oneCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `w.One2oneCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `w.One2oneCourseInstance1`.`course_instance_id`, `t4`.`learner_id`
    FROM `ablemusic`.`one2one_course_instance` AS `w.One2oneCourseInstance1`
    LEFT JOIN `ablemusic`.`teacher` AS `o.Teacher1` ON `w.One2oneCourseInstance1`.`teacher_id` = `o.Teacher1`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `o.Room1` ON `w.One2oneCourseInstance1`.`room_id` = `o.Room1`.`room_id`
    LEFT JOIN `ablemusic`.`course` AS `o.Course1` ON `w.One2oneCourseInstance1`.`course_id` = `o.Course1`.`course_id`
    LEFT JOIN `ablemusic`.`org` AS `o.Org1` ON `w.One2oneCourseInstance1`.`org_id` = `o.Org1`.`org_id`
    INNER JOIN (
        SELECT `w4`.`learner_id`
        FROM `ablemusic`.`learner` AS `w4`
        WHERE `w4`.`is_active` = 1
    ) AS `t4` ON `w.One2oneCourseInstance1`.`learner_id` = `t4`.`learner_id`
) AS `t5` ON `w.One2oneCourseInstance.CourseSchedule`.`course_instance_id` = `t5`.`course_instance_id`
ORDER BY `t5`.`learner_id`, `t5`.`course_instance_id`
2019-07-03 22:09:28.595 +12:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `w.LearnerGroupCourse`.`learner_group_course_id`, `w.LearnerGroupCourse`.`begin_date`, `w.LearnerGroupCourse`.`comment`, `w.LearnerGroupCourse`.`created_at`, `w.LearnerGroupCourse`.`end_date`, `w.LearnerGroupCourse`.`group_course_instance_id`, `w.LearnerGroupCourse`.`invoice_date`, `w.LearnerGroupCourse`.`is_activate`, `w.LearnerGroupCourse`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`, `l.GroupCourseInstance`.`begin_date`, `l.GroupCourseInstance`.`course_id`, `l.GroupCourseInstance`.`end_date`, `l.GroupCourseInstance`.`invoice_date`, `l.GroupCourseInstance`.`is_activate`, `l.GroupCourseInstance`.`is_started`, `l.GroupCourseInstance`.`org_id`, `l.GroupCourseInstance`.`room_id`, `l.GroupCourseInstance`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`teacher_id`, `l.GroupCourseInstance.Teacher`.`ability`, `l.GroupCourseInstance.Teacher`.`comment`, `l.GroupCourseInstance.Teacher`.`cv_url`, `l.GroupCourseInstance.Teacher`.`dob`, `l.GroupCourseInstance.Teacher`.`email`, `l.GroupCourseInstance.Teacher`.`expiry_date`, `l.GroupCourseInstance.Teacher`.`first_name`, `l.GroupCourseInstance.Teacher`.`form_url`, `l.GroupCourseInstance.Teacher`.`gender`, `l.GroupCourseInstance.Teacher`.`home_phone`, `l.GroupCourseInstance.Teacher`.`id_number`, `l.GroupCourseInstance.Teacher`.`id_photo`, `l.GroupCourseInstance.Teacher`.`id_type`, `l.GroupCourseInstance.Teacher`.`invoice_template`, `l.GroupCourseInstance.Teacher`.`ird_number`, `l.GroupCourseInstance.Teacher`.`is_activate`, `l.GroupCourseInstance.Teacher`.`is_contract`, `l.GroupCourseInstance.Teacher`.`is_left`, `l.GroupCourseInstance.Teacher`.`last_name`, `l.GroupCourseInstance.Teacher`.`level`, `l.GroupCourseInstance.Teacher`.`minimum_hours`, `l.GroupCourseInstance.Teacher`.`mobile_phone`, `l.GroupCourseInstance.Teacher`.`otherfile_url`, `l.GroupCourseInstance.Teacher`.`photo`, `l.GroupCourseInstance.Teacher`.`user_id`, `l.GroupCourseInstance.Teacher`.`visa`, `l.GroupCourseInstance.Course`.`course_id`, `l.GroupCourseInstance.Course`.`course_category_id`, `l.GroupCourseInstance.Course`.`course_name`, `l.GroupCourseInstance.Course`.`course_type`, `l.GroupCourseInstance.Course`.`duration`, `l.GroupCourseInstance.Course`.`level`, `l.GroupCourseInstance.Course`.`price`, `l.GroupCourseInstance.Course`.`teacher_level`, `l.GroupCourseInstance.Room`.`room_id`, `l.GroupCourseInstance.Room`.`created_at`, `l.GroupCourseInstance.Room`.`is_activate`, `l.GroupCourseInstance.Room`.`org_id`, `l.GroupCourseInstance.Room`.`room_name`
FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse`
LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance` ON `w.LearnerGroupCourse`.`group_course_instance_id` = `l.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher` ON `l.GroupCourseInstance`.`teacher_id` = `l.GroupCourseInstance.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course` ON `l.GroupCourseInstance`.`course_id` = `l.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room` ON `l.GroupCourseInstance`.`room_id` = `l.GroupCourseInstance.Room`.`room_id`
INNER JOIN (
    SELECT `w5`.`learner_id`
    FROM `ablemusic`.`learner` AS `w5`
    WHERE `w5`.`is_active` = 1
) AS `t6` ON `w.LearnerGroupCourse`.`learner_id` = `t6`.`learner_id`
ORDER BY `t6`.`learner_id`, `l.GroupCourseInstance`.`group_course_instance_id`
2019-07-03 22:09:28.727 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l.GroupCourseInstance.CourseSchedule`.`course_schedule_id`, `l.GroupCourseInstance.CourseSchedule`.`begin_time`, `l.GroupCourseInstance.CourseSchedule`.`course_instance_id`, `l.GroupCourseInstance.CourseSchedule`.`day_of_week`, `l.GroupCourseInstance.CourseSchedule`.`end_time`, `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `l.GroupCourseInstance.CourseSchedule`
INNER JOIN (
    SELECT DISTINCT `l.GroupCourseInstance0`.`group_course_instance_id`, `t7`.`learner_id`
    FROM `ablemusic`.`learner_group_course` AS `w.LearnerGroupCourse0`
    LEFT JOIN `ablemusic`.`group_course_instance` AS `l.GroupCourseInstance0` ON `w.LearnerGroupCourse0`.`group_course_instance_id` = `l.GroupCourseInstance0`.`group_course_instance_id`
    LEFT JOIN `ablemusic`.`teacher` AS `l.GroupCourseInstance.Teacher0` ON `l.GroupCourseInstance0`.`teacher_id` = `l.GroupCourseInstance.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`course` AS `l.GroupCourseInstance.Course0` ON `l.GroupCourseInstance0`.`course_id` = `l.GroupCourseInstance.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`room` AS `l.GroupCourseInstance.Room0` ON `l.GroupCourseInstance0`.`room_id` = `l.GroupCourseInstance.Room0`.`room_id`
    INNER JOIN (
        SELECT `w6`.`learner_id`
        FROM `ablemusic`.`learner` AS `w6`
        WHERE `w6`.`is_active` = 1
    ) AS `t7` ON `w.LearnerGroupCourse0`.`learner_id` = `t7`.`learner_id`
) AS `t8` ON `l.GroupCourseInstance.CourseSchedule`.`group_course_instance_id` = `t8`.`group_course_instance_id`
ORDER BY `t8`.`learner_id`, `t8`.`group_course_instance_id`
2019-07-03 22:09:28.764 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 662.06850000000009ms.
2019-07-03 22:09:28.764 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:09:28.770 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) in 668.5605ms
2019-07-03 22:09:28.770 +12:00 [INF] Request finished in 669.4286ms 200 application/json; charset=utf-8
2019-07-03 22:09:35.389 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/payment  
2019-07-03 22:09:35.389 +12:00 [INF] Policy execution successful.
2019-07-03 22:09:35.393 +12:00 [INF] Route matched with {action = "GetTerms", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] GetTerms() on controller Pegasus_backend.Controllers.PaymentController (Pegasus_backend).
2019-07-03 22:09:35.393 +12:00 [INF] Executing action method Pegasus_backend.Controllers.PaymentController.GetTerms (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:09:35.396 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:09:35.497 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`term_id`, `t`.`begin_date`, `t`.`end_date`, `t`.`term_name`, `t`.`term_type`, `t`.`week_quantity`
FROM `ablemusic`.`term` AS `t`
2019-07-03 22:09:35.503 +12:00 [INF] Executed action method Pegasus_backend.Controllers.PaymentController.GetTerms (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 109.89110000000001ms.
2019-07-03 22:09:35.503 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:09:35.507 +12:00 [INF] Executed action Pegasus_backend.Controllers.PaymentController.GetTerms (Pegasus_backend) in 114.2517ms
2019-07-03 22:09:35.507 +12:00 [INF] Request finished in 118.8791ms 200 application/json; charset=utf-8
2019-07-03 22:09:40.081 +12:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/payment/1 text/plain 0
2019-07-03 22:09:40.082 +12:00 [INF] Policy execution successful.
2019-07-03 22:09:40.082 +12:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Payment/GenerateGroupInvoice/1 text/plain 0
2019-07-03 22:09:40.082 +12:00 [INF] Policy execution successful.
2019-07-03 22:09:40.087 +12:00 [INF] Route matched with {action = "Generateone2oneInvoice", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Generateone2oneInvoice(Int32) on controller Pegasus_backend.Controllers.PaymentController (Pegasus_backend).
2019-07-03 22:09:40.087 +12:00 [INF] Executing action method Pegasus_backend.Controllers.PaymentController.Generateone2oneInvoice (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:09:40.089 +12:00 [INF] Route matched with {action = "GenerateGroupInvoice", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GenerateGroupInvoice(Int32) on controller Pegasus_backend.Controllers.PaymentController (Pegasus_backend).
2019-07-03 22:09:40.089 +12:00 [INF] Executing action method Pegasus_backend.Controllers.PaymentController.GenerateGroupInvoice (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:09:40.100 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:09:40.101 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:09:40.107 +12:00 [WRN] The Include operation for navigation '[x].Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:09:40.107 +12:00 [WRN] The Include operation for navigation '[x].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:09:40.108 +12:00 [WRN] The Include operation for navigation '[x].Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:09:40.108 +12:00 [WRN] The Include operation for navigation '[x].LearnerGroupCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:09:40.219 +12:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_id` AS `LearnerId`, `x`.`course_id` AS `CourseId`, `x`.`course_instance_id` AS `CourseInstanceId`, `x`.`begin_date` AS `BeginDate`, `x`.`end_date` AS `EndDate`, `x`.`invoice_date` AS `InvoiceDate`, `x.Course`.`course_name` AS `CourseName`, `x.Course`.`price`, `x.Learner`.`first_name` AS `FirstName`, `x.Learner`.`payment_period` AS `PaymentPeriod`
FROM `ablemusic`.`one2one_course_instance` AS `x`
LEFT JOIN `ablemusic`.`course` AS `x.Course` ON `x`.`course_id` = `x.Course`.`course_id`
LEFT JOIN `ablemusic`.`learner` AS `x.Learner` ON `x`.`learner_id` = `x.Learner`.`learner_id`
WHERE `x.Learner`.`is_active` = 1
2019-07-03 22:09:40.258 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_id` AS `CourseId`, `x`.`group_course_instance_id` AS `GroupCourseInstanceId`, `x`.`begin_date` AS `BeginDate`, `x`.`end_date` AS `EndDate`, `x`.`is_started` AS `IsStarted`, `x.Course`.`course_name` AS `CourseName`, `x.Course`.`price`
FROM `ablemusic`.`group_course_instance` AS `x`
INNER JOIN `ablemusic`.`course` AS `x.Course` ON `x`.`course_id` = `x.Course`.`course_id`
ORDER BY `x`.`group_course_instance_id`
2019-07-03 22:09:40.317 +12:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`group_course_instance_id`, `s.Learner`.`first_name` AS `FirstName`, `x.LearnerGroupCourse`.`learner_id` AS `LearnerId`, `x.LearnerGroupCourse`.`created_at` AS `CreatedAt`, `x.LearnerGroupCourse`.`begin_date` AS `BeginDate`, `x.LearnerGroupCourse`.`end_date` AS `EndDate`, `x.LearnerGroupCourse`.`invoice_date` AS `InvoiceDate`, `x.LearnerGroupCourse`.`learner_group_course_id` AS `LearnerGroupCourseId`, `x.LearnerGroupCourse`.`is_activate` AS `IsActivate`, `x.LearnerGroupCourse`.`group_course_instance_id`
FROM `ablemusic`.`learner_group_course` AS `x.LearnerGroupCourse`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `x.LearnerGroupCourse`.`learner_id` = `s.Learner`.`learner_id`
INNER JOIN (
    SELECT `x0`.`group_course_instance_id`
    FROM `ablemusic`.`group_course_instance` AS `x0`
    INNER JOIN `ablemusic`.`course` AS `x.Course0` ON `x0`.`course_id` = `x.Course0`.`course_id`
) AS `t` ON `x.LearnerGroupCourse`.`group_course_instance_id` = `t`.`group_course_instance_id`
WHERE `x.LearnerGroupCourse`.`is_activate` = 1
ORDER BY `t`.`group_course_instance_id`
2019-07-03 22:09:40.361 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__term_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`term_id`, `x`.`begin_date`, `x`.`end_date`, `x`.`term_name`, `x`.`term_type`, `x`.`week_quantity`
FROM `ablemusic`.`term` AS `x`
WHERE `x`.`term_id` = @__term_id_0
LIMIT 1
2019-07-03 22:09:40.425 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__term_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`term_id`, `x`.`begin_date`, `x`.`end_date`, `x`.`term_name`, `x`.`term_type`, `x`.`week_quantity`
FROM `ablemusic`.`term` AS `x`
WHERE `x`.`term_id` = @__term_id_0
LIMIT 1
2019-07-03 22:09:40.425 +12:00 [INF] Executed action method Pegasus_backend.Controllers.PaymentController.GenerateGroupInvoice (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 336.0425ms.
2019-07-03 22:09:40.426 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:09:40.426 +12:00 [INF] Executed action Pegasus_backend.Controllers.PaymentController.GenerateGroupInvoice (Pegasus_backend) in 336.6703ms
2019-07-03 22:09:40.426 +12:00 [INF] Request finished in 344.2185ms 200 application/json; charset=utf-8
2019-07-03 22:09:40.469 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`term_id` AS `TermId`, `x`.`begin_date` AS `BeginDate`, `x`.`end_date` AS `EndDate`
FROM `ablemusic`.`term` AS `x`
2019-07-03 22:09:40.578 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-03 22:09:40.678 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-03 22:09:40.773 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-03 22:09:40.977 +12:00 [INF] Executed DbCommand (36ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = AnsiString), @p2='?' (Size = -1), @p3='?' (DbType = Int32), @p4='?' (Size = -1), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = AnsiString), @p9='?' (Size = -1), @p10='?' (DbType = Int16), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int32), @p15='?' (Size = -1), @p16='?' (DbType = AnsiString), @p17='?' (Size = -1), @p18='?' (DbType = AnsiString), @p19='?' (DbType = AnsiString), @p20='?' (DbType = AnsiString), @p21='?' (Size = -1), @p22='?' (DbType = AnsiString), @p23='?' (Size = -1), @p24='?' (DbType = AnsiString), @p25='?' (Size = -1), @p26='?' (DbType = AnsiString), @p27='?' (DbType = Decimal), @p28='?' (DbType = Int16), @p29='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`invoice_waiting_confirm` (`begin_date`, `concert_fee`, `concert_fee_name`, `course_instance_id`, `course_name`, `created_at`, `due_date`, `end_date`, `group_course_instance_id`, `invoice_num`, `is_activate`, `is_confirmed`, `is_email_sent`, `is_paid`, `learner_id`, `learner_name`, `lesson_fee`, `lesson_note_fee_name`, `lesson_quantity`, `note_fee`, `other1_fee`, `other1_fee_name`, `other2_fee`, `other2_fee_name`, `other3_fee`, `other3_fee_name`, `owing_fee`, `paid_fee`, `term_id`, `total_fee`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, @p28, @p29);
SELECT `waiting_id`
FROM `ablemusic`.`invoice_waiting_confirm`
WHERE ROW_COUNT() = 1
 AND `waiting_id`=LAST_INSERT_ID();
2019-07-03 22:09:41.187 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__invoice_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`waiting_id`, `x`.`begin_date`, `x`.`concert_fee`, `x`.`concert_fee_name`, `x`.`course_instance_id`, `x`.`course_name`, `x`.`created_at`, `x`.`due_date`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_num`, `x`.`is_activate`, `x`.`is_confirmed`, `x`.`is_email_sent`, `x`.`is_paid`, `x`.`learner_id`, `x`.`learner_name`, `x`.`lesson_fee`, `x`.`lesson_note_fee_name`, `x`.`lesson_quantity`, `x`.`note_fee`, `x`.`other1_fee`, `x`.`other1_fee_name`, `x`.`other2_fee`, `x`.`other2_fee_name`, `x`.`other3_fee`, `x`.`other3_fee_name`, `x`.`owing_fee`, `x`.`paid_fee`, `x`.`term_id`, `x`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `x`
WHERE `x`.`waiting_id` = @__invoice_id_0
LIMIT 1
2019-07-03 22:09:41.277 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_schedule_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`day_of_week`, `x`.`end_time`, `x`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
ORDER BY `x`.`day_of_week`
2019-07-03 22:09:41.311 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32), @__invoice_EndDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`amendment_id`, `x`.`amend_type`, `x`.`begin_date`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`course_schedule_id`, `x`.`created_at`, `x`.`day_of_week`, `x`.`end_date`, `x`.`end_time`, `x`.`is_temporary`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`amendment` AS `x`
WHERE (`x`.`course_instance_id` = @__invoice_CourseInstanceId_0) AND (`x`.`begin_date` <= @__invoice_EndDate_1)
ORDER BY `x`.`created_at`
2019-07-03 22:09:41.341 +12:00 [INF] Executed DbCommand (30ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-03 22:09:41.380 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`holiday_date`
FROM `ablemusic`.`holiday` AS `x`
2019-07-03 22:09:41.418 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = AnsiString), @p8='?' (DbType = Byte), @p9='?' (DbType = Byte), @p10='?' (DbType = Int32), @p11='?' (DbType = Int16), @p12='?' (Size = -1), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_trial`, `learner_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-03 22:09:41.457 +12:00 [INF] Executed DbCommand (37ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = AnsiString), @p8='?' (DbType = Byte), @p9='?' (DbType = Byte), @p10='?' (DbType = Int32), @p11='?' (DbType = Int16), @p12='?' (Size = -1), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_trial`, `learner_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-03 22:09:41.489 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = AnsiString), @p8='?' (DbType = Byte), @p9='?' (DbType = Byte), @p10='?' (DbType = Int32), @p11='?' (DbType = Int16), @p12='?' (Size = -1), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_trial`, `learner_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-03 22:09:41.521 +12:00 [INF] Executed DbCommand (30ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = AnsiString), @p8='?' (DbType = Byte), @p9='?' (DbType = Byte), @p10='?' (DbType = Int32), @p11='?' (DbType = Int16), @p12='?' (Size = -1), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_trial`, `learner_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-03 22:09:41.557 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = AnsiString), @p8='?' (DbType = Byte), @p9='?' (DbType = Byte), @p10='?' (DbType = Int32), @p11='?' (DbType = Int16), @p12='?' (Size = -1), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_trial`, `learner_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-03 22:09:41.589 +12:00 [INF] Executed DbCommand (30ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = AnsiString), @p6='?' (DbType = Int16), @p7='?' (DbType = AnsiString), @p8='?' (DbType = Byte), @p9='?' (DbType = Byte), @p10='?' (DbType = Int32), @p11='?' (DbType = Int16), @p12='?' (Size = -1), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_trial`, `learner_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-03 22:09:41.823 +12:00 [INF] Executed DbCommand (35ms) [Parameters=[@p30='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = AnsiString), @p2='?' (Size = -1), @p3='?' (DbType = Int32), @p4='?' (Size = -1), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = AnsiString), @p9='?' (Size = -1), @p10='?' (DbType = Int16), @p11='?' (DbType = Int16), @p12='?' (DbType = Int16), @p13='?' (DbType = Int16), @p14='?' (DbType = Int32), @p15='?' (Size = -1), @p16='?' (DbType = Decimal), @p17='?' (Size = -1), @p18='?' (DbType = Int32), @p19='?' (DbType = AnsiString), @p20='?' (DbType = AnsiString), @p21='?' (Size = -1), @p22='?' (DbType = AnsiString), @p23='?' (Size = -1), @p24='?' (DbType = AnsiString), @p25='?' (Size = -1), @p26='?' (DbType = Decimal), @p27='?' (DbType = Decimal), @p28='?' (DbType = Int16), @p29='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`invoice_waiting_confirm` SET `begin_date` = @p0, `concert_fee` = @p1, `concert_fee_name` = @p2, `course_instance_id` = @p3, `course_name` = @p4, `created_at` = @p5, `due_date` = @p6, `end_date` = @p7, `group_course_instance_id` = @p8, `invoice_num` = @p9, `is_activate` = @p10, `is_confirmed` = @p11, `is_email_sent` = @p12, `is_paid` = @p13, `learner_id` = @p14, `learner_name` = @p15, `lesson_fee` = @p16, `lesson_note_fee_name` = @p17, `lesson_quantity` = @p18, `note_fee` = @p19, `other1_fee` = @p20, `other1_fee_name` = @p21, `other2_fee` = @p22, `other2_fee_name` = @p23, `other3_fee` = @p24, `other3_fee_name` = @p25, `owing_fee` = @p26, `paid_fee` = @p27, `term_id` = @p28, `total_fee` = @p29
WHERE `waiting_id` = @p30;
SELECT ROW_COUNT();
2019-07-03 22:09:41.854 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[@p39='?' (DbType = Int32), @p31='?' (DbType = DateTime), @p32='?' (DbType = Int32), @p33='?' (DbType = DateTime), @p34='?' (DbType = DateTime), @p35='?' (DbType = Int32), @p36='?' (DbType = Int16), @p37='?' (DbType = Int16), @p38='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`one2one_course_instance` SET `begin_date` = @p31, `course_id` = @p32, `end_date` = @p33, `invoice_date` = @p34, `learner_id` = @p35, `org_id` = @p36, `room_id` = @p37, `teacher_id` = @p38
WHERE `course_instance_id` = @p39;
SELECT ROW_COUNT();
2019-07-03 22:09:41.887 +12:00 [INF] Executed action method Pegasus_backend.Controllers.PaymentController.Generateone2oneInvoice (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1799.3685ms.
2019-07-03 22:09:41.887 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:09:41.887 +12:00 [INF] Executed action Pegasus_backend.Controllers.PaymentController.Generateone2oneInvoice (Pegasus_backend) in 1800.2931ms
2019-07-03 22:09:41.888 +12:00 [INF] Request finished in 1806.2423ms 200 application/json; charset=utf-8
2019-07-03 22:10:08.800 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/InvoiceWaitingConfirms/158  
2019-07-03 22:10:08.800 +12:00 [INF] Policy execution successful.
2019-07-03 22:10:08.804 +12:00 [INF] Route matched with {action = "GetInvoiceWaitingConfirm", controller = "InvoiceWaitingConfirms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetInvoiceWaitingConfirm(Int32) on controller Pegasus_backend.Controllers.InvoiceWaitingConfirmsController (Pegasus_backend).
2019-07-03 22:10:08.805 +12:00 [INF] Executing action method Pegasus_backend.Controllers.InvoiceWaitingConfirmsController.GetInvoiceWaitingConfirm (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:10:08.823 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:10:08.846 +12:00 [WRN] The LINQ expression 'where ((Convert([s].UserId, Nullable`1) == Convert(__id_0, Nullable`1)) AndAlso (Convert(value(Pegasus_backend.Controllers.InvoiceWaitingConfirmsController).toNZTimezone(DateTime.UtcNow).Date, Nullable`1) < [t].EndDate))' could not be translated and will be evaluated locally.
2019-07-03 22:10:08.989 +12:00 [INF] Executed DbCommand (44ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`user_id`, `t`.`end_date`, `iw`.`waiting_id` AS `WaitingId`, `iw`.`invoice_num` AS `InvoiceNum`, `iw`.`lesson_fee` AS `LessonFee`, `iw`.`concert_fee` AS `ConcertFee`, `iw`.`note_fee` AS `NoteFee`, `iw`.`other1_fee` AS `Other1Fee`, `iw`.`other2_fee` AS `Other2Fee`, `iw`.`other3_fee` AS `Other3Fee`, `iw`.`learner_id` AS `LearnerId`, `iw`.`learner_name` AS `LearnerName`, `iw`.`begin_date` AS `BeginDate`, `iw`.`end_date` AS `EndDate`, `iw`.`total_fee` AS `TotalFee`, `iw`.`due_date` AS `DueDate`, `iw`.`paid_fee` AS `PaidFee`, `iw`.`owing_fee` AS `OwingFee`, `iw`.`created_at` AS `CreatedAt0`, `iw`.`is_paid` AS `IsPaid`, `iw`.`term_id` AS `TermId`, `iw`.`course_instance_id` AS `CourseInstanceId`, `iw`.`group_course_instance_id` AS `GroupCourseInstanceId`, `iw`.`lesson_quantity` AS `LessonQuantity`, `iw`.`course_name` AS `CourseName`, `iw`.`concert_fee_name` AS `ConcertFeeName`, `iw`.`lesson_note_fee_name` AS `LessonNoteFeeName`, `iw`.`other1_fee_name` AS `Other1FeeName`, `iw`.`other2_fee_name` AS `Other2FeeName`, `iw`.`other3_fee_name` AS `Other3FeeName`, `iw`.`is_activate` AS `IsActivate`, `iw`.`is_email_sent` AS `IsEmailSent`, `iw`.`is_confirmed` AS `IsConfirmed`, `iw.Learner`.`email`, `iw.Learner`.`first_name` AS `FirstName`, `iw.Learner`.`middle_name` AS `MiddleName`, `iw.Learner`.`last_name` AS `LastName`, `iw.Learner`.`enroll_date` AS `EnrollDate`, `iw.Learner`.`contact_num` AS `ContactNum`, `iw.Learner`.`address`, `iw.Learner`.`is_under_18` AS `IsUnder18`, `iw.Learner`.`dob`, `iw.Learner`.`gender`, `iw.Learner`.`is_abrsm_g5` AS `IsAbrsmG5`, `iw.Learner`.`g5_certification` AS `G5Certification`, `iw.Learner`.`created_at` AS `CreatedAt`, `iw.Learner`.`referrer_learner_id` AS `ReferrerLearnerId`, `iw.Learner`.`photo`, `iw.Learner`.`note`, `iw.Learner`.`level_type` AS `LevelType`, `iw.Learner`.`user_id` AS `UserId`, `iw.Learner`.`org_id` AS `OrgId`, `iw.Learner`.`learner_id`
FROM `ablemusic`.`staff` AS `s`
INNER JOIN `ablemusic`.`staff_org` AS `so` ON `s`.`staff_id` = `so`.`staff_id`
INNER JOIN `ablemusic`.`learner` AS `l` ON `so`.`org_id` = `l`.`org_id`
INNER JOIN `ablemusic`.`invoice_waiting_confirm` AS `iw` ON `l`.`learner_id` = `iw`.`learner_id`
LEFT JOIN `ablemusic`.`learner` AS `iw.Learner` ON `iw`.`learner_id` = `iw.Learner`.`learner_id`
INNER JOIN `ablemusic`.`term` AS `t` ON `iw`.`term_id` = `t`.`term_id`
WHERE `iw`.`is_activate` = 1
2019-07-03 22:10:17.533 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:17.633 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:17.729 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:17.825 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:17.921 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:18.018 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:18.113 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:18.209 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:18.305 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:18.401 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:18.497 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:18.594 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:18.697 +12:00 [INF] Executed DbCommand (41ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:18.793 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:18.889 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:18.985 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:19.081 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:19.177 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:19.273 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:19.369 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:19.465 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:19.561 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:19.657 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:19.752 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:19.848 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:19.945 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:20.041 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:20.137 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:20.236 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:20.335 +12:00 [INF] Executed DbCommand (35ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:20.432 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:20.529 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:20.625 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:20.725 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:20.820 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:20.917 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:21.012 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:21.108 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:21.205 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:21.300 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:21.396 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:21.493 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:21.589 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:21.685 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:21.788 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:21.884 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:21.980 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:22.077 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:22.172 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:22.268 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:22.365 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:22.460 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:22.556 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:22.653 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:22.749 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:22.845 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:22.941 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:23.036 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:23.132 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:23.229 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:23.324 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:23.421 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:23.516 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:23.613 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:23.708 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:23.809 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:23.906 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:24.001 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:24.096 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:24.193 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:24.288 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:24.385 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:24.481 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:24.577 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:24.673 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:24.768 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:24.865 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:24.960 +12:00 [INF] Executed DbCommand (30ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:25.056 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:25.152 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:25.250 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:25.344 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:25.442 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:25.537 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:25.632 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:25.728 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:25.828 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:25.924 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:26.020 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:26.117 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:26.213 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:26.309 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:26.405 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:26.500 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:26.596 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:26.692 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:26.789 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:26.884 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:26.985 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:27.081 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:27.177 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:27.273 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:27.368 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:10:27.371 +12:00 [INF] Executed action method Pegasus_backend.Controllers.InvoiceWaitingConfirmsController.GetInvoiceWaitingConfirm (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 18565.9332ms.
2019-07-03 22:10:27.371 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.InvoiceWaitingConfirm, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:10:27.385 +12:00 [INF] Executed action Pegasus_backend.Controllers.InvoiceWaitingConfirmsController.GetInvoiceWaitingConfirm (Pegasus_backend) in 18580.5998ms
2019-07-03 22:10:27.385 +12:00 [INF] Request finished in 18585.2931ms 200 application/json; charset=utf-8
2019-07-03 22:11:22.652 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/InvoiceWaitingConfirms/158  
2019-07-03 22:11:22.652 +12:00 [INF] Policy execution successful.
2019-07-03 22:11:22.652 +12:00 [INF] Route matched with {action = "GetInvoiceWaitingConfirm", controller = "InvoiceWaitingConfirms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetInvoiceWaitingConfirm(Int32) on controller Pegasus_backend.Controllers.InvoiceWaitingConfirmsController (Pegasus_backend).
2019-07-03 22:11:22.652 +12:00 [INF] Executing action method Pegasus_backend.Controllers.InvoiceWaitingConfirmsController.GetInvoiceWaitingConfirm (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:11:35.313 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:11:35.854 +12:00 [WRN] The LINQ expression 'where ((Convert([s].UserId, Nullable`1) == Convert(__id_0, Nullable`1)) AndAlso (Convert(value(Pegasus_backend.Controllers.InvoiceWaitingConfirmsController).toNZTimezone(DateTime.UtcNow).Date, Nullable`1) < [t].EndDate))' could not be translated and will be evaluated locally.
2019-07-03 22:11:35.968 +12:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`user_id`, `t`.`end_date`, `iw`.`waiting_id` AS `WaitingId`, `iw`.`invoice_num` AS `InvoiceNum`, `iw`.`lesson_fee` AS `LessonFee`, `iw`.`concert_fee` AS `ConcertFee`, `iw`.`note_fee` AS `NoteFee`, `iw`.`other1_fee` AS `Other1Fee`, `iw`.`other2_fee` AS `Other2Fee`, `iw`.`other3_fee` AS `Other3Fee`, `iw`.`learner_id` AS `LearnerId`, `iw`.`learner_name` AS `LearnerName`, `iw`.`begin_date` AS `BeginDate`, `iw`.`end_date` AS `EndDate`, `iw`.`total_fee` AS `TotalFee`, `iw`.`due_date` AS `DueDate`, `iw`.`paid_fee` AS `PaidFee`, `iw`.`owing_fee` AS `OwingFee`, `iw`.`created_at` AS `CreatedAt0`, `iw`.`is_paid` AS `IsPaid`, `iw`.`term_id` AS `TermId`, `iw`.`course_instance_id` AS `CourseInstanceId`, `iw`.`group_course_instance_id` AS `GroupCourseInstanceId`, `iw`.`lesson_quantity` AS `LessonQuantity`, `iw`.`course_name` AS `CourseName`, `iw`.`concert_fee_name` AS `ConcertFeeName`, `iw`.`lesson_note_fee_name` AS `LessonNoteFeeName`, `iw`.`other1_fee_name` AS `Other1FeeName`, `iw`.`other2_fee_name` AS `Other2FeeName`, `iw`.`other3_fee_name` AS `Other3FeeName`, `iw`.`is_activate` AS `IsActivate`, `iw`.`is_email_sent` AS `IsEmailSent`, `iw`.`is_confirmed` AS `IsConfirmed`, `iw.Learner`.`email`, `iw.Learner`.`first_name` AS `FirstName`, `iw.Learner`.`middle_name` AS `MiddleName`, `iw.Learner`.`last_name` AS `LastName`, `iw.Learner`.`enroll_date` AS `EnrollDate`, `iw.Learner`.`contact_num` AS `ContactNum`, `iw.Learner`.`address`, `iw.Learner`.`is_under_18` AS `IsUnder18`, `iw.Learner`.`dob`, `iw.Learner`.`gender`, `iw.Learner`.`is_abrsm_g5` AS `IsAbrsmG5`, `iw.Learner`.`g5_certification` AS `G5Certification`, `iw.Learner`.`created_at` AS `CreatedAt`, `iw.Learner`.`referrer_learner_id` AS `ReferrerLearnerId`, `iw.Learner`.`photo`, `iw.Learner`.`note`, `iw.Learner`.`level_type` AS `LevelType`, `iw.Learner`.`user_id` AS `UserId`, `iw.Learner`.`org_id` AS `OrgId`, `iw.Learner`.`learner_id`
FROM `ablemusic`.`staff` AS `s`
INNER JOIN `ablemusic`.`staff_org` AS `so` ON `s`.`staff_id` = `so`.`staff_id`
INNER JOIN `ablemusic`.`learner` AS `l` ON `so`.`org_id` = `l`.`org_id`
INNER JOIN `ablemusic`.`invoice_waiting_confirm` AS `iw` ON `l`.`learner_id` = `iw`.`learner_id`
LEFT JOIN `ablemusic`.`learner` AS `iw.Learner` ON `iw`.`learner_id` = `iw.Learner`.`learner_id`
INNER JOIN `ablemusic`.`term` AS `t` ON `iw`.`term_id` = `t`.`term_id`
WHERE `iw`.`is_activate` = 1
2019-07-03 22:11:44.780 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:44.876 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:44.972 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:45.067 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:45.164 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:45.260 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:45.371 +12:00 [INF] Executed DbCommand (43ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:45.496 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:45.592 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:45.688 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:45.784 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:45.881 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:45.976 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:46.073 +12:00 [INF] Executed DbCommand (30ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:46.168 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:46.264 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:46.360 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:46.456 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:46.555 +12:00 [INF] Executed DbCommand (35ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:46.663 +12:00 [INF] Executed DbCommand (35ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:46.796 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:46.891 +12:00 [INF] Executed DbCommand (29ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:46.988 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:47.084 +12:00 [INF] Executed DbCommand (29ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:47.180 +12:00 [INF] Executed DbCommand (30ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:47.277 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:47.374 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:47.491 +12:00 [INF] Executed DbCommand (45ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:47.605 +12:00 [INF] Executed DbCommand (41ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:47.748 +12:00 [INF] Executed DbCommand (63ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:47.847 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:47.944 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:48.040 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:48.136 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:48.232 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:48.424 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:48.520 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:48.616 +12:00 [INF] Executed DbCommand (30ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:48.748 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:48.897 +12:00 [INF] Executed DbCommand (77ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:48.992 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:49.088 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:49.184 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:49.284 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:49.380 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:49.475 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:49.572 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:49.668 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:49.764 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:49.880 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:49.992 +12:00 [INF] Executed DbCommand (48ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:50.096 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:50.192 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:50.288 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:50.384 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:50.484 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:50.580 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:50.688 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:50.823 +12:00 [INF] Executed DbCommand (63ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:50.920 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:51.016 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:51.114 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:51.228 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:51.365 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:51.500 +12:00 [INF] Executed DbCommand (30ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:51.596 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:51.696 +12:00 [INF] Executed DbCommand (37ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:51.848 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:51.944 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:52.040 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:52.136 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:52.232 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:52.380 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:52.476 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:52.573 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:52.668 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:52.764 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:52.860 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:52.956 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:53.052 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:53.148 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:53.244 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:53.388 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:53.520 +12:00 [INF] Executed DbCommand (66ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:53.616 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:53.712 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:53.808 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:53.912 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:54.008 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:54.104 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:54.200 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:54.304 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:54.400 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:54.496 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:54.592 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:54.688 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:54.784 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:54.880 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:54.976 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:55.073 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:55.168 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:55.264 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:11:55.440 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:12:27.260 +12:00 [INF] Executed action method Pegasus_backend.Controllers.InvoiceWaitingConfirmsController.GetInvoiceWaitingConfirm (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 64604.369000000006ms.
2019-07-03 22:12:27.270 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.InvoiceWaitingConfirm, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:12:27.287 +12:00 [INF] Executed action Pegasus_backend.Controllers.InvoiceWaitingConfirmsController.GetInvoiceWaitingConfirm (Pegasus_backend) in 64634.7572ms
2019-07-03 22:12:27.287 +12:00 [INF] Request finished in 64635.6048ms 200 application/json; charset=utf-8
2019-07-03 22:14:26.666 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PaymentView/paymentBetweenDesc/2019-6-1&2019-7-7  
2019-07-03 22:14:26.672 +12:00 [INF] Policy execution successful.
2019-07-03 22:14:26.685 +12:00 [INF] Route matched with {action = "LookUpBetweenDatesDesc", controller = "PaymentView"}. Executing controller action with signature Pegasus_backend.Models.Result`1[System.Collections.Generic.IEnumerable`1[Pegasus_backend.pegasusContext.Payment]] LookUpBetweenDatesDesc(System.DateTime, System.DateTime) on controller Pegasus_backend.Controllers.PaymentViewController (Pegasus_backend).
2019-07-03 22:14:26.686 +12:00 [INF] Executing action method Pegasus_backend.Controllers.PaymentViewController.LookUpBetweenDatesDesc (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:14:26.697 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:14:26.705 +12:00 [INF] Executed action method Pegasus_backend.Controllers.PaymentViewController.LookUpBetweenDatesDesc (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 18.4862ms.
2019-07-03 22:14:26.705 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.IEnumerable`1[[Pegasus_backend.pegasusContext.Payment, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:14:26.717 +12:00 [WRN] Query: '(from Invoice <generated>_1 in [invoice] select [<generated>_1]).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-07-03 22:14:26.717 +12:00 [WRN] Query: '(from Staff <generated>_1 in [s] select [<generated>_1]).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-07-03 22:14:26.717 +12:00 [WRN] Query: '(from Learner <generated>_1 in [l] select [<generated>_1]).FirstOrDefault()' uses First/FirstOrDefault/Last/LastOrDefault operation without OrderBy and filter which may lead to unpredictable results.
2019-07-03 22:14:26.723 +12:00 [WRN] The LINQ expression 'where Between([d].CreatedAt, Convert(__begin_0, Nullable`1), Convert(__end_1, Nullable`1))' could not be translated and will be evaluated locally.
2019-07-03 22:14:26.730 +12:00 [WRN] The LINQ expression 'join Invoice invoice in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[Pegasus_backend.pegasusContext.Invoice]) on [d].InvoiceId equals Convert([invoice].InvoiceId, Nullable`1)' could not be translated and will be evaluated locally.
2019-07-03 22:14:26.735 +12:00 [WRN] The LINQ expression 'join SoldTransaction s in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[Pegasus_backend.pegasusContext.SoldTransaction]) on Convert([d].PaymentId, Nullable`1) equals [s].PaymentId' could not be translated and will be evaluated locally.
2019-07-03 22:14:26.739 +12:00 [WRN] The LINQ expression 'join Staff s in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[Pegasus_backend.pegasusContext.Staff]) on [d].StaffId equals Convert([s].StaffId, Nullable`1)' could not be translated and will be evaluated locally.
2019-07-03 22:14:26.746 +12:00 [WRN] The LINQ expression 'join Learner l in value(Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1[Pegasus_backend.pegasusContext.Learner]) on [d].LearnerId equals Convert([l].LearnerId, Nullable`1)' could not be translated and will be evaluated locally.
2019-07-03 22:14:26.746 +12:00 [WRN] The LINQ expression 'FirstOrDefault()' could not be translated and will be evaluated locally.
2019-07-03 22:14:26.747 +12:00 [WRN] The LINQ expression 'FirstOrDefault()' could not be translated and will be evaluated locally.
2019-07-03 22:14:26.747 +12:00 [WRN] The LINQ expression 'FirstOrDefault()' could not be translated and will be evaluated locally.
2019-07-03 22:14:26.877 +12:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `d`.`payment_id` AS `PaymentId`, `d`.`after_balance` AS `AfterBalance`, `d`.`amount`, `d`.`before_balance` AS `BeforeBalance`, `d`.`comment`, `d`.`created_at` AS `CreatedAt`, `d`.`invoice_id` AS `InvoiceId`, `d`.`is_confirmed` AS `IsConfirmed`, `d`.`learner_id` AS `LearnerId`, `d`.`payment_method` AS `PaymentMethod`, `d`.`payment_type` AS `PaymentType`, `d`.`staff_id` AS `StaffId`
FROM `ablemusic`.`payment` AS `d`
ORDER BY `CreatedAt` DESC
2019-07-03 22:14:26.946 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `invoice`.`invoice_id`, `invoice`.`begin_date`, `invoice`.`concert_fee`, `invoice`.`concert_fee_name`, `invoice`.`course_instance_id`, `invoice`.`course_name`, `invoice`.`created_at`, `invoice`.`due_date`, `invoice`.`end_date`, `invoice`.`group_course_instance_id`, `invoice`.`invoice_num`, `invoice`.`is_active`, `invoice`.`is_paid`, `invoice`.`learner_id`, `invoice`.`learner_name`, `invoice`.`lesson_fee`, `invoice`.`lesson_note_fee_name`, `invoice`.`lesson_quantity`, `invoice`.`note_fee`, `invoice`.`other1_fee`, `invoice`.`other1_fee_name`, `invoice`.`other2_fee`, `invoice`.`other2_fee_name`, `invoice`.`other3_fee`, `invoice`.`other3_fee_name`, `invoice`.`owing_fee`, `invoice`.`paid_fee`, `invoice`.`term_id`, `invoice`.`total_fee`
FROM `ablemusic`.`invoice` AS `invoice`
2019-07-03 22:14:27.257 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`tran_id`, `s`.`aflter_quantity`, `s`.`amount`, `s`.`balance`, `s`.`before_quantity`, `s`.`created_at`, `s`.`discount_amount`, `s`.`discount_rate`, `s`.`discounted_amount`, `s`.`learner_id`, `s`.`note`, `s`.`payment_id`, `s`.`product_id`, `s`.`sold_quantity`, `s`.`stock_id`
FROM `ablemusic`.`sold_transaction` AS `s`
2019-07-03 22:14:27.381 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s0`.`staff_id`, `s0`.`dob`, `s0`.`email`, `s0`.`expiry_date`, `s0`.`first_name`, `s0`.`gender`, `s0`.`home_phone`, `s0`.`id_number`, `s0`.`id_photo`, `s0`.`id_type`, `s0`.`ird_number`, `s0`.`is_activate`, `s0`.`last_name`, `s0`.`mobile_phone`, `s0`.`photo`, `s0`.`user_id`, `s0`.`visa`
FROM `ablemusic`.`staff` AS `s0`
2019-07-03 22:14:27.737 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
2019-07-03 22:14:27.902 +12:00 [INF] Executed action Pegasus_backend.Controllers.PaymentViewController.LookUpBetweenDatesDesc (Pegasus_backend) in 1217.0633ms
2019-07-03 22:14:27.902 +12:00 [INF] Request finished in 1237.1886ms 200 application/json; charset=utf-8
2019-07-03 22:14:32.952 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/PaymentView/paymentBetweenDesc/2019-6-1&2019-7-7  
2019-07-03 22:14:32.953 +12:00 [INF] Policy execution successful.
2019-07-03 22:14:32.953 +12:00 [INF] Route matched with {action = "LookUpBetweenDatesDesc", controller = "PaymentView"}. Executing controller action with signature Pegasus_backend.Models.Result`1[System.Collections.Generic.IEnumerable`1[Pegasus_backend.pegasusContext.Payment]] LookUpBetweenDatesDesc(System.DateTime, System.DateTime) on controller Pegasus_backend.Controllers.PaymentViewController (Pegasus_backend).
2019-07-03 22:14:32.953 +12:00 [INF] Executing action method Pegasus_backend.Controllers.PaymentViewController.LookUpBetweenDatesDesc (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:14:32.954 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:14:32.955 +12:00 [INF] Executed action method Pegasus_backend.Controllers.PaymentViewController.LookUpBetweenDatesDesc (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 1.6664ms.
2019-07-03 22:14:32.955 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.IEnumerable`1[[Pegasus_backend.pegasusContext.Payment, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:14:33.051 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `d`.`payment_id` AS `PaymentId`, `d`.`after_balance` AS `AfterBalance`, `d`.`amount`, `d`.`before_balance` AS `BeforeBalance`, `d`.`comment`, `d`.`created_at` AS `CreatedAt`, `d`.`invoice_id` AS `InvoiceId`, `d`.`is_confirmed` AS `IsConfirmed`, `d`.`learner_id` AS `LearnerId`, `d`.`payment_method` AS `PaymentMethod`, `d`.`payment_type` AS `PaymentType`, `d`.`staff_id` AS `StaffId`
FROM `ablemusic`.`payment` AS `d`
ORDER BY `CreatedAt` DESC
2019-07-03 22:14:33.120 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `invoice`.`invoice_id`, `invoice`.`begin_date`, `invoice`.`concert_fee`, `invoice`.`concert_fee_name`, `invoice`.`course_instance_id`, `invoice`.`course_name`, `invoice`.`created_at`, `invoice`.`due_date`, `invoice`.`end_date`, `invoice`.`group_course_instance_id`, `invoice`.`invoice_num`, `invoice`.`is_active`, `invoice`.`is_paid`, `invoice`.`learner_id`, `invoice`.`learner_name`, `invoice`.`lesson_fee`, `invoice`.`lesson_note_fee_name`, `invoice`.`lesson_quantity`, `invoice`.`note_fee`, `invoice`.`other1_fee`, `invoice`.`other1_fee_name`, `invoice`.`other2_fee`, `invoice`.`other2_fee_name`, `invoice`.`other3_fee`, `invoice`.`other3_fee_name`, `invoice`.`owing_fee`, `invoice`.`paid_fee`, `invoice`.`term_id`, `invoice`.`total_fee`
FROM `ablemusic`.`invoice` AS `invoice`
2019-07-03 22:14:33.452 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`tran_id`, `s`.`aflter_quantity`, `s`.`amount`, `s`.`balance`, `s`.`before_quantity`, `s`.`created_at`, `s`.`discount_amount`, `s`.`discount_rate`, `s`.`discounted_amount`, `s`.`learner_id`, `s`.`note`, `s`.`payment_id`, `s`.`product_id`, `s`.`sold_quantity`, `s`.`stock_id`
FROM `ablemusic`.`sold_transaction` AS `s`
2019-07-03 22:14:33.552 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s0`.`staff_id`, `s0`.`dob`, `s0`.`email`, `s0`.`expiry_date`, `s0`.`first_name`, `s0`.`gender`, `s0`.`home_phone`, `s0`.`id_number`, `s0`.`id_photo`, `s0`.`id_type`, `s0`.`ird_number`, `s0`.`is_activate`, `s0`.`last_name`, `s0`.`mobile_phone`, `s0`.`photo`, `s0`.`user_id`, `s0`.`visa`
FROM `ablemusic`.`staff` AS `s0`
2019-07-03 22:14:33.655 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
2019-07-03 22:14:33.797 +12:00 [INF] Executed action Pegasus_backend.Controllers.PaymentViewController.LookUpBetweenDatesDesc (Pegasus_backend) in 844.17910000000006ms
2019-07-03 22:14:33.797 +12:00 [INF] Request finished in 845.1969ms 200 application/json; charset=utf-8
2019-07-03 22:14:37.715 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/InvoiceWaitingConfirms/158  
2019-07-03 22:14:37.715 +12:00 [INF] Policy execution successful.
2019-07-03 22:14:37.715 +12:00 [INF] Route matched with {action = "GetInvoiceWaitingConfirm", controller = "InvoiceWaitingConfirms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetInvoiceWaitingConfirm(Int32) on controller Pegasus_backend.Controllers.InvoiceWaitingConfirmsController (Pegasus_backend).
2019-07-03 22:14:37.716 +12:00 [INF] Executing action method Pegasus_backend.Controllers.InvoiceWaitingConfirmsController.GetInvoiceWaitingConfirm (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:14:40.457 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:14:40.474 +12:00 [WRN] The LINQ expression 'where ((Convert([s].UserId, Nullable`1) == Convert(__id_0, Nullable`1)) AndAlso (Convert(value(Pegasus_backend.Controllers.InvoiceWaitingConfirmsController).toNZTimezone(DateTime.UtcNow).Date, Nullable`1) < [t].EndDate))' could not be translated and will be evaluated locally.
2019-07-03 22:14:40.591 +12:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`user_id`, `t`.`end_date`, `iw`.`waiting_id` AS `WaitingId`, `iw`.`invoice_num` AS `InvoiceNum`, `iw`.`lesson_fee` AS `LessonFee`, `iw`.`concert_fee` AS `ConcertFee`, `iw`.`note_fee` AS `NoteFee`, `iw`.`other1_fee` AS `Other1Fee`, `iw`.`other2_fee` AS `Other2Fee`, `iw`.`other3_fee` AS `Other3Fee`, `iw`.`learner_id` AS `LearnerId`, `iw`.`learner_name` AS `LearnerName`, `iw`.`begin_date` AS `BeginDate`, `iw`.`end_date` AS `EndDate`, `iw`.`total_fee` AS `TotalFee`, `iw`.`due_date` AS `DueDate`, `iw`.`paid_fee` AS `PaidFee`, `iw`.`owing_fee` AS `OwingFee`, `iw`.`created_at` AS `CreatedAt0`, `iw`.`is_paid` AS `IsPaid`, `iw`.`term_id` AS `TermId`, `iw`.`course_instance_id` AS `CourseInstanceId`, `iw`.`group_course_instance_id` AS `GroupCourseInstanceId`, `iw`.`lesson_quantity` AS `LessonQuantity`, `iw`.`course_name` AS `CourseName`, `iw`.`concert_fee_name` AS `ConcertFeeName`, `iw`.`lesson_note_fee_name` AS `LessonNoteFeeName`, `iw`.`other1_fee_name` AS `Other1FeeName`, `iw`.`other2_fee_name` AS `Other2FeeName`, `iw`.`other3_fee_name` AS `Other3FeeName`, `iw`.`is_activate` AS `IsActivate`, `iw`.`is_email_sent` AS `IsEmailSent`, `iw`.`is_confirmed` AS `IsConfirmed`, `iw.Learner`.`email`, `iw.Learner`.`first_name` AS `FirstName`, `iw.Learner`.`middle_name` AS `MiddleName`, `iw.Learner`.`last_name` AS `LastName`, `iw.Learner`.`enroll_date` AS `EnrollDate`, `iw.Learner`.`contact_num` AS `ContactNum`, `iw.Learner`.`address`, `iw.Learner`.`is_under_18` AS `IsUnder18`, `iw.Learner`.`dob`, `iw.Learner`.`gender`, `iw.Learner`.`is_abrsm_g5` AS `IsAbrsmG5`, `iw.Learner`.`g5_certification` AS `G5Certification`, `iw.Learner`.`created_at` AS `CreatedAt`, `iw.Learner`.`referrer_learner_id` AS `ReferrerLearnerId`, `iw.Learner`.`photo`, `iw.Learner`.`note`, `iw.Learner`.`level_type` AS `LevelType`, `iw.Learner`.`user_id` AS `UserId`, `iw.Learner`.`org_id` AS `OrgId`, `iw.Learner`.`learner_id`
FROM `ablemusic`.`staff` AS `s`
INNER JOIN `ablemusic`.`staff_org` AS `so` ON `s`.`staff_id` = `so`.`staff_id`
INNER JOIN `ablemusic`.`learner` AS `l` ON `so`.`org_id` = `l`.`org_id`
INNER JOIN `ablemusic`.`invoice_waiting_confirm` AS `iw` ON `l`.`learner_id` = `iw`.`learner_id`
LEFT JOIN `ablemusic`.`learner` AS `iw.Learner` ON `iw`.`learner_id` = `iw.Learner`.`learner_id`
INNER JOIN `ablemusic`.`term` AS `t` ON `iw`.`term_id` = `t`.`term_id`
WHERE `iw`.`is_activate` = 1
2019-07-03 22:14:49.159 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:49.256 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:49.351 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:49.447 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:49.544 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:49.639 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:49.735 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:49.831 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:49.927 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:50.023 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:50.119 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:50.215 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:50.310 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:50.415 +12:00 [INF] Executed DbCommand (41ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:50.511 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:50.607 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:50.704 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:50.803 +12:00 [INF] Executed DbCommand (36ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:50.898 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:50.996 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:51.092 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:51.187 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:51.283 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:51.380 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:51.477 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:51.574 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:51.675 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:51.771 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:51.867 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:51.963 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:52.059 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:52.155 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:52.252 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:52.347 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:52.442 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:52.539 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:52.635 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:52.732 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:52.828 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:52.923 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:53.018 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:53.117 +12:00 [INF] Executed DbCommand (35ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:53.217 +12:00 [INF] Executed DbCommand (35ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:53.315 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:53.416 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:53.511 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:53.606 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:53.703 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:53.799 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:53.895 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:53.991 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:54.088 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:54.183 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:54.280 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:54.375 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:54.472 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:54.567 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:54.663 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:54.759 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:54.856 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:54.950 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:55.047 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:55.144 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:55.240 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:55.339 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:55.436 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:55.535 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:55.631 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:55.728 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:55.823 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:55.919 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:56.014 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:56.111 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:56.207 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:56.303 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:56.399 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:56.507 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:56.602 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:56.699 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:56.796 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:56.899 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:56.995 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:57.090 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:57.187 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:57.282 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:57.379 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:57.475 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:57.571 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:57.667 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:57.768 +12:00 [INF] Executed DbCommand (37ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:57.863 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:57.959 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:58.055 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:58.151 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:58.247 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:58.342 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:58.440 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:58.538 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:58.635 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:58.731 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:58.827 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:58.923 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:59.019 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@_outer_LearnerId='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `p`.`parent_id`, `p`.`contact_num`, `p`.`created_at`, `p`.`email`, `p`.`first_name`, `p`.`last_name`, `p`.`learner_id`, `p`.`relationship`
FROM `ablemusic`.`parent` AS `p`
WHERE @_outer_LearnerId = `p`.`learner_id`
2019-07-03 22:14:59.022 +12:00 [INF] Executed action method Pegasus_backend.Controllers.InvoiceWaitingConfirmsController.GetInvoiceWaitingConfirm (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 21305.3165ms.
2019-07-03 22:14:59.022 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.InvoiceWaitingConfirm, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:14:59.038 +12:00 [INF] Executed action Pegasus_backend.Controllers.InvoiceWaitingConfirmsController.GetInvoiceWaitingConfirm (Pegasus_backend) in 21322.4706ms
2019-07-03 22:14:59.039 +12:00 [INF] Request finished in 21323.6719ms 200 application/json; charset=utf-8
2019-07-03 22:15:19.544 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/courseinstance/10125/0  
2019-07-03 22:15:19.546 +12:00 [INF] Policy execution successful.
2019-07-03 22:15:19.552 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Lookups/15  
2019-07-03 22:15:19.552 +12:00 [INF] Policy execution successful.
2019-07-03 22:15:19.554 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-03 22:15:19.561 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Lookups/16  
2019-07-03 22:15:19.561 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:15:19.561 +12:00 [INF] Policy execution successful.
2019-07-03 22:15:19.561 +12:00 [INF] Route matched with {action = "GetLookup", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookup(Int32) on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-07-03 22:15:19.561 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:15:19.561 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:15:19.561 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:15:19.575 +12:00 [INF] Route matched with {action = "GetCourseInstance", controller = "CourseInstance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourseInstance(Int32, Int32) on controller Pegasus_backend.Controllers.CourseInstanceController (Pegasus_backend).
2019-07-03 22:15:19.575 +12:00 [INF] Executing action method Pegasus_backend.Controllers.CourseInstanceController.GetCourseInstance (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:15:19.578 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:15:19.658 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-03 22:15:19.659 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 97.603400000000008ms.
2019-07-03 22:15:19.659 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:15:19.659 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 98.381700000000009ms
2019-07-03 22:15:19.659 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__type_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
WHERE `l`.`lookup_type` = @__type_0
2019-07-03 22:15:19.660 +12:00 [INF] Request finished in 99.1091ms 200 application/json; charset=utf-8
2019-07-03 22:15:19.660 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 99.0184ms.
2019-07-03 22:15:19.660 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:15:19.660 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookup (Pegasus_backend) in 100.587ms
2019-07-03 22:15:19.660 +12:00 [INF] Request finished in 108.6163ms 200 application/json; charset=utf-8
2019-07-03 22:15:19.709 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `o`.`course_instance_id`, `o`.`begin_date`, `o`.`course_id`, `o`.`end_date`, `o`.`invoice_date`, `o`.`learner_id`, `o`.`org_id`, `o`.`room_id`, `o`.`teacher_id`, `o.Course`.`course_id`, `o.Course`.`course_category_id`, `o.Course`.`course_name`, `o.Course`.`course_type`, `o.Course`.`duration`, `o.Course`.`level`, `o.Course`.`price`, `o.Course`.`teacher_level`
FROM `ablemusic`.`one2one_course_instance` AS `o`
LEFT JOIN `ablemusic`.`course` AS `o.Course` ON `o`.`course_id` = `o.Course`.`course_id`
WHERE `o`.`course_instance_id` = @__id_0
LIMIT 1
2019-07-03 22:15:19.719 +12:00 [INF] Executed action method Pegasus_backend.Controllers.CourseInstanceController.GetCourseInstance (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 143.8017ms.
2019-07-03 22:15:19.719 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[Pegasus_backend.pegasusContext.One2oneCourseInstance, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-03 22:15:19.728 +12:00 [INF] Executed action Pegasus_backend.Controllers.CourseInstanceController.GetCourseInstance (Pegasus_backend) in 153.6719ms
2019-07-03 22:15:19.729 +12:00 [INF] Request finished in 185.1309ms 200 application/json; charset=utf-8
2019-07-03 22:15:29.376 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/InvoiceWaitingConfirms/  
2019-07-03 22:15:29.376 +12:00 [INF] Policy execution successful.
2019-07-03 22:15:29.376 +12:00 [INF] Request finished in 0.5751ms 204 
2019-07-03 22:15:29.381 +12:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/InvoiceWaitingConfirms/ application/json 562
2019-07-03 22:15:29.381 +12:00 [INF] Policy execution successful.
2019-07-03 22:15:29.390 +12:00 [INF] Route matched with {action = "PutInvoiceWaitingConfirm", controller = "InvoiceWaitingConfirms"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] PutInvoiceWaitingConfirm(Pegasus_backend.Models.InvoiceWaitingConfirmViewModel) on controller Pegasus_backend.Controllers.InvoiceWaitingConfirmsController (Pegasus_backend).
2019-07-03 22:15:29.420 +12:00 [INF] Executing action method Pegasus_backend.Controllers.InvoiceWaitingConfirmsController.PutInvoiceWaitingConfirm (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:15:29.450 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:15:29.561 +12:00 [INF] Executed DbCommand (35ms) [Parameters=[@__invoiceWaitingConfirm_WaitingId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`waiting_id`, `i`.`begin_date`, `i`.`concert_fee`, `i`.`concert_fee_name`, `i`.`course_instance_id`, `i`.`course_name`, `i`.`created_at`, `i`.`due_date`, `i`.`end_date`, `i`.`group_course_instance_id`, `i`.`invoice_num`, `i`.`is_activate`, `i`.`is_confirmed`, `i`.`is_email_sent`, `i`.`is_paid`, `i`.`learner_id`, `i`.`learner_name`, `i`.`lesson_fee`, `i`.`lesson_note_fee_name`, `i`.`lesson_quantity`, `i`.`note_fee`, `i`.`other1_fee`, `i`.`other1_fee_name`, `i`.`other2_fee`, `i`.`other2_fee_name`, `i`.`other3_fee`, `i`.`other3_fee_name`, `i`.`owing_fee`, `i`.`paid_fee`, `i`.`term_id`, `i`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `i`
WHERE `i`.`waiting_id` = @__invoiceWaitingConfirm_WaitingId_0
LIMIT 1
2019-07-03 22:15:29.668 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__invoiceWaitingConfirm_InvoiceNum_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`invoice_id`, `i`.`begin_date`, `i`.`concert_fee`, `i`.`concert_fee_name`, `i`.`course_instance_id`, `i`.`course_name`, `i`.`created_at`, `i`.`due_date`, `i`.`end_date`, `i`.`group_course_instance_id`, `i`.`invoice_num`, `i`.`is_active`, `i`.`is_paid`, `i`.`learner_id`, `i`.`learner_name`, `i`.`lesson_fee`, `i`.`lesson_note_fee_name`, `i`.`lesson_quantity`, `i`.`note_fee`, `i`.`other1_fee`, `i`.`other1_fee_name`, `i`.`other2_fee`, `i`.`other2_fee_name`, `i`.`other3_fee`, `i`.`other3_fee_name`, `i`.`owing_fee`, `i`.`paid_fee`, `i`.`term_id`, `i`.`total_fee`
FROM `ablemusic`.`invoice` AS `i`
WHERE ((`i`.`is_active` = 1) OR `i`.`is_active` IS NULL) AND (`i`.`invoice_num` = @__invoiceWaitingConfirm_InvoiceNum_0)
2019-07-03 22:15:29.840 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`invoice_waiting_confirm` SET `is_activate` = @p0
WHERE `waiting_id` = @p1;
SELECT ROW_COUNT();
2019-07-03 22:15:30.041 +12:00 [INF] Executed DbCommand (37ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Decimal), @p2='?' (Size = -1), @p3='?' (DbType = Int32), @p4='?' (Size = -1), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = AnsiString), @p9='?' (Size = -1), @p10='?' (DbType = Int16), @p11='?' (DbType = Int16), @p12='?' (DbType = Int32), @p13='?' (Size = -1), @p14='?' (DbType = Decimal), @p15='?' (Size = -1), @p16='?' (DbType = Int32), @p17='?' (DbType = Decimal), @p18='?' (DbType = Decimal), @p19='?' (Size = -1), @p20='?' (DbType = Decimal), @p21='?' (Size = -1), @p22='?' (DbType = Decimal), @p23='?' (Size = -1), @p24='?' (DbType = Decimal), @p25='?' (DbType = Decimal), @p26='?' (DbType = Int16), @p27='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`invoice` (`begin_date`, `concert_fee`, `concert_fee_name`, `course_instance_id`, `course_name`, `created_at`, `due_date`, `end_date`, `group_course_instance_id`, `invoice_num`, `is_active`, `is_paid`, `learner_id`, `learner_name`, `lesson_fee`, `lesson_note_fee_name`, `lesson_quantity`, `note_fee`, `other1_fee`, `other1_fee_name`, `other2_fee`, `other2_fee_name`, `other3_fee`, `other3_fee_name`, `owing_fee`, `paid_fee`, `term_id`, `total_fee`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27);
SELECT `invoice_id`
FROM `ablemusic`.`invoice`
WHERE ROW_COUNT() = 1
 AND `invoice_id`=LAST_INSERT_ID();
2019-07-03 22:15:30.081 +12:00 [INF] Executed DbCommand (35ms) [Parameters=[@p28='?' (DbType = DateTime), @p29='?' (DbType = Decimal), @p30='?' (Size = -1), @p31='?' (DbType = Int32), @p32='?' (Size = -1), @p33='?' (DbType = DateTime), @p34='?' (DbType = DateTime), @p35='?' (DbType = DateTime), @p36='?' (DbType = AnsiString), @p37='?' (Size = -1), @p38='?' (DbType = Int16), @p39='?' (DbType = Int16), @p40='?' (DbType = Int16), @p41='?' (DbType = Int16), @p42='?' (DbType = Int32), @p43='?' (Size = -1), @p44='?' (DbType = Decimal), @p45='?' (Size = -1), @p46='?' (DbType = Int32), @p47='?' (DbType = Decimal), @p48='?' (DbType = Decimal), @p49='?' (Size = -1), @p50='?' (DbType = Decimal), @p51='?' (Size = -1), @p52='?' (DbType = Decimal), @p53='?' (Size = -1), @p54='?' (DbType = Decimal), @p55='?' (DbType = Decimal), @p56='?' (DbType = Int16), @p57='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`invoice_waiting_confirm` (`begin_date`, `concert_fee`, `concert_fee_name`, `course_instance_id`, `course_name`, `created_at`, `due_date`, `end_date`, `group_course_instance_id`, `invoice_num`, `is_activate`, `is_confirmed`, `is_email_sent`, `is_paid`, `learner_id`, `learner_name`, `lesson_fee`, `lesson_note_fee_name`, `lesson_quantity`, `note_fee`, `other1_fee`, `other1_fee_name`, `other2_fee`, `other2_fee_name`, `other3_fee`, `other3_fee_name`, `owing_fee`, `paid_fee`, `term_id`, `total_fee`)
VALUES (@p28, @p29, @p30, @p31, @p32, @p33, @p34, @p35, @p36, @p37, @p38, @p39, @p40, @p41, @p42, @p43, @p44, @p45, @p46, @p47, @p48, @p49, @p50, @p51, @p52, @p53, @p54, @p55, @p56, @p57);
SELECT `waiting_id`
FROM `ablemusic`.`invoice_waiting_confirm`
WHERE ROW_COUNT() = 1
 AND `waiting_id`=LAST_INSERT_ID();
2019-07-03 22:15:30.233 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__invoice_LearnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`learner_id`, `l`.`address`, `l`.`contact_num`, `l`.`created_at`, `l`.`dob`, `l`.`email`, `l`.`enroll_date`, `l`.`first_name`, `l`.`form_url`, `l`.`g5_certification`, `l`.`gender`, `l`.`is_abrsm_g5`, `l`.`is_active`, `l`.`is_under_18`, `l`.`last_name`, `l`.`learner_level`, `l`.`level_type`, `l`.`middle_name`, `l`.`note`, `l`.`org_id`, `l`.`otherfile_url`, `l`.`payment_period`, `l`.`photo`, `l`.`referrer`, `l`.`referrer_learner_id`, `l`.`user_id`
FROM `ablemusic`.`learner` AS `l`
WHERE `l`.`learner_id` = @__invoice_LearnerId_0
LIMIT 1
2019-07-03 22:15:39.529 +12:00 [INF] Executed action method Pegasus_backend.Controllers.InvoiceWaitingConfirmsController.PutInvoiceWaitingConfirm (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 10109.4613ms.
2019-07-03 22:15:39.530 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:15:39.530 +12:00 [INF] Executed action Pegasus_backend.Controllers.InvoiceWaitingConfirmsController.PutInvoiceWaitingConfirm (Pegasus_backend) in 10139.882ms
2019-07-03 22:15:39.530 +12:00 [INF] Request finished in 10149.1877ms 200 application/json; charset=utf-8
2019-07-03 22:16:03.953 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/nihao  
2019-07-03 22:16:03.954 +12:00 [INF] Policy execution successful.
2019-07-03 22:16:03.954 +12:00 [INF] Route matched with {action = "GetLearner", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearner(System.String) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-03 22:16:03.954 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:16:03.956 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:16:04.057 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`learner_id`, `s`.`address`, `s`.`contact_num`, `s`.`created_at`, `s`.`dob`, `s`.`email`, `s`.`enroll_date`, `s`.`first_name`, `s`.`form_url`, `s`.`g5_certification`, `s`.`gender`, `s`.`is_abrsm_g5`, `s`.`is_active`, `s`.`is_under_18`, `s`.`last_name`, `s`.`learner_level`, `s`.`level_type`, `s`.`middle_name`, `s`.`note`, `s`.`org_id`, `s`.`otherfile_url`, `s`.`payment_period`, `s`.`photo`, `s`.`referrer`, `s`.`referrer_learner_id`, `s`.`user_id`
FROM `ablemusic`.`learner` AS `s`
WHERE (`s`.`is_active` = 1) AND `s`.`first_name` LIKE concat('%', @__name_0, '%')
ORDER BY `s`.`learner_id`
2019-07-03 22:16:04.090 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.LearnerOthers`.`learner_others_id`, `s.LearnerOthers`.`learner_id`, `s.LearnerOthers`.`learner_level`, `s.LearnerOthers`.`others_type`, `s.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `s.LearnerOthers`
INNER JOIN (
    SELECT `s0`.`learner_id`
    FROM `ablemusic`.`learner` AS `s0`
    WHERE (`s0`.`is_active` = 1) AND `s0`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t` ON `s.LearnerOthers`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-03 22:16:04.123 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Parent`.`parent_id`, `s.Parent`.`contact_num`, `s.Parent`.`created_at`, `s.Parent`.`email`, `s.Parent`.`first_name`, `s.Parent`.`last_name`, `s.Parent`.`learner_id`, `s.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `s.Parent`
INNER JOIN (
    SELECT `s1`.`learner_id`
    FROM `ablemusic`.`learner` AS `s1`
    WHERE (`s1`.`is_active` = 1) AND `s1`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t0` ON `s.Parent`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-03 22:16:04.159 +12:00 [INF] Executed DbCommand (36ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.One2oneCourseInstance`.`course_instance_id`, `s.One2oneCourseInstance`.`begin_date`, `s.One2oneCourseInstance`.`course_id`, `s.One2oneCourseInstance`.`end_date`, `s.One2oneCourseInstance`.`invoice_date`, `s.One2oneCourseInstance`.`learner_id`, `s.One2oneCourseInstance`.`org_id`, `s.One2oneCourseInstance`.`room_id`, `s.One2oneCourseInstance`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `s.One2oneCourseInstance`
INNER JOIN (
    SELECT `s2`.`learner_id`
    FROM `ablemusic`.`learner` AS `s2`
    WHERE (`s2`.`is_active` = 1) AND `s2`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t1` ON `s.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`
2019-07-03 22:16:04.191 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.LearnerGroupCourse`.`learner_group_course_id`, `s.LearnerGroupCourse`.`begin_date`, `s.LearnerGroupCourse`.`comment`, `s.LearnerGroupCourse`.`created_at`, `s.LearnerGroupCourse`.`end_date`, `s.LearnerGroupCourse`.`group_course_instance_id`, `s.LearnerGroupCourse`.`invoice_date`, `s.LearnerGroupCourse`.`is_activate`, `s.LearnerGroupCourse`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `s.LearnerGroupCourse`
INNER JOIN (
    SELECT `s3`.`learner_id`
    FROM `ablemusic`.`learner` AS `s3`
    WHERE (`s3`.`is_active` = 1) AND `s3`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t2` ON `s.LearnerGroupCourse`.`learner_id` = `t2`.`learner_id`
ORDER BY `t2`.`learner_id`
2019-07-03 22:16:04.192 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 237.0809ms.
2019-07-03 22:16:04.192 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.IEnumerable`1[[Pegasus_backend.pegasusContext.Learner, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:16:04.192 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) in 238.1654ms
2019-07-03 22:16:04.192 +12:00 [INF] Request finished in 239.0035ms 200 application/json; charset=utf-8
2019-07-03 22:16:08.207 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/invoice/10073  
2019-07-03 22:16:08.207 +12:00 [INF] Policy execution successful.
2019-07-03 22:16:08.208 +12:00 [INF] Route matched with {action = "GetInvoice", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Pegasus_backend.pegasusContext.Invoice]] GetInvoice(Int32) on controller Pegasus_backend.Controllers.InvoiceController (Pegasus_backend).
2019-07-03 22:16:08.208 +12:00 [INF] Executing action method Pegasus_backend.Controllers.InvoiceController.GetInvoice (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:16:08.209 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:16:08.308 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`invoice_id`, `s`.`begin_date`, `s`.`concert_fee`, `s`.`concert_fee_name`, `s`.`course_instance_id`, `s`.`course_name`, `s`.`created_at`, `s`.`due_date`, `s`.`end_date`, `s`.`group_course_instance_id`, `s`.`invoice_num`, `s`.`is_active`, `s`.`is_paid`, `s`.`learner_id`, `s`.`learner_name`, `s`.`lesson_fee`, `s`.`lesson_note_fee_name`, `s`.`lesson_quantity`, `s`.`note_fee`, `s`.`other1_fee`, `s`.`other1_fee_name`, `s`.`other2_fee`, `s`.`other2_fee_name`, `s`.`other3_fee`, `s`.`other3_fee_name`, `s`.`owing_fee`, `s`.`paid_fee`, `s`.`term_id`, `s`.`total_fee`, `s.Term`.`term_id`, `s.Term`.`begin_date`, `s.Term`.`end_date`, `s.Term`.`term_name`, `s.Term`.`term_type`, `s.Term`.`week_quantity`
FROM `ablemusic`.`invoice` AS `s`
LEFT JOIN `ablemusic`.`term` AS `s.Term` ON `s`.`term_id` = `s.Term`.`term_id`
WHERE ((`s`.`learner_id` = @__id_0) AND (`s`.`is_active` = 1)) AND (`s`.`is_paid` = 0)
2019-07-03 22:16:08.313 +12:00 [INF] Executed action method Pegasus_backend.Controllers.InvoiceController.GetInvoice (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 104.43270000000001ms.
2019-07-03 22:16:08.313 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Invoice, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:16:08.314 +12:00 [INF] Executed action Pegasus_backend.Controllers.InvoiceController.GetInvoice (Pegasus_backend) in 106.16810000000001ms
2019-07-03 22:16:08.314 +12:00 [INF] Request finished in 107.0909ms 200 application/json; charset=utf-8
2019-07-03 22:16:13.979 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/payment/payInvoice  
2019-07-03 22:16:13.979 +12:00 [INF] Policy execution successful.
2019-07-03 22:16:13.979 +12:00 [INF] Request finished in 0.3318ms 204 
2019-07-03 22:16:13.989 +12:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/payment/payInvoice application/json 82
2019-07-03 22:16:13.990 +12:00 [INF] Policy execution successful.
2019-07-03 22:16:13.990 +12:00 [INF] Route matched with {action = "SavePaymentDetails", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SavePaymentDetails(Pegasus_backend.Models.InvoicePay) on controller Pegasus_backend.Controllers.PaymentController (Pegasus_backend).
2019-07-03 22:16:13.991 +12:00 [INF] Executing action method Pegasus_backend.Controllers.PaymentController.SavePaymentDetails (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:16:20.150 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:16:20.312 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[@__details_InvoiceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`invoice_id`, `s`.`begin_date`, `s`.`concert_fee`, `s`.`concert_fee_name`, `s`.`course_instance_id`, `s`.`course_name`, `s`.`created_at`, `s`.`due_date`, `s`.`end_date`, `s`.`group_course_instance_id`, `s`.`invoice_num`, `s`.`is_active`, `s`.`is_paid`, `s`.`learner_id`, `s`.`learner_name`, `s`.`lesson_fee`, `s`.`lesson_note_fee_name`, `s`.`lesson_quantity`, `s`.`note_fee`, `s`.`other1_fee`, `s`.`other1_fee_name`, `s`.`other2_fee`, `s`.`other2_fee_name`, `s`.`other3_fee`, `s`.`other3_fee_name`, `s`.`owing_fee`, `s`.`paid_fee`, `s`.`term_id`, `s`.`total_fee`
FROM `ablemusic`.`invoice` AS `s`
WHERE `s`.`invoice_id` = @__details_InvoiceId_0
LIMIT 1
2019-07-03 22:16:20.348 +12:00 [INF] Executed DbCommand (35ms) [Parameters=[@p28='?' (DbType = Int32), @p0='?' (DbType = DateTime), @p1='?' (DbType = Decimal), @p2='?' (Size = -1), @p3='?' (DbType = Int32), @p4='?' (Size = -1), @p5='?' (DbType = DateTime), @p6='?' (DbType = DateTime), @p7='?' (DbType = DateTime), @p8='?' (DbType = AnsiString), @p9='?' (Size = -1), @p10='?' (DbType = Int16), @p11='?' (DbType = Int16), @p12='?' (DbType = Int32), @p13='?' (Size = -1), @p14='?' (DbType = Decimal), @p15='?' (Size = -1), @p16='?' (DbType = Int32), @p17='?' (DbType = Decimal), @p18='?' (DbType = Decimal), @p19='?' (Size = -1), @p20='?' (DbType = Decimal), @p21='?' (Size = -1), @p22='?' (DbType = Decimal), @p23='?' (Size = -1), @p24='?' (DbType = Decimal), @p25='?' (DbType = Decimal), @p26='?' (DbType = Int16), @p27='?' (DbType = Decimal)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`invoice` SET `begin_date` = @p0, `concert_fee` = @p1, `concert_fee_name` = @p2, `course_instance_id` = @p3, `course_name` = @p4, `created_at` = @p5, `due_date` = @p6, `end_date` = @p7, `group_course_instance_id` = @p8, `invoice_num` = @p9, `is_active` = @p10, `is_paid` = @p11, `learner_id` = @p12, `learner_name` = @p13, `lesson_fee` = @p14, `lesson_note_fee_name` = @p15, `lesson_quantity` = @p16, `note_fee` = @p17, `other1_fee` = @p18, `other1_fee_name` = @p19, `other2_fee` = @p20, `other2_fee_name` = @p21, `other3_fee` = @p22, `other3_fee_name` = @p23, `owing_fee` = @p24, `paid_fee` = @p25, `term_id` = @p26, `total_fee` = @p27
WHERE `invoice_id` = @p28;
SELECT ROW_COUNT();
2019-07-03 22:16:20.383 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[@p0='?' (DbType = AnsiString), @p1='?' (DbType = Decimal), @p2='?' (DbType = AnsiString), @p3='?' (Size = -1), @p4='?' (DbType = DateTime), @p5='?' (DbType = Int32), @p6='?' (DbType = AnsiString), @p7='?' (DbType = Int32), @p8='?' (DbType = Byte), @p9='?' (DbType = Byte), @p10='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`payment` (`after_balance`, `amount`, `before_balance`, `comment`, `created_at`, `invoice_id`, `is_confirmed`, `learner_id`, `payment_method`, `payment_type`, `staff_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
SELECT `payment_id`
FROM `ablemusic`.`payment`
WHERE ROW_COUNT() = 1
 AND `payment_id`=LAST_INSERT_ID();
2019-07-03 22:16:20.414 +12:00 [INF] Executed DbCommand (30ms) [Parameters=[@__details_LearnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`learner_id`, `s`.`balance`, `s`.`updated_at`
FROM `ablemusic`.`fund` AS `s`
WHERE `s`.`learner_id` = @__details_LearnerId_0
LIMIT 1
2019-07-03 22:16:20.446 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Decimal), @p1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
UPDATE `ablemusic`.`fund` SET `balance` = @p0, `updated_at` = @p1
WHERE `learner_id` = @p2;
SELECT ROW_COUNT();
2019-07-03 22:16:40.720 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[@__invoice_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`invoice_id`, `x`.`begin_date`, `x`.`concert_fee`, `x`.`concert_fee_name`, `x`.`course_instance_id`, `x`.`course_name`, `x`.`created_at`, `x`.`due_date`, `x`.`end_date`, `x`.`group_course_instance_id`, `x`.`invoice_num`, `x`.`is_active`, `x`.`is_paid`, `x`.`learner_id`, `x`.`learner_name`, `x`.`lesson_fee`, `x`.`lesson_note_fee_name`, `x`.`lesson_quantity`, `x`.`note_fee`, `x`.`other1_fee`, `x`.`other1_fee_name`, `x`.`other2_fee`, `x`.`other2_fee_name`, `x`.`other3_fee`, `x`.`other3_fee_name`, `x`.`owing_fee`, `x`.`paid_fee`, `x`.`term_id`, `x`.`total_fee`
FROM `ablemusic`.`invoice` AS `x`
WHERE `x`.`invoice_id` = @__invoice_id_0
LIMIT 1
2019-07-03 22:16:40.754 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_schedule_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`day_of_week`, `x`.`end_time`, `x`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
ORDER BY `x`.`day_of_week`
2019-07-03 22:16:40.787 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32), @__invoice_EndDate_1='?' (DbType = DateTime)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`amendment_id`, `x`.`amend_type`, `x`.`begin_date`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`course_schedule_id`, `x`.`created_at`, `x`.`day_of_week`, `x`.`end_date`, `x`.`end_time`, `x`.`is_temporary`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`amendment` AS `x`
WHERE (`x`.`course_instance_id` = @__invoice_CourseInstanceId_0) AND (`x`.`begin_date` <= @__invoice_EndDate_1)
ORDER BY `x`.`created_at`
2019-07-03 22:16:40.820 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__invoice_CourseInstanceId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_instance_id`, `x`.`begin_date`, `x`.`course_id`, `x`.`end_date`, `x`.`invoice_date`, `x`.`learner_id`, `x`.`org_id`, `x`.`room_id`, `x`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `x`
WHERE `x`.`course_instance_id` = @__invoice_CourseInstanceId_0
LIMIT 1
2019-07-03 22:16:40.859 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`holiday_date`
FROM `ablemusic`.`holiday` AS `x`
2019-07-03 22:16:40.895 +12:00 [INF] Executed DbCommand (35ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (DbType = Int16), @p7='?' (DbType = AnsiString), @p8='?' (DbType = Byte), @p9='?' (DbType = Byte), @p10='?' (DbType = Int32), @p11='?' (DbType = Int16), @p12='?' (Size = -1), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_trial`, `learner_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-03 22:16:40.926 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[@p16='?' (DbType = Int32), @p17='?' (DbType = DateTime), @p18='?' (DbType = AnsiString), @p19='?' (DbType = Int32), @p20='?' (DbType = Int32), @p21='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson_remain` (`course_instance_id`, `expiry_date`, `group_course_instance_id`, `learner_id`, `quantity`, `term_id`)
VALUES (@p16, @p17, @p18, @p19, @p20, @p21);
SELECT `lesson_remain_id`
FROM `ablemusic`.`lesson_remain`
WHERE ROW_COUNT() = 1
 AND `lesson_remain_id`=LAST_INSERT_ID();
2019-07-03 22:16:40.959 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (DbType = Int16), @p7='?' (DbType = AnsiString), @p8='?' (DbType = Byte), @p9='?' (DbType = Byte), @p10='?' (DbType = Int32), @p11='?' (DbType = Int16), @p12='?' (Size = -1), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_trial`, `learner_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-03 22:16:40.994 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (DbType = Int16), @p7='?' (DbType = AnsiString), @p8='?' (DbType = Byte), @p9='?' (DbType = Byte), @p10='?' (DbType = Int32), @p11='?' (DbType = Int16), @p12='?' (Size = -1), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_trial`, `learner_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-03 22:16:41.026 +12:00 [INF] Executed DbCommand (30ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (DbType = Int16), @p7='?' (DbType = AnsiString), @p8='?' (DbType = Byte), @p9='?' (DbType = Byte), @p10='?' (DbType = Int32), @p11='?' (DbType = Int16), @p12='?' (Size = -1), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_trial`, `learner_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-03 22:16:41.058 +12:00 [INF] Executed DbCommand (30ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (DbType = Int16), @p7='?' (DbType = AnsiString), @p8='?' (DbType = Byte), @p9='?' (DbType = Byte), @p10='?' (DbType = Int32), @p11='?' (DbType = Int16), @p12='?' (Size = -1), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_trial`, `learner_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-03 22:16:41.090 +12:00 [INF] Executed DbCommand (30ms) [Parameters=[@p0='?' (DbType = DateTime), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime), @p3='?' (DbType = DateTime), @p4='?' (DbType = AnsiString), @p5='?' (DbType = Int32), @p6='?' (DbType = Int16), @p7='?' (DbType = AnsiString), @p8='?' (DbType = Byte), @p9='?' (DbType = Byte), @p10='?' (DbType = Int32), @p11='?' (DbType = Int16), @p12='?' (Size = -1), @p13='?' (DbType = Int16), @p14='?' (DbType = Int16), @p15='?' (DbType = AnsiString)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO `ablemusic`.`lesson` (`begin_time`, `course_instance_id`, `created_at`, `end_time`, `group_course_instance_id`, `invoice_id`, `is_canceled`, `is_changed`, `is_confirm`, `is_trial`, `learner_id`, `org_id`, `reason`, `room_id`, `teacher_id`, `trial_course_id`)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15);
SELECT `lesson_id`
FROM `ablemusic`.`lesson`
WHERE ROW_COUNT() = 1
 AND `lesson_id`=LAST_INSERT_ID();
2019-07-03 22:16:41.123 +12:00 [INF] Executed action method Pegasus_backend.Controllers.PaymentController.SavePaymentDetails (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 27132.016900000002ms.
2019-07-03 22:16:41.123 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.String, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:16:41.124 +12:00 [INF] Executed action Pegasus_backend.Controllers.PaymentController.SavePaymentDetails (Pegasus_backend) in 27133.717200000003ms
2019-07-03 22:16:41.124 +12:00 [INF] Request finished in 27134.3993ms 200 application/json; charset=utf-8
2019-07-03 22:16:45.611 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/invoice/NaN  
2019-07-03 22:16:45.611 +12:00 [INF] Policy execution successful.
2019-07-03 22:16:45.611 +12:00 [INF] Route matched with {action = "GetInvoice", controller = "Invoice"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.List`1[Pegasus_backend.pegasusContext.Invoice]] GetInvoice(Int32) on controller Pegasus_backend.Controllers.InvoiceController (Pegasus_backend).
2019-07-03 22:16:45.612 +12:00 [INF] Executing action method Pegasus_backend.Controllers.InvoiceController.GetInvoice (Pegasus_backend) - Validation state: "Invalid"
2019-07-03 22:16:45.613 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:16:45.715 +12:00 [INF] Executed DbCommand (38ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`invoice_id`, `s`.`begin_date`, `s`.`concert_fee`, `s`.`concert_fee_name`, `s`.`course_instance_id`, `s`.`course_name`, `s`.`created_at`, `s`.`due_date`, `s`.`end_date`, `s`.`group_course_instance_id`, `s`.`invoice_num`, `s`.`is_active`, `s`.`is_paid`, `s`.`learner_id`, `s`.`learner_name`, `s`.`lesson_fee`, `s`.`lesson_note_fee_name`, `s`.`lesson_quantity`, `s`.`note_fee`, `s`.`other1_fee`, `s`.`other1_fee_name`, `s`.`other2_fee`, `s`.`other2_fee_name`, `s`.`other3_fee`, `s`.`other3_fee_name`, `s`.`owing_fee`, `s`.`paid_fee`, `s`.`term_id`, `s`.`total_fee`, `s.Term`.`term_id`, `s.Term`.`begin_date`, `s.Term`.`end_date`, `s.Term`.`term_name`, `s.Term`.`term_type`, `s.Term`.`week_quantity`
FROM `ablemusic`.`invoice` AS `s`
LEFT JOIN `ablemusic`.`term` AS `s.Term` ON `s`.`term_id` = `s.Term`.`term_id`
WHERE ((`s`.`learner_id` = @__id_0) AND (`s`.`is_active` = 1)) AND (`s`.`is_paid` = 0)
2019-07-03 22:16:45.715 +12:00 [INF] Executed action method Pegasus_backend.Controllers.InvoiceController.GetInvoice (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.BadRequestObjectResult in 102.295ms.
2019-07-03 22:16:45.715 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Invoice, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:16:45.715 +12:00 [INF] Executed action Pegasus_backend.Controllers.InvoiceController.GetInvoice (Pegasus_backend) in 104.2467ms
2019-07-03 22:16:45.715 +12:00 [INF] Request finished in 104.9946ms 400 application/json; charset=utf-8
2019-07-03 22:16:54.503 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsBetweenDate/158/2019-06-27/2019-07-03  
2019-07-03 22:16:54.503 +12:00 [INF] Policy execution successful.
2019-07-03 22:16:54.503 +12:00 [INF] Route matched with {action = "GetLessonsBetweenDate", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsBetweenDate(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32]) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-03 22:16:54.504 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:16:54.505 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:16:54.602 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-03 22:16:54.946 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-03 22:16:54.962 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:16:54.962 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:16:54.962 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:16:54.962 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:16:54.962 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:16:54.963 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:16:54.999 +12:00 [WRN] The LINQ expression 'where ((__8__locals1_beginDate_Value_Date_0 <= Convert([s].EndTime, DateTime).Date) AndAlso (Convert([s].EndTime, DateTime).Date <= __8__locals1_endDate_Value_Date_1))' could not be translated and will be evaluated locally.
2019-07-03 22:16:55.122 +12:00 [INF] Executed DbCommand (39ms) [Parameters=[@__orgId_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`end_time` AS `EndTime`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.Teacher`.`first_name` AS `TeacherFirstName`, `s`.`begin_time` AS `BeginTime`, `s`.`lesson_id` AS `LessonId`, `s.Room`.`room_name` AS `Room`, `s.Org`.`org_name` AS `Branch`, `s`.`is_canceled` AS `IsCanceled`, `s`.`reason` AS `CancelReson`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_trial` AS `IsTrial`, `s.Learner`.`first_name` AS `Learner`, `s`.`learner_id` AS `LearnerId`, `s`.`room_id` AS `RoomId`, `s`.`teacher_id` AS `TeacherId`, `s`.`org_id` AS `OrgId`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE `s`.`org_id` = @__orgId_2
2019-07-03 22:16:55.134 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 630.0857ms.
2019-07-03 22:16:55.134 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:16:55.135 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend) in 631.1099ms
2019-07-03 22:16:55.135 +12:00 [INF] Request finished in 631.759ms 200 application/json; charset=utf-8
2019-07-03 22:17:01.583 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsBetweenDate/158/2019-06-01/2019-07-03  
2019-07-03 22:17:01.583 +12:00 [INF] Policy execution successful.
2019-07-03 22:17:01.583 +12:00 [INF] Route matched with {action = "GetLessonsBetweenDate", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsBetweenDate(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32]) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-03 22:17:01.584 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:17:01.585 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:17:01.685 +12:00 [INF] Executed DbCommand (35ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-03 22:17:01.810 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-03 22:17:01.818 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:01.819 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:01.819 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:01.819 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:01.819 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:01.819 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:01.844 +12:00 [WRN] The LINQ expression 'where ((__8__locals1_beginDate_Value_Date_0 <= Convert([s].EndTime, DateTime).Date) AndAlso (Convert([s].EndTime, DateTime).Date <= __8__locals1_endDate_Value_Date_1))' could not be translated and will be evaluated locally.
2019-07-03 22:17:02.022 +12:00 [INF] Executed DbCommand (100ms) [Parameters=[@__orgId_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`end_time` AS `EndTime`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.Teacher`.`first_name` AS `TeacherFirstName`, `s`.`begin_time` AS `BeginTime`, `s`.`lesson_id` AS `LessonId`, `s.Room`.`room_name` AS `Room`, `s.Org`.`org_name` AS `Branch`, `s`.`is_canceled` AS `IsCanceled`, `s`.`reason` AS `CancelReson`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_trial` AS `IsTrial`, `s.Learner`.`first_name` AS `Learner`, `s`.`learner_id` AS `LearnerId`, `s`.`room_id` AS `RoomId`, `s`.`teacher_id` AS `TeacherId`, `s`.`org_id` AS `OrgId`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE `s`.`org_id` = @__orgId_2
2019-07-03 22:17:02.024 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 439.9429ms.
2019-07-03 22:17:02.024 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:17:02.025 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend) in 441.1261ms
2019-07-03 22:17:02.025 +12:00 [INF] Request finished in 441.954ms 200 application/json; charset=utf-8
2019-07-03 22:17:06.660 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsBetweenDate/158/2019-06-01/2019-07-10  
2019-07-03 22:17:06.660 +12:00 [INF] Policy execution successful.
2019-07-03 22:17:06.661 +12:00 [INF] Route matched with {action = "GetLessonsBetweenDate", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsBetweenDate(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32]) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-03 22:17:06.661 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:17:06.662 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:17:06.767 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-03 22:17:06.866 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-03 22:17:06.876 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:06.876 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:06.877 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:06.877 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:06.877 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:06.877 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:06.903 +12:00 [WRN] The LINQ expression 'where ((__8__locals1_beginDate_Value_Date_0 <= Convert([s].EndTime, DateTime).Date) AndAlso (Convert([s].EndTime, DateTime).Date <= __8__locals1_endDate_Value_Date_1))' could not be translated and will be evaluated locally.
2019-07-03 22:17:07.023 +12:00 [INF] Executed DbCommand (37ms) [Parameters=[@__orgId_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`end_time` AS `EndTime`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.Teacher`.`first_name` AS `TeacherFirstName`, `s`.`begin_time` AS `BeginTime`, `s`.`lesson_id` AS `LessonId`, `s.Room`.`room_name` AS `Room`, `s.Org`.`org_name` AS `Branch`, `s`.`is_canceled` AS `IsCanceled`, `s`.`reason` AS `CancelReson`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_trial` AS `IsTrial`, `s.Learner`.`first_name` AS `Learner`, `s`.`learner_id` AS `LearnerId`, `s`.`room_id` AS `RoomId`, `s`.`teacher_id` AS `TeacherId`, `s`.`org_id` AS `OrgId`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE `s`.`org_id` = @__orgId_2
2019-07-03 22:17:07.034 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 373.148ms.
2019-07-03 22:17:07.035 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:17:07.035 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend) in 374.1234ms
2019-07-03 22:17:07.035 +12:00 [INF] Request finished in 374.941ms 200 application/json; charset=utf-8
2019-07-03 22:17:22.363 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/room/forCalendar  
2019-07-03 22:17:22.363 +12:00 [INF] Policy execution successful.
2019-07-03 22:17:22.364 +12:00 [INF] Request finished in 0.3758ms 204 
2019-07-03 22:17:22.415 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/room/forCalendar  
2019-07-03 22:17:22.416 +12:00 [INF] Policy execution successful.
2019-07-03 22:17:22.453 +12:00 [INF] Successfully validated the token.
2019-07-03 22:17:22.459 +12:00 [INF] Route matched with {action = "GetRoom", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoom() on controller Pegasus_backend.Controllers.RoomController (Pegasus_backend).
2019-07-03 22:17:22.478 +12:00 [INF] Authorization was successful.
2019-07-03 22:17:22.479 +12:00 [INF] Executing action method Pegasus_backend.Controllers.RoomController.GetRoom (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:17:22.486 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:17:22.590 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__userId_0
LIMIT 1
2019-07-03 22:17:22.685 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-03 22:17:22.791 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__orgId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`room_id` AS `id`, `s`.`room_name` AS `title`
FROM `ablemusic`.`room` AS `s`
WHERE `s`.`org_id` = @__orgId_0
2019-07-03 22:17:22.794 +12:00 [INF] Executed action method Pegasus_backend.Controllers.RoomController.GetRoom (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 314.27500000000003ms.
2019-07-03 22:17:22.794 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.IEnumerable`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:17:22.800 +12:00 [INF] Executed action Pegasus_backend.Controllers.RoomController.GetRoom (Pegasus_backend) in 340.36420000000004ms
2019-07-03 22:17:22.800 +12:00 [INF] Request finished in 384.4046ms 200 application/json; charset=utf-8
2019-07-03 22:17:22.806 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/158/2019-07-03  
2019-07-03 22:17:22.806 +12:00 [INF] Policy execution successful.
2019-07-03 22:17:22.806 +12:00 [INF] Request finished in 0.3344ms 204 
2019-07-03 22:17:22.912 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/158/2019-07-03  
2019-07-03 22:17:22.912 +12:00 [INF] Policy execution successful.
2019-07-03 22:17:22.912 +12:00 [INF] Successfully validated the token.
2019-07-03 22:17:22.918 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-03 22:17:22.918 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:17:22.942 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:17:23.070 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-03 22:17:23.166 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-03 22:17:23.192 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:23.192 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:23.192 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:23.192 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:23.192 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:23.192 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:23.192 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:23.226 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-03 22:17:23.382 +12:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherName`, `s`.`course_instance_id`, CASE
    WHEN ((
        SELECT `q1`.`balance`
        FROM `ablemusic`.`fund` AS `q1`
        WHERE `q1`.`learner_id` = `s`.`learner_id`
        LIMIT 1
    ) - (
        SELECT `q2`.`price`
        FROM `ablemusic`.`course` AS `q2`
        WHERE `q2`.`course_id` = `s.CourseInstance`.`course_id`
        LIMIT 1
    )) <= 0
    THEN 1 ELSE 0
END, `s.Learner`.`first_name`, `s.Room`.`room_name` AS `RoomName`, `s.Org`.`org_name` AS `OrgName`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE ((`s`.`is_canceled` <> 1) OR `s`.`is_canceled` IS NULL) AND ((`s`.`is_confirm` <> 1) OR `s`.`is_confirm` IS NULL)
2019-07-03 22:17:23.494 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 575.8855ms.
2019-07-03 22:17:23.495 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:17:23.501 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 583.6219ms
2019-07-03 22:17:23.502 +12:00 [INF] Request finished in 589.9701ms 200 application/json; charset=utf-8
2019-07-03 22:17:25.063 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/158/2019-07-04  
2019-07-03 22:17:25.064 +12:00 [INF] Policy execution successful.
2019-07-03 22:17:25.064 +12:00 [INF] Request finished in 0.4169ms 204 
2019-07-03 22:17:25.096 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/158/2019-07-04  
2019-07-03 22:17:25.097 +12:00 [INF] Policy execution successful.
2019-07-03 22:17:25.097 +12:00 [INF] Successfully validated the token.
2019-07-03 22:17:25.097 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-03 22:17:25.098 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:17:25.099 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:17:25.194 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-03 22:17:25.290 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-03 22:17:25.305 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:25.305 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:25.305 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:25.305 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:25.305 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:25.305 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:25.305 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:25.333 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-03 22:17:25.503 +12:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherName`, `s`.`course_instance_id`, CASE
    WHEN ((
        SELECT `q1`.`balance`
        FROM `ablemusic`.`fund` AS `q1`
        WHERE `q1`.`learner_id` = `s`.`learner_id`
        LIMIT 1
    ) - (
        SELECT `q2`.`price`
        FROM `ablemusic`.`course` AS `q2`
        WHERE `q2`.`course_id` = `s.CourseInstance`.`course_id`
        LIMIT 1
    )) <= 0
    THEN 1 ELSE 0
END, `s.Learner`.`first_name`, `s.Room`.`room_name` AS `RoomName`, `s.Org`.`org_name` AS `OrgName`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE ((`s`.`is_canceled` <> 1) OR `s`.`is_canceled` IS NULL) AND ((`s`.`is_confirm` <> 1) OR `s`.`is_confirm` IS NULL)
2019-07-03 22:17:25.618 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 519.7747ms.
2019-07-03 22:17:25.618 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:17:25.618 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 521.2111ms
2019-07-03 22:17:25.619 +12:00 [INF] Request finished in 522.1476ms 200 application/json; charset=utf-8
2019-07-03 22:17:26.207 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/158/2019-07-05  
2019-07-03 22:17:26.207 +12:00 [INF] Policy execution successful.
2019-07-03 22:17:26.207 +12:00 [INF] Request finished in 0.3814ms 204 
2019-07-03 22:17:26.232 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/158/2019-07-05  
2019-07-03 22:17:26.232 +12:00 [INF] Policy execution successful.
2019-07-03 22:17:26.233 +12:00 [INF] Successfully validated the token.
2019-07-03 22:17:26.233 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-03 22:17:26.233 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:17:26.234 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:17:26.330 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-03 22:17:26.426 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-03 22:17:26.440 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:26.441 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:26.441 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:26.441 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:26.441 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:26.441 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:26.441 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:26.470 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-03 22:17:26.607 +12:00 [INF] Executed DbCommand (40ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherName`, `s`.`course_instance_id`, CASE
    WHEN ((
        SELECT `q1`.`balance`
        FROM `ablemusic`.`fund` AS `q1`
        WHERE `q1`.`learner_id` = `s`.`learner_id`
        LIMIT 1
    ) - (
        SELECT `q2`.`price`
        FROM `ablemusic`.`course` AS `q2`
        WHERE `q2`.`course_id` = `s.CourseInstance`.`course_id`
        LIMIT 1
    )) <= 0
    THEN 1 ELSE 0
END, `s.Learner`.`first_name`, `s.Room`.`room_name` AS `RoomName`, `s.Org`.`org_name` AS `OrgName`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE ((`s`.`is_canceled` <> 1) OR `s`.`is_canceled` IS NULL) AND ((`s`.`is_confirm` <> 1) OR `s`.`is_confirm` IS NULL)
2019-07-03 22:17:26.715 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 481.2054ms.
2019-07-03 22:17:26.715 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:17:26.715 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 481.899ms
2019-07-03 22:17:26.715 +12:00 [INF] Request finished in 482.8077ms 200 application/json; charset=utf-8
2019-07-03 22:17:27.330 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/158/2019-07-06  
2019-07-03 22:17:27.330 +12:00 [INF] Policy execution successful.
2019-07-03 22:17:27.330 +12:00 [INF] Request finished in 0.3164ms 204 
2019-07-03 22:17:27.350 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/158/2019-07-06  
2019-07-03 22:17:27.350 +12:00 [INF] Policy execution successful.
2019-07-03 22:17:27.350 +12:00 [INF] Successfully validated the token.
2019-07-03 22:17:27.351 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-03 22:17:27.351 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:17:27.352 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:17:27.450 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-03 22:17:27.545 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-03 22:17:27.559 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:27.559 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:27.559 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:27.559 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:27.559 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:27.560 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:27.560 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:27.588 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-03 22:17:27.719 +12:00 [INF] Executed DbCommand (38ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherName`, `s`.`course_instance_id`, CASE
    WHEN ((
        SELECT `q1`.`balance`
        FROM `ablemusic`.`fund` AS `q1`
        WHERE `q1`.`learner_id` = `s`.`learner_id`
        LIMIT 1
    ) - (
        SELECT `q2`.`price`
        FROM `ablemusic`.`course` AS `q2`
        WHERE `q2`.`course_id` = `s.CourseInstance`.`course_id`
        LIMIT 1
    )) <= 0
    THEN 1 ELSE 0
END, `s.Learner`.`first_name`, `s.Room`.`room_name` AS `RoomName`, `s.Org`.`org_name` AS `OrgName`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE ((`s`.`is_canceled` <> 1) OR `s`.`is_canceled` IS NULL) AND ((`s`.`is_confirm` <> 1) OR `s`.`is_confirm` IS NULL)
2019-07-03 22:17:27.825 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 474.0686ms.
2019-07-03 22:17:27.826 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:17:27.845 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 494.7028ms
2019-07-03 22:17:27.846 +12:00 [INF] Request finished in 495.724ms 200 application/json; charset=utf-8
2019-07-03 22:17:54.934 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsBetweenDate/158/2019-06-27/2019-07-03  
2019-07-03 22:17:54.934 +12:00 [INF] Policy execution successful.
2019-07-03 22:17:54.934 +12:00 [INF] Route matched with {action = "GetLessonsBetweenDate", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsBetweenDate(System.Nullable`1[System.DateTime], System.Nullable`1[System.DateTime], System.Nullable`1[System.Int32]) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-03 22:17:54.934 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:17:54.935 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:17:55.030 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-03 22:17:55.125 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-03 22:17:55.133 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:55.133 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:55.133 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:55.133 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:55.134 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:55.134 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:55.168 +12:00 [WRN] The LINQ expression 'where ((__8__locals1_beginDate_Value_Date_0 <= Convert([s].EndTime, DateTime).Date) AndAlso (Convert([s].EndTime, DateTime).Date <= __8__locals1_endDate_Value_Date_1))' could not be translated and will be evaluated locally.
2019-07-03 22:17:55.286 +12:00 [INF] Executed DbCommand (36ms) [Parameters=[@__orgId_2='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`end_time` AS `EndTime`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.Teacher`.`first_name` AS `TeacherFirstName`, `s`.`begin_time` AS `BeginTime`, `s`.`lesson_id` AS `LessonId`, `s.Room`.`room_name` AS `Room`, `s.Org`.`org_name` AS `Branch`, `s`.`is_canceled` AS `IsCanceled`, `s`.`reason` AS `CancelReson`, `s`.`is_confirm` AS `IsConfirm`, `s`.`is_trial` AS `IsTrial`, `s.Learner`.`first_name` AS `Learner`, `s`.`learner_id` AS `LearnerId`, `s`.`room_id` AS `RoomId`, `s`.`teacher_id` AS `TeacherId`, `s`.`org_id` AS `OrgId`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE `s`.`org_id` = @__orgId_2
2019-07-03 22:17:55.294 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 359.64070000000004ms.
2019-07-03 22:17:55.294 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:17:55.295 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsBetweenDate (Pegasus_backend) in 360.4617ms
2019-07-03 22:17:55.295 +12:00 [INF] Request finished in 361.0763ms 200 application/json; charset=utf-8
2019-07-03 22:17:59.077 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/room/forCalendar  
2019-07-03 22:17:59.077 +12:00 [INF] Policy execution successful.
2019-07-03 22:17:59.077 +12:00 [INF] Request finished in 0.3279ms 204 
2019-07-03 22:17:59.090 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/room/forCalendar  
2019-07-03 22:17:59.091 +12:00 [INF] Policy execution successful.
2019-07-03 22:17:59.091 +12:00 [INF] Successfully validated the token.
2019-07-03 22:17:59.091 +12:00 [INF] Route matched with {action = "GetRoom", controller = "Room"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetRoom() on controller Pegasus_backend.Controllers.RoomController (Pegasus_backend).
2019-07-03 22:17:59.092 +12:00 [INF] Authorization was successful.
2019-07-03 22:17:59.092 +12:00 [INF] Executing action method Pegasus_backend.Controllers.RoomController.GetRoom (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:17:59.093 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:17:59.190 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__userId_0
LIMIT 1
2019-07-03 22:17:59.287 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-03 22:17:59.382 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__orgId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`room_id` AS `id`, `s`.`room_name` AS `title`
FROM `ablemusic`.`room` AS `s`
WHERE `s`.`org_id` = @__orgId_0
2019-07-03 22:17:59.382 +12:00 [INF] Executed action method Pegasus_backend.Controllers.RoomController.GetRoom (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 290.06870000000004ms.
2019-07-03 22:17:59.383 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.IEnumerable`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:17:59.383 +12:00 [INF] Executed action Pegasus_backend.Controllers.RoomController.GetRoom (Pegasus_backend) in 291.7096ms
2019-07-03 22:17:59.383 +12:00 [INF] Request finished in 292.6824ms 200 application/json; charset=utf-8
2019-07-03 22:17:59.390 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lesson/GetLessonsForReceptionist/158/2019-07-03  
2019-07-03 22:17:59.390 +12:00 [INF] Policy execution successful.
2019-07-03 22:17:59.390 +12:00 [INF] Request finished in 0.3793ms 204 
2019-07-03 22:17:59.434 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lesson/GetLessonsForReceptionist/158/2019-07-03  
2019-07-03 22:17:59.434 +12:00 [INF] Policy execution successful.
2019-07-03 22:17:59.434 +12:00 [INF] Successfully validated the token.
2019-07-03 22:17:59.435 +12:00 [INF] Route matched with {action = "GetLessonsForReceptionist", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLessonsForReceptionist(Int32, System.DateTime) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-03 22:17:59.435 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:17:59.435 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:17:59.530 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__8__locals1_userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
WHERE `s`.`user_id` = @__8__locals1_userId_0
LIMIT 1
2019-07-03 22:17:59.626 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__staff_StaffId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_org_id`, `s`.`is_activate`, `s`.`org_id`, `s`.`staff_id`
FROM `ablemusic`.`staff_org` AS `s`
WHERE `s`.`staff_id` = @__staff_StaffId_0
LIMIT 1
2019-07-03 22:17:59.640 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:59.640 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:59.640 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:59.640 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:59.640 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:59.640 +12:00 [WRN] The Include operation for navigation '[s].TrialCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:59.640 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.LearnerGroupCourse.Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:17:59.670 +12:00 [WRN] The LINQ expression 'where ((((Convert(Convert([s].OrgId, Int32), Nullable`1) == Convert(__orgId_0, Nullable`1)) AndAlso (Convert([s].BeginTime, DateTime).Year == __8__locals1_date_Year_1)) AndAlso (Convert([s].BeginTime, DateTime).Month == __8__locals1_date_Month_2)) AndAlso (Convert([s].BeginTime, DateTime).Day == __8__locals1_date_Day_3))' could not be translated and will be evaluated locally.
2019-07-03 22:17:59.803 +12:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.CourseInstance`.`course_instance_id`, `s.CourseInstance`.`begin_date`, `s.CourseInstance`.`course_id`, `s.CourseInstance`.`end_date`, `s.CourseInstance`.`invoice_date`, `s.CourseInstance`.`learner_id`, `s.CourseInstance`.`org_id`, `s.CourseInstance`.`room_id`, `s.CourseInstance`.`teacher_id`, `s.GroupCourseInstance`.`group_course_instance_id`, `s.GroupCourseInstance`.`begin_date`, `s.GroupCourseInstance`.`course_id`, `s.GroupCourseInstance`.`end_date`, `s.GroupCourseInstance`.`invoice_date`, `s.GroupCourseInstance`.`is_activate`, `s.GroupCourseInstance`.`is_started`, `s.GroupCourseInstance`.`org_id`, `s.GroupCourseInstance`.`room_id`, `s.GroupCourseInstance`.`teacher_id`, `s`.`org_id` AS `OrgId`, `s`.`begin_time` AS `start`, `s`.`lesson_id` AS `id`, `s`.`room_id` AS `resourceId`, `s`.`end_time` AS `end`, `s.Teacher`.`first_name` AS `TeacherName`, `s`.`course_instance_id`, CASE
    WHEN ((
        SELECT `q1`.`balance`
        FROM `ablemusic`.`fund` AS `q1`
        WHERE `q1`.`learner_id` = `s`.`learner_id`
        LIMIT 1
    ) - (
        SELECT `q2`.`price`
        FROM `ablemusic`.`course` AS `q2`
        WHERE `q2`.`course_id` = `s.CourseInstance`.`course_id`
        LIMIT 1
    )) <= 0
    THEN 1 ELSE 0
END, `s.Learner`.`first_name`, `s.Room`.`room_name` AS `RoomName`, `s.Org`.`org_name` AS `OrgName`, `s`.`teacher_id` AS `TeacherId`, `s.GroupCourseInstance.Course`.`course_name`, `s.TrialCourse`.`course_name`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_id`, `s`.`trial_course_id`, `s.CourseInstance.Course`.`course_id`, `s`.`learner_id` AS `LearnerId`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`course` AS `s.TrialCourse` ON `s`.`trial_course_id` = `s.TrialCourse`.`course_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
WHERE ((`s`.`is_canceled` <> 1) OR `s`.`is_canceled` IS NULL) AND ((`s`.`is_confirm` <> 1) OR `s`.`is_confirm` IS NULL)
2019-07-03 22:17:59.914 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 479.1583ms.
2019-07-03 22:17:59.915 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:17:59.915 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetLessonsForReceptionist (Pegasus_backend) in 480.02000000000004ms
2019-07-03 22:17:59.915 +12:00 [INF] Request finished in 480.9467ms 200 application/json; charset=utf-8
2019-07-03 22:22:14.030 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/nihao  
2019-07-03 22:22:14.032 +12:00 [INF] Policy execution successful.
2019-07-03 22:22:14.038 +12:00 [INF] Route matched with {action = "GetLearner", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearner(System.String) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-03 22:22:14.038 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:22:14.039 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:22:14.136 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`learner_id`, `s`.`address`, `s`.`contact_num`, `s`.`created_at`, `s`.`dob`, `s`.`email`, `s`.`enroll_date`, `s`.`first_name`, `s`.`form_url`, `s`.`g5_certification`, `s`.`gender`, `s`.`is_abrsm_g5`, `s`.`is_active`, `s`.`is_under_18`, `s`.`last_name`, `s`.`learner_level`, `s`.`level_type`, `s`.`middle_name`, `s`.`note`, `s`.`org_id`, `s`.`otherfile_url`, `s`.`payment_period`, `s`.`photo`, `s`.`referrer`, `s`.`referrer_learner_id`, `s`.`user_id`
FROM `ablemusic`.`learner` AS `s`
WHERE (`s`.`is_active` = 1) AND `s`.`first_name` LIKE concat('%', @__name_0, '%')
ORDER BY `s`.`learner_id`
2019-07-03 22:22:14.167 +12:00 [INF] Executed DbCommand (30ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.LearnerOthers`.`learner_others_id`, `s.LearnerOthers`.`learner_id`, `s.LearnerOthers`.`learner_level`, `s.LearnerOthers`.`others_type`, `s.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `s.LearnerOthers`
INNER JOIN (
    SELECT `s0`.`learner_id`
    FROM `ablemusic`.`learner` AS `s0`
    WHERE (`s0`.`is_active` = 1) AND `s0`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t` ON `s.LearnerOthers`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-03 22:22:14.200 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Parent`.`parent_id`, `s.Parent`.`contact_num`, `s.Parent`.`created_at`, `s.Parent`.`email`, `s.Parent`.`first_name`, `s.Parent`.`last_name`, `s.Parent`.`learner_id`, `s.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `s.Parent`
INNER JOIN (
    SELECT `s1`.`learner_id`
    FROM `ablemusic`.`learner` AS `s1`
    WHERE (`s1`.`is_active` = 1) AND `s1`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t0` ON `s.Parent`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-03 22:22:14.232 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.One2oneCourseInstance`.`course_instance_id`, `s.One2oneCourseInstance`.`begin_date`, `s.One2oneCourseInstance`.`course_id`, `s.One2oneCourseInstance`.`end_date`, `s.One2oneCourseInstance`.`invoice_date`, `s.One2oneCourseInstance`.`learner_id`, `s.One2oneCourseInstance`.`org_id`, `s.One2oneCourseInstance`.`room_id`, `s.One2oneCourseInstance`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `s.One2oneCourseInstance`
INNER JOIN (
    SELECT `s2`.`learner_id`
    FROM `ablemusic`.`learner` AS `s2`
    WHERE (`s2`.`is_active` = 1) AND `s2`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t1` ON `s.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`
2019-07-03 22:22:14.264 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.LearnerGroupCourse`.`learner_group_course_id`, `s.LearnerGroupCourse`.`begin_date`, `s.LearnerGroupCourse`.`comment`, `s.LearnerGroupCourse`.`created_at`, `s.LearnerGroupCourse`.`end_date`, `s.LearnerGroupCourse`.`group_course_instance_id`, `s.LearnerGroupCourse`.`invoice_date`, `s.LearnerGroupCourse`.`is_activate`, `s.LearnerGroupCourse`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `s.LearnerGroupCourse`
INNER JOIN (
    SELECT `s3`.`learner_id`
    FROM `ablemusic`.`learner` AS `s3`
    WHERE (`s3`.`is_active` = 1) AND `s3`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t2` ON `s.LearnerGroupCourse`.`learner_id` = `t2`.`learner_id`
ORDER BY `t2`.`learner_id`
2019-07-03 22:22:14.266 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 227.40480000000002ms.
2019-07-03 22:22:14.266 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.IEnumerable`1[[Pegasus_backend.pegasusContext.Learner, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:22:14.267 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) in 229.45100000000002ms
2019-07-03 22:22:14.268 +12:00 [INF] Request finished in 237.878ms 200 application/json; charset=utf-8
2019-07-03 22:22:17.641 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/CourseRemaining/10073  
2019-07-03 22:22:17.642 +12:00 [INF] Policy execution successful.
2019-07-03 22:22:17.642 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Lesson/GetArrangedLessonsByLearner/10073  
2019-07-03 22:22:17.642 +12:00 [INF] Policy execution successful.
2019-07-03 22:22:17.645 +12:00 [INF] Route matched with {action = "GetRemainLessons", controller = "CourseRemaining"}. Executing controller action with signature Pegasus_backend.Models.Result`1[System.Collections.Generic.IEnumerable`1[Pegasus_backend.Models.CourseRemain]] GetRemainLessons(Int32) on controller Pegasus_backend.Controllers.CourseRemainingController (Pegasus_backend).
2019-07-03 22:22:17.646 +12:00 [INF] Executing action method Pegasus_backend.Controllers.CourseRemainingController.GetRemainLessons (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:22:17.650 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:22:17.650 +12:00 [INF] Route matched with {action = "GetArrangedLessonsByLearner", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetArrangedLessonsByLearner(Int32) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-03 22:22:17.651 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetArrangedLessonsByLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:22:17.660 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:22:17.672 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:17.672 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:17.672 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:17.672 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:17.672 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:17.672 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:17.672 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:17.819 +12:00 [INF] Executed DbCommand (36ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`lesson_remain_id`, `lr`.`course_instance_id`, `lr`.`expiry_date`, `lr`.`group_course_instance_id`, `lr`.`learner_id`, `lr`.`quantity`, `lr`.`term_id`, `lr.GroupCourseInstance`.`group_course_instance_id`, `lr.GroupCourseInstance`.`begin_date`, `lr.GroupCourseInstance`.`course_id`, `lr.GroupCourseInstance`.`end_date`, `lr.GroupCourseInstance`.`invoice_date`, `lr.GroupCourseInstance`.`is_activate`, `lr.GroupCourseInstance`.`is_started`, `lr.GroupCourseInstance`.`org_id`, `lr.GroupCourseInstance`.`room_id`, `lr.GroupCourseInstance`.`teacher_id`, `lr.GroupCourseInstance.Course`.`course_id`, `lr.GroupCourseInstance.Course`.`course_category_id`, `lr.GroupCourseInstance.Course`.`course_name`, `lr.GroupCourseInstance.Course`.`course_type`, `lr.GroupCourseInstance.Course`.`duration`, `lr.GroupCourseInstance.Course`.`level`, `lr.GroupCourseInstance.Course`.`price`, `lr.GroupCourseInstance.Course`.`teacher_level`, `lr.CourseInstance`.`course_instance_id`, `lr.CourseInstance`.`begin_date`, `lr.CourseInstance`.`course_id`, `lr.CourseInstance`.`end_date`, `lr.CourseInstance`.`invoice_date`, `lr.CourseInstance`.`learner_id`, `lr.CourseInstance`.`org_id`, `lr.CourseInstance`.`room_id`, `lr.CourseInstance`.`teacher_id`, `lr.CourseInstance.Course`.`course_id`, `lr.CourseInstance.Course`.`course_category_id`, `lr.CourseInstance.Course`.`course_name`, `lr.CourseInstance.Course`.`course_type`, `lr.CourseInstance.Course`.`duration`, `lr.CourseInstance.Course`.`level`, `lr.CourseInstance.Course`.`price`, `lr.CourseInstance.Course`.`teacher_level`, `lr.Term`.`term_id`, `lr.Term`.`begin_date`, `lr.Term`.`end_date`, `lr.Term`.`term_name`, `lr.Term`.`term_type`, `lr.Term`.`week_quantity`
FROM `ablemusic`.`lesson_remain` AS `lr`
LEFT JOIN `ablemusic`.`group_course_instance` AS `lr.GroupCourseInstance` ON `lr`.`group_course_instance_id` = `lr.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `lr.GroupCourseInstance.Course` ON `lr.GroupCourseInstance`.`course_id` = `lr.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `lr.CourseInstance` ON `lr`.`course_instance_id` = `lr.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `lr.CourseInstance.Course` ON `lr.CourseInstance`.`course_id` = `lr.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`term` AS `lr.Term` ON `lr`.`term_id` = `lr.Term`.`term_id`
WHERE `lr`.`learner_id` = @__studentId_0
2019-07-03 22:22:17.827 +12:00 [INF] Executed DbCommand (35ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`begin_time` AS `start`, `s`.`end_time` AS `end`, `s.Learner`.`first_name` AS `learnerFirstName`, `s.Learner`.`last_name` AS `learnerLastName`, `s.Teacher`.`first_name` AS `teacherFirstName`, `s.Teacher`.`last_name` AS `TeacherLastName`, `s`.`group_course_instance_id`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_name`, `s.Org`.`org_name` AS `orgName`, `s.Room`.`room_name` AS `roomName`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
WHERE (`s`.`learner_id` = @__learnerId_0) AND ((`s`.`is_canceled` = 0) AND ((`s`.`is_confirm` <> 1) OR `s`.`is_confirm` IS NULL))
2019-07-03 22:22:17.836 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetArrangedLessonsByLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 184.7939ms.
2019-07-03 22:22:17.836 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:22:17.846 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetArrangedLessonsByLearner (Pegasus_backend) in 195.8008ms
2019-07-03 22:22:17.847 +12:00 [INF] Request finished in 204.6969ms 200 application/json; charset=utf-8
2019-07-03 22:22:17.930 +12:00 [INF] Executed action method Pegasus_backend.Controllers.CourseRemainingController.GetRemainLessons (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 284.0331ms.
2019-07-03 22:22:17.930 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.IEnumerable`1[[Pegasus_backend.Models.CourseRemain, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:22:17.933 +12:00 [INF] Executed action Pegasus_backend.Controllers.CourseRemainingController.GetRemainLessons (Pegasus_backend) in 287.9827ms
2019-07-03 22:22:17.933 +12:00 [INF] Request finished in 291.8772ms 200 application/json; charset=utf-8
2019-07-03 22:22:23.446 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/nihaoma  
2019-07-03 22:22:23.446 +12:00 [INF] Policy execution successful.
2019-07-03 22:22:23.446 +12:00 [INF] Route matched with {action = "GetLearner", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearner(System.String) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-03 22:22:23.447 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:22:23.447 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:22:23.546 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`learner_id`, `s`.`address`, `s`.`contact_num`, `s`.`created_at`, `s`.`dob`, `s`.`email`, `s`.`enroll_date`, `s`.`first_name`, `s`.`form_url`, `s`.`g5_certification`, `s`.`gender`, `s`.`is_abrsm_g5`, `s`.`is_active`, `s`.`is_under_18`, `s`.`last_name`, `s`.`learner_level`, `s`.`level_type`, `s`.`middle_name`, `s`.`note`, `s`.`org_id`, `s`.`otherfile_url`, `s`.`payment_period`, `s`.`photo`, `s`.`referrer`, `s`.`referrer_learner_id`, `s`.`user_id`
FROM `ablemusic`.`learner` AS `s`
WHERE (`s`.`is_active` = 1) AND `s`.`first_name` LIKE concat('%', @__name_0, '%')
ORDER BY `s`.`learner_id`
2019-07-03 22:22:23.578 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.LearnerOthers`.`learner_others_id`, `s.LearnerOthers`.`learner_id`, `s.LearnerOthers`.`learner_level`, `s.LearnerOthers`.`others_type`, `s.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `s.LearnerOthers`
INNER JOIN (
    SELECT `s0`.`learner_id`
    FROM `ablemusic`.`learner` AS `s0`
    WHERE (`s0`.`is_active` = 1) AND `s0`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t` ON `s.LearnerOthers`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-03 22:22:23.678 +12:00 [INF] Executed DbCommand (35ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Parent`.`parent_id`, `s.Parent`.`contact_num`, `s.Parent`.`created_at`, `s.Parent`.`email`, `s.Parent`.`first_name`, `s.Parent`.`last_name`, `s.Parent`.`learner_id`, `s.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `s.Parent`
INNER JOIN (
    SELECT `s1`.`learner_id`
    FROM `ablemusic`.`learner` AS `s1`
    WHERE (`s1`.`is_active` = 1) AND `s1`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t0` ON `s.Parent`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-03 22:22:23.778 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.One2oneCourseInstance`.`course_instance_id`, `s.One2oneCourseInstance`.`begin_date`, `s.One2oneCourseInstance`.`course_id`, `s.One2oneCourseInstance`.`end_date`, `s.One2oneCourseInstance`.`invoice_date`, `s.One2oneCourseInstance`.`learner_id`, `s.One2oneCourseInstance`.`org_id`, `s.One2oneCourseInstance`.`room_id`, `s.One2oneCourseInstance`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `s.One2oneCourseInstance`
INNER JOIN (
    SELECT `s2`.`learner_id`
    FROM `ablemusic`.`learner` AS `s2`
    WHERE (`s2`.`is_active` = 1) AND `s2`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t1` ON `s.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`
2019-07-03 22:22:23.878 +12:00 [INF] Executed DbCommand (35ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.LearnerGroupCourse`.`learner_group_course_id`, `s.LearnerGroupCourse`.`begin_date`, `s.LearnerGroupCourse`.`comment`, `s.LearnerGroupCourse`.`created_at`, `s.LearnerGroupCourse`.`end_date`, `s.LearnerGroupCourse`.`group_course_instance_id`, `s.LearnerGroupCourse`.`invoice_date`, `s.LearnerGroupCourse`.`is_activate`, `s.LearnerGroupCourse`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `s.LearnerGroupCourse`
INNER JOIN (
    SELECT `s3`.`learner_id`
    FROM `ablemusic`.`learner` AS `s3`
    WHERE (`s3`.`is_active` = 1) AND `s3`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t2` ON `s.LearnerGroupCourse`.`learner_id` = `t2`.`learner_id`
ORDER BY `t2`.`learner_id`
2019-07-03 22:22:23.879 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 431.8815ms.
2019-07-03 22:22:23.879 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.IEnumerable`1[[Pegasus_backend.pegasusContext.Learner, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:22:23.879 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) in 432.97110000000004ms
2019-07-03 22:22:23.879 +12:00 [INF] Request finished in 433.8144ms 200 application/json; charset=utf-8
2019-07-03 22:22:23.895 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/CourseRemaining/10074  
2019-07-03 22:22:23.895 +12:00 [INF] Policy execution successful.
2019-07-03 22:22:23.896 +12:00 [INF] Route matched with {action = "GetRemainLessons", controller = "CourseRemaining"}. Executing controller action with signature Pegasus_backend.Models.Result`1[System.Collections.Generic.IEnumerable`1[Pegasus_backend.Models.CourseRemain]] GetRemainLessons(Int32) on controller Pegasus_backend.Controllers.CourseRemainingController (Pegasus_backend).
2019-07-03 22:22:23.896 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Lesson/GetArrangedLessonsByLearner/10074  
2019-07-03 22:22:23.896 +12:00 [INF] Executing action method Pegasus_backend.Controllers.CourseRemainingController.GetRemainLessons (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:22:23.896 +12:00 [INF] Policy execution successful.
2019-07-03 22:22:23.896 +12:00 [INF] Route matched with {action = "GetArrangedLessonsByLearner", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetArrangedLessonsByLearner(Int32) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-03 22:22:23.897 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:22:23.897 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetArrangedLessonsByLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:22:23.897 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:22:23.903 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:23.903 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:23.903 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:23.903 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:23.904 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:23.904 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:23.904 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:24.002 +12:00 [INF] Executed DbCommand (39ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`lesson_remain_id`, `lr`.`course_instance_id`, `lr`.`expiry_date`, `lr`.`group_course_instance_id`, `lr`.`learner_id`, `lr`.`quantity`, `lr`.`term_id`, `lr.GroupCourseInstance`.`group_course_instance_id`, `lr.GroupCourseInstance`.`begin_date`, `lr.GroupCourseInstance`.`course_id`, `lr.GroupCourseInstance`.`end_date`, `lr.GroupCourseInstance`.`invoice_date`, `lr.GroupCourseInstance`.`is_activate`, `lr.GroupCourseInstance`.`is_started`, `lr.GroupCourseInstance`.`org_id`, `lr.GroupCourseInstance`.`room_id`, `lr.GroupCourseInstance`.`teacher_id`, `lr.GroupCourseInstance.Course`.`course_id`, `lr.GroupCourseInstance.Course`.`course_category_id`, `lr.GroupCourseInstance.Course`.`course_name`, `lr.GroupCourseInstance.Course`.`course_type`, `lr.GroupCourseInstance.Course`.`duration`, `lr.GroupCourseInstance.Course`.`level`, `lr.GroupCourseInstance.Course`.`price`, `lr.GroupCourseInstance.Course`.`teacher_level`, `lr.CourseInstance`.`course_instance_id`, `lr.CourseInstance`.`begin_date`, `lr.CourseInstance`.`course_id`, `lr.CourseInstance`.`end_date`, `lr.CourseInstance`.`invoice_date`, `lr.CourseInstance`.`learner_id`, `lr.CourseInstance`.`org_id`, `lr.CourseInstance`.`room_id`, `lr.CourseInstance`.`teacher_id`, `lr.CourseInstance.Course`.`course_id`, `lr.CourseInstance.Course`.`course_category_id`, `lr.CourseInstance.Course`.`course_name`, `lr.CourseInstance.Course`.`course_type`, `lr.CourseInstance.Course`.`duration`, `lr.CourseInstance.Course`.`level`, `lr.CourseInstance.Course`.`price`, `lr.CourseInstance.Course`.`teacher_level`, `lr.Term`.`term_id`, `lr.Term`.`begin_date`, `lr.Term`.`end_date`, `lr.Term`.`term_name`, `lr.Term`.`term_type`, `lr.Term`.`week_quantity`
FROM `ablemusic`.`lesson_remain` AS `lr`
LEFT JOIN `ablemusic`.`group_course_instance` AS `lr.GroupCourseInstance` ON `lr`.`group_course_instance_id` = `lr.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `lr.GroupCourseInstance.Course` ON `lr.GroupCourseInstance`.`course_id` = `lr.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `lr.CourseInstance` ON `lr`.`course_instance_id` = `lr.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `lr.CourseInstance.Course` ON `lr.CourseInstance`.`course_id` = `lr.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`term` AS `lr.Term` ON `lr`.`term_id` = `lr.Term`.`term_id`
WHERE `lr`.`learner_id` = @__studentId_0
2019-07-03 22:22:24.042 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`begin_time` AS `start`, `s`.`end_time` AS `end`, `s.Learner`.`first_name` AS `learnerFirstName`, `s.Learner`.`last_name` AS `learnerLastName`, `s.Teacher`.`first_name` AS `teacherFirstName`, `s.Teacher`.`last_name` AS `TeacherLastName`, `s`.`group_course_instance_id`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_name`, `s.Org`.`org_name` AS `orgName`, `s.Room`.`room_name` AS `roomName`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
WHERE (`s`.`learner_id` = @__learnerId_0) AND ((`s`.`is_canceled` = 0) AND ((`s`.`is_confirm` <> 1) OR `s`.`is_confirm` IS NULL))
2019-07-03 22:22:24.043 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetArrangedLessonsByLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 145.68540000000002ms.
2019-07-03 22:22:24.043 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:22:24.043 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetArrangedLessonsByLearner (Pegasus_backend) in 146.6164ms
2019-07-03 22:22:24.043 +12:00 [INF] Request finished in 147.372ms 200 application/json; charset=utf-8
2019-07-03 22:22:24.045 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Lesson/GetArrangedLessonsByLearner/10074  
2019-07-03 22:22:24.045 +12:00 [INF] Policy execution successful.
2019-07-03 22:22:24.045 +12:00 [INF] Route matched with {action = "GetArrangedLessonsByLearner", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetArrangedLessonsByLearner(Int32) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-03 22:22:24.045 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetArrangedLessonsByLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:22:24.046 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:22:24.052 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:24.052 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:24.052 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:24.052 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:24.052 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:24.052 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:24.052 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:24.118 +12:00 [INF] Executed DbCommand (35ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`invoice_id`, `i`.`begin_date`, `i`.`concert_fee`, `i`.`concert_fee_name`, `i`.`course_instance_id`, `i`.`course_name`, `i`.`created_at`, `i`.`due_date`, `i`.`end_date`, `i`.`group_course_instance_id`, `i`.`invoice_num`, `i`.`is_active`, `i`.`is_paid`, `i`.`learner_id`, `i`.`learner_name`, `i`.`lesson_fee`, `i`.`lesson_note_fee_name`, `i`.`lesson_quantity`, `i`.`note_fee`, `i`.`other1_fee`, `i`.`other1_fee_name`, `i`.`other2_fee`, `i`.`other2_fee_name`, `i`.`other3_fee`, `i`.`other3_fee_name`, `i`.`owing_fee`, `i`.`paid_fee`, `i`.`term_id`, `i`.`total_fee`
FROM `ablemusic`.`invoice` AS `i`
2019-07-03 22:22:24.187 +12:00 [INF] Executed DbCommand (37ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`begin_time` AS `start`, `s`.`end_time` AS `end`, `s.Learner`.`first_name` AS `learnerFirstName`, `s.Learner`.`last_name` AS `learnerLastName`, `s.Teacher`.`first_name` AS `teacherFirstName`, `s.Teacher`.`last_name` AS `TeacherLastName`, `s`.`group_course_instance_id`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_name`, `s.Org`.`org_name` AS `orgName`, `s.Room`.`room_name` AS `roomName`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
WHERE (`s`.`learner_id` = @__learnerId_0) AND ((`s`.`is_canceled` = 0) AND ((`s`.`is_confirm` <> 1) OR `s`.`is_confirm` IS NULL))
2019-07-03 22:22:24.193 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetArrangedLessonsByLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 147.8471ms.
2019-07-03 22:22:24.194 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:22:24.194 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetArrangedLessonsByLearner (Pegasus_backend) in 148.7058ms
2019-07-03 22:22:24.194 +12:00 [INF] Request finished in 149.4255ms 200 application/json; charset=utf-8
2019-07-03 22:22:24.450 +12:00 [INF] Executed DbCommand (38ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`lesson_id`, `i`.`begin_time`, `i`.`course_instance_id`, `i`.`created_at`, `i`.`end_time`, `i`.`group_course_instance_id`, `i`.`invoice_id`, `i`.`is_canceled`, `i`.`is_changed`, `i`.`is_confirm`, `i`.`is_trial`, `i`.`learner_id`, `i`.`org_id`, `i`.`reason`, `i`.`room_id`, `i`.`teacher_id`, `i`.`trial_course_id`, `i.Invoice`.`invoice_id`, `i.Invoice`.`begin_date`, `i.Invoice`.`concert_fee`, `i.Invoice`.`concert_fee_name`, `i.Invoice`.`course_instance_id`, `i.Invoice`.`course_name`, `i.Invoice`.`created_at`, `i.Invoice`.`due_date`, `i.Invoice`.`end_date`, `i.Invoice`.`group_course_instance_id`, `i.Invoice`.`invoice_num`, `i.Invoice`.`is_active`, `i.Invoice`.`is_paid`, `i.Invoice`.`learner_id`, `i.Invoice`.`learner_name`, `i.Invoice`.`lesson_fee`, `i.Invoice`.`lesson_note_fee_name`, `i.Invoice`.`lesson_quantity`, `i.Invoice`.`note_fee`, `i.Invoice`.`other1_fee`, `i.Invoice`.`other1_fee_name`, `i.Invoice`.`other2_fee`, `i.Invoice`.`other2_fee_name`, `i.Invoice`.`other3_fee`, `i.Invoice`.`other3_fee_name`, `i.Invoice`.`owing_fee`, `i.Invoice`.`paid_fee`, `i.Invoice`.`term_id`, `i.Invoice`.`total_fee`
FROM `ablemusic`.`lesson` AS `i`
LEFT JOIN `ablemusic`.`invoice` AS `i.Invoice` ON `i`.`invoice_id` = `i.Invoice`.`invoice_id`
WHERE ((`i`.`learner_id` = @__studentId_0) AND ((`i`.`is_confirm` <> 1) OR `i`.`is_confirm` IS NULL)) AND ((`i`.`is_canceled` <> 1) OR `i`.`is_canceled` IS NULL)
2019-07-03 22:22:24.600 +12:00 [INF] Executed DbCommand (43ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`lesson_id`, `i`.`begin_time`, `i`.`course_instance_id`, `i`.`created_at`, `i`.`end_time`, `i`.`group_course_instance_id`, `i`.`invoice_id`, `i`.`is_canceled`, `i`.`is_changed`, `i`.`is_confirm`, `i`.`is_trial`, `i`.`learner_id`, `i`.`org_id`, `i`.`reason`, `i`.`room_id`, `i`.`teacher_id`, `i`.`trial_course_id`, `i.Invoice`.`invoice_id`, `i.Invoice`.`begin_date`, `i.Invoice`.`concert_fee`, `i.Invoice`.`concert_fee_name`, `i.Invoice`.`course_instance_id`, `i.Invoice`.`course_name`, `i.Invoice`.`created_at`, `i.Invoice`.`due_date`, `i.Invoice`.`end_date`, `i.Invoice`.`group_course_instance_id`, `i.Invoice`.`invoice_num`, `i.Invoice`.`is_active`, `i.Invoice`.`is_paid`, `i.Invoice`.`learner_id`, `i.Invoice`.`learner_name`, `i.Invoice`.`lesson_fee`, `i.Invoice`.`lesson_note_fee_name`, `i.Invoice`.`lesson_quantity`, `i.Invoice`.`note_fee`, `i.Invoice`.`other1_fee`, `i.Invoice`.`other1_fee_name`, `i.Invoice`.`other2_fee`, `i.Invoice`.`other2_fee_name`, `i.Invoice`.`other3_fee`, `i.Invoice`.`other3_fee_name`, `i.Invoice`.`owing_fee`, `i.Invoice`.`paid_fee`, `i.Invoice`.`term_id`, `i.Invoice`.`total_fee`
FROM `ablemusic`.`lesson` AS `i`
LEFT JOIN `ablemusic`.`invoice` AS `i.Invoice` ON `i`.`invoice_id` = `i.Invoice`.`invoice_id`
WHERE ((`i`.`learner_id` = @__studentId_0) AND ((`i`.`is_confirm` <> 1) OR `i`.`is_confirm` IS NULL)) AND ((`i`.`is_canceled` <> 1) OR `i`.`is_canceled` IS NULL)
2019-07-03 22:22:24.605 +12:00 [INF] Executed action method Pegasus_backend.Controllers.CourseRemainingController.GetRemainLessons (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 708.5448ms.
2019-07-03 22:22:24.605 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.IEnumerable`1[[Pegasus_backend.Models.CourseRemain, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:22:24.610 +12:00 [INF] Executed action Pegasus_backend.Controllers.CourseRemainingController.GetRemainLessons (Pegasus_backend) in 714.0818ms
2019-07-03 22:22:24.610 +12:00 [INF] Request finished in 715.0115ms 200 application/json; charset=utf-8
2019-07-03 22:22:24.611 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/CourseRemaining/10074  
2019-07-03 22:22:24.612 +12:00 [INF] Policy execution successful.
2019-07-03 22:22:24.612 +12:00 [INF] Route matched with {action = "GetRemainLessons", controller = "CourseRemaining"}. Executing controller action with signature Pegasus_backend.Models.Result`1[System.Collections.Generic.IEnumerable`1[Pegasus_backend.Models.CourseRemain]] GetRemainLessons(Int32) on controller Pegasus_backend.Controllers.CourseRemainingController (Pegasus_backend).
2019-07-03 22:22:24.612 +12:00 [INF] Executing action method Pegasus_backend.Controllers.CourseRemainingController.GetRemainLessons (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:22:24.613 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:22:24.713 +12:00 [INF] Executed DbCommand (38ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`lesson_remain_id`, `lr`.`course_instance_id`, `lr`.`expiry_date`, `lr`.`group_course_instance_id`, `lr`.`learner_id`, `lr`.`quantity`, `lr`.`term_id`, `lr.GroupCourseInstance`.`group_course_instance_id`, `lr.GroupCourseInstance`.`begin_date`, `lr.GroupCourseInstance`.`course_id`, `lr.GroupCourseInstance`.`end_date`, `lr.GroupCourseInstance`.`invoice_date`, `lr.GroupCourseInstance`.`is_activate`, `lr.GroupCourseInstance`.`is_started`, `lr.GroupCourseInstance`.`org_id`, `lr.GroupCourseInstance`.`room_id`, `lr.GroupCourseInstance`.`teacher_id`, `lr.GroupCourseInstance.Course`.`course_id`, `lr.GroupCourseInstance.Course`.`course_category_id`, `lr.GroupCourseInstance.Course`.`course_name`, `lr.GroupCourseInstance.Course`.`course_type`, `lr.GroupCourseInstance.Course`.`duration`, `lr.GroupCourseInstance.Course`.`level`, `lr.GroupCourseInstance.Course`.`price`, `lr.GroupCourseInstance.Course`.`teacher_level`, `lr.CourseInstance`.`course_instance_id`, `lr.CourseInstance`.`begin_date`, `lr.CourseInstance`.`course_id`, `lr.CourseInstance`.`end_date`, `lr.CourseInstance`.`invoice_date`, `lr.CourseInstance`.`learner_id`, `lr.CourseInstance`.`org_id`, `lr.CourseInstance`.`room_id`, `lr.CourseInstance`.`teacher_id`, `lr.CourseInstance.Course`.`course_id`, `lr.CourseInstance.Course`.`course_category_id`, `lr.CourseInstance.Course`.`course_name`, `lr.CourseInstance.Course`.`course_type`, `lr.CourseInstance.Course`.`duration`, `lr.CourseInstance.Course`.`level`, `lr.CourseInstance.Course`.`price`, `lr.CourseInstance.Course`.`teacher_level`, `lr.Term`.`term_id`, `lr.Term`.`begin_date`, `lr.Term`.`end_date`, `lr.Term`.`term_name`, `lr.Term`.`term_type`, `lr.Term`.`week_quantity`
FROM `ablemusic`.`lesson_remain` AS `lr`
LEFT JOIN `ablemusic`.`group_course_instance` AS `lr.GroupCourseInstance` ON `lr`.`group_course_instance_id` = `lr.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `lr.GroupCourseInstance.Course` ON `lr.GroupCourseInstance`.`course_id` = `lr.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `lr.CourseInstance` ON `lr`.`course_instance_id` = `lr.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `lr.CourseInstance.Course` ON `lr.CourseInstance`.`course_id` = `lr.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`term` AS `lr.Term` ON `lr`.`term_id` = `lr.Term`.`term_id`
WHERE `lr`.`learner_id` = @__studentId_0
2019-07-03 22:22:24.820 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`invoice_id`, `i`.`begin_date`, `i`.`concert_fee`, `i`.`concert_fee_name`, `i`.`course_instance_id`, `i`.`course_name`, `i`.`created_at`, `i`.`due_date`, `i`.`end_date`, `i`.`group_course_instance_id`, `i`.`invoice_num`, `i`.`is_active`, `i`.`is_paid`, `i`.`learner_id`, `i`.`learner_name`, `i`.`lesson_fee`, `i`.`lesson_note_fee_name`, `i`.`lesson_quantity`, `i`.`note_fee`, `i`.`other1_fee`, `i`.`other1_fee_name`, `i`.`other2_fee`, `i`.`other2_fee_name`, `i`.`other3_fee`, `i`.`other3_fee_name`, `i`.`owing_fee`, `i`.`paid_fee`, `i`.`term_id`, `i`.`total_fee`
FROM `ablemusic`.`invoice` AS `i`
2019-07-03 22:22:25.137 +12:00 [INF] Executed DbCommand (37ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`lesson_id`, `i`.`begin_time`, `i`.`course_instance_id`, `i`.`created_at`, `i`.`end_time`, `i`.`group_course_instance_id`, `i`.`invoice_id`, `i`.`is_canceled`, `i`.`is_changed`, `i`.`is_confirm`, `i`.`is_trial`, `i`.`learner_id`, `i`.`org_id`, `i`.`reason`, `i`.`room_id`, `i`.`teacher_id`, `i`.`trial_course_id`, `i.Invoice`.`invoice_id`, `i.Invoice`.`begin_date`, `i.Invoice`.`concert_fee`, `i.Invoice`.`concert_fee_name`, `i.Invoice`.`course_instance_id`, `i.Invoice`.`course_name`, `i.Invoice`.`created_at`, `i.Invoice`.`due_date`, `i.Invoice`.`end_date`, `i.Invoice`.`group_course_instance_id`, `i.Invoice`.`invoice_num`, `i.Invoice`.`is_active`, `i.Invoice`.`is_paid`, `i.Invoice`.`learner_id`, `i.Invoice`.`learner_name`, `i.Invoice`.`lesson_fee`, `i.Invoice`.`lesson_note_fee_name`, `i.Invoice`.`lesson_quantity`, `i.Invoice`.`note_fee`, `i.Invoice`.`other1_fee`, `i.Invoice`.`other1_fee_name`, `i.Invoice`.`other2_fee`, `i.Invoice`.`other2_fee_name`, `i.Invoice`.`other3_fee`, `i.Invoice`.`other3_fee_name`, `i.Invoice`.`owing_fee`, `i.Invoice`.`paid_fee`, `i.Invoice`.`term_id`, `i.Invoice`.`total_fee`
FROM `ablemusic`.`lesson` AS `i`
LEFT JOIN `ablemusic`.`invoice` AS `i.Invoice` ON `i`.`invoice_id` = `i.Invoice`.`invoice_id`
WHERE ((`i`.`learner_id` = @__studentId_0) AND ((`i`.`is_confirm` <> 1) OR `i`.`is_confirm` IS NULL)) AND ((`i`.`is_canceled` <> 1) OR `i`.`is_canceled` IS NULL)
2019-07-03 22:22:25.250 +12:00 [INF] Executed DbCommand (38ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`lesson_id`, `i`.`begin_time`, `i`.`course_instance_id`, `i`.`created_at`, `i`.`end_time`, `i`.`group_course_instance_id`, `i`.`invoice_id`, `i`.`is_canceled`, `i`.`is_changed`, `i`.`is_confirm`, `i`.`is_trial`, `i`.`learner_id`, `i`.`org_id`, `i`.`reason`, `i`.`room_id`, `i`.`teacher_id`, `i`.`trial_course_id`, `i.Invoice`.`invoice_id`, `i.Invoice`.`begin_date`, `i.Invoice`.`concert_fee`, `i.Invoice`.`concert_fee_name`, `i.Invoice`.`course_instance_id`, `i.Invoice`.`course_name`, `i.Invoice`.`created_at`, `i.Invoice`.`due_date`, `i.Invoice`.`end_date`, `i.Invoice`.`group_course_instance_id`, `i.Invoice`.`invoice_num`, `i.Invoice`.`is_active`, `i.Invoice`.`is_paid`, `i.Invoice`.`learner_id`, `i.Invoice`.`learner_name`, `i.Invoice`.`lesson_fee`, `i.Invoice`.`lesson_note_fee_name`, `i.Invoice`.`lesson_quantity`, `i.Invoice`.`note_fee`, `i.Invoice`.`other1_fee`, `i.Invoice`.`other1_fee_name`, `i.Invoice`.`other2_fee`, `i.Invoice`.`other2_fee_name`, `i.Invoice`.`other3_fee`, `i.Invoice`.`other3_fee_name`, `i.Invoice`.`owing_fee`, `i.Invoice`.`paid_fee`, `i.Invoice`.`term_id`, `i.Invoice`.`total_fee`
FROM `ablemusic`.`lesson` AS `i`
LEFT JOIN `ablemusic`.`invoice` AS `i.Invoice` ON `i`.`invoice_id` = `i.Invoice`.`invoice_id`
WHERE ((`i`.`learner_id` = @__studentId_0) AND ((`i`.`is_confirm` <> 1) OR `i`.`is_confirm` IS NULL)) AND ((`i`.`is_canceled` <> 1) OR `i`.`is_canceled` IS NULL)
2019-07-03 22:22:25.260 +12:00 [INF] Executed action method Pegasus_backend.Controllers.CourseRemainingController.GetRemainLessons (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 647.54090000000008ms.
2019-07-03 22:22:25.260 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.IEnumerable`1[[Pegasus_backend.Models.CourseRemain, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:22:25.261 +12:00 [INF] Executed action Pegasus_backend.Controllers.CourseRemainingController.GetRemainLessons (Pegasus_backend) in 648.4864ms
2019-07-03 22:22:25.261 +12:00 [INF] Request finished in 649.4088ms 200 application/json; charset=utf-8
2019-07-03 22:22:30.363 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/learner/nihao  
2019-07-03 22:22:30.363 +12:00 [INF] Policy execution successful.
2019-07-03 22:22:30.363 +12:00 [INF] Route matched with {action = "GetLearner", controller = "Learner"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLearner(System.String) on controller Pegasus_backend.Controllers.LearnerController (Pegasus_backend).
2019-07-03 22:22:30.364 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:22:30.365 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:22:30.460 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`learner_id`, `s`.`address`, `s`.`contact_num`, `s`.`created_at`, `s`.`dob`, `s`.`email`, `s`.`enroll_date`, `s`.`first_name`, `s`.`form_url`, `s`.`g5_certification`, `s`.`gender`, `s`.`is_abrsm_g5`, `s`.`is_active`, `s`.`is_under_18`, `s`.`last_name`, `s`.`learner_level`, `s`.`level_type`, `s`.`middle_name`, `s`.`note`, `s`.`org_id`, `s`.`otherfile_url`, `s`.`payment_period`, `s`.`photo`, `s`.`referrer`, `s`.`referrer_learner_id`, `s`.`user_id`
FROM `ablemusic`.`learner` AS `s`
WHERE (`s`.`is_active` = 1) AND `s`.`first_name` LIKE concat('%', @__name_0, '%')
ORDER BY `s`.`learner_id`
2019-07-03 22:22:30.492 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.LearnerOthers`.`learner_others_id`, `s.LearnerOthers`.`learner_id`, `s.LearnerOthers`.`learner_level`, `s.LearnerOthers`.`others_type`, `s.LearnerOthers`.`others_value`
FROM `ablemusic`.`learner_others` AS `s.LearnerOthers`
INNER JOIN (
    SELECT `s0`.`learner_id`
    FROM `ablemusic`.`learner` AS `s0`
    WHERE (`s0`.`is_active` = 1) AND `s0`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t` ON `s.LearnerOthers`.`learner_id` = `t`.`learner_id`
ORDER BY `t`.`learner_id`
2019-07-03 22:22:30.523 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Parent`.`parent_id`, `s.Parent`.`contact_num`, `s.Parent`.`created_at`, `s.Parent`.`email`, `s.Parent`.`first_name`, `s.Parent`.`last_name`, `s.Parent`.`learner_id`, `s.Parent`.`relationship`
FROM `ablemusic`.`parent` AS `s.Parent`
INNER JOIN (
    SELECT `s1`.`learner_id`
    FROM `ablemusic`.`learner` AS `s1`
    WHERE (`s1`.`is_active` = 1) AND `s1`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t0` ON `s.Parent`.`learner_id` = `t0`.`learner_id`
ORDER BY `t0`.`learner_id`
2019-07-03 22:22:30.556 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.One2oneCourseInstance`.`course_instance_id`, `s.One2oneCourseInstance`.`begin_date`, `s.One2oneCourseInstance`.`course_id`, `s.One2oneCourseInstance`.`end_date`, `s.One2oneCourseInstance`.`invoice_date`, `s.One2oneCourseInstance`.`learner_id`, `s.One2oneCourseInstance`.`org_id`, `s.One2oneCourseInstance`.`room_id`, `s.One2oneCourseInstance`.`teacher_id`
FROM `ablemusic`.`one2one_course_instance` AS `s.One2oneCourseInstance`
INNER JOIN (
    SELECT `s2`.`learner_id`
    FROM `ablemusic`.`learner` AS `s2`
    WHERE (`s2`.`is_active` = 1) AND `s2`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t1` ON `s.One2oneCourseInstance`.`learner_id` = `t1`.`learner_id`
ORDER BY `t1`.`learner_id`
2019-07-03 22:22:30.588 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__name_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.LearnerGroupCourse`.`learner_group_course_id`, `s.LearnerGroupCourse`.`begin_date`, `s.LearnerGroupCourse`.`comment`, `s.LearnerGroupCourse`.`created_at`, `s.LearnerGroupCourse`.`end_date`, `s.LearnerGroupCourse`.`group_course_instance_id`, `s.LearnerGroupCourse`.`invoice_date`, `s.LearnerGroupCourse`.`is_activate`, `s.LearnerGroupCourse`.`learner_id`
FROM `ablemusic`.`learner_group_course` AS `s.LearnerGroupCourse`
INNER JOIN (
    SELECT `s3`.`learner_id`
    FROM `ablemusic`.`learner` AS `s3`
    WHERE (`s3`.`is_active` = 1) AND `s3`.`first_name` LIKE concat('%', @__name_0, '%')
) AS `t2` ON `s.LearnerGroupCourse`.`learner_id` = `t2`.`learner_id`
ORDER BY `t2`.`learner_id`
2019-07-03 22:22:30.589 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 224.23170000000002ms.
2019-07-03 22:22:30.589 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.IEnumerable`1[[Pegasus_backend.pegasusContext.Learner, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:22:30.589 +12:00 [INF] Executed action Pegasus_backend.Controllers.LearnerController.GetLearner (Pegasus_backend) in 225.64630000000002ms
2019-07-03 22:22:30.589 +12:00 [INF] Request finished in 226.6936ms 200 application/json; charset=utf-8
2019-07-03 22:22:30.597 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/CourseRemaining/10073  
2019-07-03 22:22:30.597 +12:00 [INF] Policy execution successful.
2019-07-03 22:22:30.597 +12:00 [INF] Route matched with {action = "GetRemainLessons", controller = "CourseRemaining"}. Executing controller action with signature Pegasus_backend.Models.Result`1[System.Collections.Generic.IEnumerable`1[Pegasus_backend.Models.CourseRemain]] GetRemainLessons(Int32) on controller Pegasus_backend.Controllers.CourseRemainingController (Pegasus_backend).
2019-07-03 22:22:30.597 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Lesson/GetArrangedLessonsByLearner/10073  
2019-07-03 22:22:30.597 +12:00 [INF] Executing action method Pegasus_backend.Controllers.CourseRemainingController.GetRemainLessons (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:22:30.597 +12:00 [INF] Policy execution successful.
2019-07-03 22:22:30.598 +12:00 [INF] Route matched with {action = "GetArrangedLessonsByLearner", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetArrangedLessonsByLearner(Int32) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-03 22:22:30.598 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:22:30.598 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetArrangedLessonsByLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:22:30.598 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:22:30.605 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:30.605 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:30.605 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:30.605 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:30.605 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:30.605 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:30.605 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:30.701 +12:00 [INF] Executed DbCommand (38ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`lesson_remain_id`, `lr`.`course_instance_id`, `lr`.`expiry_date`, `lr`.`group_course_instance_id`, `lr`.`learner_id`, `lr`.`quantity`, `lr`.`term_id`, `lr.GroupCourseInstance`.`group_course_instance_id`, `lr.GroupCourseInstance`.`begin_date`, `lr.GroupCourseInstance`.`course_id`, `lr.GroupCourseInstance`.`end_date`, `lr.GroupCourseInstance`.`invoice_date`, `lr.GroupCourseInstance`.`is_activate`, `lr.GroupCourseInstance`.`is_started`, `lr.GroupCourseInstance`.`org_id`, `lr.GroupCourseInstance`.`room_id`, `lr.GroupCourseInstance`.`teacher_id`, `lr.GroupCourseInstance.Course`.`course_id`, `lr.GroupCourseInstance.Course`.`course_category_id`, `lr.GroupCourseInstance.Course`.`course_name`, `lr.GroupCourseInstance.Course`.`course_type`, `lr.GroupCourseInstance.Course`.`duration`, `lr.GroupCourseInstance.Course`.`level`, `lr.GroupCourseInstance.Course`.`price`, `lr.GroupCourseInstance.Course`.`teacher_level`, `lr.CourseInstance`.`course_instance_id`, `lr.CourseInstance`.`begin_date`, `lr.CourseInstance`.`course_id`, `lr.CourseInstance`.`end_date`, `lr.CourseInstance`.`invoice_date`, `lr.CourseInstance`.`learner_id`, `lr.CourseInstance`.`org_id`, `lr.CourseInstance`.`room_id`, `lr.CourseInstance`.`teacher_id`, `lr.CourseInstance.Course`.`course_id`, `lr.CourseInstance.Course`.`course_category_id`, `lr.CourseInstance.Course`.`course_name`, `lr.CourseInstance.Course`.`course_type`, `lr.CourseInstance.Course`.`duration`, `lr.CourseInstance.Course`.`level`, `lr.CourseInstance.Course`.`price`, `lr.CourseInstance.Course`.`teacher_level`, `lr.Term`.`term_id`, `lr.Term`.`begin_date`, `lr.Term`.`end_date`, `lr.Term`.`term_name`, `lr.Term`.`term_type`, `lr.Term`.`week_quantity`
FROM `ablemusic`.`lesson_remain` AS `lr`
LEFT JOIN `ablemusic`.`group_course_instance` AS `lr.GroupCourseInstance` ON `lr`.`group_course_instance_id` = `lr.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `lr.GroupCourseInstance.Course` ON `lr.GroupCourseInstance`.`course_id` = `lr.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `lr.CourseInstance` ON `lr`.`course_instance_id` = `lr.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `lr.CourseInstance.Course` ON `lr.CourseInstance`.`course_id` = `lr.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`term` AS `lr.Term` ON `lr`.`term_id` = `lr.Term`.`term_id`
WHERE `lr`.`learner_id` = @__studentId_0
2019-07-03 22:22:30.761 +12:00 [INF] Executed action method Pegasus_backend.Controllers.CourseRemainingController.GetRemainLessons (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 163.4558ms.
2019-07-03 22:22:30.761 +12:00 [INF] Executed DbCommand (62ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`begin_time` AS `start`, `s`.`end_time` AS `end`, `s.Learner`.`first_name` AS `learnerFirstName`, `s.Learner`.`last_name` AS `learnerLastName`, `s.Teacher`.`first_name` AS `teacherFirstName`, `s.Teacher`.`last_name` AS `TeacherLastName`, `s`.`group_course_instance_id`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_name`, `s.Org`.`org_name` AS `orgName`, `s.Room`.`room_name` AS `roomName`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
WHERE (`s`.`learner_id` = @__learnerId_0) AND ((`s`.`is_canceled` = 0) AND ((`s`.`is_confirm` <> 1) OR `s`.`is_confirm` IS NULL))
2019-07-03 22:22:30.761 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.IEnumerable`1[[Pegasus_backend.Models.CourseRemain, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:22:30.761 +12:00 [INF] Executed action Pegasus_backend.Controllers.CourseRemainingController.GetRemainLessons (Pegasus_backend) in 164.3778ms
2019-07-03 22:22:30.762 +12:00 [INF] Request finished in 165.0988ms 200 application/json; charset=utf-8
2019-07-03 22:22:30.762 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetArrangedLessonsByLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 163.73850000000002ms.
2019-07-03 22:22:30.762 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:22:30.762 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetArrangedLessonsByLearner (Pegasus_backend) in 164.4864ms
2019-07-03 22:22:30.762 +12:00 [INF] Request finished in 165.1492ms 200 application/json; charset=utf-8
2019-07-03 22:22:30.763 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/CourseRemaining/10073  
2019-07-03 22:22:30.764 +12:00 [INF] Policy execution successful.
2019-07-03 22:22:30.764 +12:00 [INF] Route matched with {action = "GetRemainLessons", controller = "CourseRemaining"}. Executing controller action with signature Pegasus_backend.Models.Result`1[System.Collections.Generic.IEnumerable`1[Pegasus_backend.Models.CourseRemain]] GetRemainLessons(Int32) on controller Pegasus_backend.Controllers.CourseRemainingController (Pegasus_backend).
2019-07-03 22:22:30.764 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Lesson/GetArrangedLessonsByLearner/10073  
2019-07-03 22:22:30.764 +12:00 [INF] Executing action method Pegasus_backend.Controllers.CourseRemainingController.GetRemainLessons (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:22:30.764 +12:00 [INF] Policy execution successful.
2019-07-03 22:22:30.765 +12:00 [INF] Route matched with {action = "GetArrangedLessonsByLearner", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetArrangedLessonsByLearner(Int32) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-03 22:22:30.765 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:22:30.765 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetArrangedLessonsByLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:22:30.765 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:22:30.771 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:30.771 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:30.771 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:30.771 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:30.771 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:30.771 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:30.771 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:30.865 +12:00 [INF] Executed DbCommand (38ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`lesson_remain_id`, `lr`.`course_instance_id`, `lr`.`expiry_date`, `lr`.`group_course_instance_id`, `lr`.`learner_id`, `lr`.`quantity`, `lr`.`term_id`, `lr.GroupCourseInstance`.`group_course_instance_id`, `lr.GroupCourseInstance`.`begin_date`, `lr.GroupCourseInstance`.`course_id`, `lr.GroupCourseInstance`.`end_date`, `lr.GroupCourseInstance`.`invoice_date`, `lr.GroupCourseInstance`.`is_activate`, `lr.GroupCourseInstance`.`is_started`, `lr.GroupCourseInstance`.`org_id`, `lr.GroupCourseInstance`.`room_id`, `lr.GroupCourseInstance`.`teacher_id`, `lr.GroupCourseInstance.Course`.`course_id`, `lr.GroupCourseInstance.Course`.`course_category_id`, `lr.GroupCourseInstance.Course`.`course_name`, `lr.GroupCourseInstance.Course`.`course_type`, `lr.GroupCourseInstance.Course`.`duration`, `lr.GroupCourseInstance.Course`.`level`, `lr.GroupCourseInstance.Course`.`price`, `lr.GroupCourseInstance.Course`.`teacher_level`, `lr.CourseInstance`.`course_instance_id`, `lr.CourseInstance`.`begin_date`, `lr.CourseInstance`.`course_id`, `lr.CourseInstance`.`end_date`, `lr.CourseInstance`.`invoice_date`, `lr.CourseInstance`.`learner_id`, `lr.CourseInstance`.`org_id`, `lr.CourseInstance`.`room_id`, `lr.CourseInstance`.`teacher_id`, `lr.CourseInstance.Course`.`course_id`, `lr.CourseInstance.Course`.`course_category_id`, `lr.CourseInstance.Course`.`course_name`, `lr.CourseInstance.Course`.`course_type`, `lr.CourseInstance.Course`.`duration`, `lr.CourseInstance.Course`.`level`, `lr.CourseInstance.Course`.`price`, `lr.CourseInstance.Course`.`teacher_level`, `lr.Term`.`term_id`, `lr.Term`.`begin_date`, `lr.Term`.`end_date`, `lr.Term`.`term_name`, `lr.Term`.`term_type`, `lr.Term`.`week_quantity`
FROM `ablemusic`.`lesson_remain` AS `lr`
LEFT JOIN `ablemusic`.`group_course_instance` AS `lr.GroupCourseInstance` ON `lr`.`group_course_instance_id` = `lr.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `lr.GroupCourseInstance.Course` ON `lr.GroupCourseInstance`.`course_id` = `lr.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `lr.CourseInstance` ON `lr`.`course_instance_id` = `lr.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `lr.CourseInstance.Course` ON `lr.CourseInstance`.`course_id` = `lr.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`term` AS `lr.Term` ON `lr`.`term_id` = `lr.Term`.`term_id`
WHERE `lr`.`learner_id` = @__studentId_0
2019-07-03 22:22:30.911 +12:00 [INF] Executed action method Pegasus_backend.Controllers.CourseRemainingController.GetRemainLessons (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 146.6762ms.
2019-07-03 22:22:30.911 +12:00 [INF] Executed DbCommand (44ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`begin_time` AS `start`, `s`.`end_time` AS `end`, `s.Learner`.`first_name` AS `learnerFirstName`, `s.Learner`.`last_name` AS `learnerLastName`, `s.Teacher`.`first_name` AS `teacherFirstName`, `s.Teacher`.`last_name` AS `TeacherLastName`, `s`.`group_course_instance_id`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_name`, `s.Org`.`org_name` AS `orgName`, `s.Room`.`room_name` AS `roomName`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
WHERE (`s`.`learner_id` = @__learnerId_0) AND ((`s`.`is_canceled` = 0) AND ((`s`.`is_confirm` <> 1) OR `s`.`is_confirm` IS NULL))
2019-07-03 22:22:30.911 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.IEnumerable`1[[Pegasus_backend.Models.CourseRemain, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:22:30.912 +12:00 [INF] Executed action Pegasus_backend.Controllers.CourseRemainingController.GetRemainLessons (Pegasus_backend) in 147.7406ms
2019-07-03 22:22:30.912 +12:00 [INF] Request finished in 148.5407ms 200 application/json; charset=utf-8
2019-07-03 22:22:30.913 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetArrangedLessonsByLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 147.9908ms.
2019-07-03 22:22:30.913 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:22:30.917 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetArrangedLessonsByLearner (Pegasus_backend) in 152.466ms
2019-07-03 22:22:30.918 +12:00 [INF] Request finished in 153.3495ms 200 application/json; charset=utf-8
2019-07-03 22:22:33.250 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Lesson/GetArrangedLessonsByLearner/10073  
2019-07-03 22:22:33.250 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/CourseRemaining/10073  
2019-07-03 22:22:33.250 +12:00 [INF] Policy execution successful.
2019-07-03 22:22:33.250 +12:00 [INF] Policy execution successful.
2019-07-03 22:22:33.250 +12:00 [INF] Route matched with {action = "GetRemainLessons", controller = "CourseRemaining"}. Executing controller action with signature Pegasus_backend.Models.Result`1[System.Collections.Generic.IEnumerable`1[Pegasus_backend.Models.CourseRemain]] GetRemainLessons(Int32) on controller Pegasus_backend.Controllers.CourseRemainingController (Pegasus_backend).
2019-07-03 22:22:33.250 +12:00 [INF] Route matched with {action = "GetArrangedLessonsByLearner", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetArrangedLessonsByLearner(Int32) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-03 22:22:33.251 +12:00 [INF] Executing action method Pegasus_backend.Controllers.CourseRemainingController.GetRemainLessons (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:22:33.251 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetArrangedLessonsByLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:22:33.252 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:22:33.252 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:22:33.263 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:33.263 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:33.263 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:33.263 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:33.263 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:33.263 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:33.264 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:33.353 +12:00 [INF] Executed DbCommand (38ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`lesson_remain_id`, `lr`.`course_instance_id`, `lr`.`expiry_date`, `lr`.`group_course_instance_id`, `lr`.`learner_id`, `lr`.`quantity`, `lr`.`term_id`, `lr.GroupCourseInstance`.`group_course_instance_id`, `lr.GroupCourseInstance`.`begin_date`, `lr.GroupCourseInstance`.`course_id`, `lr.GroupCourseInstance`.`end_date`, `lr.GroupCourseInstance`.`invoice_date`, `lr.GroupCourseInstance`.`is_activate`, `lr.GroupCourseInstance`.`is_started`, `lr.GroupCourseInstance`.`org_id`, `lr.GroupCourseInstance`.`room_id`, `lr.GroupCourseInstance`.`teacher_id`, `lr.GroupCourseInstance.Course`.`course_id`, `lr.GroupCourseInstance.Course`.`course_category_id`, `lr.GroupCourseInstance.Course`.`course_name`, `lr.GroupCourseInstance.Course`.`course_type`, `lr.GroupCourseInstance.Course`.`duration`, `lr.GroupCourseInstance.Course`.`level`, `lr.GroupCourseInstance.Course`.`price`, `lr.GroupCourseInstance.Course`.`teacher_level`, `lr.CourseInstance`.`course_instance_id`, `lr.CourseInstance`.`begin_date`, `lr.CourseInstance`.`course_id`, `lr.CourseInstance`.`end_date`, `lr.CourseInstance`.`invoice_date`, `lr.CourseInstance`.`learner_id`, `lr.CourseInstance`.`org_id`, `lr.CourseInstance`.`room_id`, `lr.CourseInstance`.`teacher_id`, `lr.CourseInstance.Course`.`course_id`, `lr.CourseInstance.Course`.`course_category_id`, `lr.CourseInstance.Course`.`course_name`, `lr.CourseInstance.Course`.`course_type`, `lr.CourseInstance.Course`.`duration`, `lr.CourseInstance.Course`.`level`, `lr.CourseInstance.Course`.`price`, `lr.CourseInstance.Course`.`teacher_level`, `lr.Term`.`term_id`, `lr.Term`.`begin_date`, `lr.Term`.`end_date`, `lr.Term`.`term_name`, `lr.Term`.`term_type`, `lr.Term`.`week_quantity`
FROM `ablemusic`.`lesson_remain` AS `lr`
LEFT JOIN `ablemusic`.`group_course_instance` AS `lr.GroupCourseInstance` ON `lr`.`group_course_instance_id` = `lr.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `lr.GroupCourseInstance.Course` ON `lr.GroupCourseInstance`.`course_id` = `lr.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `lr.CourseInstance` ON `lr`.`course_instance_id` = `lr.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `lr.CourseInstance.Course` ON `lr.CourseInstance`.`course_id` = `lr.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`term` AS `lr.Term` ON `lr`.`term_id` = `lr.Term`.`term_id`
WHERE `lr`.`learner_id` = @__studentId_0
2019-07-03 22:22:33.408 +12:00 [INF] Executed action method Pegasus_backend.Controllers.CourseRemainingController.GetRemainLessons (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 156.8638ms.
2019-07-03 22:22:33.408 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`begin_time` AS `start`, `s`.`end_time` AS `end`, `s.Learner`.`first_name` AS `learnerFirstName`, `s.Learner`.`last_name` AS `learnerLastName`, `s.Teacher`.`first_name` AS `teacherFirstName`, `s.Teacher`.`last_name` AS `TeacherLastName`, `s`.`group_course_instance_id`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_name`, `s.Org`.`org_name` AS `orgName`, `s.Room`.`room_name` AS `roomName`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
WHERE (`s`.`learner_id` = @__learnerId_0) AND ((`s`.`is_canceled` = 0) AND ((`s`.`is_confirm` <> 1) OR `s`.`is_confirm` IS NULL))
2019-07-03 22:22:33.408 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.IEnumerable`1[[Pegasus_backend.Models.CourseRemain, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:22:33.408 +12:00 [INF] Executed action Pegasus_backend.Controllers.CourseRemainingController.GetRemainLessons (Pegasus_backend) in 157.8076ms
2019-07-03 22:22:33.408 +12:00 [INF] Request finished in 158.7633ms 200 application/json; charset=utf-8
2019-07-03 22:22:33.409 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetArrangedLessonsByLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 157.6968ms.
2019-07-03 22:22:33.409 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:22:33.409 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetArrangedLessonsByLearner (Pegasus_backend) in 158.5936ms
2019-07-03 22:22:33.409 +12:00 [INF] Request finished in 159.5498ms 200 application/json; charset=utf-8
2019-07-03 22:22:33.410 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/CourseRemaining/10073  
2019-07-03 22:22:33.410 +12:00 [INF] Policy execution successful.
2019-07-03 22:22:33.411 +12:00 [INF] Route matched with {action = "GetRemainLessons", controller = "CourseRemaining"}. Executing controller action with signature Pegasus_backend.Models.Result`1[System.Collections.Generic.IEnumerable`1[Pegasus_backend.Models.CourseRemain]] GetRemainLessons(Int32) on controller Pegasus_backend.Controllers.CourseRemainingController (Pegasus_backend).
2019-07-03 22:22:33.412 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Lesson/GetArrangedLessonsByLearner/10073  
2019-07-03 22:22:33.412 +12:00 [INF] Executing action method Pegasus_backend.Controllers.CourseRemainingController.GetRemainLessons (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:22:33.412 +12:00 [INF] Policy execution successful.
2019-07-03 22:22:33.413 +12:00 [INF] Route matched with {action = "GetArrangedLessonsByLearner", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetArrangedLessonsByLearner(Int32) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-03 22:22:33.413 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetArrangedLessonsByLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:22:33.413 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:22:33.413 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:22:33.420 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:33.420 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:33.420 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:33.420 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:33.420 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:33.420 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:33.420 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:33.517 +12:00 [INF] Executed DbCommand (38ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`lesson_remain_id`, `lr`.`course_instance_id`, `lr`.`expiry_date`, `lr`.`group_course_instance_id`, `lr`.`learner_id`, `lr`.`quantity`, `lr`.`term_id`, `lr.GroupCourseInstance`.`group_course_instance_id`, `lr.GroupCourseInstance`.`begin_date`, `lr.GroupCourseInstance`.`course_id`, `lr.GroupCourseInstance`.`end_date`, `lr.GroupCourseInstance`.`invoice_date`, `lr.GroupCourseInstance`.`is_activate`, `lr.GroupCourseInstance`.`is_started`, `lr.GroupCourseInstance`.`org_id`, `lr.GroupCourseInstance`.`room_id`, `lr.GroupCourseInstance`.`teacher_id`, `lr.GroupCourseInstance.Course`.`course_id`, `lr.GroupCourseInstance.Course`.`course_category_id`, `lr.GroupCourseInstance.Course`.`course_name`, `lr.GroupCourseInstance.Course`.`course_type`, `lr.GroupCourseInstance.Course`.`duration`, `lr.GroupCourseInstance.Course`.`level`, `lr.GroupCourseInstance.Course`.`price`, `lr.GroupCourseInstance.Course`.`teacher_level`, `lr.CourseInstance`.`course_instance_id`, `lr.CourseInstance`.`begin_date`, `lr.CourseInstance`.`course_id`, `lr.CourseInstance`.`end_date`, `lr.CourseInstance`.`invoice_date`, `lr.CourseInstance`.`learner_id`, `lr.CourseInstance`.`org_id`, `lr.CourseInstance`.`room_id`, `lr.CourseInstance`.`teacher_id`, `lr.CourseInstance.Course`.`course_id`, `lr.CourseInstance.Course`.`course_category_id`, `lr.CourseInstance.Course`.`course_name`, `lr.CourseInstance.Course`.`course_type`, `lr.CourseInstance.Course`.`duration`, `lr.CourseInstance.Course`.`level`, `lr.CourseInstance.Course`.`price`, `lr.CourseInstance.Course`.`teacher_level`, `lr.Term`.`term_id`, `lr.Term`.`begin_date`, `lr.Term`.`end_date`, `lr.Term`.`term_name`, `lr.Term`.`term_type`, `lr.Term`.`week_quantity`
FROM `ablemusic`.`lesson_remain` AS `lr`
LEFT JOIN `ablemusic`.`group_course_instance` AS `lr.GroupCourseInstance` ON `lr`.`group_course_instance_id` = `lr.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `lr.GroupCourseInstance.Course` ON `lr.GroupCourseInstance`.`course_id` = `lr.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `lr.CourseInstance` ON `lr`.`course_instance_id` = `lr.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `lr.CourseInstance.Course` ON `lr.CourseInstance`.`course_id` = `lr.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`term` AS `lr.Term` ON `lr`.`term_id` = `lr.Term`.`term_id`
WHERE `lr`.`learner_id` = @__studentId_0
2019-07-03 22:22:33.572 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`begin_time` AS `start`, `s`.`end_time` AS `end`, `s.Learner`.`first_name` AS `learnerFirstName`, `s.Learner`.`last_name` AS `learnerLastName`, `s.Teacher`.`first_name` AS `teacherFirstName`, `s.Teacher`.`last_name` AS `TeacherLastName`, `s`.`group_course_instance_id`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_name`, `s.Org`.`org_name` AS `orgName`, `s.Room`.`room_name` AS `roomName`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
WHERE (`s`.`learner_id` = @__learnerId_0) AND ((`s`.`is_canceled` = 0) AND ((`s`.`is_confirm` <> 1) OR `s`.`is_confirm` IS NULL))
2019-07-03 22:22:33.572 +12:00 [INF] Executed action method Pegasus_backend.Controllers.CourseRemainingController.GetRemainLessons (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 159.49890000000002ms.
2019-07-03 22:22:33.572 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.IEnumerable`1[[Pegasus_backend.Models.CourseRemain, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:22:33.572 +12:00 [INF] Executed action Pegasus_backend.Controllers.CourseRemainingController.GetRemainLessons (Pegasus_backend) in 161.3565ms
2019-07-03 22:22:33.572 +12:00 [INF] Request finished in 162.1836ms 200 application/json; charset=utf-8
2019-07-03 22:22:33.573 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetArrangedLessonsByLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 159.50320000000002ms.
2019-07-03 22:22:33.573 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:22:33.573 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetArrangedLessonsByLearner (Pegasus_backend) in 160.29510000000002ms
2019-07-03 22:22:33.573 +12:00 [INF] Request finished in 161.0529ms 200 application/json; charset=utf-8
2019-07-03 22:22:34.064 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/CourseRemaining/10073  
2019-07-03 22:22:34.064 +12:00 [INF] Policy execution successful.
2019-07-03 22:22:34.065 +12:00 [INF] Route matched with {action = "GetRemainLessons", controller = "CourseRemaining"}. Executing controller action with signature Pegasus_backend.Models.Result`1[System.Collections.Generic.IEnumerable`1[Pegasus_backend.Models.CourseRemain]] GetRemainLessons(Int32) on controller Pegasus_backend.Controllers.CourseRemainingController (Pegasus_backend).
2019-07-03 22:22:34.065 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Lesson/GetArrangedLessonsByLearner/10073  
2019-07-03 22:22:34.065 +12:00 [INF] Executing action method Pegasus_backend.Controllers.CourseRemainingController.GetRemainLessons (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:22:34.065 +12:00 [INF] Policy execution successful.
2019-07-03 22:22:34.066 +12:00 [INF] Route matched with {action = "GetArrangedLessonsByLearner", controller = "Lesson"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetArrangedLessonsByLearner(Int32) on controller Pegasus_backend.Controllers.LessonController (Pegasus_backend).
2019-07-03 22:22:34.066 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonController.GetArrangedLessonsByLearner (Pegasus_backend) - Validation state: "Valid"
2019-07-03 22:22:34.066 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:22:34.066 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 22:22:34.077 +12:00 [WRN] The Include operation for navigation '[s].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:34.077 +12:00 [WRN] The Include operation for navigation '[s].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:34.078 +12:00 [WRN] The Include operation for navigation '[s].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:34.078 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:34.078 +12:00 [WRN] The Include operation for navigation '[s].CourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:34.078 +12:00 [WRN] The Include operation for navigation '[s].GroupCourseInstance.Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:34.078 +12:00 [WRN] The Include operation for navigation '[s].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 22:22:34.168 +12:00 [INF] Executed DbCommand (37ms) [Parameters=[@__studentId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `lr`.`lesson_remain_id`, `lr`.`course_instance_id`, `lr`.`expiry_date`, `lr`.`group_course_instance_id`, `lr`.`learner_id`, `lr`.`quantity`, `lr`.`term_id`, `lr.GroupCourseInstance`.`group_course_instance_id`, `lr.GroupCourseInstance`.`begin_date`, `lr.GroupCourseInstance`.`course_id`, `lr.GroupCourseInstance`.`end_date`, `lr.GroupCourseInstance`.`invoice_date`, `lr.GroupCourseInstance`.`is_activate`, `lr.GroupCourseInstance`.`is_started`, `lr.GroupCourseInstance`.`org_id`, `lr.GroupCourseInstance`.`room_id`, `lr.GroupCourseInstance`.`teacher_id`, `lr.GroupCourseInstance.Course`.`course_id`, `lr.GroupCourseInstance.Course`.`course_category_id`, `lr.GroupCourseInstance.Course`.`course_name`, `lr.GroupCourseInstance.Course`.`course_type`, `lr.GroupCourseInstance.Course`.`duration`, `lr.GroupCourseInstance.Course`.`level`, `lr.GroupCourseInstance.Course`.`price`, `lr.GroupCourseInstance.Course`.`teacher_level`, `lr.CourseInstance`.`course_instance_id`, `lr.CourseInstance`.`begin_date`, `lr.CourseInstance`.`course_id`, `lr.CourseInstance`.`end_date`, `lr.CourseInstance`.`invoice_date`, `lr.CourseInstance`.`learner_id`, `lr.CourseInstance`.`org_id`, `lr.CourseInstance`.`room_id`, `lr.CourseInstance`.`teacher_id`, `lr.CourseInstance.Course`.`course_id`, `lr.CourseInstance.Course`.`course_category_id`, `lr.CourseInstance.Course`.`course_name`, `lr.CourseInstance.Course`.`course_type`, `lr.CourseInstance.Course`.`duration`, `lr.CourseInstance.Course`.`level`, `lr.CourseInstance.Course`.`price`, `lr.CourseInstance.Course`.`teacher_level`, `lr.Term`.`term_id`, `lr.Term`.`begin_date`, `lr.Term`.`end_date`, `lr.Term`.`term_name`, `lr.Term`.`term_type`, `lr.Term`.`week_quantity`
FROM `ablemusic`.`lesson_remain` AS `lr`
LEFT JOIN `ablemusic`.`group_course_instance` AS `lr.GroupCourseInstance` ON `lr`.`group_course_instance_id` = `lr.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `lr.GroupCourseInstance.Course` ON `lr.GroupCourseInstance`.`course_id` = `lr.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `lr.CourseInstance` ON `lr`.`course_instance_id` = `lr.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `lr.CourseInstance.Course` ON `lr.CourseInstance`.`course_id` = `lr.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`term` AS `lr.Term` ON `lr`.`term_id` = `lr.Term`.`term_id`
WHERE `lr`.`learner_id` = @__studentId_0
2019-07-03 22:22:34.224 +12:00 [INF] Executed action method Pegasus_backend.Controllers.CourseRemainingController.GetRemainLessons (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.ObjectResult in 158.8771ms.
2019-07-03 22:22:34.225 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.IEnumerable`1[[Pegasus_backend.Models.CourseRemain, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:22:34.225 +12:00 [INF] Executed action Pegasus_backend.Controllers.CourseRemainingController.GetRemainLessons (Pegasus_backend) in 159.93640000000002ms
2019-07-03 22:22:34.225 +12:00 [INF] Request finished in 161.1808ms 200 application/json; charset=utf-8
2019-07-03 22:22:34.233 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__learnerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`begin_time` AS `start`, `s`.`end_time` AS `end`, `s.Learner`.`first_name` AS `learnerFirstName`, `s.Learner`.`last_name` AS `learnerLastName`, `s.Teacher`.`first_name` AS `teacherFirstName`, `s.Teacher`.`last_name` AS `TeacherLastName`, `s`.`group_course_instance_id`, `s.CourseInstance.Course`.`course_name`, `s.GroupCourseInstance.Course`.`course_name`, `s.Org`.`org_name` AS `orgName`, `s.Room`.`room_name` AS `roomName`
FROM `ablemusic`.`lesson` AS `s`
LEFT JOIN `ablemusic`.`room` AS `s.Room` ON `s`.`room_id` = `s.Room`.`room_id`
INNER JOIN `ablemusic`.`org` AS `s.Org` ON `s`.`org_id` = `s.Org`.`org_id`
LEFT JOIN `ablemusic`.`group_course_instance` AS `s.GroupCourseInstance` ON `s`.`group_course_instance_id` = `s.GroupCourseInstance`.`group_course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.GroupCourseInstance.Course` ON `s.GroupCourseInstance`.`course_id` = `s.GroupCourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`one2one_course_instance` AS `s.CourseInstance` ON `s`.`course_instance_id` = `s.CourseInstance`.`course_instance_id`
LEFT JOIN `ablemusic`.`course` AS `s.CourseInstance.Course` ON `s.CourseInstance`.`course_id` = `s.CourseInstance.Course`.`course_id`
LEFT JOIN `ablemusic`.`teacher` AS `s.Teacher` ON `s`.`teacher_id` = `s.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `s`.`learner_id` = `s.Learner`.`learner_id`
WHERE (`s`.`learner_id` = @__learnerId_0) AND ((`s`.`is_canceled` = 0) AND ((`s`.`is_confirm` <> 1) OR `s`.`is_confirm` IS NULL))
2019-07-03 22:22:34.233 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonController.GetArrangedLessonsByLearner (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 167.23610000000002ms.
2019-07-03 22:22:34.234 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-07-03 22:22:34.234 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonController.GetArrangedLessonsByLearner (Pegasus_backend) in 168.16410000000002ms
2019-07-03 22:22:34.234 +12:00 [INF] Request finished in 169.0672ms 200 application/json; charset=utf-8
=======
2019-07-03 12:26:14.708 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[@__staffId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`org_id`
FROM `ablemusic`.`staff_org` AS `x`
WHERE `x`.`staff_id` = @__staffId_0
LIMIT 1
2019-07-03 12:26:14.729 +12:00 [WRN] Query: '(from Lesson x in DbSet<Lesson> where (Nullable<int>)(int)[x].OrgId == (Nullable<int>)__orgIdOfStaff...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 12:26:14.731 +12:00 [WRN] The Include operation for navigation '[x].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 12:26:14.920 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__orgIdOfStaff_0='?' (DbType = Int16), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT `t`.*
FROM (
    SELECT `x`.`learner_id` AS `LearnerId`, `x.Learner`.`first_name` AS `FirstName`, `x.Learner`.`last_name` AS `LastName`, `x.Learner`.`user_id` AS `UserId`, `x.Learner`.`photo`
    FROM `ablemusic`.`lesson` AS `x`
    LEFT JOIN `ablemusic`.`learner` AS `x.Learner` ON `x`.`learner_id` = `x.Learner`.`learner_id`
    WHERE `x`.`org_id` = @__orgIdOfStaff_0
    LIMIT @__p_1
) AS `t`
2019-07-03 12:26:14.931 +12:00 [WRN] Query: '(from Learner x in DbSet<Learner> where (Nullable<int>)[x].OrgId == (Nullable<int>)__orgIdOfStaff_0 ...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 12:26:15.094 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__orgIdOfStaff_0='?' (DbType = Int16), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT `t`.*
FROM (
    SELECT `x`.`learner_id` AS `LearnerId`, `x`.`first_name` AS `FirstName`, `x`.`last_name` AS `LastName`, `x`.`user_id` AS `UserId`, `x`.`photo`
    FROM `ablemusic`.`learner` AS `x`
    WHERE `x`.`org_id` = @__orgIdOfStaff_0
    LIMIT @__p_1
) AS `t`
2019-07-03 12:26:15.102 +12:00 [WRN] Query: '(from Staff x in DbSet<Staff> where (Nullable<int>)(int)[x].StaffId != __staffId_0 select new Staff{...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 12:26:15.283 +12:00 [INF] Executed DbCommand (65ms) [Parameters=[@__staffId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`first_name` AS `FirstName`, `x`.`last_name` AS `LastName`, `x`.`user_id` AS `UserId`, `x`.`photo`
FROM `ablemusic`.`staff` AS `x`
WHERE `x`.`staff_id` <> @__staffId_0
LIMIT @__p_1
2019-07-03 12:26:15.292 +12:00 [WRN] Query: '(from Teacher x in DbSet<Teacher> select new Teacher{ { 
    TeacherId = [x].TeacherId, , 
    Fir...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 12:26:15.546 +12:00 [INF] Executed DbCommand (101ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`teacher_id` AS `TeacherId`, `x`.`first_name` AS `FirstName`, `x`.`last_name` AS `LastName`, `x`.`photo`, `x`.`user_id` AS `UserId`
FROM `ablemusic`.`teacher` AS `x`
LIMIT @__p_0
2019-07-03 12:26:15.553 +12:00 [INF] Executed action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3528.1426ms.
2019-07-03 12:26:15.553 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[Pegasus_backend.Models.ChatListModel, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-03 12:26:15.671 +12:00 [INF] Executed action Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) in 3668.3388ms
2019-07-03 12:26:15.671 +12:00 [INF] Request finished in 3693.0849ms 200 application/json; charset=utf-8
2019-07-03 12:26:15.684 +12:00 [INF] Connection id "0HLNV9K4IF6AN", Request id "0HLNV9K4IF6AN:00000002": the application completed without reading the entire request body.
2019-07-03 12:26:58.317 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Chat/GetChattingList/1 application/json 65
2019-07-03 12:26:58.318 +12:00 [INF] Route matched with {action = "GetChattingList", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChattingList(Int32) on controller Pegasus_backend.Controllers.MobileControllers.ChatController (Pegasus_backend).
2019-07-03 12:26:58.328 +12:00 [INF] Executing action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) - Validation state: "Valid"
2019-07-03 12:26:58.337 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 12:26:58.503 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`user_id`, `x`.`created_at`, `x`.`is_activate`, `x`.`password`, `x`.`role_id`, `x`.`unread_message_id`, `x`.`user_name`, `x.Role`.`role_id`, `x.Role`.`role_name`
FROM `ablemusic`.`user` AS `x`
LEFT JOIN `ablemusic`.`role` AS `x.Role` ON `x`.`role_id` = `x.Role`.`role_id`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
2019-07-03 12:26:58.655 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`staff_id`, `x`.`dob`, `x`.`email`, `x`.`expiry_date`, `x`.`first_name`, `x`.`gender`, `x`.`home_phone`, `x`.`id_number`, `x`.`id_photo`, `x`.`id_type`, `x`.`ird_number`, `x`.`is_activate`, `x`.`last_name`, `x`.`mobile_phone`, `x`.`photo`, `x`.`user_id`, `x`.`visa`
FROM `ablemusic`.`staff` AS `x`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
2019-07-03 12:26:58.803 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__staffId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`org_id`
FROM `ablemusic`.`staff_org` AS `x`
WHERE `x`.`staff_id` = @__staffId_0
LIMIT 1
2019-07-03 12:26:58.956 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__orgIdOfStaff_0='?' (DbType = Int16), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT `t`.*
FROM (
    SELECT `x`.`learner_id` AS `LearnerId`, `x.Learner`.`first_name` AS `FirstName`, `x.Learner`.`last_name` AS `LastName`, `x.Learner`.`user_id` AS `UserId`, `x.Learner`.`photo`
    FROM `ablemusic`.`lesson` AS `x`
    LEFT JOIN `ablemusic`.`learner` AS `x.Learner` ON `x`.`learner_id` = `x.Learner`.`learner_id`
    WHERE `x`.`org_id` = @__orgIdOfStaff_0
    LIMIT @__p_1
) AS `t`
2019-07-03 12:26:59.112 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__orgIdOfStaff_0='?' (DbType = Int16), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT `t`.*
FROM (
    SELECT `x`.`learner_id` AS `LearnerId`, `x`.`first_name` AS `FirstName`, `x`.`last_name` AS `LastName`, `x`.`user_id` AS `UserId`, `x`.`photo`
    FROM `ablemusic`.`learner` AS `x`
    WHERE `x`.`org_id` = @__orgIdOfStaff_0
    LIMIT @__p_1
) AS `t`
2019-07-03 12:26:59.264 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__staffId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`first_name` AS `FirstName`, `x`.`last_name` AS `LastName`, `x`.`user_id` AS `UserId`, `x`.`photo`
FROM `ablemusic`.`staff` AS `x`
WHERE `x`.`staff_id` <> @__staffId_0
LIMIT @__p_1
2019-07-03 12:26:59.415 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`teacher_id` AS `TeacherId`, `x`.`first_name` AS `FirstName`, `x`.`last_name` AS `LastName`, `x`.`photo`, `x`.`user_id` AS `UserId`
FROM `ablemusic`.`teacher` AS `x`
LIMIT @__p_0
2019-07-03 12:26:59.415 +12:00 [INF] Executed action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1086.8026ms.
2019-07-03 12:26:59.416 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[Pegasus_backend.Models.ChatListModel, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-03 12:26:59.417 +12:00 [INF] Executed action Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) in 1097.9618ms
2019-07-03 12:26:59.417 +12:00 [INF] Request finished in 1100.113ms 200 application/json; charset=utf-8
2019-07-03 12:26:59.418 +12:00 [INF] Connection id "0HLNV9K4IF6AO", Request id "0HLNV9K4IF6AO:00000002": the application completed without reading the entire request body.
2019-07-03 12:27:35.292 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Chat/GetChattingList/10092 application/json 65
2019-07-03 12:27:35.296 +12:00 [INF] Route matched with {action = "GetChattingList", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChattingList(Int32) on controller Pegasus_backend.Controllers.MobileControllers.ChatController (Pegasus_backend).
2019-07-03 12:27:35.305 +12:00 [INF] Executing action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) - Validation state: "Valid"
2019-07-03 12:27:35.310 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 12:27:35.468 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`user_id`, `x`.`created_at`, `x`.`is_activate`, `x`.`password`, `x`.`role_id`, `x`.`unread_message_id`, `x`.`user_name`, `x.Role`.`role_id`, `x.Role`.`role_name`
FROM `ablemusic`.`user` AS `x`
LEFT JOIN `ablemusic`.`role` AS `x.Role` ON `x`.`role_id` = `x.Role`.`role_id`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
2019-07-03 12:27:35.643 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`teacher_id`, `x`.`ability`, `x`.`comment`, `x`.`cv_url`, `x`.`dob`, `x`.`email`, `x`.`expiry_date`, `x`.`first_name`, `x`.`form_url`, `x`.`gender`, `x`.`home_phone`, `x`.`id_number`, `x`.`id_photo`, `x`.`id_type`, `x`.`invoice_template`, `x`.`ird_number`, `x`.`is_activate`, `x`.`is_contract`, `x`.`is_left`, `x`.`last_name`, `x`.`level`, `x`.`minimum_hours`, `x`.`mobile_phone`, `x`.`otherfile_url`, `x`.`photo`, `x`.`user_id`, `x`.`visa`
FROM `ablemusic`.`teacher` AS `x`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
2019-07-03 12:27:35.730 +12:00 [WRN] The LINQ expression 'where ([x].EndTime >= Convert(DateTime.Now, Nullable`1))' could not be translated and will be evaluated locally.
2019-07-03 12:27:35.926 +12:00 [INF] Executed DbCommand (71ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`lesson_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`created_at`, `x`.`end_time`, `x`.`group_course_instance_id`, `x`.`invoice_id`, `x`.`is_canceled`, `x`.`is_changed`, `x`.`is_confirm`, `x`.`is_trial`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`, `x`.`trial_course_id`, `x.Learner`.`learner_id`, `x.Learner`.`address`, `x.Learner`.`contact_num`, `x.Learner`.`created_at`, `x.Learner`.`dob`, `x.Learner`.`email`, `x.Learner`.`enroll_date`, `x.Learner`.`first_name`, `x.Learner`.`form_url`, `x.Learner`.`g5_certification`, `x.Learner`.`gender`, `x.Learner`.`is_abrsm_g5`, `x.Learner`.`is_active`, `x.Learner`.`is_under_18`, `x.Learner`.`last_name`, `x.Learner`.`learner_level`, `x.Learner`.`level_type`, `x.Learner`.`middle_name`, `x.Learner`.`note`, `x.Learner`.`org_id`, `x.Learner`.`otherfile_url`, `x.Learner`.`payment_period`, `x.Learner`.`photo`, `x.Learner`.`referrer`, `x.Learner`.`referrer_learner_id`, `x.Learner`.`user_id`
FROM `ablemusic`.`lesson` AS `x`
LEFT JOIN `ablemusic`.`learner` AS `x.Learner` ON `x`.`learner_id` = `x.Learner`.`learner_id`
WHERE ((`x`.`teacher_id` = @__teacherId_0) AND (`x`.`is_canceled` = 0)) AND (`x`.`is_trial` = 0)
2019-07-03 12:27:36.027 +12:00 [WRN] Query: '(from Staff <generated>_1 in DbSet<Staff> select [<generated>_1]).Take(__p_0)' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 12:27:36.183 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
LIMIT @__p_0
2019-07-03 12:27:36.185 +12:00 [INF] Executed action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 875.6266ms.
2019-07-03 12:27:36.185 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[Pegasus_backend.Models.ChatListModel, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-03 12:27:36.222 +12:00 [INF] Executed action Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) in 917.4862ms
2019-07-03 12:27:36.222 +12:00 [INF] Request finished in 930.2935ms 200 application/json; charset=utf-8
2019-07-03 12:27:36.223 +12:00 [INF] Connection id "0HLNV9K4IF6AO", Request id "0HLNV9K4IF6AO:00000003": the application completed without reading the entire request body.
2019-07-03 12:30:38.717 +12:00 [INF] User profile is available. Using 'C:\Users\lgx95\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-07-03 12:30:39.327 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/values  
2019-07-03 12:30:39.327 +12:00 [INF] Request starting HTTP/1.1 DEBUG http://localhost:5000/  0
2019-07-03 12:30:39.350 +12:00 [INF] Request finished in 23.8365ms 200 
2019-07-03 12:30:39.375 +12:00 [WRN] Failed to determine the https port for redirect.
2019-07-03 12:30:39.566 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Chat/GetChattingList/10092 application/json 65
2019-07-03 12:30:39.624 +12:00 [INF] Route matched with {action = "Get", controller = "Values"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get() on controller Pegasus_backend.Controllers.ValuesController (Pegasus_backend).
2019-07-03 12:30:39.630 +12:00 [INF] Route matched with {action = "GetChattingList", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChattingList(Int32) on controller Pegasus_backend.Controllers.MobileControllers.ChatController (Pegasus_backend).
2019-07-03 12:30:39.843 +12:00 [INF] Executing action method Pegasus_backend.Controllers.ValuesController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-03 12:30:39.934 +12:00 [INF] Executing action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) - Validation state: "Valid"
2019-07-03 12:30:40.000 +12:00 [ERR] ValuesController LogErrorToFile: System.Exception: Exception of type 'System.Exception' was thrown.
   at Pegasus_backend.Controllers.ValuesController.Get() in C:\angular\pegasusBackend\Controllers\ValuesController.cs:line 30
2019-07-03 12:30:40.001 +12:00 [INF] ValuesController LogInfoToFile: hello
2019-07-03 12:30:40.004 +12:00 [INF] Executed action method Pegasus_backend.Controllers.ValuesController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 153.0764ms.
2019-07-03 12:30:40.013 +12:00 [INF] Executing ObjectResult, writing value of type 'System.DateTime'.
2019-07-03 12:30:40.067 +12:00 [INF] Executed action Pegasus_backend.Controllers.ValuesController.Get (Pegasus_backend) in 438.94800000000004ms
2019-07-03 12:30:40.072 +12:00 [INF] Request finished in 747.6514ms 200 application/json; charset=utf-8
2019-07-03 12:30:40.967 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 12:30:42.446 +12:00 [INF] Executed DbCommand (82ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`user_id`, `x`.`created_at`, `x`.`is_activate`, `x`.`password`, `x`.`role_id`, `x`.`unread_message_id`, `x`.`user_name`, `x.Role`.`role_id`, `x.Role`.`role_name`
FROM `ablemusic`.`user` AS `x`
LEFT JOIN `ablemusic`.`role` AS `x.Role` ON `x`.`role_id` = `x.Role`.`role_id`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
2019-07-03 12:30:42.836 +12:00 [INF] Executed DbCommand (69ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`teacher_id`, `x`.`ability`, `x`.`comment`, `x`.`cv_url`, `x`.`dob`, `x`.`email`, `x`.`expiry_date`, `x`.`first_name`, `x`.`form_url`, `x`.`gender`, `x`.`home_phone`, `x`.`id_number`, `x`.`id_photo`, `x`.`id_type`, `x`.`invoice_template`, `x`.`ird_number`, `x`.`is_activate`, `x`.`is_contract`, `x`.`is_left`, `x`.`last_name`, `x`.`level`, `x`.`minimum_hours`, `x`.`mobile_phone`, `x`.`otherfile_url`, `x`.`photo`, `x`.`user_id`, `x`.`visa`
FROM `ablemusic`.`teacher` AS `x`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
2019-07-03 12:30:42.911 +12:00 [WRN] The LINQ expression 'where ([x].EndTime >= Convert(DateTime.Now, Nullable`1))' could not be translated and will be evaluated locally.
2019-07-03 12:30:43.101 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`lesson_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`created_at`, `x`.`end_time`, `x`.`group_course_instance_id`, `x`.`invoice_id`, `x`.`is_canceled`, `x`.`is_changed`, `x`.`is_confirm`, `x`.`is_trial`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`, `x`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `x`
WHERE ((`x`.`teacher_id` = @__teacherId_0) AND (`x`.`is_canceled` = 0)) AND (`x`.`is_trial` = 0)
2019-07-03 12:30:43.161 +12:00 [WRN] Query: '(from Staff <generated>_1 in DbSet<Staff> select [<generated>_1]).Take(__p_0)' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 12:30:43.345 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
LIMIT @__p_0
2019-07-03 12:30:43.373 +12:00 [INF] Executed action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3439.029ms.
2019-07-03 12:30:43.374 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[Pegasus_backend.Models.ChatListModel, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-03 12:30:43.505 +12:00 [INF] Executed action Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) in 3874.643ms
2019-07-03 12:30:43.506 +12:00 [INF] Request finished in 3939.7975ms 200 application/json; charset=utf-8
2019-07-03 12:30:43.519 +12:00 [INF] Connection id "0HLNV9MM903HM", Request id "0HLNV9MM903HM:00000002": the application completed without reading the entire request body.
2019-07-03 12:31:52.842 +12:00 [INF] User profile is available. Using 'C:\Users\lgx95\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-07-03 12:31:53.667 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/values  
2019-07-03 12:31:53.667 +12:00 [INF] Request starting HTTP/1.1 DEBUG http://localhost:5000/  0
2019-07-03 12:31:53.685 +12:00 [INF] Request finished in 17.2835ms 200 
2019-07-03 12:31:53.710 +12:00 [WRN] Failed to determine the https port for redirect.
2019-07-03 12:31:53.947 +12:00 [INF] Route matched with {action = "Get", controller = "Values"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get() on controller Pegasus_backend.Controllers.ValuesController (Pegasus_backend).
2019-07-03 12:31:54.125 +12:00 [INF] Executing action method Pegasus_backend.Controllers.ValuesController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-03 12:31:54.247 +12:00 [ERR] ValuesController LogErrorToFile: System.Exception: Exception of type 'System.Exception' was thrown.
   at Pegasus_backend.Controllers.ValuesController.Get() in C:\angular\pegasusBackend\Controllers\ValuesController.cs:line 30
2019-07-03 12:31:54.247 +12:00 [INF] ValuesController LogInfoToFile: hello
2019-07-03 12:31:54.251 +12:00 [INF] Executed action method Pegasus_backend.Controllers.ValuesController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 117.48190000000001ms.
2019-07-03 12:31:54.258 +12:00 [INF] Executing ObjectResult, writing value of type 'System.DateTime'.
2019-07-03 12:31:54.314 +12:00 [INF] Executed action Pegasus_backend.Controllers.ValuesController.Get (Pegasus_backend) in 361.2009ms
2019-07-03 12:31:54.319 +12:00 [INF] Request finished in 653.9063ms 200 application/json; charset=utf-8
2019-07-03 12:31:54.567 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Chat/GetChattingList/10092 application/json 65
2019-07-03 12:31:54.595 +12:00 [INF] Route matched with {action = "GetChattingList", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChattingList(Int32) on controller Pegasus_backend.Controllers.MobileControllers.ChatController (Pegasus_backend).
2019-07-03 12:31:54.618 +12:00 [INF] Executing action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) - Validation state: "Valid"
2019-07-03 12:31:55.635 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 12:31:56.751 +12:00 [INF] Executed DbCommand (63ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`user_id`, `x`.`created_at`, `x`.`is_activate`, `x`.`password`, `x`.`role_id`, `x`.`unread_message_id`, `x`.`user_name`, `x.Role`.`role_id`, `x.Role`.`role_name`
FROM `ablemusic`.`user` AS `x`
LEFT JOIN `ablemusic`.`role` AS `x.Role` ON `x`.`role_id` = `x.Role`.`role_id`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
2019-07-03 12:31:57.058 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`teacher_id`, `x`.`ability`, `x`.`comment`, `x`.`cv_url`, `x`.`dob`, `x`.`email`, `x`.`expiry_date`, `x`.`first_name`, `x`.`form_url`, `x`.`gender`, `x`.`home_phone`, `x`.`id_number`, `x`.`id_photo`, `x`.`id_type`, `x`.`invoice_template`, `x`.`ird_number`, `x`.`is_activate`, `x`.`is_contract`, `x`.`is_left`, `x`.`last_name`, `x`.`level`, `x`.`minimum_hours`, `x`.`mobile_phone`, `x`.`otherfile_url`, `x`.`photo`, `x`.`user_id`, `x`.`visa`
FROM `ablemusic`.`teacher` AS `x`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
2019-07-03 12:31:57.135 +12:00 [WRN] The LINQ expression 'where ([x].EndTime >= Convert(DateTime.Now, Nullable`1))' could not be translated and will be evaluated locally.
2019-07-03 12:31:57.310 +12:00 [INF] Executed DbCommand (66ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`lesson_id`, `x`.`begin_time`, `x`.`course_instance_id`, `x`.`created_at`, `x`.`end_time`, `x`.`group_course_instance_id`, `x`.`invoice_id`, `x`.`is_canceled`, `x`.`is_changed`, `x`.`is_confirm`, `x`.`is_trial`, `x`.`learner_id`, `x`.`org_id`, `x`.`reason`, `x`.`room_id`, `x`.`teacher_id`, `x`.`trial_course_id`
FROM `ablemusic`.`lesson` AS `x`
WHERE ((`x`.`teacher_id` = @__teacherId_0) AND (`x`.`is_canceled` = 0)) AND (`x`.`is_trial` = 0)
2019-07-03 12:31:57.369 +12:00 [WRN] Query: '(from Staff <generated>_1 in DbSet<Staff> select [<generated>_1]).Take(__p_0)' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 12:31:57.531 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
LIMIT @__p_0
2019-07-03 12:31:57.555 +12:00 [INF] Executed action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2936.8706ms.
2019-07-03 12:31:57.556 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[Pegasus_backend.Models.ChatListModel, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-03 12:31:57.692 +12:00 [INF] Executed action Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) in 3096.7785000000003ms
2019-07-03 12:31:57.693 +12:00 [INF] Request finished in 3126.3838ms 200 application/json; charset=utf-8
2019-07-03 12:31:57.703 +12:00 [INF] Connection id "0HLNV9NCE2R3K", Request id "0HLNV9NCE2R3K:00000002": the application completed without reading the entire request body.
2019-07-03 12:34:21.188 +12:00 [INF] User profile is available. Using 'C:\Users\lgx95\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-07-03 12:34:21.873 +12:00 [INF] Request starting HTTP/1.1 DEBUG http://localhost:5000/  0
2019-07-03 12:34:21.873 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/values  
2019-07-03 12:34:21.894 +12:00 [INF] Request finished in 21.4031ms 200 
2019-07-03 12:34:21.926 +12:00 [WRN] Failed to determine the https port for redirect.
2019-07-03 12:34:22.198 +12:00 [INF] Route matched with {action = "Get", controller = "Values"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get() on controller Pegasus_backend.Controllers.ValuesController (Pegasus_backend).
2019-07-03 12:34:22.448 +12:00 [INF] Executing action method Pegasus_backend.Controllers.ValuesController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-03 12:34:22.568 +12:00 [ERR] ValuesController LogErrorToFile: System.Exception: Exception of type 'System.Exception' was thrown.
   at Pegasus_backend.Controllers.ValuesController.Get() in C:\angular\pegasusBackend\Controllers\ValuesController.cs:line 30
2019-07-03 12:34:22.569 +12:00 [INF] ValuesController LogInfoToFile: hello
2019-07-03 12:34:22.574 +12:00 [INF] Executed action method Pegasus_backend.Controllers.ValuesController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 115.671ms.
2019-07-03 12:34:22.583 +12:00 [INF] Executing ObjectResult, writing value of type 'System.DateTime'.
2019-07-03 12:34:22.658 +12:00 [INF] Executed action Pegasus_backend.Controllers.ValuesController.Get (Pegasus_backend) in 455.7839ms
2019-07-03 12:34:22.661 +12:00 [INF] Request finished in 791.0065ms 200 application/json; charset=utf-8
2019-07-03 12:34:23.655 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Chat/GetChattingList/10092 application/json 65
2019-07-03 12:34:23.691 +12:00 [INF] Route matched with {action = "GetChattingList", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChattingList(Int32) on controller Pegasus_backend.Controllers.MobileControllers.ChatController (Pegasus_backend).
2019-07-03 12:34:23.714 +12:00 [INF] Executing action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) - Validation state: "Valid"
2019-07-03 12:34:24.811 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 12:34:25.976 +12:00 [INF] Executed DbCommand (61ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`user_id`, `x`.`created_at`, `x`.`is_activate`, `x`.`password`, `x`.`role_id`, `x`.`unread_message_id`, `x`.`user_name`, `x.Role`.`role_id`, `x.Role`.`role_name`
FROM `ablemusic`.`user` AS `x`
LEFT JOIN `ablemusic`.`role` AS `x.Role` ON `x`.`role_id` = `x.Role`.`role_id`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
2019-07-03 12:34:26.274 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`teacher_id`, `x`.`ability`, `x`.`comment`, `x`.`cv_url`, `x`.`dob`, `x`.`email`, `x`.`expiry_date`, `x`.`first_name`, `x`.`form_url`, `x`.`gender`, `x`.`home_phone`, `x`.`id_number`, `x`.`id_photo`, `x`.`id_type`, `x`.`invoice_template`, `x`.`ird_number`, `x`.`is_activate`, `x`.`is_contract`, `x`.`is_left`, `x`.`last_name`, `x`.`level`, `x`.`minimum_hours`, `x`.`mobile_phone`, `x`.`otherfile_url`, `x`.`photo`, `x`.`user_id`, `x`.`visa`
FROM `ablemusic`.`teacher` AS `x`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
2019-07-03 12:34:26.345 +12:00 [WRN] The LINQ expression 'where ([x].EndTime >= Convert(DateTime.Now, Nullable`1))' could not be translated and will be evaluated locally.
2019-07-03 12:34:26.522 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`end_time`, `x`.`lesson_id` AS `LessonId`, `x`.`learner_id` AS `LearnerId`, `x`.`teacher_id` AS `TeacherId`
FROM `ablemusic`.`lesson` AS `x`
WHERE ((`x`.`teacher_id` = @__teacherId_0) AND (`x`.`is_canceled` = 0)) AND (`x`.`is_trial` = 0)
2019-07-03 12:34:26.533 +12:00 [WRN] Query: '(from Staff <generated>_1 in DbSet<Staff> select [<generated>_1]).Take(__p_0)' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 12:34:26.702 +12:00 [INF] Executed DbCommand (61ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
LIMIT @__p_0
2019-07-03 12:34:26.724 +12:00 [INF] Executed action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3009.9979000000003ms.
2019-07-03 12:34:26.725 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[Pegasus_backend.Models.ChatListModel, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-03 12:34:26.760 +12:00 [INF] Executed action Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) in 3068.8386ms
2019-07-03 12:34:26.761 +12:00 [INF] Request finished in 3105.4246ms 200 application/json; charset=utf-8
2019-07-03 12:34:26.770 +12:00 [INF] Connection id "0HLNV9OOJC3H8", Request id "0HLNV9OOJC3H8:00000002": the application completed without reading the entire request body.
2019-07-03 12:34:56.095 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Chat/GetChattingList/10092 application/json 65
2019-07-03 12:34:56.096 +12:00 [INF] Route matched with {action = "GetChattingList", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChattingList(Int32) on controller Pegasus_backend.Controllers.MobileControllers.ChatController (Pegasus_backend).
2019-07-03 12:34:56.099 +12:00 [INF] Executing action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) - Validation state: "Valid"
2019-07-03 12:34:56.118 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 12:34:56.280 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`user_id`, `x`.`created_at`, `x`.`is_activate`, `x`.`password`, `x`.`role_id`, `x`.`unread_message_id`, `x`.`user_name`, `x.Role`.`role_id`, `x.Role`.`role_name`
FROM `ablemusic`.`user` AS `x`
LEFT JOIN `ablemusic`.`role` AS `x.Role` ON `x`.`role_id` = `x.Role`.`role_id`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
2019-07-03 12:34:56.440 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`teacher_id`, `x`.`ability`, `x`.`comment`, `x`.`cv_url`, `x`.`dob`, `x`.`email`, `x`.`expiry_date`, `x`.`first_name`, `x`.`form_url`, `x`.`gender`, `x`.`home_phone`, `x`.`id_number`, `x`.`id_photo`, `x`.`id_type`, `x`.`invoice_template`, `x`.`ird_number`, `x`.`is_activate`, `x`.`is_contract`, `x`.`is_left`, `x`.`last_name`, `x`.`level`, `x`.`minimum_hours`, `x`.`mobile_phone`, `x`.`otherfile_url`, `x`.`photo`, `x`.`user_id`, `x`.`visa`
FROM `ablemusic`.`teacher` AS `x`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
2019-07-03 12:34:56.596 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`end_time`, `x`.`lesson_id` AS `LessonId`, `x`.`learner_id` AS `LearnerId`, `x`.`teacher_id` AS `TeacherId`
FROM `ablemusic`.`lesson` AS `x`
WHERE ((`x`.`teacher_id` = @__teacherId_0) AND (`x`.`is_canceled` = 0)) AND (`x`.`is_trial` = 0)
2019-07-03 12:34:56.747 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
LIMIT @__p_0
2019-07-03 12:34:56.748 +12:00 [INF] Executed action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 649.2962ms.
2019-07-03 12:34:56.748 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[Pegasus_backend.Models.ChatListModel, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-03 12:34:56.749 +12:00 [INF] Executed action Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) in 652.7698ms
2019-07-03 12:34:56.749 +12:00 [INF] Request finished in 654.0801ms 200 application/json; charset=utf-8
2019-07-03 12:34:56.749 +12:00 [INF] Connection id "0HLNV9OOJC3H9", Request id "0HLNV9OOJC3H9:00000002": the application completed without reading the entire request body.
2019-07-03 12:36:20.755 +12:00 [INF] User profile is available. Using 'C:\Users\lgx95\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-07-03 12:36:21.574 +12:00 [INF] Request starting HTTP/1.1 DEBUG http://localhost:5000/  0
2019-07-03 12:36:21.574 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/values  
2019-07-03 12:36:21.599 +12:00 [INF] Request finished in 24.5433ms 200 
2019-07-03 12:36:21.629 +12:00 [WRN] Failed to determine the https port for redirect.
2019-07-03 12:36:21.841 +12:00 [INF] Route matched with {action = "Get", controller = "Values"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get() on controller Pegasus_backend.Controllers.ValuesController (Pegasus_backend).
2019-07-03 12:36:21.975 +12:00 [INF] Executing action method Pegasus_backend.Controllers.ValuesController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-03 12:36:22.115 +12:00 [ERR] ValuesController LogErrorToFile: System.Exception: Exception of type 'System.Exception' was thrown.
   at Pegasus_backend.Controllers.ValuesController.Get() in C:\angular\pegasusBackend\Controllers\ValuesController.cs:line 30
2019-07-03 12:36:22.115 +12:00 [INF] ValuesController LogInfoToFile: hello
2019-07-03 12:36:22.120 +12:00 [INF] Executed action method Pegasus_backend.Controllers.ValuesController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 136.2989ms.
2019-07-03 12:36:22.131 +12:00 [INF] Executing ObjectResult, writing value of type 'System.DateTime'.
2019-07-03 12:36:22.193 +12:00 [INF] Executed action Pegasus_backend.Controllers.ValuesController.Get (Pegasus_backend) in 348.6042ms
2019-07-03 12:36:22.197 +12:00 [INF] Request finished in 626.4677ms 200 application/json; charset=utf-8
2019-07-03 12:36:23.536 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Chat/GetChattingList/10092 application/json 65
2019-07-03 12:36:23.560 +12:00 [INF] Route matched with {action = "GetChattingList", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChattingList(Int32) on controller Pegasus_backend.Controllers.MobileControllers.ChatController (Pegasus_backend).
2019-07-03 12:36:23.576 +12:00 [INF] Executing action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) - Validation state: "Valid"
2019-07-03 12:36:24.752 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 12:36:26.063 +12:00 [INF] Executed DbCommand (59ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`user_id`, `x`.`created_at`, `x`.`is_activate`, `x`.`password`, `x`.`role_id`, `x`.`unread_message_id`, `x`.`user_name`, `x.Role`.`role_id`, `x.Role`.`role_name`
FROM `ablemusic`.`user` AS `x`
LEFT JOIN `ablemusic`.`role` AS `x.Role` ON `x`.`role_id` = `x.Role`.`role_id`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
2019-07-03 12:36:26.390 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`teacher_id`, `x`.`ability`, `x`.`comment`, `x`.`cv_url`, `x`.`dob`, `x`.`email`, `x`.`expiry_date`, `x`.`first_name`, `x`.`form_url`, `x`.`gender`, `x`.`home_phone`, `x`.`id_number`, `x`.`id_photo`, `x`.`id_type`, `x`.`invoice_template`, `x`.`ird_number`, `x`.`is_activate`, `x`.`is_contract`, `x`.`is_left`, `x`.`last_name`, `x`.`level`, `x`.`minimum_hours`, `x`.`mobile_phone`, `x`.`otherfile_url`, `x`.`photo`, `x`.`user_id`, `x`.`visa`
FROM `ablemusic`.`teacher` AS `x`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
2019-07-03 12:36:26.488 +12:00 [WRN] The LINQ expression 'where ([x].EndTime >= Convert(DateTime.Now, Nullable`1))' could not be translated and will be evaluated locally.
2019-07-03 12:36:26.688 +12:00 [INF] Executed DbCommand (61ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x.GroupCourseInstance`.`group_course_instance_id`, `x.GroupCourseInstance`.`begin_date`, `x.GroupCourseInstance`.`course_id`, `x.GroupCourseInstance`.`end_date`, `x.GroupCourseInstance`.`invoice_date`, `x.GroupCourseInstance`.`is_activate`, `x.GroupCourseInstance`.`is_started`, `x.GroupCourseInstance`.`org_id`, `x.GroupCourseInstance`.`room_id`, `x.GroupCourseInstance`.`teacher_id`, `x`.`end_time`, `x`.`lesson_id` AS `LessonId`, `x`.`learner_id` AS `LearnerId`, `x`.`teacher_id` AS `TeacherId`, `x`.`course_instance_id` AS `CourseInstanceId`
FROM `ablemusic`.`lesson` AS `x`
LEFT JOIN `ablemusic`.`group_course_instance` AS `x.GroupCourseInstance` ON `x`.`group_course_instance_id` = `x.GroupCourseInstance`.`group_course_instance_id`
WHERE ((`x`.`teacher_id` = @__teacherId_0) AND (`x`.`is_canceled` = 0)) AND (`x`.`is_trial` = 0)
2019-07-03 12:36:26.733 +12:00 [WRN] Query: '(from Staff <generated>_1 in DbSet<Staff> select [<generated>_1]).Take(__p_0)' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 12:36:26.895 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
LIMIT @__p_0
2019-07-03 12:36:26.916 +12:00 [INF] Executed action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3339.8566ms.
2019-07-03 12:36:26.917 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[Pegasus_backend.Models.ChatListModel, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-03 12:36:26.992 +12:00 [INF] Executed action Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) in 3431.7781ms
2019-07-03 12:36:26.993 +12:00 [INF] Request finished in 3456.452ms 200 application/json; charset=utf-8
2019-07-03 12:36:27.014 +12:00 [INF] Connection id "0HLNV9PS8U3RL", Request id "0HLNV9PS8U3RL:00000002": the application completed without reading the entire request body.
2019-07-03 12:37:28.296 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Chat/GetChattingList/1 application/json 65
2019-07-03 12:37:28.302 +12:00 [INF] Route matched with {action = "GetChattingList", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChattingList(Int32) on controller Pegasus_backend.Controllers.MobileControllers.ChatController (Pegasus_backend).
2019-07-03 12:37:28.309 +12:00 [INF] Executing action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) - Validation state: "Valid"
2019-07-03 12:37:28.316 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 12:37:28.473 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`user_id`, `x`.`created_at`, `x`.`is_activate`, `x`.`password`, `x`.`role_id`, `x`.`unread_message_id`, `x`.`user_name`, `x.Role`.`role_id`, `x.Role`.`role_name`
FROM `ablemusic`.`user` AS `x`
LEFT JOIN `ablemusic`.`role` AS `x.Role` ON `x`.`role_id` = `x.Role`.`role_id`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
2019-07-03 12:37:28.634 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`staff_id`, `x`.`dob`, `x`.`email`, `x`.`expiry_date`, `x`.`first_name`, `x`.`gender`, `x`.`home_phone`, `x`.`id_number`, `x`.`id_photo`, `x`.`id_type`, `x`.`ird_number`, `x`.`is_activate`, `x`.`last_name`, `x`.`mobile_phone`, `x`.`photo`, `x`.`user_id`, `x`.`visa`
FROM `ablemusic`.`staff` AS `x`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
2019-07-03 12:37:28.838 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[@__staffId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`org_id`
FROM `ablemusic`.`staff_org` AS `x`
WHERE `x`.`staff_id` = @__staffId_0
LIMIT 1
2019-07-03 12:37:28.855 +12:00 [WRN] Query: '(from Lesson x in DbSet<Lesson> where (Nullable<int>)(int)[x].OrgId == (Nullable<int>)__orgIdOfStaff...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 12:37:28.857 +12:00 [WRN] The Include operation for navigation '[x].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 12:37:29.040 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__orgIdOfStaff_0='?' (DbType = Int16), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT `t`.*
FROM (
    SELECT `x`.`learner_id` AS `LearnerId`, `x.Learner`.`first_name` AS `FirstName`, `x.Learner`.`last_name` AS `LastName`, `x.Learner`.`user_id` AS `UserId`, `x.Learner`.`photo`
    FROM `ablemusic`.`lesson` AS `x`
    LEFT JOIN `ablemusic`.`learner` AS `x.Learner` ON `x`.`learner_id` = `x.Learner`.`learner_id`
    WHERE `x`.`org_id` = @__orgIdOfStaff_0
    LIMIT @__p_1
) AS `t`
2019-07-03 12:37:29.054 +12:00 [WRN] Query: '(from Learner x in DbSet<Learner> where (Nullable<int>)[x].OrgId == (Nullable<int>)__orgIdOfStaff_0 ...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 12:37:29.214 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__orgIdOfStaff_0='?' (DbType = Int16), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT `t`.*
FROM (
    SELECT `x`.`learner_id` AS `LearnerId`, `x`.`first_name` AS `FirstName`, `x`.`last_name` AS `LastName`, `x`.`user_id` AS `UserId`, `x`.`photo`
    FROM `ablemusic`.`learner` AS `x`
    WHERE `x`.`org_id` = @__orgIdOfStaff_0
    LIMIT @__p_1
) AS `t`
2019-07-03 12:37:29.220 +12:00 [WRN] Query: '(from Staff x in DbSet<Staff> where (Nullable<int>)(int)[x].StaffId != __staffId_0 select new Staff{...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 12:37:29.373 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__staffId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`first_name` AS `FirstName`, `x`.`last_name` AS `LastName`, `x`.`user_id` AS `UserId`, `x`.`photo`
FROM `ablemusic`.`staff` AS `x`
WHERE `x`.`staff_id` <> @__staffId_0
LIMIT @__p_1
2019-07-03 12:37:29.380 +12:00 [WRN] Query: '(from Teacher x in DbSet<Teacher> select new Teacher{ { 
    TeacherId = [x].TeacherId, , 
    Fir...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 12:37:29.535 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`teacher_id` AS `TeacherId`, `x`.`first_name` AS `FirstName`, `x`.`last_name` AS `LastName`, `x`.`photo`, `x`.`user_id` AS `UserId`
FROM `ablemusic`.`teacher` AS `x`
LIMIT @__p_0
2019-07-03 12:37:29.539 +12:00 [INF] Executed action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1225.7277000000001ms.
2019-07-03 12:37:29.540 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[Pegasus_backend.Models.ChatListModel, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-03 12:37:29.606 +12:00 [INF] Executed action Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) in 1304.2078000000001ms
2019-07-03 12:37:29.606 +12:00 [INF] Request finished in 1310.8519ms 200 application/json; charset=utf-8
2019-07-03 12:37:29.607 +12:00 [INF] Connection id "0HLNV9PS8U3RM", Request id "0HLNV9PS8U3RM:00000001": the application completed without reading the entire request body.
2019-07-03 12:38:17.202 +12:00 [INF] User profile is available. Using 'C:\Users\lgx95\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-07-03 12:38:18.029 +12:00 [INF] Request starting HTTP/1.1 DEBUG http://localhost:5000/  0
2019-07-03 12:38:18.029 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/values  
2019-07-03 12:38:18.052 +12:00 [INF] Request finished in 22.0823ms 200 
2019-07-03 12:38:18.082 +12:00 [WRN] Failed to determine the https port for redirect.
2019-07-03 12:38:18.308 +12:00 [INF] Route matched with {action = "Get", controller = "Values"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get() on controller Pegasus_backend.Controllers.ValuesController (Pegasus_backend).
2019-07-03 12:38:18.474 +12:00 [INF] Executing action method Pegasus_backend.Controllers.ValuesController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-03 12:38:18.562 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Chat/GetChattingList/1 application/json 65
2019-07-03 12:38:18.596 +12:00 [INF] Route matched with {action = "GetChattingList", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChattingList(Int32) on controller Pegasus_backend.Controllers.MobileControllers.ChatController (Pegasus_backend).
2019-07-03 12:38:18.629 +12:00 [INF] Executing action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) - Validation state: "Valid"
2019-07-03 12:38:18.645 +12:00 [ERR] ValuesController LogErrorToFile: System.Exception: Exception of type 'System.Exception' was thrown.
   at Pegasus_backend.Controllers.ValuesController.Get() in C:\angular\pegasusBackend\Controllers\ValuesController.cs:line 30
2019-07-03 12:38:18.646 +12:00 [INF] ValuesController LogInfoToFile: hello
2019-07-03 12:38:18.652 +12:00 [INF] Executed action method Pegasus_backend.Controllers.ValuesController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 165.60330000000002ms.
2019-07-03 12:38:18.673 +12:00 [INF] Executing ObjectResult, writing value of type 'System.DateTime'.
2019-07-03 12:38:18.728 +12:00 [INF] Executed action Pegasus_backend.Controllers.ValuesController.Get (Pegasus_backend) in 414.2268ms
2019-07-03 12:38:18.733 +12:00 [INF] Request finished in 706.2162ms 200 application/json; charset=utf-8
2019-07-03 12:38:19.663 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 12:38:20.754 +12:00 [INF] Executed DbCommand (66ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`user_id`, `x`.`created_at`, `x`.`is_activate`, `x`.`password`, `x`.`role_id`, `x`.`unread_message_id`, `x`.`user_name`, `x.Role`.`role_id`, `x.Role`.`role_name`
FROM `ablemusic`.`user` AS `x`
LEFT JOIN `ablemusic`.`role` AS `x.Role` ON `x`.`role_id` = `x.Role`.`role_id`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
2019-07-03 12:38:21.041 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`staff_id`, `x`.`dob`, `x`.`email`, `x`.`expiry_date`, `x`.`first_name`, `x`.`gender`, `x`.`home_phone`, `x`.`id_number`, `x`.`id_photo`, `x`.`id_type`, `x`.`ird_number`, `x`.`is_activate`, `x`.`last_name`, `x`.`mobile_phone`, `x`.`photo`, `x`.`user_id`, `x`.`visa`
FROM `ablemusic`.`staff` AS `x`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
2019-07-03 12:38:21.257 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[@__staffId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`org_id`
FROM `ablemusic`.`staff_org` AS `x`
WHERE `x`.`staff_id` = @__staffId_0
LIMIT 1
2019-07-03 12:38:21.281 +12:00 [WRN] Query: '(from Lesson x in DbSet<Lesson> where (Nullable<int>)(int)[x].OrgId == (Nullable<int>)__orgIdOfStaff...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 12:38:21.285 +12:00 [WRN] The Include operation for navigation '[x].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 12:38:21.490 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__orgIdOfStaff_0='?' (DbType = Int16), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT `t`.*
FROM (
    SELECT `x`.`learner_id` AS `LearnerId`, `x.Learner`.`first_name` AS `FirstName`, `x.Learner`.`last_name` AS `LastName`, `x.Learner`.`user_id` AS `UserId`, `x.Learner`.`photo`
    FROM `ablemusic`.`lesson` AS `x`
    LEFT JOIN `ablemusic`.`learner` AS `x.Learner` ON `x`.`learner_id` = `x.Learner`.`learner_id`
    WHERE `x`.`org_id` = @__orgIdOfStaff_0
    LIMIT @__p_1
) AS `t`
2019-07-03 12:38:21.502 +12:00 [WRN] Query: '(from Learner x in DbSet<Learner> where (Nullable<int>)[x].OrgId == (Nullable<int>)__orgIdOfStaff_0 ...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 12:38:21.664 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__orgIdOfStaff_0='?' (DbType = Int16), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT `t`.*
FROM (
    SELECT `x`.`learner_id` AS `LearnerId`, `x`.`first_name` AS `FirstName`, `x`.`last_name` AS `LastName`, `x`.`user_id` AS `UserId`, `x`.`photo`
    FROM `ablemusic`.`learner` AS `x`
    WHERE `x`.`org_id` = @__orgIdOfStaff_0
    LIMIT @__p_1
) AS `t`
2019-07-03 12:38:21.675 +12:00 [WRN] Query: '(from Staff x in DbSet<Staff> where (Nullable<int>)(int)[x].StaffId != __staffId_0 select new Staff{...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 12:38:21.830 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__staffId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`first_name` AS `FirstName`, `x`.`last_name` AS `LastName`, `x`.`user_id` AS `UserId`, `x`.`photo`
FROM `ablemusic`.`staff` AS `x`
WHERE `x`.`staff_id` <> @__staffId_0
LIMIT @__p_1
2019-07-03 12:38:21.838 +12:00 [WRN] Query: '(from Teacher x in DbSet<Teacher> select new Teacher{ { 
    TeacherId = [x].TeacherId, , 
    Fir...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 12:38:21.993 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`teacher_id` AS `TeacherId`, `x`.`first_name` AS `FirstName`, `x`.`last_name` AS `LastName`, `x`.`photo`, `x`.`user_id` AS `UserId`
FROM `ablemusic`.`teacher` AS `x`
LIMIT @__p_0
2019-07-03 12:38:21.999 +12:00 [INF] Executed action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3369.8113000000003ms.
2019-07-03 12:38:22.000 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[Pegasus_backend.Models.ChatListModel, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-03 12:38:22.135 +12:00 [INF] Executed action Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) in 3539.2652000000003ms
2019-07-03 12:38:22.136 +12:00 [INF] Request finished in 3574.1776ms 200 application/json; charset=utf-8
2019-07-03 12:38:22.151 +12:00 [INF] Connection id "0HLNV9QUVIBNP", Request id "0HLNV9QUVIBNP:00000002": the application completed without reading the entire request body.
2019-07-03 12:39:50.054 +12:00 [INF] User profile is available. Using 'C:\Users\lgx95\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-07-03 12:39:50.682 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/values  
2019-07-03 12:39:50.682 +12:00 [INF] Request starting HTTP/1.1 DEBUG http://localhost:5000/  0
2019-07-03 12:39:50.704 +12:00 [INF] Request finished in 21.0202ms 200 
2019-07-03 12:39:50.736 +12:00 [WRN] Failed to determine the https port for redirect.
2019-07-03 12:39:50.944 +12:00 [INF] Route matched with {action = "Get", controller = "Values"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get() on controller Pegasus_backend.Controllers.ValuesController (Pegasus_backend).
2019-07-03 12:39:51.114 +12:00 [INF] Executing action method Pegasus_backend.Controllers.ValuesController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-03 12:39:51.248 +12:00 [ERR] ValuesController LogErrorToFile: System.Exception: Exception of type 'System.Exception' was thrown.
   at Pegasus_backend.Controllers.ValuesController.Get() in C:\angular\pegasusBackend\Controllers\ValuesController.cs:line 30
2019-07-03 12:39:51.249 +12:00 [INF] ValuesController LogInfoToFile: hello
2019-07-03 12:39:51.253 +12:00 [INF] Executed action method Pegasus_backend.Controllers.ValuesController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 127.37610000000001ms.
2019-07-03 12:39:51.263 +12:00 [INF] Executing ObjectResult, writing value of type 'System.DateTime'.
2019-07-03 12:39:51.312 +12:00 [INF] Executed action Pegasus_backend.Controllers.ValuesController.Get (Pegasus_backend) in 364.5638ms
2019-07-03 12:39:51.318 +12:00 [INF] Request finished in 639.2414ms 200 application/json; charset=utf-8
2019-07-03 12:39:52.515 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Chat/GetChattingList/1 application/json 65
2019-07-03 12:39:52.552 +12:00 [INF] Route matched with {action = "GetChattingList", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChattingList(Int32) on controller Pegasus_backend.Controllers.MobileControllers.ChatController (Pegasus_backend).
2019-07-03 12:39:52.571 +12:00 [INF] Executing action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) - Validation state: "Valid"
2019-07-03 12:39:53.619 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 12:39:54.736 +12:00 [INF] Executed DbCommand (63ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`user_id`, `x`.`created_at`, `x`.`is_activate`, `x`.`password`, `x`.`role_id`, `x`.`unread_message_id`, `x`.`user_name`, `x.Role`.`role_id`, `x.Role`.`role_name`
FROM `ablemusic`.`user` AS `x`
LEFT JOIN `ablemusic`.`role` AS `x.Role` ON `x`.`role_id` = `x.Role`.`role_id`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
2019-07-03 12:39:55.047 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`staff_id`, `x`.`dob`, `x`.`email`, `x`.`expiry_date`, `x`.`first_name`, `x`.`gender`, `x`.`home_phone`, `x`.`id_number`, `x`.`id_photo`, `x`.`id_type`, `x`.`ird_number`, `x`.`is_activate`, `x`.`last_name`, `x`.`mobile_phone`, `x`.`photo`, `x`.`user_id`, `x`.`visa`
FROM `ablemusic`.`staff` AS `x`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
2019-07-03 12:39:55.275 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[@__staffId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`org_id`
FROM `ablemusic`.`staff_org` AS `x`
WHERE `x`.`staff_id` = @__staffId_0
LIMIT 1
2019-07-03 12:39:55.293 +12:00 [WRN] Query: '(from Lesson x in DbSet<Lesson> where (Nullable<int>)(int)[x].OrgId == (Nullable<int>)__orgIdOfStaff...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 12:39:55.296 +12:00 [WRN] The Include operation for navigation '[x].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 12:39:55.480 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__orgIdOfStaff_0='?' (DbType = Int16), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT `t`.*
FROM (
    SELECT `x`.`learner_id` AS `LearnerId`, `x.Learner`.`first_name` AS `FirstName`, `x.Learner`.`last_name` AS `LastName`, `x.Learner`.`user_id` AS `UserId`, `x.Learner`.`photo`
    FROM `ablemusic`.`lesson` AS `x`
    LEFT JOIN `ablemusic`.`learner` AS `x.Learner` ON `x`.`learner_id` = `x.Learner`.`learner_id`
    WHERE `x`.`org_id` = @__orgIdOfStaff_0
    LIMIT @__p_1
) AS `t`
2019-07-03 12:39:55.491 +12:00 [WRN] Query: '(from Learner x in DbSet<Learner> where (Nullable<int>)[x].OrgId == (Nullable<int>)__orgIdOfStaff_0 ...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 12:39:55.649 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__orgIdOfStaff_0='?' (DbType = Int16), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT `t`.*
FROM (
    SELECT `x`.`learner_id` AS `LearnerId`, `x`.`first_name` AS `FirstName`, `x`.`last_name` AS `LastName`, `x`.`user_id` AS `UserId`, `x`.`photo`
    FROM `ablemusic`.`learner` AS `x`
    WHERE `x`.`org_id` = @__orgIdOfStaff_0
    LIMIT @__p_1
) AS `t`
2019-07-03 12:39:55.658 +12:00 [WRN] Query: '(from Staff x in DbSet<Staff> where (Nullable<int>)(int)[x].StaffId != __staffId_0 select new Staff{...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 12:39:55.810 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__staffId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`first_name` AS `FirstName`, `x`.`last_name` AS `LastName`, `x`.`user_id` AS `UserId`, `x`.`photo`
FROM `ablemusic`.`staff` AS `x`
WHERE `x`.`staff_id` <> @__staffId_0
LIMIT @__p_1
2019-07-03 12:39:55.818 +12:00 [WRN] Query: '(from Teacher x in DbSet<Teacher> select new Teacher{ { 
    TeacherId = [x].TeacherId, , 
    Fir...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 12:39:55.977 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`teacher_id` AS `TeacherId`, `x`.`first_name` AS `FirstName`, `x`.`last_name` AS `LastName`, `x`.`photo`, `x`.`user_id` AS `UserId`
FROM `ablemusic`.`teacher` AS `x`
LIMIT @__p_0
2019-07-03 12:39:55.984 +12:00 [INF] Executed action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3413.228ms.
2019-07-03 12:39:55.985 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[Pegasus_backend.Models.ChatListModel, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-03 12:39:56.110 +12:00 [INF] Executed action Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) in 3557.5727ms
2019-07-03 12:39:56.111 +12:00 [INF] Request finished in 3596.3792ms 200 application/json; charset=utf-8
2019-07-03 12:39:56.129 +12:00 [INF] Connection id "0HLNV9RQJ4QH1", Request id "0HLNV9RQJ4QH1:00000002": the application completed without reading the entire request body.
2019-07-03 12:40:09.053 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Chat/GetChattingList/1 application/json 65
2019-07-03 12:40:09.053 +12:00 [INF] Route matched with {action = "GetChattingList", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChattingList(Int32) on controller Pegasus_backend.Controllers.MobileControllers.ChatController (Pegasus_backend).
2019-07-03 12:40:09.055 +12:00 [INF] Executing action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) - Validation state: "Valid"
2019-07-03 12:40:09.057 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 12:40:09.215 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`user_id`, `x`.`created_at`, `x`.`is_activate`, `x`.`password`, `x`.`role_id`, `x`.`unread_message_id`, `x`.`user_name`, `x.Role`.`role_id`, `x.Role`.`role_name`
FROM `ablemusic`.`user` AS `x`
LEFT JOIN `ablemusic`.`role` AS `x.Role` ON `x`.`role_id` = `x.Role`.`role_id`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
2019-07-03 12:40:09.366 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`staff_id`, `x`.`dob`, `x`.`email`, `x`.`expiry_date`, `x`.`first_name`, `x`.`gender`, `x`.`home_phone`, `x`.`id_number`, `x`.`id_photo`, `x`.`id_type`, `x`.`ird_number`, `x`.`is_activate`, `x`.`last_name`, `x`.`mobile_phone`, `x`.`photo`, `x`.`user_id`, `x`.`visa`
FROM `ablemusic`.`staff` AS `x`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
2019-07-03 12:40:09.512 +12:00 [INF] Executed DbCommand (48ms) [Parameters=[@__staffId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`org_id`
FROM `ablemusic`.`staff_org` AS `x`
WHERE `x`.`staff_id` = @__staffId_0
LIMIT 1
2019-07-03 12:40:09.667 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__orgIdOfStaff_0='?' (DbType = Int16), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT `t`.*
FROM (
    SELECT `x`.`learner_id` AS `LearnerId`, `x.Learner`.`first_name` AS `FirstName`, `x.Learner`.`last_name` AS `LastName`, `x.Learner`.`user_id` AS `UserId`, `x.Learner`.`photo`
    FROM `ablemusic`.`lesson` AS `x`
    LEFT JOIN `ablemusic`.`learner` AS `x.Learner` ON `x`.`learner_id` = `x.Learner`.`learner_id`
    WHERE `x`.`org_id` = @__orgIdOfStaff_0
    LIMIT @__p_1
) AS `t`
2019-07-03 12:40:09.815 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__orgIdOfStaff_0='?' (DbType = Int16), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT `t`.*
FROM (
    SELECT `x`.`learner_id` AS `LearnerId`, `x`.`first_name` AS `FirstName`, `x`.`last_name` AS `LastName`, `x`.`user_id` AS `UserId`, `x`.`photo`
    FROM `ablemusic`.`learner` AS `x`
    WHERE `x`.`org_id` = @__orgIdOfStaff_0
    LIMIT @__p_1
) AS `t`
2019-07-03 12:40:09.964 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__staffId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`first_name` AS `FirstName`, `x`.`last_name` AS `LastName`, `x`.`user_id` AS `UserId`, `x`.`photo`
FROM `ablemusic`.`staff` AS `x`
WHERE `x`.`staff_id` <> @__staffId_0
LIMIT @__p_1
2019-07-03 12:40:10.112 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`teacher_id` AS `TeacherId`, `x`.`first_name` AS `FirstName`, `x`.`last_name` AS `LastName`, `x`.`photo`, `x`.`user_id` AS `UserId`
FROM `ablemusic`.`teacher` AS `x`
LIMIT @__p_0
2019-07-03 12:40:10.113 +12:00 [INF] Executed action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1057.8112ms.
2019-07-03 12:40:10.113 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[Pegasus_backend.Models.ChatListModel, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-03 12:40:10.114 +12:00 [INF] Executed action Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) in 1060.6553000000001ms
2019-07-03 12:40:10.115 +12:00 [INF] Request finished in 1062.0107ms 200 application/json; charset=utf-8
2019-07-03 12:40:10.115 +12:00 [INF] Connection id "0HLNV9RQJ4QH0", Request id "0HLNV9RQJ4QH0:00000002": the application completed without reading the entire request body.
2019-07-03 12:40:41.329 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Chat/GetChattingList/1 application/json 65
2019-07-03 12:40:41.330 +12:00 [INF] Route matched with {action = "GetChattingList", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChattingList(Int32) on controller Pegasus_backend.Controllers.MobileControllers.ChatController (Pegasus_backend).
2019-07-03 12:40:41.331 +12:00 [INF] Executing action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) - Validation state: "Valid"
2019-07-03 12:40:41.332 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 12:40:41.499 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`user_id`, `x`.`created_at`, `x`.`is_activate`, `x`.`password`, `x`.`role_id`, `x`.`unread_message_id`, `x`.`user_name`, `x.Role`.`role_id`, `x.Role`.`role_name`
FROM `ablemusic`.`user` AS `x`
LEFT JOIN `ablemusic`.`role` AS `x.Role` ON `x`.`role_id` = `x.Role`.`role_id`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
2019-07-03 12:40:41.654 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`staff_id`, `x`.`dob`, `x`.`email`, `x`.`expiry_date`, `x`.`first_name`, `x`.`gender`, `x`.`home_phone`, `x`.`id_number`, `x`.`id_photo`, `x`.`id_type`, `x`.`ird_number`, `x`.`is_activate`, `x`.`last_name`, `x`.`mobile_phone`, `x`.`photo`, `x`.`user_id`, `x`.`visa`
FROM `ablemusic`.`staff` AS `x`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
2019-07-03 12:40:41.801 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[@__staffId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`org_id`
FROM `ablemusic`.`staff_org` AS `x`
WHERE `x`.`staff_id` = @__staffId_0
LIMIT 1
2019-07-03 12:40:41.955 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__orgIdOfStaff_0='?' (DbType = Int16), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT `t`.*
FROM (
    SELECT `x`.`learner_id` AS `LearnerId`, `x.Learner`.`first_name` AS `FirstName`, `x.Learner`.`last_name` AS `LastName`, `x.Learner`.`user_id` AS `UserId`, `x.Learner`.`photo`
    FROM `ablemusic`.`lesson` AS `x`
    LEFT JOIN `ablemusic`.`learner` AS `x.Learner` ON `x`.`learner_id` = `x.Learner`.`learner_id`
    WHERE `x`.`org_id` = @__orgIdOfStaff_0
    LIMIT @__p_1
) AS `t`
2019-07-03 12:40:42.105 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__orgIdOfStaff_0='?' (DbType = Int16), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT `t`.*
FROM (
    SELECT `x`.`learner_id` AS `LearnerId`, `x`.`first_name` AS `FirstName`, `x`.`last_name` AS `LastName`, `x`.`user_id` AS `UserId`, `x`.`photo`
    FROM `ablemusic`.`learner` AS `x`
    WHERE `x`.`org_id` = @__orgIdOfStaff_0
    LIMIT @__p_1
) AS `t`
2019-07-03 12:40:42.251 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__staffId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`first_name` AS `FirstName`, `x`.`last_name` AS `LastName`, `x`.`user_id` AS `UserId`, `x`.`photo`
FROM `ablemusic`.`staff` AS `x`
WHERE `x`.`staff_id` <> @__staffId_0
LIMIT @__p_1
2019-07-03 12:40:42.399 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`teacher_id` AS `TeacherId`, `x`.`first_name` AS `FirstName`, `x`.`last_name` AS `LastName`, `x`.`photo`, `x`.`user_id` AS `UserId`
FROM `ablemusic`.`teacher` AS `x`
LIMIT @__p_0
2019-07-03 12:40:42.399 +12:00 [INF] Executed action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1067.664ms.
2019-07-03 12:40:42.399 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[Pegasus_backend.Models.ChatListModel, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-03 12:40:42.400 +12:00 [INF] Executed action Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) in 1069.9767000000002ms
2019-07-03 12:40:42.400 +12:00 [INF] Request finished in 1071.2595ms 200 application/json; charset=utf-8
2019-07-03 12:40:42.400 +12:00 [INF] Connection id "0HLNV9RQJ4QH1", Request id "0HLNV9RQJ4QH1:00000003": the application completed without reading the entire request body.
2019-07-03 12:41:02.263 +12:00 [INF] User profile is available. Using 'C:\Users\lgx95\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-07-03 12:41:03.035 +12:00 [INF] Request starting HTTP/1.1 DEBUG http://localhost:5000/  0
2019-07-03 12:41:03.035 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/values  
2019-07-03 12:41:03.060 +12:00 [INF] Request finished in 25.9468ms 200 
2019-07-03 12:41:03.090 +12:00 [WRN] Failed to determine the https port for redirect.
2019-07-03 12:41:03.319 +12:00 [INF] Route matched with {action = "Get", controller = "Values"}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Get() on controller Pegasus_backend.Controllers.ValuesController (Pegasus_backend).
2019-07-03 12:41:03.486 +12:00 [INF] Executing action method Pegasus_backend.Controllers.ValuesController.Get (Pegasus_backend) - Validation state: "Valid"
2019-07-03 12:41:03.612 +12:00 [ERR] ValuesController LogErrorToFile: System.Exception: Exception of type 'System.Exception' was thrown.
   at Pegasus_backend.Controllers.ValuesController.Get() in C:\angular\pegasusBackend\Controllers\ValuesController.cs:line 30
2019-07-03 12:41:03.613 +12:00 [INF] ValuesController LogInfoToFile: hello
2019-07-03 12:41:03.616 +12:00 [INF] Executed action method Pegasus_backend.Controllers.ValuesController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 119.80380000000001ms.
2019-07-03 12:41:03.625 +12:00 [INF] Executing ObjectResult, writing value of type 'System.DateTime'.
2019-07-03 12:41:03.671 +12:00 [INF] Executed action Pegasus_backend.Controllers.ValuesController.Get (Pegasus_backend) in 349.8383ms
2019-07-03 12:41:03.677 +12:00 [INF] Request finished in 645.2512ms 200 application/json; charset=utf-8
2019-07-03 12:41:10.159 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Chat/GetChattingList/1 application/json 65
2019-07-03 12:41:10.187 +12:00 [INF] Route matched with {action = "GetChattingList", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChattingList(Int32) on controller Pegasus_backend.Controllers.MobileControllers.ChatController (Pegasus_backend).
2019-07-03 12:41:10.208 +12:00 [INF] Executing action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) - Validation state: "Valid"
2019-07-03 12:41:11.254 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 12:41:12.411 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`user_id`, `x`.`created_at`, `x`.`is_activate`, `x`.`password`, `x`.`role_id`, `x`.`unread_message_id`, `x`.`user_name`, `x.Role`.`role_id`, `x.Role`.`role_name`
FROM `ablemusic`.`user` AS `x`
LEFT JOIN `ablemusic`.`role` AS `x.Role` ON `x`.`role_id` = `x.Role`.`role_id`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
2019-07-03 12:41:12.736 +12:00 [INF] Executed DbCommand (57ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`staff_id`, `x`.`dob`, `x`.`email`, `x`.`expiry_date`, `x`.`first_name`, `x`.`gender`, `x`.`home_phone`, `x`.`id_number`, `x`.`id_photo`, `x`.`id_type`, `x`.`ird_number`, `x`.`is_activate`, `x`.`last_name`, `x`.`mobile_phone`, `x`.`photo`, `x`.`user_id`, `x`.`visa`
FROM `ablemusic`.`staff` AS `x`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
2019-07-03 12:41:12.959 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__staffId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`org_id`
FROM `ablemusic`.`staff_org` AS `x`
WHERE `x`.`staff_id` = @__staffId_0
LIMIT 1
2019-07-03 12:41:12.977 +12:00 [WRN] Query: '(from Lesson x in DbSet<Lesson> where (Nullable<int>)(int)[x].OrgId == (Nullable<int>)__orgIdOfStaff...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 12:41:12.979 +12:00 [WRN] The Include operation for navigation '[x].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-07-03 12:41:13.164 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__orgIdOfStaff_0='?' (DbType = Int16), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT `t`.*
FROM (
    SELECT `x`.`learner_id` AS `LearnerId`, `x.Learner`.`first_name` AS `FirstName`, `x.Learner`.`last_name` AS `LastName`, `x.Learner`.`user_id` AS `UserId`, `x.Learner`.`photo`
    FROM `ablemusic`.`lesson` AS `x`
    LEFT JOIN `ablemusic`.`learner` AS `x.Learner` ON `x`.`learner_id` = `x.Learner`.`learner_id`
    WHERE `x`.`org_id` = @__orgIdOfStaff_0
    LIMIT @__p_1
) AS `t`
2019-07-03 12:41:13.175 +12:00 [WRN] Query: '(from Learner x in DbSet<Learner> where (Nullable<int>)[x].OrgId == (Nullable<int>)__orgIdOfStaff_0 ...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 12:41:13.332 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__orgIdOfStaff_0='?' (DbType = Int16), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT `t`.*
FROM (
    SELECT `x`.`learner_id` AS `LearnerId`, `x`.`first_name` AS `FirstName`, `x`.`last_name` AS `LastName`, `x`.`user_id` AS `UserId`, `x`.`photo`
    FROM `ablemusic`.`learner` AS `x`
    WHERE `x`.`org_id` = @__orgIdOfStaff_0
    LIMIT @__p_1
) AS `t`
2019-07-03 12:41:13.340 +12:00 [WRN] Query: '(from Staff x in DbSet<Staff> where (Nullable<int>)(int)[x].StaffId != __staffId_0 select new Staff{...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 12:41:13.493 +12:00 [INF] Executed DbCommand (50ms) [Parameters=[@__staffId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`first_name` AS `FirstName`, `x`.`last_name` AS `LastName`, `x`.`user_id` AS `UserId`, `x`.`photo`
FROM `ablemusic`.`staff` AS `x`
WHERE `x`.`staff_id` <> @__staffId_0
LIMIT @__p_1
2019-07-03 12:41:13.501 +12:00 [WRN] Query: '(from Teacher x in DbSet<Teacher> select new Teacher{ { 
    TeacherId = [x].TeacherId, , 
    Fir...' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 12:41:13.655 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`teacher_id` AS `TeacherId`, `x`.`first_name` AS `FirstName`, `x`.`last_name` AS `LastName`, `x`.`photo`, `x`.`user_id` AS `UserId`
FROM `ablemusic`.`teacher` AS `x`
LIMIT @__p_0
2019-07-03 12:41:13.662 +12:00 [INF] Executed action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3453.2507ms.
2019-07-03 12:41:13.662 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[Pegasus_backend.Models.ChatListModel, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-03 12:41:13.812 +12:00 [INF] Executed action Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) in 3624.0897ms
2019-07-03 12:41:13.812 +12:00 [INF] Request finished in 3653.8539ms 200 application/json; charset=utf-8
2019-07-03 12:41:13.824 +12:00 [INF] Connection id "0HLNV9SG526JT", Request id "0HLNV9SG526JT:00000002": the application completed without reading the entire request body.
2019-07-03 12:41:35.020 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Chat/GetChattingList/1 application/json 65
2019-07-03 12:41:35.021 +12:00 [INF] Route matched with {action = "GetChattingList", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChattingList(Int32) on controller Pegasus_backend.Controllers.MobileControllers.ChatController (Pegasus_backend).
2019-07-03 12:41:35.025 +12:00 [INF] Executing action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) - Validation state: "Valid"
2019-07-03 12:41:38.087 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 12:41:38.249 +12:00 [INF] Executed DbCommand (53ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`user_id`, `x`.`created_at`, `x`.`is_activate`, `x`.`password`, `x`.`role_id`, `x`.`unread_message_id`, `x`.`user_name`, `x.Role`.`role_id`, `x.Role`.`role_name`
FROM `ablemusic`.`user` AS `x`
LEFT JOIN `ablemusic`.`role` AS `x.Role` ON `x`.`role_id` = `x.Role`.`role_id`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
2019-07-03 12:41:38.402 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`staff_id`, `x`.`dob`, `x`.`email`, `x`.`expiry_date`, `x`.`first_name`, `x`.`gender`, `x`.`home_phone`, `x`.`id_number`, `x`.`id_photo`, `x`.`id_type`, `x`.`ird_number`, `x`.`is_activate`, `x`.`last_name`, `x`.`mobile_phone`, `x`.`photo`, `x`.`user_id`, `x`.`visa`
FROM `ablemusic`.`staff` AS `x`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
2019-07-03 12:41:38.552 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__staffId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`org_id`
FROM `ablemusic`.`staff_org` AS `x`
WHERE `x`.`staff_id` = @__staffId_0
LIMIT 1
2019-07-03 12:41:38.709 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[@__orgIdOfStaff_0='?' (DbType = Int16), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT `t`.*
FROM (
    SELECT `x`.`learner_id` AS `LearnerId`, `x.Learner`.`first_name` AS `FirstName`, `x.Learner`.`last_name` AS `LastName`, `x.Learner`.`user_id` AS `UserId`, `x.Learner`.`photo`
    FROM `ablemusic`.`lesson` AS `x`
    LEFT JOIN `ablemusic`.`learner` AS `x.Learner` ON `x`.`learner_id` = `x.Learner`.`learner_id`
    WHERE `x`.`org_id` = @__orgIdOfStaff_0
    LIMIT @__p_1
) AS `t`
2019-07-03 12:41:38.859 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__orgIdOfStaff_0='?' (DbType = Int16), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT DISTINCT `t`.*
FROM (
    SELECT `x`.`learner_id` AS `LearnerId`, `x`.`first_name` AS `FirstName`, `x`.`last_name` AS `LastName`, `x`.`user_id` AS `UserId`, `x`.`photo`
    FROM `ablemusic`.`learner` AS `x`
    WHERE `x`.`org_id` = @__orgIdOfStaff_0
    LIMIT @__p_1
) AS `t`
2019-07-03 12:41:39.008 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__staffId_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`first_name` AS `FirstName`, `x`.`last_name` AS `LastName`, `x`.`user_id` AS `UserId`, `x`.`photo`
FROM `ablemusic`.`staff` AS `x`
WHERE `x`.`staff_id` <> @__staffId_0
LIMIT @__p_1
2019-07-03 12:41:39.159 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`teacher_id` AS `TeacherId`, `x`.`first_name` AS `FirstName`, `x`.`last_name` AS `LastName`, `x`.`photo`, `x`.`user_id` AS `UserId`
FROM `ablemusic`.`teacher` AS `x`
LIMIT @__p_0
2019-07-03 12:41:39.159 +12:00 [INF] Executed action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4133.3593ms.
2019-07-03 12:41:39.159 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[Pegasus_backend.Models.ChatListModel, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-03 12:41:39.160 +12:00 [INF] Executed action Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) in 4138.5459ms
2019-07-03 12:41:39.160 +12:00 [INF] Request finished in 4140.1844ms 200 application/json; charset=utf-8
2019-07-03 12:41:39.161 +12:00 [INF] Connection id "0HLNV9SG526JS", Request id "0HLNV9SG526JS:00000002": the application completed without reading the entire request body.
2019-07-03 12:42:35.811 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Chat/GetChattingList/10092 application/json 65
2019-07-03 12:42:35.812 +12:00 [INF] Route matched with {action = "GetChattingList", controller = "Chat"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetChattingList(Int32) on controller Pegasus_backend.Controllers.MobileControllers.ChatController (Pegasus_backend).
2019-07-03 12:42:35.814 +12:00 [INF] Executing action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) - Validation state: "Valid"
2019-07-03 12:42:39.731 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-07-03 12:42:39.892 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`user_id`, `x`.`created_at`, `x`.`is_activate`, `x`.`password`, `x`.`role_id`, `x`.`unread_message_id`, `x`.`user_name`, `x.Role`.`role_id`, `x.Role`.`role_name`
FROM `ablemusic`.`user` AS `x`
LEFT JOIN `ablemusic`.`role` AS `x.Role` ON `x`.`role_id` = `x.Role`.`role_id`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
2019-07-03 12:42:40.060 +12:00 [INF] Executed DbCommand (56ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`teacher_id`, `x`.`ability`, `x`.`comment`, `x`.`cv_url`, `x`.`dob`, `x`.`email`, `x`.`expiry_date`, `x`.`first_name`, `x`.`form_url`, `x`.`gender`, `x`.`home_phone`, `x`.`id_number`, `x`.`id_photo`, `x`.`id_type`, `x`.`invoice_template`, `x`.`ird_number`, `x`.`is_activate`, `x`.`is_contract`, `x`.`is_left`, `x`.`last_name`, `x`.`level`, `x`.`minimum_hours`, `x`.`mobile_phone`, `x`.`otherfile_url`, `x`.`photo`, `x`.`user_id`, `x`.`visa`
FROM `ablemusic`.`teacher` AS `x`
WHERE `x`.`user_id` = @__id_0
LIMIT 1
2019-07-03 12:42:40.124 +12:00 [WRN] The LINQ expression 'where ([x].EndTime >= Convert(DateTime.Now, Nullable`1))' could not be translated and will be evaluated locally.
2019-07-03 12:42:40.306 +12:00 [INF] Executed DbCommand (62ms) [Parameters=[@__teacherId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x.GroupCourseInstance`.`group_course_instance_id`, `x.GroupCourseInstance`.`begin_date`, `x.GroupCourseInstance`.`course_id`, `x.GroupCourseInstance`.`end_date`, `x.GroupCourseInstance`.`invoice_date`, `x.GroupCourseInstance`.`is_activate`, `x.GroupCourseInstance`.`is_started`, `x.GroupCourseInstance`.`org_id`, `x.GroupCourseInstance`.`room_id`, `x.GroupCourseInstance`.`teacher_id`, `x`.`end_time`, `x`.`lesson_id` AS `LessonId`, `x`.`learner_id` AS `LearnerId`, `x`.`teacher_id` AS `TeacherId`, `x`.`course_instance_id` AS `CourseInstanceId`
FROM `ablemusic`.`lesson` AS `x`
LEFT JOIN `ablemusic`.`group_course_instance` AS `x.GroupCourseInstance` ON `x`.`group_course_instance_id` = `x.GroupCourseInstance`.`group_course_instance_id`
WHERE ((`x`.`teacher_id` = @__teacherId_0) AND (`x`.`is_canceled` = 0)) AND (`x`.`is_trial` = 0)
2019-07-03 12:42:41.452 +12:00 [WRN] Query: '(from Staff <generated>_1 in DbSet<Staff> select [<generated>_1]).Take(__p_0)' uses a row limiting operation (Skip/Take) without OrderBy which may lead to unpredictable results.
2019-07-03 12:42:41.613 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`staff_id`, `s`.`dob`, `s`.`email`, `s`.`expiry_date`, `s`.`first_name`, `s`.`gender`, `s`.`home_phone`, `s`.`id_number`, `s`.`id_photo`, `s`.`id_type`, `s`.`ird_number`, `s`.`is_activate`, `s`.`last_name`, `s`.`mobile_phone`, `s`.`photo`, `s`.`user_id`, `s`.`visa`
FROM `ablemusic`.`staff` AS `s`
LIMIT @__p_0
2019-07-03 12:42:41.615 +12:00 [INF] Executed action method Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 5800.6320000000005ms.
2019-07-03 12:42:41.615 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[Pegasus_backend.Models.ChatListModel, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2019-07-03 12:42:41.635 +12:00 [INF] Executed action Pegasus_backend.Controllers.MobileControllers.ChatController.GetChattingList (Pegasus_backend) in 5822.0031ms
2019-07-03 12:42:41.635 +12:00 [INF] Request finished in 5823.567ms 200 application/json; charset=utf-8
2019-07-03 12:42:41.635 +12:00 [INF] Connection id "0HLNV9SG526JS", Request id "0HLNV9SG526JS:00000003": the application completed without reading the entire request body.
>>>>>>> 70179401b82cb6ed928ca587a5b8d762b7e7cca6
