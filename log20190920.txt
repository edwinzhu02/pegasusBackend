2019-09-20 15:13:14.548 +12:00 [INF] User profile is available. Using 'C:\Users\zhuyi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-09-20 15:13:15.254 +12:00 [INF] Setting up the time host service. Everyday run at 23pm
2019-09-20 15:13:19.305 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2019-09-20 15:13:19.383 +12:00 [WRN] Failed to determine the https port for redirect.
2019-09-20 15:13:19.544 +12:00 [INF] 
2019-09-20 15:13:19.984 +12:00 [INF] Response 
2019-09-20 15:13:19.992 +12:00 [INF] Request finished in 689.4734ms 404 
2019-09-20 15:13:33.722 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger  
2019-09-20 15:13:33.725 +12:00 [INF] Request finished in 2.2793ms 301 
2019-09-20 15:13:33.737 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2019-09-20 15:13:33.906 +12:00 [INF] Request finished in 169.2756ms 200 text/html
2019-09-20 15:13:33.923 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui.css  
2019-09-20 15:13:33.923 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-bundle.js  
2019-09-20 15:13:33.926 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-standalone-preset.js  
2019-09-20 15:13:33.994 +12:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2019-09-20 15:13:33.994 +12:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2019-09-20 15:13:33.998 +12:00 [INF] Request finished in 77.764ms 200 text/css
2019-09-20 15:13:33.998 +12:00 [INF] Request finished in 72.1376ms 200 application/javascript
2019-09-20 15:13:34.003 +12:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2019-09-20 15:13:34.003 +12:00 [INF] Request finished in 79.6461ms 200 application/javascript
2019-09-20 15:13:34.869 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2019-09-20 15:13:35.244 +12:00 [INF] Request finished in 374.9316ms 200 application/json;charset=utf-8
2019-09-20 15:13:53.305 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/GroupCourseInstance  
2019-09-20 15:13:53.305 +12:00 [INF] 
2019-09-20 15:13:53.331 +12:00 [INF] Route matched with {action = "GetGroupCourseInstance", controller = "GroupCourseInstance"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetGroupCourseInstance() on controller Pegasus_backend.Controllers.GroupCourseInstanceController (Pegasus_backend).
2019-09-20 15:13:53.905 +12:00 [INF] Executing action method Pegasus_backend.Controllers.GroupCourseInstanceController.GetGroupCourseInstance (Pegasus_backend) - Validation state: "Valid"
2019-09-20 15:13:54.901 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-09-20 15:13:54.966 +12:00 [WRN] The Include operation for navigation '[c].CourseSchedule' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-09-20 15:13:54.967 +12:00 [WRN] The Include operation for navigation '[c].Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-09-20 15:13:54.967 +12:00 [WRN] The Include operation for navigation '[c].Org' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-09-20 15:13:54.967 +12:00 [WRN] The Include operation for navigation '[c].Room' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-09-20 15:13:54.968 +12:00 [WRN] The Include operation for navigation '[c].Teacher' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-09-20 15:13:58.165 +12:00 [INF] Executed DbCommand (67ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c.Course.CourseCategory`.`course_category_id`, `c.Course.CourseCategory`.`course_category_name`, `c`.`course_id` AS `CourseId`, `c`.`group_course_instance_id` AS `GroupCourseInstanceId`, `c`.`begin_date` AS `BeginDate`, `c`.`end_date` AS `EndDate`, `c.Course`.`course_name` AS `CourseName`, `c.Course`.`course_type` AS `CourseType`, `c.Course`.`level`, `c.Course`.`duration`, `c.Course`.`price`, `c`.`org_id` AS `OrgId`, `c.Org`.`org_name` AS `OrgName`, `c`.`room_id` AS `RoomId`, `c.Room`.`room_name` AS `RoomName`, `c`.`teacher_id` AS `TeacherId`, `c.Teacher`.`first_name` AS `FirstName`, `c.Teacher`.`last_name` AS `LastName`
FROM `ablemusic`.`group_course_instance` AS `c`
LEFT JOIN `ablemusic`.`teacher` AS `c.Teacher` ON `c`.`teacher_id` = `c.Teacher`.`teacher_id`
LEFT JOIN `ablemusic`.`room` AS `c.Room` ON `c`.`room_id` = `c.Room`.`room_id`
LEFT JOIN `ablemusic`.`org` AS `c.Org` ON `c`.`org_id` = `c.Org`.`org_id`
INNER JOIN `ablemusic`.`course` AS `c.Course` ON `c`.`course_id` = `c.Course`.`course_id`
LEFT JOIN `ablemusic`.`course_category` AS `c.Course.CourseCategory` ON `c.Course`.`course_category_id` = `c.Course.CourseCategory`.`course_category_id`
WHERE `c`.`is_activate` = 1
ORDER BY `c`.`group_course_instance_id`
2019-09-20 15:13:58.317 +12:00 [INF] Executed DbCommand (65ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c.CourseSchedule`.`course_schedule_id`, `c.CourseSchedule`.`begin_time`, `c.CourseSchedule`.`course_instance_id`, `c.CourseSchedule`.`day_of_week`, `c.CourseSchedule`.`end_time`, `c.CourseSchedule`.`group_course_instance_id`, `t`.`group_course_instance_id`
FROM `ablemusic`.`course_schedule` AS `c.CourseSchedule`
INNER JOIN (
    SELECT `c0`.`group_course_instance_id`
    FROM `ablemusic`.`group_course_instance` AS `c0`
    LEFT JOIN `ablemusic`.`teacher` AS `c.Teacher0` ON `c0`.`teacher_id` = `c.Teacher0`.`teacher_id`
    LEFT JOIN `ablemusic`.`room` AS `c.Room0` ON `c0`.`room_id` = `c.Room0`.`room_id`
    LEFT JOIN `ablemusic`.`org` AS `c.Org0` ON `c0`.`org_id` = `c.Org0`.`org_id`
    INNER JOIN `ablemusic`.`course` AS `c.Course0` ON `c0`.`course_id` = `c.Course0`.`course_id`
    LEFT JOIN `ablemusic`.`course_category` AS `c.Course.CourseCategory0` ON `c.Course0`.`course_category_id` = `c.Course.CourseCategory0`.`course_category_id`
    WHERE `c0`.`is_activate` = 1
) AS `t` ON `c.CourseSchedule`.`group_course_instance_id` = `t`.`group_course_instance_id`
ORDER BY `t`.`group_course_instance_id`
2019-09-20 15:13:58.412 +12:00 [INF] Executed action method Pegasus_backend.Controllers.GroupCourseInstanceController.GetGroupCourseInstance (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 4496.8748000000005ms.
2019-09-20 15:13:58.420 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-09-20 15:13:58.453 +12:00 [INF] Executed action Pegasus_backend.Controllers.GroupCourseInstanceController.GetGroupCourseInstance (Pegasus_backend) in 5119.5298ms
2019-09-20 15:13:58.453 +12:00 [INF] Response {"IsSuccess":true,"ErrorCode":null,"IsFound":true,"ErrorMessage":null,"Note":null,"Data":[{"CourseId":99,"GroupCourseInstanceId":24,"BeginDate":"2019-05-03T00:00:00","EndDate":"2019-11-01T00:00:00","schedule":[{"CourseScheduleId":10259,"DayOfWeek":4,"CourseInstanceId":null,"GroupCourseInstanceId":24,"BeginTime":"13:00:00","EndTime":"13:45:00","CourseInstance":null,"GroupCourseInstance":null,"Amendment":[]}],"Course":{"CourseId":99,"CourseName":"Piano-G3&Under-Normal-45 mins-Group","CourseType":2,"Level":0,"Duration":2,"Price":60.00,"CourseCategory":{"CourseCategoryId":1,"CourseCategoryName":"Piano","Course":[]}},"Org":{"OrgId":5,"OrgName":"AMA Pakuranga "},"Room":{"RoomId":39,"RoomName":"Room 7"},"Teacher":{"TeacherId":231,"FirstName":"Abigail ","LastName":"Tan"}},{"CourseId":99,"GroupCourseInstanceId":27,"BeginDate":"2019-06-08T00:00:00","EndDate":"2019-11-01T00:00:00","schedule":[{"CourseScheduleId":10248,"DayOfWeek":4,"CourseInstanceId":null,"GroupCourseInstanceId":27,"BeginTime":"17:00:00","EndTime":"17:45:00","CourseInstance":null,"GroupCourseInstance":null,"Amendment":[]},{"CourseScheduleId":10249,"DayOfWeek":6,"CourseInstanceId":null,"GroupCourseInstanceId":27,"BeginTime":"14:00:00","EndTime":"14:45:00","CourseInstance":null,"GroupCourseInstance":null,"Amendment":[]}],"Course":{"CourseId":99,"CourseName":"Piano-G3&Under-Normal-45 mins-Group","CourseType":2,"Level":0,"Duration":2,"Price":60.00,"CourseCategory":{"CourseCategoryId":1,"CourseCategoryName":"Piano","Course":[]}},"Org":{"OrgId":2,"OrgName":"EPSOM BRANCH"},"Room":{"RoomId":12,"RoomName":"Room 3"},"Teacher":{"TeacherId":240,"FirstName":"Angelina","LastName":"Wang"}},{"CourseId":99,"GroupCourseInstanceId":31,"BeginDate":"2019-06-01T00:00:00","EndDate":"2019-11-01T00:00:00","schedule":[{"CourseScheduleId":10172,"DayOfWeek":5,"CourseInstanceId":null,"GroupCourseInstanceId":31,"BeginTime":"14:00:00","EndTime":"14:45:00","CourseInstance":null,"GroupCourseInstance":null,"Amendment":[]}],"Course":{"CourseId":99,"CourseName":"Piano-G3&Under-Normal-45 mins-Group","CourseType":2,"Level":0,"Duration":2,"Price":60.00,"CourseCategory":{"CourseCategoryId":1,"CourseCategoryName":"Piano","Course":[]}},"Org":{"OrgId":1,"OrgName":"CENTRAL AUCKLAND BRANCH"},"Room":{"RoomId":3,"RoomName":"Room 2"},"Teacher":{"TeacherId":179,"FirstName":"internship","LastName":"piano"}},{"CourseId":99,"GroupCourseInstanceId":35,"BeginDate":"2019-06-02T00:00:00","EndDate":"2019-11-01T00:00:00","schedule":[{"CourseScheduleId":230,"DayOfWeek":4,"CourseInstanceId":null,"GroupCourseInstanceId":35,"BeginTime":"21:00:00","EndTime":"21:45:00","CourseInstance":null,"GroupCourseInstance":null,"Amendment":[]}],"Course":{"CourseId":99,"CourseName":"Piano-G3&Under-Normal-45 mins-Group","CourseType":2,"Level":0,"Duration":2,"Price":60.00,"CourseCategory":{"CourseCategoryId":1,"CourseCategoryName":"Piano","Course":[]}},"Org":{"OrgId":1,"OrgName":"CENTRAL AUCKLAND BRANCH"},"Room":{"RoomId":5,"RoomName":"Room 4"},"Teacher":{"TeacherId":180,"FirstName":"Professor","LastName":"lee"}},{"CourseId":99,"GroupCourseInstanceId":41,"BeginDate":"2019-07-04T00:00:00","EndDate":"2019-11-01T00:00:00","schedule":[{"CourseScheduleId":10218,"DayOfWeek":1,"CourseInstanceId":null,"GroupCourseInstanceId":41,"BeginTime":"05:56:00","EndTime":"06:41:00","CourseInstance":null,"GroupCourseInstance":null,"Amendment":[]}],"Course":{"CourseId":99,"CourseName":"Piano-G3&Under-Normal-45 mins-Group","CourseType":2,"Level":0,"Duration":2,"Price":60.00,"CourseCategory":{"CourseCategoryId":1,"CourseCategoryName":"Piano","Course":[]}},"Org":{"OrgId":6,"OrgName":"AUCKLAND CITY BRANCH"},"Room":{"RoomId":52,"RoomName":"Room 2"},"Teacher":{"TeacherId":231,"FirstName":"Abigail ","LastName":"Tan"}},{"CourseId":99,"GroupCourseInstanceId":42,"BeginDate":"2019-07-13T00:00:00","EndDate":"2019-11-01T00:00:00","schedule":[{"CourseScheduleId":10219,"DayOfWeek":2,"CourseInstanceId":null,"GroupCourseInstanceId":42,"BeginTime":"02:45:00","EndTime":"03:30:00","CourseInstance":null,"GroupCourseInstance":null,"Amendment":[]}],"Course":{"CourseId":99,"CourseName":"Piano-G3&Under-Normal-45 mins-Group","CourseType":2,"Level":0,"Duration":2,"Price":60.00,"CourseCategory":{"CourseCategoryId":1,"CourseCategoryName":"Piano","Course":[]}},"Org":{"OrgId":6,"OrgName":"AUCKLAND CITY BRANCH"},"Room":{"RoomId":52,"RoomName":"Room 2"},"Teacher":{"TeacherId":231,"FirstName":"Abigail ","LastName":"Tan"}},{"CourseId":302,"GroupCourseInstanceId":44,"BeginDate":"2019-08-12T00:00:00","EndDate":"2099-11-30T00:00:00","schedule":[{"CourseScheduleId":10282,"DayOfWeek":1,"CourseInstanceId":null,"GroupCourseInstanceId":44,"BeginTime":"16:00:00","EndTime":"16:45:00","CourseInstance":null,"GroupCourseInstance":null,"Amendment":[]}],"Course":{"CourseId":302,"CourseName":"\tPiano-Group-3plus\t","CourseType":2,"Level":0,"Duration":2,"Price":18.00,"CourseCategory":{"CourseCategoryId":1,"CourseCategoryName":"Piano","Course":[]}},"Org":{"OrgId":1,"OrgName":"CENTRAL AUCKLAND BRANCH"},"Room":{"RoomId":48,"RoomName":"Room 10"},"Teacher":{"TeacherId":235,"FirstName":"Karen","LastName":"Hu"}},{"CourseId":302,"GroupCourseInstanceId":45,"BeginDate":"2019-08-05T00:00:00","EndDate":"2019-09-02T00:00:00","schedule":[{"CourseScheduleId":10293,"DayOfWeek":2,"CourseInstanceId":null,"GroupCourseInstanceId":45,"BeginTime":"16:00:00","EndTime":"16:45:00","CourseInstance":null,"GroupCourseInstance":null,"Amendment":[]}],"Course":{"CourseId":302,"CourseName":"\tPiano-Group-3plus\t","CourseType":2,"Level":0,"Duration":2,"Price":18.00,"CourseCategory":{"CourseCategoryId":1,"CourseCategoryName":"Piano","Course":[]}},"Org":{"OrgId":1,"OrgName":"CENTRAL AUCKLAND BRANCH"},"Room":{"RoomId":48,"RoomName":"Room 10"},"Teacher":{"TeacherId":275,"FirstName":"Teacher Oliver","LastName":"Test1"}},{"CourseId":301,"GroupCourseInstanceId":46,"BeginDate":"2019-08-19T00:00:00","EndDate":"2019-09-16T00:00:00","schedule":[{"CourseScheduleId":10294,"DayOfWeek":2,"CourseInstanceId":null,"GroupCourseInstanceId":46,"BeginTime":"16:30:00","EndTime":"17:15:00","CourseInstance":null,"GroupCourseInstance":null,"Amendment":[]}],"Course":{"CourseId":301,"CourseName":"\tPiano-Group-2\t","CourseType":2,"Level":0,"Duration":2,"Price":18.00,"CourseCategory":{"CourseCategoryId":1,"CourseCategoryName":"Piano","Course":[]}},"Org":{"OrgId":5,"OrgName":"AMA Pakuranga "},"Room":{"RoomId":40,"RoomName":"Room 8"},"Teacher":{"TeacherId":275,"FirstName":"Teacher Oliver","LastName":"Test1"}},{"CourseId":99,"GroupCourseInstanceId":49,"BeginDate":"2019-08-05T00:00:00","EndDate":"2019-08-26T00:00:00","schedule":[{"CourseScheduleId":10297,"DayOfWeek":4,"CourseInstanceId":null,"GroupCourseInstanceId":49,"BeginTime":"09:30:00","EndTime":"10:15:00","CourseInstance":null,"GroupCourseInstance":null,"Amendment":[]}],"Course":{"CourseId":99,"CourseName":"Piano-G3&Under-Normal-45 mins-Group","CourseType":2,"Level":0,"Duration":2,"Price":60.00,"CourseCategory":{"CourseCategoryId":1,"CourseCategoryName":"Piano","Course":[]}},"Org":{"OrgId":5,"OrgName":"AMA Pakuranga "},"Room":{"RoomId":41,"RoomName":"Room 9"},"Teacher":{"TeacherId":224,"FirstName":"qweetrt","LastName":"wer"}},{"CourseId":302,"GroupCourseInstanceId":50,"BeginDate":"2019-08-12T00:00:00","EndDate":"2019-09-08T00:00:00","schedule":[{"CourseScheduleId":10298,"DayOfWeek":4,"CourseInstanceId":null,"GroupCourseInstanceId":50,"BeginTime":"09:45:00","EndTime":"10:30:00","CourseInstance":null,"GroupCourseInstance":null,"Amendment":[]}],"Course":{"CourseId":302,"CourseName":"\tPiano-Group-3plus\t","CourseType":2,"Level":0,"Duration":2,"Price":18.00,"CourseCategory":{"CourseCategoryId":1,"CourseCategoryName":"Piano","Course":[]}},"Org":{"OrgId":5,"OrgName":"AMA Pakuranga "},"Room":{"RoomId":42,"RoomName":"Room 10"},"Teacher":{"TeacherId":223,"FirstName":"qwe","LastName":"qwe"}}]}
2019-09-20 15:13:58.455 +12:00 [INF] Request finished in 5150.5578ms 200 application/json; charset=utf-8
