2019-08-28 08:47:29.836 +12:00 [INF] Daily Execution Begin...
2019-08-28 08:47:29.983 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-08-28 08:47:31.169 +12:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`term_id`, `x`.`begin_date`, `x`.`end_date`, `x`.`term_name`, `x`.`term_type`, `x`.`week_quantity`
FROM `ablemusic`.`term` AS `x`
ORDER BY `x`.`begin_date`
2019-08-28 08:47:31.353 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`prop_name`
FROM `ablemusic`.`lookup` AS `x`
WHERE (`x`.`lookup_type` = 15) AND (`x`.`prop_value` = 1)
LIMIT 1
2019-08-28 08:47:31.456 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`prop_name`
FROM `ablemusic`.`lookup` AS `x`
WHERE (`x`.`lookup_type` = 15) AND (`x`.`prop_value` = 2)
LIMIT 1
2019-08-28 08:47:31.560 +12:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`prop_name`
FROM `ablemusic`.`lookup` AS `x`
WHERE (`x`.`lookup_type` = 16) AND (`x`.`prop_value` = 1)
LIMIT 1
2019-08-28 08:47:31.668 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`prop_name`
FROM `ablemusic`.`lookup` AS `x`
WHERE (`x`.`lookup_type` = 16) AND (`x`.`prop_value` = 2)
LIMIT 1
2019-08-28 08:47:31.776 +12:00 [INF] Executed DbCommand (37ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`prop_name`
FROM `ablemusic`.`lookup` AS `x`
WHERE (`x`.`lookup_type` = 17) AND (`x`.`prop_value` = 1)
LIMIT 1
2019-08-28 08:47:31.788 +12:00 [WRN] The Include operation for navigation '[x].Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-08-28 08:47:31.788 +12:00 [WRN] The Include operation for navigation '[x].Learner' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-08-28 08:47:32.011 +12:00 [INF] Executed DbCommand (107ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`learner_id` AS `LearnerId`, `x`.`course_id` AS `CourseId`, `x`.`course_instance_id` AS `CourseInstanceId`, `x`.`begin_date` AS `BeginDate`, `x`.`end_date` AS `EndDate`, `x`.`invoice_date` AS `InvoiceDate`, `x.Course`.`course_name` AS `CourseName`, `x.Course`.`price`, `x.Learner`.`first_name` AS `FirstName`, `x.Learner`.`payment_period` AS `PaymentPeriod`
FROM `ablemusic`.`one2one_course_instance` AS `x`
LEFT JOIN `ablemusic`.`course` AS `x.Course` ON `x`.`course_id` = `x.Course`.`course_id`
LEFT JOIN `ablemusic`.`learner` AS `x.Learner` ON `x`.`learner_id` = `x.Learner`.`learner_id`
WHERE `x.Learner`.`is_active` = 1
2019-08-28 08:47:32.137 +12:00 [INF] Executed DbCommand (35ms) [Parameters=[@__term_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`term_id`, `x`.`begin_date`, `x`.`end_date`, `x`.`term_name`, `x`.`term_type`, `x`.`week_quantity`
FROM `ablemusic`.`term` AS `x`
WHERE `x`.`term_id` = @__term_id_0
LIMIT 1
2019-08-28 08:47:32.247 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`term_id` AS `TermId`, `x`.`begin_date` AS `BeginDate`, `x`.`end_date` AS `EndDate`
FROM `ablemusic`.`term` AS `x`
2019-08-28 08:47:32.359 +12:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`prop_name`
FROM `ablemusic`.`lookup` AS `x`
WHERE (`x`.`lookup_type` = 15) AND (`x`.`prop_value` = 1)
LIMIT 1
2019-08-28 08:47:32.455 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`prop_name`
FROM `ablemusic`.`lookup` AS `x`
WHERE (`x`.`lookup_type` = 15) AND (`x`.`prop_value` = 2)
LIMIT 1
2019-08-28 08:47:32.552 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`prop_name`
FROM `ablemusic`.`lookup` AS `x`
WHERE (`x`.`lookup_type` = 16) AND (`x`.`prop_value` = 1)
LIMIT 1
2019-08-28 08:47:32.647 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`prop_name`
FROM `ablemusic`.`lookup` AS `x`
WHERE (`x`.`lookup_type` = 16) AND (`x`.`prop_value` = 2)
LIMIT 1
2019-08-28 08:47:32.743 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`prop_name`
FROM `ablemusic`.`lookup` AS `x`
WHERE (`x`.`lookup_type` = 17) AND (`x`.`prop_value` = 1)
LIMIT 1
2019-08-28 08:47:32.752 +12:00 [WRN] The Include operation for navigation '[x].Course' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-08-28 08:47:32.752 +12:00 [WRN] The Include operation for navigation '[x].LearnerGroupCourse' is unnecessary and was ignored because the navigation is not reachable in the final query results. See https://go.microsoft.com/fwlink/?linkid=850303 for more information.
2019-08-28 08:47:32.893 +12:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`course_id` AS `CourseId`, `x`.`group_course_instance_id` AS `GroupCourseInstanceId`, `x`.`begin_date` AS `BeginDate`, `x`.`end_date` AS `EndDate`, `x`.`is_started` AS `IsStarted`, `x.Course`.`course_name` AS `CourseName`, `x.Course`.`price`
FROM `ablemusic`.`group_course_instance` AS `x`
INNER JOIN `ablemusic`.`course` AS `x.Course` ON `x`.`course_id` = `x.Course`.`course_id`
ORDER BY `x`.`group_course_instance_id`
2019-08-28 08:47:32.992 +12:00 [INF] Executed DbCommand (90ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`group_course_instance_id`, `s.Learner`.`first_name` AS `FirstName`, `x.LearnerGroupCourse`.`learner_id` AS `LearnerId`, `x.LearnerGroupCourse`.`created_at` AS `CreatedAt`, `x.LearnerGroupCourse`.`begin_date` AS `BeginDate`, `x.LearnerGroupCourse`.`end_date` AS `EndDate`, `x.LearnerGroupCourse`.`invoice_date` AS `InvoiceDate`, `x.LearnerGroupCourse`.`learner_group_course_id` AS `LearnerGroupCourseId`, `x.LearnerGroupCourse`.`is_activate` AS `IsActivate`, `x.LearnerGroupCourse`.`group_course_instance_id`
FROM `ablemusic`.`learner_group_course` AS `x.LearnerGroupCourse`
LEFT JOIN `ablemusic`.`learner` AS `s.Learner` ON `x.LearnerGroupCourse`.`learner_id` = `s.Learner`.`learner_id`
INNER JOIN (
    SELECT `x0`.`group_course_instance_id`
    FROM `ablemusic`.`group_course_instance` AS `x0`
    INNER JOIN `ablemusic`.`course` AS `x.Course0` ON `x0`.`course_id` = `x.Course0`.`course_id`
) AS `t` ON `x.LearnerGroupCourse`.`group_course_instance_id` = `t`.`group_course_instance_id`
WHERE `x.LearnerGroupCourse`.`is_activate` = 1
ORDER BY `t`.`group_course_instance_id`
2019-08-28 08:47:33.107 +12:00 [INF] Executed DbCommand (32ms) [Parameters=[@__term_id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `x`.`term_id`, `x`.`begin_date`, `x`.`end_date`, `x`.`term_name`, `x`.`term_type`, `x`.`week_quantity`
FROM `ablemusic`.`term` AS `x`
WHERE `x`.`term_id` = @__term_id_0
LIMIT 1
2019-08-28 08:47:33.249 +12:00 [INF] Executed DbCommand (58ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `i`.`waiting_id`, `i`.`begin_date`, `i`.`comment`, `i`.`concert_fee`, `i`.`concert_fee_name`, `i`.`course_instance_id`, `i`.`course_name`, `i`.`created_at`, `i`.`due_date`, `i`.`end_date`, `i`.`group_course_instance_id`, `i`.`invoice_num`, `i`.`is_activate`, `i`.`is_confirmed`, `i`.`is_email_sent`, `i`.`is_paid`, `i`.`learner_id`, `i`.`learner_name`, `i`.`lesson_fee`, `i`.`lesson_note_fee_name`, `i`.`lesson_quantity`, `i`.`note_fee`, `i`.`other1_fee`, `i`.`other1_fee_name`, `i`.`other2_fee`, `i`.`other2_fee_name`, `i`.`other3_fee`, `i`.`other3_fee_name`, `i`.`owing_fee`, `i`.`paid_fee`, `i`.`term_id`, `i`.`total_fee`
FROM `ablemusic`.`invoice_waiting_confirm` AS `i`
WHERE `i`.`is_activate` = 3
2019-08-28 08:47:33.281 +12:00 [INF] Daily Execution Start at 2019/8/28 8:47:33
2019-08-28 08:47:33.283 +12:00 [INF] Checking if today is the end of any term...
2019-08-28 08:47:33.388 +12:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`term_id`, `t`.`begin_date`, `t`.`end_date`, `t`.`term_name`, `t`.`term_type`, `t`.`week_quantity`
FROM `ablemusic`.`term` AS `t`
ORDER BY `t`.`begin_date`
2019-08-28 08:47:33.389 +12:00 [INF] Current Term is 2019 Term 3. It is not the end of the term. No lesson to arrange for today.
2019-08-28 10:36:52.079 +12:00 [INF] User profile is available. Using 'C:\Users\zhuyi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-08-28 10:36:52.617 +12:00 [INF] Setting up the time host service. Everyday run at 23pm
2019-08-28 10:36:54.125 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2019-08-28 10:36:54.181 +12:00 [WRN] Failed to determine the https port for redirect.
2019-08-28 10:36:54.303 +12:00 [INF] 
2019-08-28 10:36:54.481 +12:00 [INF] Response 
2019-08-28 10:36:54.487 +12:00 [INF] Request finished in 364.7892ms 404 
2019-08-28 10:41:03.795 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2019-08-28 10:41:03.887 +12:00 [INF] Request finished in 91.685ms 200 text/html
2019-08-28 11:49:33.245 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2019-08-28 11:49:33.252 +12:00 [INF] Request finished in 11.1229ms 200 text/html
2019-08-28 11:49:33.273 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-bundle.js  
2019-08-28 11:49:33.273 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui.css  
2019-08-28 11:49:33.273 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-standalone-preset.js  
2019-08-28 11:49:33.326 +12:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2019-08-28 11:49:33.326 +12:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2019-08-28 11:49:33.331 +12:00 [INF] Request finished in 57.8679ms 200 application/javascript
2019-08-28 11:49:33.331 +12:00 [INF] Request finished in 58.418ms 200 text/css
2019-08-28 11:49:33.339 +12:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2019-08-28 11:49:33.339 +12:00 [INF] Request finished in 66.5526ms 200 application/javascript
2019-08-28 11:49:33.687 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2019-08-28 11:49:33.704 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/favicon-32x32.png  
2019-08-28 11:49:33.705 +12:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2019-08-28 11:49:33.705 +12:00 [INF] Request finished in 1.2424ms 200 image/png
2019-08-28 11:49:34.015 +12:00 [INF] Request finished in 327.6721ms 200 application/json;charset=utf-8
2019-08-28 12:31:46.446 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2019-08-28 12:31:46.457 +12:00 [INF] Request finished in 36.096ms 200 text/html
2019-08-28 12:31:46.736 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2019-08-28 12:31:46.747 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/favicon-32x32.png  
2019-08-28 12:31:46.748 +12:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2019-08-28 12:31:46.748 +12:00 [INF] Request finished in 1.1525ms 200 image/png
2019-08-28 12:31:46.802 +12:00 [INF] Request finished in 66.9957ms 200 application/json;charset=utf-8
2019-08-28 12:32:14.260 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-bundle.js.map  
2019-08-28 12:32:14.272 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-standalone-preset.js.map  
2019-08-28 12:32:14.327 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui.css.map  
2019-08-28 12:32:14.329 +12:00 [INF] Sending file. Request path: '/swagger-ui.css.map'. Physical path: 'N/A'
2019-08-28 12:32:14.330 +12:00 [INF] Request finished in 2.6754ms 200 text/plain
2019-08-28 12:32:14.372 +12:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js.map'. Physical path: 'N/A'
2019-08-28 12:32:14.373 +12:00 [INF] Request finished in 101.3271ms 200 text/plain
2019-08-28 12:32:14.474 +12:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js.map'. Physical path: 'N/A'
2019-08-28 12:32:14.475 +12:00 [INF] Request finished in 214.5883ms 200 text/plain
2019-08-28 12:32:17.548 +12:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/LessonRearrange/17/1  0
2019-08-28 12:32:17.554 +12:00 [INF] Policy execution successful.
2019-08-28 12:32:17.595 +12:00 [INF] 
2019-08-28 12:32:17.672 +12:00 [INF] Route matched with {action = "ChangeExpiryDate", controller = "LessonRearrange"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeExpiryDate(Int32, Int16) on controller Pegasus_backend.Controllers.LessonRearrangeController (Pegasus_backend).
2019-08-28 12:32:18.293 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LessonRearrangeController.ChangeExpiryDate (Pegasus_backend) - Validation state: "Valid"
2019-08-28 12:32:19.330 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-08-28 12:32:20.954 +12:00 [INF] Executed DbCommand (38ms) [Parameters=[@__awaitId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`await_id`, `t`.`course_instance_id`, `t`.`create_at`, `t`.`expired_date`, `t`.`group_course_instance_id`, `t`.`is_active`, `t`.`learner_id`, `t`.`missed_lesson_id`, `t`.`new_lesson_id`, `t`.`schduled_at`
FROM `ablemusic`.`await_make_up_lesson` AS `t`
WHERE `t`.`await_id` = @__awaitId_0
LIMIT 1
2019-08-28 12:32:21.030 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LessonRearrangeController.ChangeExpiryDate (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2727.3553ms.
2019-08-28 12:32:21.040 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-08-28 12:32:21.056 +12:00 [INF] Executed action Pegasus_backend.Controllers.LessonRearrangeController.ChangeExpiryDate (Pegasus_backend) in 3382.3651ms
2019-08-28 12:32:21.057 +12:00 [INF] Response {"IsSuccess":true,"ErrorCode":null,"IsFound":true,"ErrorMessage":null,"Note":null,"Data":{"AwaitId":17,"CreateAt":"2019-08-06T22:14:39","SchduledAt":null,"ExpiredDate":"2019-11-13T00:00:00","MissedLessonId":42462,"NewLessonId":null,"IsActive":1,"LearnerId":10207,"CourseInstanceId":10216,"GroupCourseInstanceId":null,"CourseInstance":null,"GroupCourseInstance":null,"Learner":null,"MissedLesson":null,"NewLesson":null}}
2019-08-28 12:32:21.058 +12:00 [INF] Request finished in 3510.0141ms 200 application/json; charset=utf-8
2019-08-28 15:00:03.842 +12:00 [INF] User profile is available. Using 'C:\Users\zhuyi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-08-28 15:00:04.489 +12:00 [INF] Setting up the time host service. Everyday run at 23pm
2019-08-28 15:00:08.050 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2019-08-28 15:00:08.115 +12:00 [WRN] Failed to determine the https port for redirect.
2019-08-28 15:00:08.209 +12:00 [INF] 
2019-08-28 15:00:08.362 +12:00 [INF] Response 
2019-08-28 15:00:08.368 +12:00 [INF] Request finished in 320.8653ms 404 
2019-08-28 16:42:34.093 +12:00 [INF] User profile is available. Using 'C:\Users\zhuyi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-08-28 16:42:34.502 +12:00 [INF] Setting up the time host service. Everyday run at 23pm
2019-08-28 16:42:37.664 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2019-08-28 16:42:37.707 +12:00 [WRN] Failed to determine the https port for redirect.
2019-08-28 16:42:37.829 +12:00 [INF] 
2019-08-28 16:42:38.007 +12:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Routing.RouteCreationException: The following errors occurred with attribute routing information:

For action: 'Pegasus_backend.Controllers.SessionController.MakeUpSplitLesson (Pegasus_backend)'
Error: The attribute route 'api/Session/api/{controller}/CourseInstanceId/lessonId' cannot contain a parameter named '{controller}'. Use '[controller]' in the route template to insert the value 'Session'.
   at Microsoft.AspNetCore.Mvc.Internal.AttributeRoute.GetRouteInfos(IReadOnlyList`1 actions)
   at Microsoft.AspNetCore.Mvc.Internal.AttributeRoute.AddEntries(TreeRouteBuilder builder, ActionDescriptorCollection actions)
   at Microsoft.AspNetCore.Mvc.Internal.AttributeRoute.GetTreeRouter()
   at Microsoft.AspNetCore.Mvc.Internal.AttributeRoute.RouteAsync(RouteContext context)
   at Microsoft.AspNetCore.Routing.RouteCollection.RouteAsync(RouteContext context)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.Invoke(HttpContext context)
2019-08-28 16:42:38.133 +12:00 [INF] Response {"IsSuccess":false,"ErrorCode":null,"IsFound":true,"ErrorMessage":"Global Exception was Caught: Microsoft.AspNetCore.Routing.RouteCreationException: The following errors occurred with attribute routing information:\r\n\r\nFor action: 'Pegasus_backend.Controllers.SessionController.MakeUpSplitLesson (Pegasus_backend)'\r\nError: The attribute route 'api/Session/api/{controller}/CourseInstanceId/lessonId' cannot contain a parameter named '{controller}'. Use '[controller]' in the route template to insert the value 'Session'.\r\n   at Microsoft.AspNetCore.Mvc.Internal.AttributeRoute.GetRouteInfos(IReadOnlyList`1 actions)\r\n   at Microsoft.AspNetCore.Mvc.Internal.AttributeRoute.AddEntries(TreeRouteBuilder builder, ActionDescriptorCollection actions)\r\n   at Microsoft.AspNetCore.Mvc.Internal.AttributeRoute.GetTreeRouter()\r\n   at Microsoft.AspNetCore.Mvc.Internal.AttributeRoute.RouteAsync(RouteContext context)\r\n   at Microsoft.AspNetCore.Routing.RouteCollection.RouteAsync(RouteContext context)\r\n   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.Invoke(HttpContext context)","Note":null,"Data":null}
2019-08-28 16:42:38.144 +12:00 [INF] Request finished in 482.1539ms 500 application/json
2019-08-28 16:54:11.023 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2019-08-28 16:54:11.074 +12:00 [INF] Request finished in 50.4371ms 200 text/html
2019-08-28 16:54:11.462 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2019-08-28 16:54:11.491 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/favicon-32x32.png  
2019-08-28 16:54:11.503 +12:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2019-08-28 16:54:11.503 +12:00 [INF] Request finished in 12.3005ms 200 image/png
2019-08-28 16:54:11.854 +12:00 [INF] Request finished in 391.5748ms 200 application/json;charset=utf-8
2019-08-28 16:54:34.042 +12:00 [INF] User profile is available. Using 'C:\Users\zhuyi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-08-28 16:54:34.501 +12:00 [INF] Setting up the time host service. Everyday run at 23pm
2019-08-28 16:54:37.978 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2019-08-28 16:54:38.046 +12:00 [WRN] Failed to determine the https port for redirect.
2019-08-28 16:54:38.170 +12:00 [INF] 
2019-08-28 16:54:38.313 +12:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.AspNetCore.Routing.RouteCreationException: The following errors occurred with attribute routing information:

For action: 'Pegasus_backend.Controllers.SessionController.MakeUpSplitLesson (Pegasus_backend)'
Error: The attribute route 'api/Session/api/{controller}/CourseInstanceId/lessonId' cannot contain a parameter named '{controller}'. Use '[controller]' in the route template to insert the value 'Session'.
   at Microsoft.AspNetCore.Mvc.Internal.AttributeRoute.GetRouteInfos(IReadOnlyList`1 actions)
   at Microsoft.AspNetCore.Mvc.Internal.AttributeRoute.AddEntries(TreeRouteBuilder builder, ActionDescriptorCollection actions)
   at Microsoft.AspNetCore.Mvc.Internal.AttributeRoute.GetTreeRouter()
   at Microsoft.AspNetCore.Mvc.Internal.AttributeRoute.RouteAsync(RouteContext context)
   at Microsoft.AspNetCore.Routing.RouteCollection.RouteAsync(RouteContext context)
   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.Invoke(HttpContext context)
2019-08-28 16:54:38.439 +12:00 [INF] Response {"IsSuccess":false,"ErrorCode":null,"IsFound":true,"ErrorMessage":"Global Exception was Caught: Microsoft.AspNetCore.Routing.RouteCreationException: The following errors occurred with attribute routing information:\r\n\r\nFor action: 'Pegasus_backend.Controllers.SessionController.MakeUpSplitLesson (Pegasus_backend)'\r\nError: The attribute route 'api/Session/api/{controller}/CourseInstanceId/lessonId' cannot contain a parameter named '{controller}'. Use '[controller]' in the route template to insert the value 'Session'.\r\n   at Microsoft.AspNetCore.Mvc.Internal.AttributeRoute.GetRouteInfos(IReadOnlyList`1 actions)\r\n   at Microsoft.AspNetCore.Mvc.Internal.AttributeRoute.AddEntries(TreeRouteBuilder builder, ActionDescriptorCollection actions)\r\n   at Microsoft.AspNetCore.Mvc.Internal.AttributeRoute.GetTreeRouter()\r\n   at Microsoft.AspNetCore.Mvc.Internal.AttributeRoute.RouteAsync(RouteContext context)\r\n   at Microsoft.AspNetCore.Routing.RouteCollection.RouteAsync(RouteContext context)\r\n   at Microsoft.AspNetCore.Builder.RouterMiddleware.Invoke(HttpContext httpContext)\r\n   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddleware.Invoke(HttpContext context)","Note":null,"Data":null}
2019-08-28 16:54:38.449 +12:00 [INF] Request finished in 475.1623ms 500 application/json
2019-08-28 16:54:40.737 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2019-08-28 16:54:40.776 +12:00 [INF] Request finished in 38.7128ms 200 text/html
2019-08-28 16:54:41.166 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2019-08-28 16:54:41.200 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/favicon-32x32.png  
2019-08-28 16:54:41.210 +12:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2019-08-28 16:54:41.210 +12:00 [INF] Request finished in 10.1683ms 200 image/png
2019-08-28 16:54:41.644 +12:00 [INF] Request finished in 477.9009ms 200 application/json;charset=utf-8
2019-08-28 17:05:54.001 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2019-08-28 17:05:54.006 +12:00 [INF] Request finished in 9.8611ms 200 text/html
2019-08-28 17:05:54.219 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2019-08-28 17:05:54.256 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/favicon-32x32.png  
2019-08-28 17:05:54.257 +12:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2019-08-28 17:05:54.257 +12:00 [INF] Request finished in 1.132ms 200 image/png
2019-08-28 17:05:54.293 +12:00 [INF] Request finished in 73.856ms 200 application/json;charset=utf-8
2019-08-28 17:13:05.025 +12:00 [INF] User profile is available. Using 'C:\Users\zhuyi\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-08-28 17:13:05.532 +12:00 [INF] Setting up the time host service. Everyday run at 23pm
2019-08-28 17:13:09.662 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2019-08-28 17:13:09.708 +12:00 [WRN] Failed to determine the https port for redirect.
2019-08-28 17:13:09.835 +12:00 [INF] 
2019-08-28 17:13:10.081 +12:00 [INF] Response 
2019-08-28 17:13:10.091 +12:00 [INF] Request finished in 431.3191ms 404 
2019-08-28 17:13:30.387 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/CourseCategories  
2019-08-28 17:13:30.409 +12:00 [INF] 
2019-08-28 17:13:30.442 +12:00 [INF] Route matched with {action = "GetCourseCategory", controller = "CourseCategories"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCourseCategory() on controller Pegasus_backend.Controllers.CourseCategoriesController (Pegasus_backend).
2019-08-28 17:13:30.633 +12:00 [INF] Executing action method Pegasus_backend.Controllers.CourseCategoriesController.GetCourseCategory (Pegasus_backend) - Validation state: "Valid"
2019-08-28 17:13:31.824 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-08-28 17:13:32.927 +12:00 [INF] Executed DbCommand (54ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `c`.`course_category_id` AS `CourseCategoryId`, `c`.`course_category_name` AS `CourseCategoryName`
FROM `ablemusic`.`course_category` AS `c`
2019-08-28 17:13:32.948 +12:00 [INF] Executed action method Pegasus_backend.Controllers.CourseCategoriesController.GetCourseCategory (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 2305.7977ms.
2019-08-28 17:13:32.956 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.CourseCategory, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-08-28 17:13:33.007 +12:00 [INF] Executed action Pegasus_backend.Controllers.CourseCategoriesController.GetCourseCategory (Pegasus_backend) in 2562.6358ms
2019-08-28 17:13:33.007 +12:00 [INF] Response {"IsSuccess":true,"ErrorCode":null,"IsFound":true,"ErrorMessage":null,"Note":null,"Data":[{"CourseCategoryId":1,"CourseCategoryName":"Piano","Course":null},{"CourseCategoryId":2,"CourseCategoryName":"Drum","Course":null},{"CourseCategoryId":3,"CourseCategoryName":"Guitar","Course":null},{"CourseCategoryId":4,"CourseCategoryName":"Violin","Course":null},{"CourseCategoryId":5,"CourseCategoryName":"Cello","Course":null},{"CourseCategoryId":6,"CourseCategoryName":"Voice","Course":null},{"CourseCategoryId":7,"CourseCategoryName":"Theory","Course":null},{"CourseCategoryId":8,"CourseCategoryName":"Aural","Course":null},{"CourseCategoryId":9,"CourseCategoryName":"Other-specify","Course":null}]}
2019-08-28 17:13:33.010 +12:00 [INF] Request finished in 2623.5883ms 200 application/json; charset=utf-8
