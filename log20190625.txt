2019-06-25 11:09:25.660 +12:00 [INF] User profile is available. Using 'C:\Users\Learnspace\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2019-06-25 11:09:27.400 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2019-06-25 11:09:27.439 +12:00 [WRN] Failed to determine the https port for redirect.
2019-06-25 11:09:27.678 +12:00 [INF] Request finished in 279.8969ms 404 
2019-06-25 11:09:45.976 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/  
2019-06-25 11:09:45.977 +12:00 [INF] Request finished in 1.1862ms 404 
2019-06-25 11:11:27.980 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/login  
2019-06-25 11:11:27.981 +12:00 [INF] Policy execution successful.
2019-06-25 11:11:27.982 +12:00 [INF] Request finished in 1.9782ms 204 
2019-06-25 11:11:27.985 +12:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/login application/json 47
2019-06-25 11:11:27.985 +12:00 [INF] Policy execution successful.
2019-06-25 11:11:28.032 +12:00 [INF] Route matched with {action = "Login", controller = "Login"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Pegasus_backend.Models.UsrAndPass) on controller Pegasus_backend.Controllers.Authorization.LoginController (Pegasus_backend).
2019-06-25 11:11:28.374 +12:00 [INF] Executing action method Pegasus_backend.Controllers.Authorization.LoginController.Login (Pegasus_backend) - Validation state: "Valid"
2019-06-25 11:11:29.601 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-06-25 11:11:31.155 +12:00 [INF] Executed DbCommand (60ms) [Parameters=[@__model_UserName_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`user_id`, `s`.`created_at`, `s`.`is_activate`, `s`.`password`, `s`.`role_id`, `s`.`unread_message_id`, `s`.`user_name`, `s.Role`.`role_id`, `s.Role`.`role_name`
FROM `ablemusic`.`user` AS `s`
LEFT JOIN `ablemusic`.`role` AS `s.Role` ON `s`.`role_id` = `s.Role`.`role_id`
WHERE `s`.`user_name` = @__model_UserName_0
ORDER BY `s`.`user_id`
LIMIT 1
2019-06-25 11:11:31.366 +12:00 [INF] Executed DbCommand (67ms) [Parameters=[@__model_UserName_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Learner`.`learner_id`, `s.Learner`.`address`, `s.Learner`.`contact_num`, `s.Learner`.`created_at`, `s.Learner`.`dob`, `s.Learner`.`email`, `s.Learner`.`enroll_date`, `s.Learner`.`first_name`, `s.Learner`.`form_url`, `s.Learner`.`g5_certification`, `s.Learner`.`gender`, `s.Learner`.`is_abrsm_g5`, `s.Learner`.`is_active`, `s.Learner`.`is_under_18`, `s.Learner`.`last_name`, `s.Learner`.`learner_level`, `s.Learner`.`level_type`, `s.Learner`.`middle_name`, `s.Learner`.`note`, `s.Learner`.`org_id`, `s.Learner`.`otherfile_url`, `s.Learner`.`payment_period`, `s.Learner`.`photo`, `s.Learner`.`referrer`, `s.Learner`.`referrer_learner_id`, `s.Learner`.`user_id`
FROM `ablemusic`.`learner` AS `s.Learner`
INNER JOIN (
    SELECT DISTINCT `t`.*
    FROM (
        SELECT `s0`.`user_id`
        FROM `ablemusic`.`user` AS `s0`
        LEFT JOIN `ablemusic`.`role` AS `s.Role0` ON `s0`.`role_id` = `s.Role0`.`role_id`
        WHERE `s0`.`user_name` = @__model_UserName_0
        ORDER BY `s0`.`user_id`
        LIMIT 1
    ) AS `t`
) AS `t0` ON `s.Learner`.`user_id` = `t0`.`user_id`
ORDER BY `t0`.`user_id`
2019-06-25 11:11:31.641 +12:00 [INF] Executed DbCommand (70ms) [Parameters=[@__model_UserName_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Teacher`.`teacher_id`, `s.Teacher`.`ability`, `s.Teacher`.`comment`, `s.Teacher`.`cv_url`, `s.Teacher`.`dob`, `s.Teacher`.`email`, `s.Teacher`.`expiry_date`, `s.Teacher`.`first_name`, `s.Teacher`.`form_url`, `s.Teacher`.`gender`, `s.Teacher`.`home_phone`, `s.Teacher`.`id_number`, `s.Teacher`.`id_photo`, `s.Teacher`.`id_type`, `s.Teacher`.`invoice_template`, `s.Teacher`.`ird_number`, `s.Teacher`.`is_activate`, `s.Teacher`.`is_contract`, `s.Teacher`.`is_left`, `s.Teacher`.`last_name`, `s.Teacher`.`level`, `s.Teacher`.`minimum_hours`, `s.Teacher`.`mobile_phone`, `s.Teacher`.`otherfile_url`, `s.Teacher`.`photo`, `s.Teacher`.`user_id`, `s.Teacher`.`visa`
FROM `ablemusic`.`teacher` AS `s.Teacher`
INNER JOIN (
    SELECT DISTINCT `t1`.*
    FROM (
        SELECT `s1`.`user_id`
        FROM `ablemusic`.`user` AS `s1`
        LEFT JOIN `ablemusic`.`role` AS `s.Role1` ON `s1`.`role_id` = `s.Role1`.`role_id`
        WHERE `s1`.`user_name` = @__model_UserName_0
        ORDER BY `s1`.`user_id`
        LIMIT 1
    ) AS `t1`
) AS `t2` ON `s.Teacher`.`user_id` = `t2`.`user_id`
ORDER BY `t2`.`user_id`
2019-06-25 11:11:31.893 +12:00 [INF] Executed DbCommand (67ms) [Parameters=[@__model_UserName_0='?' (Size = -1)], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Staff`.`staff_id`, `s.Staff`.`dob`, `s.Staff`.`email`, `s.Staff`.`expiry_date`, `s.Staff`.`first_name`, `s.Staff`.`gender`, `s.Staff`.`home_phone`, `s.Staff`.`id_number`, `s.Staff`.`id_photo`, `s.Staff`.`id_type`, `s.Staff`.`ird_number`, `s.Staff`.`is_activate`, `s.Staff`.`last_name`, `s.Staff`.`mobile_phone`, `s.Staff`.`photo`, `s.Staff`.`user_id`, `s.Staff`.`visa`
FROM `ablemusic`.`staff` AS `s.Staff`
INNER JOIN (
    SELECT DISTINCT `t3`.*
    FROM (
        SELECT `s2`.`user_id`
        FROM `ablemusic`.`user` AS `s2`
        LEFT JOIN `ablemusic`.`role` AS `s.Role2` ON `s2`.`role_id` = `s.Role2`.`role_id`
        WHERE `s2`.`user_name` = @__model_UserName_0
        ORDER BY `s2`.`user_id`
        LIMIT 1
    ) AS `t3`
) AS `t4` ON `s.Staff`.`user_id` = `t4`.`user_id`
ORDER BY `t4`.`user_id`, `s.Staff`.`staff_id`
2019-06-25 11:11:31.945 +12:00 [INF] Executed action method Pegasus_backend.Controllers.Authorization.LoginController.Login (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 3561.7751000000003ms.
2019-06-25 11:11:31.955 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-06-25 11:11:31.975 +12:00 [INF] Executed action Pegasus_backend.Controllers.Authorization.LoginController.Login (Pegasus_backend) in 3940.0899000000004ms
2019-06-25 11:11:31.976 +12:00 [INF] Request finished in 3991.3194ms 200 application/json; charset=utf-8
2019-06-25 11:11:32.043 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/lookups  
2019-06-25 11:11:32.043 +12:00 [INF] Policy execution successful.
2019-06-25 11:11:32.043 +12:00 [INF] Request finished in 0.6765ms 204 
2019-06-25 11:11:32.046 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/navitems  
2019-06-25 11:11:32.046 +12:00 [INF] Policy execution successful.
2019-06-25 11:11:32.046 +12:00 [INF] Request finished in 0.5187ms 204 
2019-06-25 11:11:32.071 +12:00 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5000/api/todolist/10090  
2019-06-25 11:11:32.071 +12:00 [INF] Policy execution successful.
2019-06-25 11:11:32.071 +12:00 [INF] Request finished in 0.3331ms 204 
2019-06-25 11:11:32.183 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/lookups  
2019-06-25 11:11:32.183 +12:00 [INF] Policy execution successful.
2019-06-25 11:11:32.186 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/todolist/10090  
2019-06-25 11:11:32.187 +12:00 [INF] Policy execution successful.
2019-06-25 11:11:32.193 +12:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/navitems  
2019-06-25 11:11:32.194 +12:00 [INF] Policy execution successful.
2019-06-25 11:11:32.201 +12:00 [INF] Successfully validated the token.
2019-06-25 11:11:32.201 +12:00 [INF] Successfully validated the token.
2019-06-25 11:11:32.201 +12:00 [INF] Successfully validated the token.
2019-06-25 11:11:32.209 +12:00 [INF] Route matched with {action = "GetLookups", controller = "Lookups"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetLookups() on controller Pegasus_backend.Controllers.LookupsController (Pegasus_backend).
2019-06-25 11:11:32.210 +12:00 [INF] Route matched with {action = "Get", controller = "TodoList"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(Int16) on controller Pegasus_backend.Controllers.TodoListController (Pegasus_backend).
2019-06-25 11:11:32.210 +12:00 [INF] Route matched with {action = "GetNavItems", controller = "NavItems"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetNavItems() on controller Pegasus_backend.Controllers.NavItemsController (Pegasus_backend).
2019-06-25 11:11:32.210 +12:00 [INF] Executing action method Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend) - Validation state: "Valid"
2019-06-25 11:11:32.213 +12:00 [INF] Executing action method Pegasus_backend.Controllers.TodoListController.Get (Pegasus_backend) - Validation state: "Valid"
2019-06-25 11:11:32.214 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-06-25 11:11:32.218 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-06-25 11:11:32.223 +12:00 [INF] Authorization was successful.
2019-06-25 11:11:32.224 +12:00 [INF] Executing action method Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend) - Validation state: "Valid"
2019-06-25 11:11:32.229 +12:00 [WRN] The LINQ expression 'where ([t].TodoDate == Convert(value(Pegasus_backend.Controllers.TodoListController).toNZTimezone(DateTime.UtcNow).Date, Nullable`1))' could not be translated and will be evaluated locally.
2019-06-25 11:11:32.230 +12:00 [INF] Entity Framework Core 2.1.11-servicing-32099 initialized 'ablemusicContext' using provider 'MySql.Data.EntityFrameworkCore' with options: None
2019-06-25 11:11:32.407 +12:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `l`.`lookup_id`, `l`.`description`, `l`.`lookup_type`, `l`.`prop_name`, `l`.`prop_value`
FROM `ablemusic`.`lookup` AS `l`
2019-06-25 11:11:32.422 +12:00 [INF] Executed action method Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 211.44910000000002ms.
2019-06-25 11:11:32.423 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.Lookup, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-06-25 11:11:32.429 +12:00 [INF] Executed action Pegasus_backend.Controllers.LookupsController.GetLookups (Pegasus_backend) in 220.1464ms
2019-06-25 11:11:32.430 +12:00 [INF] Request finished in 247.1255ms 200 application/json; charset=utf-8
2019-06-25 11:11:32.919 +12:00 [INF] Executed DbCommand (55ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`user_id`, `s`.`created_at`, `s`.`is_activate`, `s`.`password`, `s`.`role_id`, `s`.`unread_message_id`, `s`.`user_name`
FROM `ablemusic`.`user` AS `s`
WHERE `s`.`user_id` = @__userId_0
LIMIT 1
2019-06-25 11:11:33.004 +12:00 [INF] Executed DbCommand (86ms) [Parameters=[@__userId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `t`.`list_id`, `t`.`created_at`, `t`.`learner_id`, `t`.`lesson_id`, `t`.`list_content`, `t`.`list_name`, `t`.`process_flag`, `t`.`processed_at`, `t`.`teacher_id`, `t`.`todo_date`, `t`.`user_id`
FROM `ablemusic`.`todo_list` AS `t`
WHERE `t`.`user_id` = @__userId_0
2019-06-25 11:11:33.010 +12:00 [INF] Executed action method Pegasus_backend.Controllers.TodoListController.Get (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 796.91450000000009ms.
2019-06-25 11:11:33.010 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Collections.Generic.List`1[[Pegasus_backend.pegasusContext.TodoList, Pegasus_backend, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-06-25 11:11:33.015 +12:00 [INF] Executed action Pegasus_backend.Controllers.TodoListController.Get (Pegasus_backend) in 804.9592ms
2019-06-25 11:11:33.016 +12:00 [INF] Request finished in 830.0327ms 200 application/json; charset=utf-8
2019-06-25 11:11:33.130 +12:00 [INF] Executed DbCommand (51ms) [Parameters=[@__roleId_0='?' (DbType = Int16)], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`page_id`
FROM `ablemusic`.`role_access` AS `s`
WHERE `s`.`role_id` = @__roleId_0
2019-06-25 11:11:33.329 +12:00 [INF] Executed DbCommand (49ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s`.`page_group_id`, `s`.`display_order`, `s`.`icon`, `s`.`page_group_name`
FROM `ablemusic`.`page_group` AS `s`
ORDER BY `s`.`page_group_id`
2019-06-25 11:11:33.402 +12:00 [INF] Executed DbCommand (63ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT `s.Page`.`page_id`, `s.Page`.`display_order`, `s.Page`.`icon`, `s.Page`.`is_activate`, `s.Page`.`page_group_id`, `s.Page`.`page_name`, `s.Page`.`para`, `s.Page`.`para_flag`, `s.Page`.`url`
FROM `ablemusic`.`page` AS `s.Page`
INNER JOIN (
    SELECT `s0`.`page_group_id`
    FROM `ablemusic`.`page_group` AS `s0`
) AS `t` ON `s.Page`.`page_group_id` = `t`.`page_group_id`
ORDER BY `t`.`page_group_id`
2019-06-25 11:11:33.442 +12:00 [INF] Executed action method Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1218.2648000000002ms.
2019-06-25 11:11:33.443 +12:00 [INF] Executing ObjectResult, writing value of type 'Pegasus_backend.Models.Result`1[[System.Object, System.Private.CoreLib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2019-06-25 11:11:33.444 +12:00 [INF] Executed action Pegasus_backend.Controllers.NavItemsController.GetNavItems (Pegasus_backend) in 1233.8192000000001ms
2019-06-25 11:11:33.445 +12:00 [INF] Request finished in 1251.2706ms 200 application/json; charset=utf-8
